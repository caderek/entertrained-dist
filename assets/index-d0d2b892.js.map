{"version":3,"mappings":"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,GACHuB,EACF,EACA,SAAU,CACR,GAAGxB,GACHwB,EACF,CACF,EACA,OAAU,CACR,KAAM,SACN,SAAU,SACV,MAAW,QAAI,CAAC,MAAO,KAAK,CAAC,EAC7B,OAAQnB,GACR,UAAWA,GACX,KAAM,CACJ,GAAGF,GACHqB,EACF,EACA,MAAO,CACL,GAAGpB,GACHoB,EACF,EACA,IAAK,CACH,GAAGrB,GACHqB,EACF,EACA,SAAU,CACR,GAAGrB,GACHqB,EACF,CACF,EACA,QAAW,CACT,KAAM,UACN,SAAU,SACV,MAAW,QAAI,CAAC,MAAO,KAAK,CAAC,EAC7B,OAAQhB,GACR,UAAWA,GACX,KAAM,CACJ,GAAGF,GACHkB,EACF,EACA,MAAO,CACL,GAAGjB,GACHiB,EACF,EACA,IAAK,CACH,GAAGlB,GACHkB,EACF,EACA,SAAU,CACR,GAAGlB,GACHkB,EACF,CACF,EACA,aAAc,CACZ,KAAM,aACN,SAAU,SACV,MAAW,QAAI,CAAC,MAAO,KAAK,CAAC,EAC7B,OAAQb,GACR,UAAWA,GACX,KAAM,CACJ,GAAGF,GACHe,EACF,EACA,MAAO,CACL,GAAGd,GACHc,EACF,EACA,IAAK,CACH,GAAGf,GACHe,EACF,EACA,SAAU,CACR,GAAGf,GACHe,EACF,CACF,EACA,iBAAkB,CAChB,KAAM,iBACN,SAAU,SACV,MAAW,QAAI,CAAC,MAAO,KAAK,CAAC,EAC7B,OAAQV,GACR,UAAWA,GACX,KAAM,CACJ,GAAGF,GACHY,EACF,EACA,MAAO,CACL,GAAGX,GACHW,EACF,EACA,IAAK,CACH,GAAGZ,GACHY,EACF,EACA,SAAU,CACR,GAAGZ,GACHY,EACF,CACF,EACA,OAAU,CACR,KAAM,SACN,SAAU,SACV,MAAW,QAAI,CAAC,MAAO,KAAK,CAAC,EAC7B,OAAQP,GACR,UAAWA,GACX,KAAM,CACJ,GAAGF,GACHS,EACF,EACA,MAAO,CACL,GAAGR,GACHQ,EACF,EACA,IAAK,CACH,GAAGT,GACHS,EACF,EACA,SAAU,CACR,GAAGT,GACHS,EACF,CACF,EACA,QAAW,CACT,KAAM,UAC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ACN,KAAM,aACN,MAAO,4BACT,EACA,CACE,KAAM,QACN,KAAM,aACN,MAAO,oBACT,EACA,CACE,KAAM,YACN,KAAM,aACN,MAAO,wBACT,EACA,CACE,KAAM,gBACN,KAAM,aACN,MAAO,+BACT,EACA,CACE,KAAM,YACN,KAAM,aACN,MAAO,wBACT,EACA,CACE,KAAM,OACN,KAAM,aACN,MAAO,sBACT,EACA,CACE,KAAM,SACN,KAAM,aACN,MAAO,qBACT,EACA,CACE,KAAM,UACN,KAAM,aACN,MAAO,yBACT,EACA,CACE,KAAM,GACN,KAAM,aACN,MAAO,eACT,CACF,EACA,CACE,CACE,KAAM,WACN,KAAM,QACN,MAAO,sBACT,EACA,CACE,KAAM,eACN,KAAM,QACN,MAAO,sBACT,EACA,CACE,KAAM,cACN,KAAM,QACN,MAAO,wBACT,EACA,CACE,KAAM,eACN,KAAM,QACN,MAAO,8BACT,EACA,CACE,KAAM,oBACN,KAAM,QACN,MAAO,8BACT,EACA,CACE,KAAM,WACN,KAAM,QACN,MAAO,kBACT,EACA,CACE,KAAM,aACN,KAAM,QACN,MAAO,oBACT,EACA,CACE,KAAM,YACN,KAAM,QACN,MAAO,qBACT,EACA,CACE,KAAM,cACN,KAAM,QACN,MAAO,qBACT,EACA,CACE,KAAM,eACN,KAAM,QACN,MAAO,0BACT,EACA,CACE,KAAM,WACN,KAAM,QACN,MAAO,sBACT,EACA,CACE,KAAM,QACN,KAAM,QACN,MAAO,2BACT,EACA,CACE,KAAM,GACN,KAAM,QACN,MAAO,UACT,CACF,CACF,EAAE,IAAK1G,GACEA,EACJ,OAAQ3qF,GAAMA,EAAE,OAAS,EAAE,EAC3B,KACC,CAAC5f,EAAGC,IACFD,EAAE,KAAK,cAAcC,EAAE,IAAI,IAC1BD,EAAE,KAAK,WAAW,SAAS,GAAK,CAACC,EAAE,KAAK,WAAW,SAAS,EACzD,GACA,CAACD,EAAE,KAAK,WAAW,SAAS,GAAKC,EAAE,KAAK,WAAW,SAAS,EAC1D,EACA,IACND,EAAE,KAAK,cAAcC,EAAE,IAAI,EAElC,iCCpNKixG,GAWU9o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AAI,EAAG,IAAK,GAAI,EAC9I,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAC9I,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAC/I,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAC/I,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EACjJ,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,GAC/I,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAC7I,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAC/I,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,IAC7I,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAChJ,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAC/I,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAC/I,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAC/I,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAC9I,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAC9I,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAC/I,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAChJ,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EACjJ,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EACjJ,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAChJ,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EACjJ,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EACjJ,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAC/I,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EACjJ,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EACjJ,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EACjJ,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EACjJ,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EACjJ,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EACjJ,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EA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,yBAA0B,MAC1B,UAAW,QACX,IAAO,MACP,eAAgB,MAChB,YAAe,CACd,KACA,KACA,IACA,EACD,SAAY,MACZ,OAAU,CACT,MACA,MACA,KACA,EACD,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,WAAY,MACZ,gBAAiB,CAChB,MACA,KACA,EACD,aAAc,MACd,WAAc,CACb,KACA,KACA,MACA,OACA,OACA,OACA,MACA,EACD,IAAO,MACP,UAAW,MACX,UAAW,MACX,IAAO,MACP,YAAa,CACZ,QACA,KACA,EACD,IAAO,CACN,MACA,MACA,MACA,MACA,EACD,WAAY,OACZ,IAAO,MACP,8BAA+B,MAC/B,iBAAkB,MAClB,2BAA4B,MAC5B,uBAAwB,MACxB,sBAAuB,MACvB,eAAgB,CACf,MACA,MACA,MACA,MACA,MACA,MACA,KACA,EACD,oBAAqB,MACrB,iBAAkB,MAClB,oBAAqB,CACpB,MACA,MACA,MACA,MACA,KACA,EACD,+BAAgC,MAChC,kCAAmC,MACnC,iCAAkC,MAClC,kCAAmC,MACnC,2CAA4C,MAC5C,+BAAgC,MAChC,sCAAuC,MACvC,+CAAgD,MAChD,qCAAsC,MACtC,8CAA+C,MAC/C,8BAA+B,MAC/B,qCAAsC,CACrC,MACA,KACA,EACD,uCAAwC,MACxC,kCAAmC,MACnC,wDAAyD,OACzD,2DAA4D,OAC5D,gEAAiE,OACjE,6DAA8D,OAC9D,4DAA6D,OAC7D,8DAA+D,OAC/D,8DAA+D,OAC/D,WAAY,MACZ,wBAAyB,MACzB,yBAA0B,MAC1B,wBAAyB,MACzB,2BAA4B,MAC5B,wBAAyB,CACxB,MACA,KACA,EACD,0BAA2B,CAC1B,MACA,KACA,EACD,iCAAkC,MAClC,mBAAoB,MACpB,4BAA6B,MAC7B,mBAAoB,MACpB,4BAA6B,MAC7B,sBAAuB,MACvB,+BAAgC,MAChC,mBAAoB,MACpB,qBAAsB,MACtB,4BAA6B,MAC7B,8BAA+B,MAC/B,sBAAuB,CACtB,MACA,MACA,EACD,YAAa,CACZ,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,MACA,EACD,gBAAiB,QACjB,eAAgB,OAChB,qBAAsB,QACtB,kBAAmB,MACnB,qBAAsB,MACtB,QAAS,KACT,kBAAmB,KACnB,YAAa,MACb,oBAAqB,MACrB,UAAW,QACX,eAAgB,UAChB,QAAS,CACR,MACA,MACA,MACA,KACA,EACD,QAAS,MACT,QAAS,CACR,MACA,KACA,EACD,WAAY,MACZ,cAAe,MACf,SAAU,OACV,QAAS,MACT,aAAc,CACb,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,EACD,QAAS,MACT,SAAU,MACV,QAAS,MACT,gBAAiB,QACjB,SAAU,QACV,aAAc,KACd,aAAc,WACd,WAAY,MACZ,wBAAyB,MACzB,SAAU,CACT,OACA,KACA,EACD,QAAS,MACT,cAAe,CACd,QACA,MACA,KACA,EACD,qBAAsB,OACtB,eAAgB,OAChB,4BAA6B,QAC7B,eAAgB,OAChB,eAAgB,OAChB,QAAS,MACT,SAAU,OACV,oBAAqB,CACpB,MACA,KACA,EACD,WAAY,MACZ,kBAAmB,MACnB,mBAAoB,OACpB,SAAU,MACV,iBAAkB,MAClB,UAAW,QACX,QAAS,MACT,QAAS,MACT,UAAW,CACV,MACA,KACA,OACA,EACD,WAAY,MACZ,kBAAmB,CAClB,MACA,MACA,MACA,KACA,EACD,WAAY,CACX,IACA,EACD,wBAAyB,CACxB,MACA,KACA,EACD,QAAS,MACT,WAAY,IACZ,mBAAoB,MACpB,sBAAuB,MACvB,gBAAiB,CAChB,MACA,KACA,EACD,SAAU,CACT,MACA,MACA,KACA,EACD,oBAAqB,MACrB,2BAA4B,CAC3B,MACA,KACA,EACD,SAAU,KACV,OAAQ,KACR,SAAU,OACV,oBAAqB,CACpB,MACA,MACA,EACD,gBAAiB,MACjB,YAAa,MACb,YAAa,UACb,WAAY,SACZ,QAAS,MACT,WAAY,KACZ,WAAY,KACZ,YAAa,CACZ,UACA,MACA,EACD,UAAW,CACV,IACA,IACA,MACA,MACA,KACA,EACD,UAAW,QACX,gBAAiB,MACjB,UAAW,KACX,iBAAkB,CACjB,MACA,MACA,KACA,EACD,QAAS,MACT,SAAU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,QACzB,0BAA2B,KAC3B,mBAAoB,CACnB,MACA,MACA,EACD,UAAW,MACX,iBAAkB,MAClB,sBAAuB,MACvB,oBAAqB,MACrB,gCAAiC,MACjC,mBAAoB,CACnB,OACA,MACA,KACA,EACD,qBAAsB,MACtB,eAAgB,MAChB,mBAAoB,MACpB,cAAe,MACf,WAAY,CACX,MACA,MACA,EACD,gBAAiB,MACjB,aAAc,MACd,YAAa,WACb,eAAgB,OAChB,UAAW,MACX,gBAAiB,MACjB,UAAW,MACX,eAAgB,MAChB,qBAAsB,MACtB,UAAW,MACX,aAAc,MACd,WAAY,MACZ,WAAY,OACZ,oBAAqB,MACrB,uBAAwB,MACxB,sBAAuB,MACvB,6BAA8B,MAC9B,wCAAyC,SACzC,wBAAyB,MACzB,yBAA0B,MAC1B,8BAA+B,MAC/B,UAAW,CACV,MACA,MACA,EACD,qBAAsB,MACtB,eAAgB,OAChB,OAAU,MACV,OAAU,MACV,WAAY,OACZ,eAAgB,WAChB,mBAAoB,MACpB,mBAAoB,CACnB,MACA,MACA,MACA,KACA,EACD,mBAAoB,MACpB,mBAAoB,MACpB,UAAW,CACV,MACA,OACA,EACD,SAAU,KACV,UAAW,CACV,MACA,KACA,EACD,mBAAoB,MACpB,SAAU,OACV,eAAgB,MAChB,mBAAoB,MACpB,eAAgB,MAChB,eAAgB,MAChB,oBAAqB,MACrB,QAAS,MACT,aAAc,MACd,qBAAsB,MACtB,mBAAoB,MACpB,aAAc,MACd,aAAc,MACd,aAAc,CACb,MACA,KACA,EACD,eAAgB,CACf,MACA,MACA,MACA,KACA,EACD,YAAa,MACb,mBAAoB,MACpB,UAAW,MACX,eAAgB,SAChB,yBAA0B,UAC1B,mBAAoB,CACnB,MACA,KACA,EACD,QAAS,MACT,qBAAsB,CACrB,MACA,MACA,EACD,mBAAoB,cACpB,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,eAAgB,MAChB,WAAY,MACZ,6BAA8B,MAC9B,gBAAiB,CAChB,MACA,MACA,KACA,EACD,eAAgB,CACf,MACA,MACA,MACA,KACA,EACD,YAAa,MACb,gBAAiB,MACjB,eAAgB,MAChB,eAAgB,MAChB,YAAa,MACb,QAAS,MACT,WAAY,CACX,MACA,KACA,EACD,uBAAwB,CACvB,MACA,KACA,EACD,0BAA2B,MAC3B,oBAAqB,MACrB,QAAS,MACT,aAAc,OACd,WAAY,MACZ,eAAgB,KAChB,YAAa,MACb,SAAU,MACV,cAAe,MACf,OAAQ,KACR,aAAc,CACb,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,EACD,WAAY,OACZ,gBAAiB,MACjB,WAAY,OACZ,UAAW,MACX,UAAW,MACX,YAAa,MACb,WAAY,OACZ,SAAU,CACT,OACA,QACA,OACA,KACA,EACD,KAAQ,OACR,UAAW,MACX,MAAS,MACT,SAAY,MACZ,2BAA4B,MAC5B,UAAa,MACb,iBAAkB,MAClB,sBAAuB,MACvB,aAAc,IACd,YAAa,CACZ,MACA,MACA,MACA,KACA,EACD,gBAAiB,MACjB,KAAQ,CACP,KACA,KACA,EACD,WAAY,CACX,MACA,MACA,EACD,4BAA6B,CAC5B,MACA,MACA,EACD,uBAAwB,MACxB,cAAe,CACd,KACA,SACA,UACA,SACA,aACA,SACA,YACA,EACD,cAAe,MACf,cAAe,MACf,UAAW,CACV,MACA,KACA,EACD,SAAU,CACT,KACA,IACA,EACD,KAAQ,CACP,OACA,KACA,CACD,EACD,MAAS,CACR,IAAO,MACP,SAAU,MACV,QAAW,MACX,MAAS,CACR,KACA,KACA,EACD,KAAQ,OACR,KAAQ,CACP,MACA,OACA,MACA,KACA,EACD,KAAQ,CACP,OACA,QACA,MACA,MACA,OACA,MACA,KACA,EACD,QAAW,MACX,IAAO,CACN,MACA,MACA,KACA,EACD,UAAW,MACX,SAAU,OACV,QAAS,MACT,WAAY,MACZ,WAAY,MACZ,iBAAkB,MAClB,cAAe,KACf,QAAS,MACT,MAAS,MACT,IAAO,OACP,IAAO,MACP,KAAQ,MACR,iBAAkB,CACjB,MACA,MACA,EACD,oBAAqB,MACrB,UAAW,MACX,UAAW,MACX,aAAc,QACd,mBAAoB,MACpB,6BAA8B,MAC9B,sBAAuB,YACvB,sBAAuB,YACvB,sBAAuB,YACvB,UAAW,MACX,KAAQ,OACR,QAAS,MACT,aAAc,MACd,wBAAyB,MACzB,GAAM,KACN,IAAO,MACP,KAAQ,CACP,OACA,MACA,KACA,EACD,KAAQ,OACR,IAAO,KACP,EACD,SAAY,CACX,YAAa,MACb,UAAW,CACV,MACA,OACA,EACD,cAAe,MACf,kBAAmB,CAClB,OACA,SACA,MACA,EACD,QAAS,MACT,WAAY,MACZ,QAAS,MACT,SAAU,OACV,QAAS,MACT,YAAa,MACb,cAAe,MACf,SAAU,CACT,OACA,KACA,EACD,QAAS,MACT,QAAS,CACR,MACA,KACA,EACD,uBAAwB,CACvB,MACA,MACA,EACD,iBAAkB,CACjB,MACA,MACA,OACA,EACD,wBAAyB,CACxB,MACA,MACA,EACD,kBAAmB,MACnB,mBAAoB,CACnB,MACA,MACA,KACA,EACD,iBAAkB,MAClB,kBAAmB,MACnB,YAAa,MACb,QAAS,MACT,YAAa,CACZ,OACA,KACA,EACD,aAAc,CACb,MACA,IACA,EACD,aAAc,MACd,gBAAiB,MACjB,qBAAsB,OACtB,gBAAiB,MACjB,eAAgB,KAChB,gBAAiB,MACjB,eAAgB,KAChB,YAAa,MACb,UAAW,OACX,SAAU,OACV,cAAe,IACf,gBAAiB,MACjB,gBAAiB,CAChB,MACA,SACA,KACA,EACD,cAAe,MACf,cAAe,MACf,oBAAqB,CACpB,MACA,KACA,EACD,qBAAsB,MACtB,WAAY,MACZ,cAAe,KACf,mBAAoB,MACpB,QAAS,MACT,SAAU,OACV,QAAS,KACT,EACD,KAAQ,CACP,IAAO,MACP,KAAQ,OACR,MAAS,OACT,EACD,MAAS,CACR,IAAO,MACP,IAAO,MACP,KAAQ,CACP,OACA,MACA,MACA,OACA,YACA,KACA,EACD,IAAO,MACP,IAAO,MACP,UAAW,CACV,MACA,MACA,EACD,KAAQ,CACP,OACA,KACA,EACD,WAAY,CACX,OACA,KACA,EACD,eAAgB,OAChB,cAAe,MACf,cAAe,MACf,eAAgB,MAChB,cAAe,MACf,qBAAsB,MACtB,sBAAuB,MACvB,oBAAqB,MACrB,cAAe,MACf,SAAU,MACV,OAAQ,MACR,QAAS,MACT,cAAe,MACf,gBAAiB,MACjB,oBAAqB,MACrB,oBAAqB,MACrB,qBAAsB,MACtB,oBAAqB,MACrB,QAAS,MACT,YAAa,MACb,YAAa,MACb,gBAAiB,MACjB,IAAO,MACP,IAAO,MACP,MAAS,KACT,IAAO,MACP,WAAY,OACZ,IAAO,MACP,mBAAoB,CACnB,MACA,OACA,MACA,MACA,EACD,UAAW,MACX,UAAW,MACX,mBAAoB,MACpB,UAAW,MACX,UAAW,MACX,2BAA4B,MAC5B,2BAA4B,MAC5B,cAAe,MACf,eAAgB,MAChB,cAAe,MACf,WAAY,MACZ,KAAQ,OACR,QAAS,MACT,QAAS,MACT,aAAc,CACb,KACA,MACA,MACA,MACA,KACA,EACD,SAAU,CACT,MACA,KACA,EACD,QAAS,MACT,UAAW,MACX,KAAQ,QACR,KAAQ,CACP,OACA,MACA,EACD,MAAS,CACR,MACA,EACD,sBAAuB,MACvB,cAAe,MACf,aAAc,MACd,SAAU,OACV,cAAe,MACf,cAAe,MACf,cAAe,MACf,gBAAiB,MACjB,kBAAmB,CAClB,MACA,MACA,KACA,EACD,eAAgB,CACf,MACA,KACA,EACD,cAAe,MACf,aAAc,MACd,aAAc,MACd,aAAc,KACd,EACD,QAAW,CACV,OAAU,CACT,MACA,OACA,MACA,QACA,KACA,CACD,EACD,MAAS,CACR,KAAQ,CACP,MACA,MACA,EACD,KAAQ,CACP,MACA,OACA,MACA,EACD,KAAQ,CACP,MACA,MACA,EACD,WAAY,CACX,OACA,OACA,EACD,UAAW,OACX,aAAc,CACb,OACA,OACA,EACD,kBAAmB,MACnB,UAAW,MACX,UAAW,MACX,UAAW,MACX,UAAW,MACX,eAAgB,OAChB,UAAW,KACX,EACD,KAAQ,CACP,iBAAkB,CACjB,WACA,UACA,EACD,SAAY,CACX,MACA,MACA,KACA,EACD,IAAO,MACP,IAAO,MACP,KAAQ,MACR,KAAQ,CACP,OACA,MACA,QACA,KACA,EACD,KAAQ,MACR,MAAS,CACR,MACA,OACA,MACA,OACA,MACA,OACA,MACA,KACA,MACA,OACA,KACA,EACD,SAAY,MACZ,UAAa,CACZ,MACA,KACA,EACD,QAAW,KACX,uBAAwB,MACxB,8BAA+B,MAC/B,cAAe,MACf,oBAAqB,OACrB,WAAY,MACZ,QAAS,MACT,WAAY,CACX,MACA,MACA,MACA,IACA,EACD,WAAY,CACX,MACA,MACA,MACA,IACA,EACD,cAAe,MACf,SAAU,IACV,SAAU,QACV,YAAa,KACb,SAAU,OACV,qBAAsB,MACtB,QAAS,MACT,WAAY,CACX,IACA,MACA,KACA,KACA,EACD,YAAa,MACb,WAAY,KACZ,UAAW,QACX,WAAY,MACZ,QAAS,CACR,MACA,IACA,EACD,QAAS,CACR,MACA,MACA,MACA,KACA,EACD,cAAe,MACf,UAAW,MACX,GAAM,KACN,gBAAiB,MACjB,KAAQ,CACP,OACA,KACA,EACD,MAAS,CACR,IACA,KACA,OACA,MACA,KACA,IACA,EACD,OAAU,MACV,WAAY,CACX,MACA,OACA,MACA,EACD,MAAS,QACT,WAAY,OACZ,iBAAkB,QAClB,iBAAkB,QAClB,iBAAkB,QAClB,mBAAoB,MACpB,UAAW,MACX,mBAAoB,MACpB,eAAgB,KAChB,gBAAiB,OACjB,gBAAiB,OACjB,QAAS,CACR,IACA,KACA,EACD,MAAO,CACN,IACA,IACA,KACA,EACD,YAAa,CACZ,IACA,MACA,MACA,KACA,EACD,SAAU,OACV,QAAS,MACT,QAAS,MACT,aAAc,KACd,YAAe,MACf,WAAc,KACd,KAAQ,OACR,SAAY,CACX,KACA,WACA,QACA,QACA,EACD,aAAc,KACd,aAAc,IACd,EACD,MAAS,CACR,KAAQ,OACR,OAAQ,MACR,QAAW,MACX,GAAM,KACN,GAAM,CACL,MACA,IACA,EACD,IAAO,MACP,GAAM,KACN,KAAQ,CACP,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,EACD,IAAO,CACN,MACA,OACA,MACA,EACD,UAAa,CACZ,KACA,KACA,EACD,IAAO,MACP,cAAe,CACd,MACA,KACA,EACD,QAAS,MACT,WAAY,CACX,MACA,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,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,IAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,KACL,IAAK,IACL,IAAK,KACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,KACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,KACL,EAAK,KACL,EAAK,KACL,EAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,KACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,IAAK,KACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,KACL,EAAK,IACL,IAAK,KACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,MACL,EAAK,MACL,EAAK,KACL,EAAK,KACL,EAAK,KACL,EAAK,KACL,EAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,MACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,MACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACP,ECz4BA,MAAMp/B,GAA0B,CAC9B,eAAgB,GAChB,mBAAo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","names":["sharedConfig","equalFn","a","b","$PROXY","$TRACK","signalOptions","runEffects","runQueue","STALE","PENDING","UNOWNED","NO_INIT","Owner","Transition","Listener","Updates","Effects","ExecCount","createRoot","fn","detachedOwner","listener","owner","unowned","current","root","updateFn","untrack","cleanNode","runUpdates","createSignal","value","options","s","setter","writeSignal","readSignal","createComputed","c","createComputation","updateComputation","createRenderEffect","createEffect","runUserEffects","createMemo","isPromise","v","createResource","pSource","pFetcher","pOptions","source","fetcher","pr","initP","scheduled","resolved","dynamic","contexts","setValue","error","setError","track","trigger","state","setState","loadEnd","p","key","completeLoad","err","read","SuspenseContext","load","refetching","lookup","e","castError","batch","on","deps","isArray","prevInput","defer","prevValue","input","i","result","onMount","onCleanup","getListener","getOwner","runWithOwner","o","prev","prevListener","handleError","startTransition","l","t","createContext","defaultValue","id","createProvider","useContext","context","children","memo","resolveChildren","updates","lookUpstream","sSlot","node","isComp","TransitionRunning","markDownstream","time","runComputation","nextValue","init","pure","runTop","ancestors","wait","res","completeUpdates","queue","userLength","ignore","index","obs","n","results","props","FALLBACK","dispose","d","mapArray","list","mapFn","items","mapped","disposers","len","indexes","newItems","j","newLen","newIndices","newIndicesNext","temp","tempdisposers","tempIndexes","start","end","newEnd","item","disposer","mapper","set","createComponent","Comp","trueFn","propTraps","_","property","receiver","resolveSource","resolveSources","length","mergeProps","sources","proxy","keys","target","sourcesMap","defined","sourceKeys","desc","narrowedError","name","For","fallback","Show","keyed","condition","child","Switch","equals","conditions","evalConditions","conds","when","cond","Match","reconcileArrays","parentNode","bLength","aEnd","bEnd","aStart","bStart","after","map","sequence","$$EVENTS","render","code","element","insert","template","html","isCE","isSVG","create","delegateEvents","eventNames","document","eventHandler","setAttribute","className","addEventListener","handler","delegate","handlerFn","classList","classKeys","prevKeys","toggleClassKey","classValue","style","nodeStyle","use","arg","parent","accessor","marker","initial","insertExpression","classNames","nameLen","data","unwrapArray","multi","cleanChildren","array","currentArray","normalizeIncomingArray","appendNodes","normalized","unwrap","replacement","inserted","el","isParent","isServer","SVG_NAMESPACE","createElement","tagName","Portal","useShadow","mount","content","hydrating","clean","setClean","cleanup","container","renderRoot","createBeforeLeave","listeners","subscribe","confirm","to","force","depth","saveCurrentDepth","keepDepth","notifyIfNotBlocked","notify","block","prevDepth","delta","hasSchemeRegex","trimPathRegex","mockBase","normalizePath","path","omitSlash","resolvePath","base","from","basePath","fromPath","invariant","message","joinPaths","extractSearchParams","url","params","createMatcher","partial","matchFilters","pattern","splat","segments","location","locSegments","lenDiff","match","matchFilter","segment","locSegment","matchSegment","remainder","filter","isEqual","scoreRoute","route","score","createMemoObject","mergeSearchString","search","merged","expandOptionals","prefix","suffix","prefixes","expansion","MAX_REDIRECTS","RouterContextObj","RouteContextObj","useRouter","useRoute","useNavigate","useLocation","useParams","useSearchParams","navigate","setSearchParams","searchString","createRoutes","routeDef","component","info","isLeaf","shared","asArray","acc","originalPath","createBranch","routes","matches","createBranches","stack","branches","routeDefs","def","isEmptyArray","branch","getRouteMatches","createLocation","origin","path_","pathname","hash","intent","createRouterContext","integration","getContext","getBranches","setSource","utils","parsePath","renderPath","beforeLeave","isRouting","setIsRouting","callback","reference","setReference","referrers","submissions","baseRoute","navigatorFactory","preloadRoute","navigateFromRoute","replace","resolve","scroll","nextState","resolvedTo","navigateEnd","next","first","preloadData","prevIntent","createRouteContext","router","outlet","createRouterComponent","rootLoad","routerState","singleFlight","_$createComponent","Provider","_$memo","Routes","m","Object","assign","routeStates","nextMatches","prevMatches","equal","prevMatch","nextMatch","createOutlet","splice","forEach","Route","childRoutes","intercept","get","querySelector","selector","createRouter","config","wrap","signal","bindEvent","type","scrollToHash","fallbackTop","actions","setupNativeEvents","preload","explicitLinks","actionBase","preloadTimeout","isSvg","handleAnchor","evt","svg","href","rel","handleAnchorClick","handleAnchorPreload","handleAnchorIn","handleAnchorOut","handleFormSubmit","actionRef","Router","getSource","$RAW","$NODE","$HAS","$SELF","wrap$1","proxyTraps$1","prop","isWrappable","obj","proto","unwrapped","getNodes","symbol","nodes","getNode","proxyDescriptor$1","trackSelf","ownKeys","tracked","setProperty","deleting","mergeStoreNode","updateArray","updatePath","traversed","part","partType","by","createStore","store","unwrappedStore","wrappedStore","setStore","args","producers","setterTraps","produce","isMobileModule","isMobile","mobileRE","notMobileRE","tabletRE","opts","ua","getOS","platform","_a","isApple","CHARACTERS_PER_PAGE","MAX_PAGES_PER_SCREEN","MIN_PB_PARAGRAPH_LENGTH","config$1","fetchJSON","getBooksIndexLastUpdate","getBooksIndex","f","module","require","_dereq_","exports","global","Mutation","scheduleDrain","called","observer","nextTick","channel","scriptEl","draining","oldQueue","immediate","task","INTERNAL","handlers","REJECTED","FULFILLED","Promise","resolver","safelyResolveThenable","onRejected","onFulfilled","promise","QueueItem","func","returnValue","self","tryCatch","getThen","thenable","then","onError","onSuccess","tryToUnwrap","out","reject","reason","all","iterable","values","allResolver","resolveFromAll","outValue","race","response","_typeof","_classCallCheck","instance","Constructor","getIDB","idb","isIndexedDBValid","isSafari","hasFetch","createBlob","parts","properties","Builder","builder","Promise$1","executeCallback","executeTwoCallbacks","errorCallback","normalizeKey","getCallback","DETECT_BLOB_SUPPORT_STORE","supportsBlobs","dbContexts","toString","READ_ONLY","READ_WRITE","_binStringToArrayBuffer","bin","buf","arr","_checkBlobSupportWithoutCaching","txn","blob","matchedChrome","matchedEdge","_checkBlobSupport","_deferReadiness","dbInfo","dbContext","deferredOperation","_advanceReadiness","_rejectReadiness","_getConnection","upgradeNeeded","createDbContext","dbArgs","openreq","db","ex","_getOriginalConnection","_getUpgradedConnection","_isUpgradeNeeded","defaultVersion","isNewStore","isDowngrade","isUpgrade","incVersion","_encodeBlob","reader","base64","_decodeBlob","encodedBlob","arrayBuff","_isEncodedBlob","_fullyReady","_tryReconnect","forages","forage","createTransaction","mode","retries","tx","_initStorage","initPromises","ignoreErrors","k","getItem","transaction","req","iterate","iterator","iterationNumber","cursor","setItem","blobSupport","removeItem","clear","advanced","dropInstance","currentConfig","isCurrentDb","dbPromise","newVersion","dropObjectPromise","_forage2","dropDBPromise","_forage","asyncStorage","isWebSQLValid","BASE_CHARS","BLOB_TYPE_PREFIX","BLOB_TYPE_PREFIX_REGEX","SERIALIZED_MARKER","SERIALIZED_MARKER_LENGTH","TYPE_ARRAYBUFFER","TYPE_BLOB","TYPE_INT8ARRAY","TYPE_UINT8ARRAY","TYPE_UINT8CLAMPEDARRAY","TYPE_INT16ARRAY","TYPE_INT32ARRAY","TYPE_UINT16ARRAY","TYPE_UINT32ARRAY","TYPE_FLOAT32ARRAY","TYPE_FLOAT64ARRAY","TYPE_SERIALIZED_MARKER_LENGTH","toString$1","stringToBuffer","serializedString","bufferLength","encoded1","encoded2","encoded3","encoded4","buffer","bytes","bufferToString","base64String","serialize","valueType","fileReader","str","deserialize","blobType","matcher","localforageSerializer","createDbTable","_initStorage$1","dbInfoPromise","tryExecuteSql","sqlStatement","getItem$1","iterate$1","rows","_setItem","retriesLeft","originalValue","sqlError","setItem$1","removeItem$1","clear$1","length$1","key$1","keys$1","getAllStoreNames","storeNames","dropInstance$1","operationInfo","dropTable","storeName","operations","webSQLStorage","isLocalStorageValid","_getKeyPrefix","defaultConfig","keyPrefix","checkIfLocalStorageThrows","localStorageTestKey","_isLocalStorageUsable","_initStorage$2","clear$2","getItem$2","iterate$2","keyPrefixLength","key$2","keys$2","itemKey","length$2","removeItem$2","setItem$2","dropInstance$2","localStorageWrapper","sameValue","x","y","includes","searchElement","DefinedDrivers","DriverSupport","DefaultDrivers","DefaultDriverOrder","OptionalDriverMethods","LibraryMethods","DefaultConfig","callWhenReady","localForageInstance","libraryMethod","_args","extend","_key","LocalForage","driverTypeKey","driver","driverName","driverObject","complianceError","driverMethods","driverMethodName","isRequired","configureMissingMethods","methodNotImplementedFactory","methodName","_i","_len","optionalDriverMethod","setDriverSupport","support","getDriverPromise","serializerPromise","drivers","supportedDrivers","setDriverToConfig","extendSelfWithDriver","initDriver","currentDriverIndex","driverPromiseLoop","oldDriverSetDone","libraryMethodsAndProperties","localforage_js","EntriesStorage","__privateAdd","_database","__privateSet","localforage","__privateGet","MixedStorage","defaults","val","storage","getDailyDate","timestamp","date","h","getDailyProgress","dailyStats","mergeArrays","merge","defaultSettings","defaultSummary","defaultSession","defaultState","loadSavedData","settings","statsSummary","lastBooksIndexUpdate","savedBooksIndex","booksIndex","newBooksIndex","booksWithStats","favorites","booksLiveIndex","book","progress","favorite","stats","settingsToWatch","mainKey","DesktopHeader","_el$","_tmpl$","_el$2","firstChild","_el$3","nextSibling","_el$4","_el$5","_el$6","_el$7","_el$8","_el$9","_el$10","_el$11","_el$12","_el$13","_el$14","_el$15","_el$16","$$click","ui","darkmode","_$effect","_p$","_v$","_v$2","_v$3","_v$4","_v$5","toggle","_$className","undefined","_$delegateEvents","MobileMenu","close","_$addEventListener","hidden","_v$6","_v$7","delay","ms","InstallButton","loading","setLoading","go","setGo","isInstalled","window","matchMedia","navigator","standalone","IS_MOBILE","__vitePreload","showDialog","_tmpl$2","_$owner","_$getOwner","MobileHeader","menu","setMenu","_$insert","Header","startsWith","zone","Toast","closeAll","each","_tmpl$4","onClose","title","details","_tmpl$3","_$p","_$classList","Boolean","important","Loading","App","loaded","session","notifications","theme","getAccuracyThreshold","toggleFavorite","bookId","isFavorite","getUtcDays","isNew","formatPercentage","num","precision","formatNum","formatOrdinalNum","asStr","formatPercentageNice","formatNumNice","S_IN_M","M_IN_H","MS_IN_S","MS_IN_M","MS_IN_H","getHMS","formatDuration","asString","chunks","chunk","encodeParams","BookGenres","genres","genre","_$setAttribute","_$style","BookStrip","_tmpl$6","pages","eta","wpm","tab","_tmpl$5","_el$17","Cover","console","log","link","StatsStrip","styles","desktopColumns","push","mobileColumns","join","Array","showZero","isPercent","_tmpl$9","nameSub","_tmpl$7","unit","extra","_tmpl$8","tooltipTitle","tooltipVal","getConsistencyThreshold","calculateMean","curr","calculateVariance","mean","calculateStandardDeviation","variance","calculateVariationCoefficient","standardDeviation","calculateWeightedAverage","weights","sum","weightSum","weight","weightedValue","mod","modulus","calculateStat","summarizeChapterStats","pStats","chapterLength","skip","typedParagraphsCount","entry","wpms","rawWpms","wpmsWeights","accuracies","accuraciesWeights","consustencies","consistenciesWeights","typed","total","rawWpm","con","summarizeDailyStats","paragraphsCount","summarizeAverageStats","aStats","summarizeBookStats","cStats","bookLength","lastChapter","mergeAverageStats","paragraphStats","averageStats","raw","mergeMainStats","mainStats","getNextChapterId","currentChapterId","chaptersStats","chapters","chapter","getBookInfo","cachedBookInfo","bookInfo","fetchBookDetails","bookStats","booksStats","nextChapterId","chapterStats","consistency","typedLength","totalChars","reduce","totalPages","Math","ceil","MiniStat","ministat","class","BookDetails","more","setMore","find","recent","totalTypingTime","averageWpm","timeMs","scrollIntoView","nextChapter","chaptetId","text","description","paragraphs","longDescription","slice","statsStripData","duration","sourceText","isUrl","URL","_el$18","_el$20","_el$21","_el$25","_el$26","_el$30","_el$31","_el$32","_el$34","_el$35","_el$36","_el$37","_el$38","series","test","order","author","createdAt","_el$24","_el$39","par","_el$28","rights","preventDefault","scrollTo","top","behavior","words","status","typingTime","_el$40","_el$41","_el$42","_el$43","_el$44","_v$9","_v$10","_v$11","_v$12","_v$13","_v$8","Book","coverUrl","Pagination","searchParams","currentPage","min","of","page","Number","shortcuts","registerShortcuts","removeEventListener","buttons","disabled","fill","button","_c$","String","down","debounce","timer","clearTimeout","setTimeout","ButtonToggle","active","tooltip","separate","joined","Select","onChange","setSearch","phrase","toLowerCase","trim","setOrderBy","Filters","sortBy","criteria","category","onClick","searchRef","focus","_el$22","_el$23","_tmpl$10","selected","_el$19","_ref$","_$use","$$input","getBooksData","shuffle","currentIndex","randomIndex","Books","books","matchesSearch","some","matchesAuthor","matchesGenre","matchesNew","matchSeries","matchTab","sort","localeCompare","titleAlpha","year","booksOnPage","limit","booksPerPage","QuickBooks","booksInProgress","WEIGHTS","PREFERRED_GENRE","PREFERRED_LENGTH","IN_READ_SERIES","READ_AUTHOR","RATING","POPULARITY","Recommended","recommendedBooks","usedBooks","completedBooks","unusedBooks","startedSeries","Set","add","unusedBooksNextParts","partsUsed","max","readAuthors","favoriteGenres","maxLength","favoriteMaxLength","Infinity","bookScores","genreWeight","has","extraPages","reduction","candidateBooksSorted","candidateBooksBest","candidateBooksMaybe","candidateBooks","QuickStats","dailyProgress","typedAllTime","statsNameSub","getNextChapter","showHero","Hero","lastBookData","removeProperty","coverBigUrl","Home","compress","decompress","getBookContent","compressed","chapterId","getChapterContent","chapterContent","getPromptData","savedParagraphsStats","chapterProgress","EXTRA_KEYS","getActiveWord","attempts","scrollToNode","screenKeyboardPrompt","offset","initScroll","scrollToWord","Statusbar","liveAcc","liveWpm","liveProgress","_tmpl$11","bookTitle","chapterTitle","paused","readingMode","saved","toFixed","cantTypeAlert","resetUnfinishedParagraph","scrollToActive","DAILY_GOAL_MINUTES","invisible","saveSummary","paragraphNum","paragraphId","summary","sameIdIndex","dailyData","saveParagraphs","paragraph","paragraphsLengths","changes","paragraphsStats","entries","lastTypedIndex","lastReadIndex","readToIndex","maxIndex","existingMissedWords","updatedMissedWords","calculateWpm","charsCount","getAfkTime","times","afkTime","timeDiff","calculateParagraphWpm","inputTimes","wordsStats","prevTime","charCount","updateAverageWpm","local","setLocal","_b","currentParagraph","calculateAccuracy","nonTypos","typos","calculateParagraphAccuracy","prevAccuracy","currentValue","updateAverageAccuracy","averageAcc","handleParagraphReset","word","chars","handleParagraphClick","nextParagraph","isNextHr","afkTimeout","handleAfk","handleBackspace","isFirstParagraph","isFirstWord","isFirstChar","prevParagraphNum","isPrevRead","calculateWordsWpms","wordTime","calculateParagraphConsistency","prevConsistency","sym","en","pl","symbols","getCharset","language","shouldIgnore","char","symbolReplacements","SYMBOLS","SYMBOLS_START_REGEX","SYMBOLS_END_REGEX","getParagraphMissedWords","original","missedWords","setParagraphStats","done","handleStandardInput","expectedChar","inputTime","isLastChar","isLastWord","isLastParagraph","getScreenSplitOffsets","screenSplits","splitIndex","split","getIncrementalLength","incrementalLength","w","getScreenSplits","maxCharsPerScreen","splits","tempLen","loadPromptContent","promptData","savedStats","_c","isComplete","_d","_e","_f","lengthCompleted","indicies","lastCompletedParagraphNum","statsEntry","metrics","splitOffsets","updateProgress","getFont","fontData","size","showCantTypeAlert","setCantType","busy","layouts","getSpecialKeys","shift","label","accent","icon","special","backspace","delete","space","dash","enter","ENTER_SYMBOL","layoutToDetails","layout","specialKeys","row","ScreenKeyboard","layer","setLayer","showNext","typingPrompt","keyboardIndicator","showLast","layoutName","keyboardLayoutMobile","layoutData","main","flat","layers","getkeyLayer","currentLayer","font","keyBoardFont","last","setLast","$$pointerdown","event","KeyboardEvent","ctrlKey","handleTyping","shiftKey","haptics","keyboardHaptics","IS_APPLE","vibrate","$$pointerup","$$pointerout","prevOk","warning","keyboardKeycaps","keyboardThickness","topUS","topShiftUS","rShiftUS","topISO","topShiftISO","rShiftISO","topAltIsoPl","topShiftAltIsoPl","rShiftAltIsoPl","topUK","topShiftUK","rShiftUK","topISOMac","topShiftISOMac","rShiftISOMac","topAltIsoPlMac","topShiftAltIsoPlMac","rShiftAltIsoPlMac","topUKMac","topShiftUKMac","topAltUKMac","rShiftUKMac","topAzerty","topShiftAzerty","topAltAzerty","rShiftAzerty","topQwertzDE","topShiftQwertzDE","topAltQwertzDE","rShiftQuertzDE","topDvorak","topShiftDvorak","rShiftDvorak","topColemak","topShiftColemak","rShiftColemak","topColemakDH","topShiftColemakDH","rShiftColemakDH","topColemakDHISO","topShiftColemakDHISO","rShiftColemakDHISO","topHalmak","topShiftHalmak","rShiftHalmak","topWorkman","topShiftWorkman","rShiftWorkman","topABC","topShiftABC","rShiftABC","bottomPC","bottomMac","MOD_NONE","MOD_SHIFT","MOD_RSHIFT","MOD_ALT","MOD_RSHIFT_ALT","MOD_SHIFT_ALT","ISO","notChar","CapsLock","ShiftLeft","holdable","ShiftRight","toRight","Backspace","Space","Tab","Fn","Enter","Enter1","Enter2","CtrlLeft","CtrlRight","Alt","AltGraph","Meta","OS","MetaRight","Backslash","Pipe","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","defaultLocal","AltLeft","AltRight","ControlLeft","ControlRight","MetaLeft","KeyH","ScreenKeyboardDesktop","caps","setCaps","setCurrent","modKeys","handleMod","isDown","handleModPress","handleModRelease","handleKeyDown","currentCaps","getModifierState","handleKeyUp","handleBlur","osType","keyboardLayout","alt","shiftAlt","rShift","rShiftAlt","bumps","toggleCase","toUpperCase","mods","charset","isNext","ok","bump","mac","lower","upper","toastData","Prompt","blur","setBlur","hideCursor","splitStart","splitEnd","pageStats","wordNum","charNum","cantType","caret","setCaret","isParagraphChange","caretSpeed","getCaretPosition","offsetLeft","offsetTop","offsetHeight","offsetWidth","bootstrapCaret","step","paragraphNumPB","topParagraph","showCantType","setAutotypeText","wordLabel","prevPage","nextPage","at","isParagraphEnd","metaKey","handleMouseMove","focusWarning","handleFocus","__","floor","daily","dailyDone","fontTyping","fontReading","readingPrompt","width","lineWidth","touch","chapterInfo","zenMode","$$touchmove","diffX","touches","clientX","diffY","clientY","abs","$$touchstart","screenKeyboard","preventScroll","visualViewport","once","$$keyup","currentTarget","_v$19","_v$20","_v$21","currentWord","expectedWord","isInaccurate","isActive","_tmpl$12","letter","currentChar","isCorrect","getTypedChar","typedChar","_el$29","_tmpl$13","_c$2","showTypos","_v$26","_v$27","_v$28","_v$29","_v$24","_v$25","_el$27","_v$22","_v$23","prompt","indent","indentParagraphs","justify","caretEasing","fontScale","lineHeight","paragraphsGap","_v$14","_v$15","_v$16","_v$17","_v$18","Separator","round","lim","p2b","n2b","b2n","n2p","map$1","hex","h1","h2","eq","isShort","hexParse","ret","alpha","hexString","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","rgb","hueValue","r","g","rgb2hsl","calln","hsl2rgb","hwb2rgb","hsv2rgb","hue","hueParse","p1","p2","rotate","deg","hslString","names$1","unpack","unpacked","tkeys","nk","names","nameParse","RGB_RE","rgbParse","rgbString","interpolate","rgb1","rgb2","modHSL","ratio","tmp","clone","fromObject","functionParse","Color","color","c1","c2","w2","w1","noop","uid","isNullOrUndef","isObject","isNumberFinite","finiteOrDefault","valueOrDefault","toPercentage","dimension","toDimension","thisArg","loopable","reverse","_elementsEqual","a0","a1","ilen","v0","v1","klen","isValidKey","_merger","tval","sval","merger","mergeIf","_mergerIf","keyResolvers","_splitKey","_getKeyResolver","resolveObjectKey","_capitalize","isFunction","setsEqual","_isClickEvent","PI","TAU","PITAU","INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","almostEquals","epsilon","niceNum","range","roundedRange","niceRange","fraction","_factorize","sqrt","isNumber","almostWhole","rounded","_setMinAndMaxByKey","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_int16Range","_isBetween","_lookup","table","cmp","hi","lo","mid","_lookupByKey","ti","_rlookupByKey","_filterBetween","arrayEvents","listenArrayEvents","method","object","unlistenArrayEvents","stub","_arrayUnique","requestAnimFrame","throttled","argsToUse","ticking","timeout","_toLeftRightCenter","align","_alignStartEnd","_textX","left","right","rtl","_getStartAndCountOfVisiblePoints","meta","points","animationsDisabled","pointCount","count","iScale","_parsed","axis","minDefined","maxDefined","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","changed","atEdge","elasticIn","elasticOut","effects","isPatternOrGradient","getHoverColor","numbers","colors","applyAnimationsDefaults","applyLayoutsDefaults","intlCache","getNumberFormat","locale","cacheKey","formatter","formatNumber","formatters","tickValue","ticks","notation","maxTick","calculateDelta","logDelta","numDecimal","remain","Ticks","applyScaleDefaults","_ctx","overrides","descriptors","getScope$1","scope","Defaults","_descriptors","_appliers","ctx","targetScope","targetName","scopeObject","targetScopeObject","privateName","appliers","apply","toFontString","_measureText","gc","longest","string","textWidth","_longestText","arrayOfThings","cache","jlen","thing","nestedThing","gcLen","_alignPixel","chart","pixel","devicePixelRatio","halfWidth","clearCanvas","canvas","drawPoint","drawPointLegend","xOffset","yOffset","cornerRadius","xOffsetW","yOffsetW","rotation","radius","rad","_isPointInArea","point","area","margin","clipArea","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","setRenderOpts","decorateText","line","bottom","yDecoration","drawBackdrop","oldColor","renderText","lines","stroke","addRoundedRectPath","rect","LINE_HEIGHT","FONT_STYLE","toLineHeight","numberOrZero","_readValueToProps","objProps","toTRBL","toTRBLCorners","toPadding","toFont","inputs","cacheable","_addGrace","minmax","grace","beginAtZero","change","keepZero","parentContext","_createResolver","scopes","rootScopes","getTarget","finalRootScopes","_resolve","_cached","_resolveWithPrefixes","getKeysFromAllScopes","_attachContext","subProxy","descriptorDefaults","_resolveWithContext","_scriptable","_indexable","_allKeys","readKey","needsSubResolver","_proxy","_context","_subProxy","_resolveScriptable","_resolveArray","getValue","_stack","createSubResolver","isIndexable","resolveFallback","getScope","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","_parseObjectDataRadialScale","parsed","EPSILON","getPoint","getValueAxis","indexAxis","splineCurve","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","monotoneAdjust","deltaK","mK","pointsLen","alphaK","betaK","tauK","squaredMagnitude","pointCurrent","pointAfter","monotoneCompute","valueAxis","pointBefore","iPixel","vPixel","splineCurveMonotone","slopeDelta","capControlPoint","pt","capBezierPoints","inArea","inAreaPrev","inAreaNext","_updateBezierControlPoints","loop","controlPoints","_isDomSupported","_getParentNode","domNode","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","getStyle","positions","getPositionedStyle","pos","useOffsetPos","getCanvasPosition","offsetX","offsetY","box","getRelativePosition","currentDevicePixelRatio","borderBox","paddings","borders","height","getContainerSize","maxWidth","maxHeight","containerStyle","containerBorder","containerPadding","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","containerSize","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","supportsEventListenerOptions","passiveSupported","readUsedSize","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","getRightToLeftAdapter","rectX","itemWidth","getLeftToRightAdapter","_itemWidth","getRtlAdapter","overrideTextDirection","direction","restoreTextDirection","propertyFn","normalizeSegment","getSegment","bounds","startBound","endBound","between","normalize","_boundSegment","compare","inside","subStart","startIsBefore","endIsBefore","shouldStart","shouldStop","_boundSegments","sub","findStartAndEnd","spanGaps","solidSegments","cur","_computeSegments","segmentOptions","splitByStyles","completeLoop","doSplitByStyles","chartContext","baseStyle","readStyle","datasetIndex","prevStyle","addStyle","st","dir","styleChanged","replacer","Animator","anims","callbacks","numSteps","remaining","draw","charts","cb","animator","transparent","interpolators","factor","c0","Animation","cfg","elapsed","promises","rej","Animations","animationOptions","animatedProps","option","newOptions","resolveTargetOptions","animations","awaitAll","running","animation","anim","scaleClip","scale","allowedOverflow","defaultClip","toClip","getSortedDatasetIndices","filterVisible","metasets","applyStack","dsIndex","singleMode","otherValue","convertObjectDataToArray","adata","isStacked","stacked","getStackKey","indexScale","valueScale","getUserBounds","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","updateStacks","controller","iAxis","vAxis","itemStacks","visualValues","getFirstScaleId","scales","createDatasetContext","createDataContext","clearStacks","isDirectUpdateMode","cloneIfNotShared","cached","createStack","canStack","DatasetController","dataset","chooseId","xid","yid","rid","iid","vid","scaleID","_data","resetNewElements","stackChanged","oldStacked","scopeKeys","_stacked","sorted","isNotInOrderComparedToPrev","labels","singleScale","xAxisKey","yAxisKey","parsedValue","otherScale","otherMin","otherMax","_skip","elements","drawActiveElementsOnTop","elementType","sharing","transition","sharedOptions","firstOpts","previouslySharedOptions","includeOptions","arg1","arg2","numMeta","numData","move","removed","newCount","__publicField","getAllScaleValues","visibleMetas","computeMinSampleSize","updateMinAndPrev","computeFitCategoryTraits","ruler","stackCount","thickness","computeFlexCategoryTraits","pixels","percent","parseFloatBar","startValue","endValue","barStart","barEnd","parseValue","parseArrayOrPrimitive","isFloatBar","custom","barSign","actualBase","borderProps","setBorderSkipped","edge","parseEdge","swap","startEnd","orig","v2","setInflateAmount","inflateAmount","BarController","iAxisKey","vAxisKey","bars","reset","horizontal","vpixels","ipixels","dataIndex","skipNull","barThickness","baseValue","minBarLength","floating","head","startPixel","endPixel","halfGrid","maxBarThickness","center","stackIndex","rects","BubbleController","getRatioAndOffset","circumference","cutout","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","DoughnutController","getter","chartArea","arcs","spacing","maxSize","chartWeight","maxRadius","outerRadius","innerRadius","radiusLength","animationOpts","centerX","centerY","animateScale","arc","metaData","ringWeightOffset","pointStyle","legendItem","legend","LineController","_dataset","maxGapLength","directUpdate","pointsCount","prevParsed","nullData","border","lastPoint","PolarAreaController","minSize","datasetStartAngle","defaultAngle","PieController","RadarController","pointPosition","ScatterController","showLine","controllers","abstract","DateAdapterBase","members","adapters","binarySearch","metaset","intersect","_sorted","lookupMethod","evaluateInteractionItems","position","getDistanceMetricForAxis","useX","useY","deltaX","deltaY","getIntersectItems","useFinalPosition","includeInvisible","getNearestRadialItems","evaluationFunc","getNearestCartesianItems","distanceMetric","minDistance","inRange","distance","getNearestItems","getAxisItems","rangeMethod","intersectsItem","Interaction","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","wrapBoxes","boxes","layoutBoxes","stackWeight","buildStacks","setLayoutDims","vBoxMaxWidth","hBoxMaxHeight","fullSize","buildLayoutBoxes","centerHorizontal","centerVertical","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","newWidth","newHeight","widthChanged","heightChanged","handleMaxPadding","updatePos","getMargins","marginForPositions","fitBoxes","refitBoxes","refit","same","other","setBoxDims","placeBoxes","userPadding","layoutItem","minPadding","padding","availableWidth","availableHeight","verticalBoxes","horizontalBoxes","visibleVerticalBoxCount","BasePlatform","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","isNullOrEmpty","initCanvas","renderHeight","renderWidth","displayWidth","displayHeight","eventListenerOptions","addListener","removeListener","fromNativeEvent","nodeListContains","nodeList","createAttachObserver","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","resize","listenDevicePixelRatioChanges","unlistenDevicePixelRatioChanges","createResizeObserver","releaseObserver","createProxyAndListen","DomPlatform","proxies","_detectPlatform","Element","final","autoSkip","tickOpts","determinedMaxTicks","determineMaxTicks","ticksLimit","majorIndices","getMajorIndices","numMajorIndices","newTicks","skipMajors","calculateSpacing","avgMajorSpacing","tickLength","maxScale","maxChart","evenMajorSpacing","getEvenSpacing","factors","majorStart","majorEnd","diff","reverseAlign","offsetFromEdge","getTicksLimit","ticksLength","maxTicksLimit","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","garbageCollect","caches","getTickMarkLength","getTitleHeight","createScaleContext","createTickContext","tick","titleAlign","titleArgs","titleX","titleY","positionAxisID","Scale","_userMin","_userMax","_suggestedMin","_suggestedMax","metas","sampleSize","samplingEnabled","reversePixels","numTicks","minRotation","maxRotation","labelRotation","tickWidth","maxLabelDiagonal","labelSizes","maxLabelWidth","maxLabelHeight","titleOpts","gridOpts","display","isHorizontal","titleHeight","widest","highest","tickPadding","angleRadians","cos","sin","labelHeight","labelWidth","isRotated","labelsBelowTicks","offsetRight","paddingLeft","paddingRight","paddingTop","paddingBottom","widths","heights","widestLabelSize","highestLabelSize","tickFont","fontString","nestedLabel","valueAt","idx","decimal","optionTicks","rot","grid","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","optsAtIndex","optsAtIndexBorder","lineColor","borderDash","borderDashOffset","tickColor","tickBorderDash","tickBorderDashOffset","crossAlign","mirror","tickAndPadding","hTickAndPadding","textAlign","lineCount","textOffset","textBaseline","halfCount","strokeColor","strokeWidth","tickTextAlign","backdrop","labelPadding","backgroundColor","drawLine","lastLineWidth","renderTextOptions","tz","gz","bz","axisID","fontSize","TypedRegistry","override","parentScope","isIChartComponent","registerDefaults","itemDefaults","routeDefaults","propertyParts","sourceName","sourceScope","Registry","typedRegistry","reg","itemReg","registry","camelMethod","PluginService","hook","descriptor","plugin","plugins","allPlugins","createDescriptors","previousDescriptors","localIds","getOpts","pluginOpts","getIndexAxis","datasetDefaults","getAxisFromDefaultScaleID","getDefaultScaleIDFromAxis","idMatchesAxis","axisFromPosition","determineAxis","scaleOptions","getAxisFromDataset","retrieveAxisFromDatasets","boundDs","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","scaleConf","defaultId","defaultScaleOptions","defaultID","initOptions","initData","initConfig","keyCache","keysCached","cachedKeys","generate","addIfFound","Config$1","datasetType","mainScope","resetCache","_scopeCache","keyLists","subPrefixes","getResolver","needContext","subResolver","resolverCache","hasFunction","isScriptable","scriptable","indexable","version","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onAnimationProgress","getCanvas","instances","getChart","moveNumericKeys","intKey","determineLastEvent","lastEvent","inChartArea","isClick","getSizeForArea","field","getDatasetArea","Chart$1","invalidatePlugins","userConfig","Config","initialCanvas","existingChart","maintainAspectRatio","_aspectRatio","newSize","newRatio","scalesOptions","axisOptions","scaleOpts","updated","isRadial","scaleType","scaleClass","hasUpdated","datasets","newControllers","ControllerClass","datasetElementType","dataElementType","animsDisabled","_active","_lastEvent","existingEvents","newEvents","_hiddenIndices","_dataChanges","datasetCount","makeSet","changeSet","noArea","clip","useClip","visible","_add","_remove","detached","attached","enabled","activeElements","lastActive","pluginId","replay","hoverOptions","deactivated","activated","eventFilter","Chart","clipArc","pixelMargin","angleMargin","toRadiusCorners","parseBorderRadius$1","angleDelta","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","rThetaToXY","theta","pathArc","circular","innerR","spacingOffset","noSpacingInnerRadius","noSpacingOuterRadius","avNogSpacingRadius","adjustedAngle","beta","angleOffset","outerStart","outerEnd","innerStart","innerEnd","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","outerMidAdjustedAngle","pCenter","p4","innerMidAdjustedAngle","p8","outerStartX","outerStartY","outerEndX","outerEndY","drawArc","fullCircles","drawBorder","borderWidth","borderJoinStyle","inner","ArcElement","chartX","chartY","rAdjust","betweenAngles","withinRadius","halfAngle","halfRadius","fix","radiusOffset","setStyle","lineTo","getLineMethod","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","fastPathSegment","avgX","countX","prevX","lastY","pointIndex","drawX","truncX","_getSegmentMethod","_getInterpolationMethod","strokePathWithCache","strokePathDirect","segmentMethod","usePath2D","LineElement","_interpolate","interpolated","inRange$1","PointElement","mouseX","mouseY","getBarBounds","bar","half","skipOrLimit","parseBorderWidth","maxW","maxH","parseBorderRadius","enableBorderRadius","maxR","enableBorder","boundingRects","skipX","skipY","hasRadius","addNormalRectPath","inflateRect","amount","refRect","BarElement","borderColor","outer","addRectPath","BORDER_COLORS","BACKGROUND_COLORS","getBorderColor","getBackgroundColor","colorizeDefaultDataset","colorizeDoughnutDataset","colorizePolarAreaDataset","getColorizer","containsColorsDefinitions","containsColorsDefinition","plugin_colors","chartOptions","colorizer","lttbDecimation","samples","decimated","bucketWidth","sampledIndex","endIndex","maxAreaPoint","maxArea","nextA","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","pointAx","pointAy","minMaxDecimation","minIndex","startIndex","xMin","dx","lastIndex","intermediateIndex1","intermediateIndex2","cleanDecimatedDataset","cleanDecimatedData","getStartAndCountOfVisiblePointsSimplified","plugin_decimation","xAxis","threshold","_segments","tpoints","_findSegmentEnd","_getBounds","targetSegments","tgt","subBounds","fillSources","fillSource","_getEdge","_pointsFromSegments","boundary","linePoints","_createBoundaryLine","_loop","_shouldApplyFill","_resolveTarget","propagate","visited","_decodeFill","parseFillOption","decodeTargetIndex","firstCh","_getTargetPixel","_getTargetValue","fillOption","_buildStackLine","sourcePoints","linesBelow","getLinesBelow","addPointsBelow","below","sourcePoint","postponed","findPoint","pointValue","firstValue","lastValue","simpleArc","_getTarget","getLineByIndex","computeBoundary","computeCircularBoundary","computeLinearBoundary","_drawfill","lineOpts","above","doFill","clipVertical","clipY","lineLoop","src","notShape","clipBounds","interpolatedLineTo","targetLoop","interpolatedPoint","getBoxSize","labelOpts","boxHeight","boxWidth","itemsEqual","Legend","legendItems","labelFont","itemHeight","hitboxes","lineWidths","totalHeight","_itemHeight","columnSizes","heightLimit","totalWidth","currentColWidth","currentColHeight","col","calculateItemSize","rtlHelper","hitbox","defaultColor","halfFontSize","drawLegendBox","drawOptions","yBoxTop","xBoxLeft","borderRadius","fillText","realX","fontLineHeight","calculateLegendItemHeight","titleFont","titlePadding","topPaddingPlusHalfFontSize","hitBox","lh","isListened","hoveredItem","sameItem","calculateItemWidth","calculateItemHeight","legendItemText","plugin_legend","ci","usePointStyle","useBorderRadius","Title","textSize","fontOpts","createTitle","plugin_title","titleBlock","plugin_subtitle","positioners","xSet","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","getTooltipSize","body","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","bodyLineHeight","widthPadding","maxLineWidth","determineYAlign","doesNotFitWithAlign","xAlign","determineXAlign","yAlign","chartWidth","determineAlignment","alignX","alignY","paddingAndSize","getBackgroundPoint","alignment","caretSize","caretPadding","topLeft","topRight","bottomLeft","bottomRight","getAlignedX","getBeforeAfterBodyLines","createTooltipContext","tooltipItems","overrideCallbacks","defaultCallbacks","labelCount","tooltipItem","invokeCallbackWithFallback","Tooltip","beforeTitle","afterTitle","bodyItems","scoped","beforeFooter","afterFooter","labelColors","labelPointStyles","labelTextColors","positionAndSize","backgroundPoint","tooltipPoint","caretPosition","ptX","ptY","x3","y3","titleSpacing","labelColor","labelPointStyle","colorX","rtlColorX","yOffSet","colorY","outerX","innerX","bodySpacing","bodyAlign","displayColors","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","tooltipSize","animX","animY","opacity","hasTooltipContent","positionChanged","caretX","caretY","plugin_tooltip","addIfString","addedLabels","findOrAddLabel","_getLabelForValue","CategoryScale","added","generateTicks$1","generationOptions","dataRange","maxTicks","maxDigits","includeBounds","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","decimalPlaces","relativeLabelSize","LinearScaleBase","setMin","setMax","minSign","maxSign","stepSize","numericGeneratorOptions","LinearScale","log10Floor","changeExponent","isMajor","tickVal","steps","rangeExp","rangeStep","startExp","generateTicks","minExp","exp","significand","lastTick","LogarithmicScale","getTickBackdropHeight","measureLabelSize","determineLimits","fitWithPointLabels","limits","valueCount","pointLabelOpts","additionalAngle","plFont","hLimits","vLimits","updateLimits","buildPointLabelItems","createPointLabelItem","itemOpts","outerDistance","pointLabelPosition","yForAngle","getTextAlignForAngle","leftForTextAlign","isNotOverlapped","centerPointLabels","drawPointLabelBox","backdropColor","backdropLeft","backdropTop","backdropWidth","backdropHeight","drawPointLabels","pointLabels","pathRadiusLine","drawRadiusLine","gridLineOpts","createPointLabelContext","RadialLinearScale","leftMovement","rightMovement","topMovement","bottomMovement","angleMultiplier","scalingFactor","scaledDistance","pointLabel","distanceFromCenter","angleLines","INTERVALS","UNITS","sorter","parse","adapter","parser","isoWeekday","determineUnitForAutoTicks","minUnit","capacity","interval","determineUnitForFormatting","determineMajorUnit","addTick","timestamps","setMajorTicks","majorUnit","major","ticksFromTimestamps","TimeScale","_applyBounds","timeOpts","minor","weekday","hasWeekday","format","formats","fmt","minorFormat","majorFormat","offsets","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","displayFormats","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","registerables","palettes","sizes","fonts","StatsChart","dataLabel","tooltipLabel","_prepareConfig","_prepareData","_prepareMovingAverageStat","_reload","_dataLabel","_tooltipLabel","_chart","_darkmode","_movingAverage","_wpmPB","__privateMethod","reload_fn","wpmPB","movingAverage","avg","prepareData_fn","prepareConfig_fn","drawPB","rawVal","prepareMovingAverageStat_fn","ActivityChart","isTime","canvasRef","update","destroy","toggleDarkmode","randomInt","randomFloat","randomElement","CanvasElement","Container","Shape","Rectangle","_width","_height","_radii","radii","Text","_size","_char","paletteDark","paletteLight","defaultOptions","Confetti$2","_updateparticle","_drawParticle","_x","_y","_type","_particles","_gravity","_drag","_running","_ticks","speed","minOpacity","sizeVariation","fullPalette","palette","colorIndex","dX","dY","dAngle","alphaHex","shape","dead","particle","drawParticle_fn","updateparticle_fn","__privateWrapper","magnitude","Scene","FullscreenEffects","_canvas","confetties","Confetti","scene","confetti","fse","SmallButtonToggle","fetchData","topChapter","closeDelay","isBookComplete","nextChapterInfo","Results","setTab","libLink","nextLink","tocLink","handleShortcuts","chartChapterData","typedEntries","fastestParagraph","fastestChapter","chartBookData","statsData","fastest","fastestLabel","chartData","topBook","show","fontsByType","ButtonMulti","themes","download","getParagraphsData","entryData","encodeParagraphStats","rawData","encoded","isTyped","encodeParagraphsId","concatBytes","encodeSave","statsSizeBytes","statsBytes","decodeEntry","paragraphIndex","decodeSave","idSize","entrySize","mergeSaveWithCurrent","updateParagraphsStats","recalculateChaptersStats","bookInfos","updateChaptersStats","recalculateBooksStats","lastTimestamp","chaptersStatsVal","updateBooksStats","updateTopStats","pbStats","recalculateParagraphsSummaries","flatParagraphsStats","wpmVals","rawVals","wpmWeights","accVals","accWeights","conVals","conWeights","byDays","averageRaw","averageCon","average","day","updateDailyStats","dailyStatsStorage","recalculateTopChapter","recalculateTopBook","updateStatsSummary","restoreSave","summaries","exportSave","file","importSave","Confirm","setText","inputRef","requiredText","onSumbmit","onCancel","resetSettings","resetProgress","previewContents","Settings","previewTypingIndex","setPreviewTypingIndex","previewReadingIndex","setPreviewReadingIndex","setConfirm","export","import","deleteProgress","keyboardLayouts","mobileLayouts","desktopLayouts","themeOptions","_el$46","_el$47","_el$48","_el$49","_el$50","_el$51","_el$52","_el$54","_el$58","_el$60","_el$62","_el$64","_el$66","_el$67","_el$70","_el$71","_el$72","_el$87","_el$88","_el$89","_el$90","_el$92","_el$93","_el$94","_el$95","_el$97","_el$99","_el$100","_el$101","_el$102","_el$103","_el$104","_el$105","_el$106","_el$107","_el$108","_el$109","_el$110","_el$111","_el$112","_el$113","_el$114","_el$115","_el$116","_el$117","_el$118","_el$119","_el$120","_el$121","_el$122","_tmpl$14","_el$123","_tmpl$15","_tmpl$16","_tmpl$17","backspaceWholeWord","_el$127","_el$128","_el$56","_el$129","_el$130","_el$68","_el$69","_el$73","_el$75","_el$77","_el$79","_el$81","_el$82","_el$85","_el$131","_el$132","files","RecentStats","recentChartData","getMonthlyStats","monthlyEntries","LongTermStats","refetch","activity","dailyAverageProgress","progressByDays","progressData","booksCompleted","charactersTyped","charactersRead","charactersTotal","TopScores","Stats","FIELDS","fetchExact","doc","fetchClosest","getAdditionalBookInfo","authorResult","getBookCorrections","BookEdit","baseInfo","extraInfo","corrections","JSON","stringify","MAX_BITS","D_CODES","BL_CODES","LENGTH_CODES","LITERALS","L_CODES","HEAP_SIZE","END_BLOCK","MAX_BL_BITS","REP_3_6","REPZ_3_10","REPZ_11_138","Buf_size","Z_DEFAULT_COMPRESSION","Z_FILTERED","Z_HUFFMAN_ONLY","Z_DEFAULT_STRATEGY","Z_NO_FLUSH","Z_PARTIAL_FLUSH","Z_FULL_FLUSH","Z_FINISH","Z_OK","Z_STREAM_END","Z_NEED_DICT","Z_STREAM_ERROR","Z_DATA_ERROR","Z_BUF_ERROR","extractArray","flatArray","_dist_code","Tree","that","gen_bitlen","tree","stree","max_length","bits","xbits","overflow","bi_reverse","gen_codes","max_code","bl_count","next_code","elems","dist","StaticTree","static_tree","extra_bits","extra_base","static_ltree2_first_part","static_ltree2_second_part","static_dtree_first_part","static_dtree_second_part","MAX_MEM_LEVEL","DEF_MEM_LEVEL","good_length","max_lazy","nice_length","max_chain","STORED","FAST","SLOW","config_table","z_errmsg","NeedMore","BlockDone","FinishStarted","FinishDone","PRESET_DICT","INIT_STATE","BUSY_STATE","FINISH_STATE","Z_DEFLATED","STORED_BLOCK","STATIC_TREES","DYN_TREES","MIN_MATCH","MAX_MATCH","MIN_LOOKAHEAD","smaller","tn2","tm2","Deflate","strm","pending_buf_size","last_flush","w_size","w_bits","w_mask","win","window_size","ins_h","hash_size","hash_bits","hash_mask","hash_shift","block_start","match_length","prev_match","match_available","strstart","match_start","lookahead","prev_length","max_chain_length","max_lazy_match","level","strategy","good_match","nice_match","dyn_ltree","dyn_dtree","bl_tree","l_desc","d_desc","bl_desc","lit_bufsize","last_lit","last_eob_len","bi_buf","bi_valid","lm_init","init_block","tr_init","heap","scan_tree","prevlen","curlen","nextlen","max_count","min_count","build_bl_tree","max_blindex","put_byte","put_short","putShortMSB","send_bits","send_code","send_tree","send_all_trees","lcodes","dcodes","blcodes","rank","bi_flush","_tr_align","_tr_tally","lc","out_length","in_length","dcode","compress_block","ltree","dtree","lx","bi_windup","copy_block","header","_tr_stored_block","stored_len","eof","_tr_flush_block","opt_lenb","static_lenb","flush_block_only","fill_window","deflate_stored","flush","max_block_size","max_start","longest_match","cur_match","chain_length","scan","best_len","_nice_match","wmask","strend","scan_end1","scan_end","deflate_fast","hash_head","bflush","deflate_slow","max_insert","deflateReset","_level","_method","memLevel","_strategy","_strm","dictionary","dictLength","level_flags","old_flush","bstate","ZStream","ZipDeflate","z","bufsize","getMaximumCompressedSize","onprogress","bufferIndex","bufferSize","buffers","uncompressedSize","Z_MEM_ERROR","inflate_mask","MANY","fixed_bl","fixed_bd","fixed_tl","fixed_td","cplens","cplext","cpdist","cpdext","BMAX","InfTree","hn","u","huft_build","bindex","hp","mask","q","xp","initWorkArea","vsize","bb","tb","nl","nd","bl","bd","td","START","LEN","LENEXT","DIST","DISTEXT","COPY","LIT","WASH","END","BADCODE","InfCodes","tree_index","need","lit","lbits","dbits","ltree_index","dtree_index","inflate_fast","tl_index","td_index","tp_index","ml","md","tp_index_t_3","tindex","TYPE","LENS","TABLE","BTREE","DTREE","CODES","DRY","DONELOCKS","BADBLOCKS","InfBlocks","blens","codes","hufts","check","inftree","bl_","bd_","tl_","td_","METHOD","FLAG","DICT4","DICT3","DICT2","DICT1","DICT0","BLOCKS","DONE","BAD","mark","Inflate","inflateReset","istate","ZipInflate","nomoreinput","MAX_32_BITS","MAX_16_BITS","COMPRESSION_METHOD_DEFLATE","COMPRESSION_METHOD_STORE","COMPRESSION_METHOD_AES","LOCAL_FILE_HEADER_SIGNATURE","SPLIT_ZIP_FILE_SIGNATURE","CENTRAL_FILE_HEADER_SIGNATURE","END_OF_CENTRAL_DIR_SIGNATURE","ZIP64_END_OF_CENTRAL_DIR_SIGNATURE","ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIGNATURE","END_OF_CENTRAL_DIR_LENGTH","ZIP64_END_OF_CENTRAL_DIR_LOCATOR_LENGTH","ZIP64_END_OF_CENTRAL_DIR_LENGTH","EXTRAFIELD_TYPE_ZIP64","EXTRAFIELD_TYPE_AES","EXTRAFIELD_TYPE_NTFS","EXTRAFIELD_TYPE_NTFS_TAG1","EXTRAFIELD_TYPE_EXTENDED_TIMESTAMP","EXTRAFIELD_TYPE_UNICODE_PATH","EXTRAFIELD_TYPE_UNICODE_COMMENT","EXTRAFIELD_TYPE_USDZ","BITFLAG_ENCRYPTED","BITFLAG_LEVEL","BITFLAG_DATA_DESCRIPTOR","BITFLAG_LANG_ENCODING_FLAG","FILE_ATTR_MSDOS_DIR_MASK","DIRECTORY_SIGNATURE","UNDEFINED_VALUE","UNDEFINED_TYPE","FUNCTION_TYPE","StreamAdapter","Codec","_format","codec","MINIMUM_CHUNK_SIZE","maxWorkers","DEFAULT_CONFIGURATION","getConfiguration","getChunkSize","configure","configuration","baseURL","chunkSize","terminateWorkerTimeout","useCompressionStream","useWebWorkers","CompressionStream","DecompressionStream","workerScripts","setIfDefined","deflate","inflate","propertyName","propertyValue","mimeTypes","subtype","indexMimeType","Crc32","crc","Crc32Stream","stream","crc32","encodeText","bitArray","a2","_end","carry","last2","shift2","byteLength","sha1","ol","cipher","aes","sbox","decTable","keyLen","encKey","decKey","rcon","encTable","sboxInv","th","xInv","x4","x8","tDec","tEnc","nInnerRounds","t0","t1","t2","t3","kIndex","b2","random","typedArray","m_w","m_z","rcache","_r","prf","iv","b1","b3","counter","misc","password","salt","arrayBuffer","outLength","hmac","Hash","exKey","bs","GET_RANDOM_VALUES_SUPPORTED","ERR_INVALID_PASSWORD","ERR_INVALID_SIGNATURE","ERR_ABORT_CHECK_PASSWORD","getRandomValues","BLOCK_LENGTH","RAW_FORMAT","PBKDF2_ALGORITHM","HASH_ALGORITHM","HASH_FUNCTION","BASE_KEY_ALGORITHM","DERIVED_BITS_ALGORITHM","DERIVED_BITS_USAGE","SALT_LENGTH","KEY_LENGTH","SIGNATURE_LENGTH","COUNTER_DEFAULT_VALUE","CRYPTO_API_SUPPORTED","subtle","SUBTLE_API_SUPPORTED","codecBytes","Aes","CtrGladman","HmacSha1","IMPORT_KEY_SUPPORTED","DERIVE_BITS_SUPPORTED","AESDecryptionStream","signed","encryptionStrength","checkPasswordOnly","aesCrypto","strength","resolveReady","ready","createDecryptionKeys","subarray","output","append","ctr","pending","chunkToDecrypt","originalSignature","decryptedChunkArray","encryptedChunk","toBits","decryptedChunk","fromBits","signature","indexSignature","AESEncryptionStream","preamble","createEncryptionKeys","encryptedChunkArray","concat","paddingStart","paddingEnd","verifySignature","inputLength","expand","inputChunk","outputChunk","decrypt","passwordVerificationKey","createKeys","passwordVerification","encrypt","encodedPassword","baseKey","importKey","derivedBits","deriveBits","compositeKey","authentication","algorithm","extractable","keyUsages","leftArray","rightArray","inputArray","begin","HEADER_LENGTH","ZipCryptoDecryptionStream","zipCrypto","decryptedHeader","ZipCryptoEncryptionStream","getByte","updateKeys","byte","key0","key1","key2","getInt32","getInt8","number","COMPRESSION_FORMAT","DeflateStream","CompressionStreamNative","encrypted","crc32Stream","encryptionStream","readable","filterEmptyChunks","pipeThrough","pipeThroughCommpressionStream","setReadable","InflateStream","DecompressionStreamNative","decryptionStream","dataViewSignature","CodecStreamNative","CodecStream","transformStream","MESSAGE_EVENT_TYPE","MESSAGE_START","MESSAGE_PULL","MESSAGE_DATA","MESSAGE_ACK_DATA","MESSAGE_CLOSE","CODEC_DEFLATE","CODEC_INFLATE","codecType","Stream","WEB_WORKERS_SUPPORTED","CodecWorker","workerData","writable","streamOptions","transferStreams","scripts","onTaskFinished","ProgressWatcherStream","worker","createWebWorkerInterface","createWorkerInterface","readableSource","onstart","onend","chunkOffset","callHandler","parameters","runWorker","getWebWorker","runWebWorker","codecStream","resolveResult","rejectResult","closed","watchClosedStream","sendMessage","resultValue","writableSource","writer","resolveStreamClosed","classicWorkersSupported","transferStreamsSupported","workerOptions","scriptUrl","onMessage","transferables","messageId","responseError","pool","pendingRequests","indexWorker","streamCopy","clearTerminateTimeout","terminateTimeout","ERR_ITERATOR_COMPLETED_TOO_SOON","HTTP_HEADER_CONTENT_TYPE","DEFAULT_CHUNK_SIZE","PROPERTY_NAME_WRITABLE","Reader","diskNumberStart","readUint8Array","BlobReader","offsetEnd","BlobWriter","contentType","headers","TextWriter","encoding","utf8","SplitDataReader","readers","diskReader","indexDiskReader","diskNumber","currentDiskNumber","currentReaderOffset","currentReader","currentReaderSize","chunkLength","SplitDataWriter","writerGenerator","zipWriter","diskSourceWriter","diskWritable","diskWriter","availableSize","writeChunk","closeDisk","initStream","initSize","initReader","initWriter","CP437","VALID_CP437","decodeCP437","stringValue","indexCharacter","decodeText","PROPERTY_NAME_FILENAME","PROPERTY_NAME_RAW_FILENAME","PROPERTY_NAME_COMMENT","PROPERTY_NAME_RAW_COMMENT","PROPERTY_NAME_UNCOMPPRESSED_SIZE","PROPERTY_NAME_COMPPRESSED_SIZE","PROPERTY_NAME_OFFSET","PROPERTY_NAME_DISK_NUMBER_START","PROPERTY_NAME_LAST_MODIFICATION_DATE","PROPERTY_NAME_RAW_LAST_MODIFICATION_DATE","PROPERTY_NAME_LAST_ACCESS_DATE","PROPERTY_NAME_RAW_LAST_ACCESS_DATE","PROPERTY_NAME_CREATION_DATE","PROPERTY_NAME_RAW_CREATION_DATE","PROPERTY_NAME_INTERNAL_FILE_ATTRIBUTE","PROPERTY_NAME_EXTERNAL_FILE_ATTRIBUTE","PROPERTY_NAME_MS_DOS_COMPATIBLE","PROPERTY_NAME_ZIP64","PROPERTY_NAMES","Entry","ERR_BAD_FORMAT","ERR_EOCDR_NOT_FOUND","ERR_EOCDR_ZIP64_NOT_FOUND","ERR_EOCDR_LOCATOR_ZIP64_NOT_FOUND","ERR_CENTRAL_DIRECTORY_NOT_FOUND","ERR_LOCAL_FILE_HEADER_NOT_FOUND","ERR_EXTRAFIELD_ZIP64_NOT_FOUND","ERR_ENCRYPTED","ERR_UNSUPPORTED_ENCRYPTION","ERR_UNSUPPORTED_COMPRESSION","ERR_SPLIT_ZIP_FILE","CHARSET_UTF8","CHARSET_CP437","ZIP64_PROPERTIES","ZIP64_EXTRACTION","getUint32","getBigUint64","ZipReader","zipReader","endOfDirectoryInfo","seekSignature","signatureArray","signatureView","getDataView","endOfDirectoryView","directoryDataLength","directoryDataOffset","commentOffset","commentLength","getUint16","appendedDataOffset","lastDiskNumber","expectedLastDiskNumber","filesLength","prependedDataLength","startOffset","endOfDirectoryLocatorArray","endOfDirectoryLocatorView","endOfDirectoryArray","expectedDirectoryDataOffset","originalDirectoryDataOffset","directoryArray","directoryView","expectedDirectoryDataLength","filenameEncoding","getOptionValue","commentEncoding","indexFile","fileEntry","ZipEntry","readCommonHeader","languageEncodingFlag","filenameOffset","extraFieldOffset","versionMadeBy","msDosCompatible","rawFilename","endOffset","rawComment","filenameUTF8","commentUTF8","directory","getUint8","offsetFileEntry","filename","comment","readCommonFooter","extractPrependedData","extractAppendedData","zipEntry","extraFieldAES","compressionMethod","bitFlag","rawLastModDate","compressedSize","localDirectory","dataArray","dataView","dataOffset","outputSize","preventClose","rawBitFlag","getDate","rawExtraField","extraField","rawExtraFieldView","offsetExtraField","extraFieldZip64","readExtraFieldZip64","extraFieldUnicodePath","readExtraFieldUnicode","extraFieldUnicodeComment","readExtraFieldAES","extraFieldNTFS","readExtraFieldNTFS","extraFieldExtendedTimestamp","readExtraFieldExtendedTimestamp","extraFieldUSDZ","extraFieldView","missingProperties","indexMissingProperty","extraction","extraFieldUnicode","rawPropertyName","tag1Data","tagValue","attributeSize","tag1View","rawLastAccessDate","rawCreationDate","lastModDate","getDateNTFS","lastAccessDate","creationDate","extraFieldData","flags","timeProperties","timeRawProperties","indexProperty","minimumBytes","maximumLength","setUint32","maximumBytes","seek","indexByte","timeRaw","view","configureWebWorker","latinize","characters","cleanSymbols","cleaned","subSymbol","cleanText","subLetter","createBookId","getFileType","mime","getLanguage","HIDE_TITLES_BY_LANG","SKIP_TITLES_BY_LANG","HIDE_TITLES","SKIP_TITLES","isMatchingTiles","titles","titleLow","shouldSkip","shouldHide","genreKeywords","hasKeywords","keywords","keyword","extractGenres","subject","subjectSE","hasKeywordsInText","TITLE_CHARS_PER_LINE","TITLE_MAX_LINES","AUTHOR_CHARS_PER_LINE","AUTHOR_MAX_LINES","getCoverColors","loadImage","img","drawText","rawTitle","charsPerLine","baseY","maxLines","maxChars","isOddLines","drawCover","TITLE_LINE_HEIGHT","AUTHOR_LINE_HEIGHT","WIDTH","rawAuthor","getBlob","prepareCover","fileUrl","sanitizeDescription","toUrlIfPossible","stripSymbols","Epub","zipBlob","_verifyMimeFile","_readFile","_readMetaInfo","_readHtmlToc","_readNcxToc","_prepareBookWithoutToc","_findChapterStart","_prepareBookWithToc","_getCover","_getInfo","_extractContent","_reader","_charset","_cleanText","_book","blobReader","verifyMimeFile_fn","rootFile","readMetaInfo_fn","extractContent_fn","mimeFile","mimeWriter","readFile_fn","filePath","ext","textWriter","rootFilePath","rootFileMime","readHtmlToc_fn","parentLabel","navPoint","currentLabel","nextLabel","rawPath","subList","readNcxToc_fn","prepareBookWithoutToc_fn","prevType","fullTitle","fragment","findChapterStart_fn","prepareBookWithToc_fn","toc","currentChapter","missingTitleParts","tempTitle","getCover_fn","manifestEntries","coverEntry","getInfo_fn","metadata","publisher","_g","seSource","_h","years","rawDescription","_j","structureFilePath","manifest","cover","tocNcxEntry","tocHtmlEntry","tocInfo","tocContent","tocNode","spine","tag","anchors","section","standardCells","cell","trimmed","flatElements","allText","pText","speechUtteranceChunker","utt","newUtt","txt","pattRegex","chunkArr","speak","voice","utterance","serializeChapter","serializeBook","getRawEpubPaths","prepareBooks","bookPaths","bookPath","simulateTyping","delayBetweenParagraphs","randomize","emitEvents","averageKeyDelay","events","keyDelay","fetch"],"sources":["../../node_modules/solid-js/dist/solid.js","../../node_modules/solid-js/web/dist/web.js","../../node_modules/@solidjs/router/dist/lifecycle.js","../../node_modules/@solidjs/router/dist/utils.js","../../node_modules/@solidjs/router/dist/routing.js","../../node_modules/@solidjs/router/dist/routers/components.jsx","../../node_modules/@solidjs/router/dist/routers/createRouter.js","../../node_modules/@solidjs/router/dist/data/action.js","../../node_modules/@solidjs/router/dist/data/events.js","../../node_modules/@solidjs/router/dist/routers/Router.js","../../node_modules/solid-js/store/dist/store.js","../../node_modules/is-mobile/index.js","../../src/utils/getOS.ts","../../src/utils/isApple.ts","../../src/config.ts","../../src/libs/api-helpers/fetchJSON.ts","../../src/libs/api-helpers/apiCalls.ts","../../node_modules/localforage/dist/localforage.js","../../src/storage/storage.ts","../../src/actions/getDailyDate.ts","../../src/actions/getDailyProgress.ts","../../src/utils/merge.ts","../../src/state/state.ts","../../src/components/common/header/DesktopHeader.tsx","../../src/components/common/header/MobileMenu.tsx","../../src/utils/delay.ts","../../src/components/common/header/InstallButton.tsx","../../src/components/common/header/MobileHeader.tsx","../../src/components/common/header/Header.tsx","../../src/components/common/toast/Toast.tsx","../../src/components/common/loading/Loading.tsx","../../src/components/App.tsx","../../src/actions/getAccuracyThreshold.ts","../../src/actions/toggleFavorite.ts","../../src/utils/dates.ts","../../src/utils/formatters.ts","../../src/utils/url.ts","../../src/components/common/book-genres/BookGenres.tsx","../../src/components/common/book-strip/BookStrip.tsx","../../src/components/common/book/Cover.tsx","../../src/components/common/stats-strip/StatsStrip.tsx","../../src/actions/getConsistencyThreshold.ts","../../src/utils/math.ts","../../src/components/pages/prompt/prompt-actions/summarizeStats.ts","../../src/actions/getNextChapterId.ts","../../src/io/getBookInfo.ts","../../src/components/pages/book-details/fetchBookDetails.tsx","../../src/components/pages/book-details/BookDetails.tsx","../../src/components/common/book/Book.tsx","../../src/components/common/pagination/Pagination.tsx","../../src/utils/debounce.tsx","../../src/components/common/button-toggle/ButtonToggle.tsx","../../src/components/common/select/Select.tsx","../../src/components/pages/books/Filters.tsx","../../src/actions/getBooksData.ts","../../src/utils/array.ts","../../src/components/pages/books/Books.tsx","../../src/components/pages/home/QuickBooks.tsx","../../src/components/pages/home/Recommended.tsx","../../src/components/pages/home/QuickStats.tsx","../../src/components/pages/home/Hero.tsx","../../src/components/pages/home/Home.tsx","../../src/utils/gzip.ts","../../src/actions/getBookContent.ts","../../src/actions/getChapterContent.ts","../../src/components/pages/prompt/prompt-actions/getPromptData.ts","../../src/components/pages/prompt/prompt-util/KEY_NAMES.ts","../../src/components/pages/prompt/prompt-util/scrollToWord.ts","../../src/components/pages/prompt/Statusbar.tsx","../../src/components/pages/prompt/prompt-actions/saveSummary.ts","../../src/components/pages/prompt/prompt-actions/saveParagraph.ts","../../src/components/pages/prompt/prompt-util/calculateWpm.ts","../../src/components/pages/prompt/prompt-util/getAfkTime.ts","../../src/components/pages/prompt/prompt-util/calculateParagraphWpm.ts","../../src/components/pages/prompt/prompt-actions/updateAverageWpm.ts","../../src/components/pages/prompt/prompt-util/calculateAccuracy.ts","../../src/components/pages/prompt/prompt-util/calculateParagraphAccuracy.ts","../../src/components/pages/prompt/prompt-actions/updateAverageAccuracy.ts","../../src/components/pages/prompt/prompt-actions/handleParagraphReset.ts","../../src/components/pages/prompt/prompt-actions/handleParagraphClick.ts","../../src/components/pages/prompt/prompt-actions/handleAfk.ts","../../src/components/pages/prompt/prompt-actions/handleBackspace.ts","../../src/components/pages/prompt/prompt-util/calculateParagraphConsistency.ts","../../src/libs/charsets.ts","../../src/components/pages/prompt/prompt-util/getParagraphMissedWords.ts","../../src/components/pages/prompt/prompt-actions/setParagraphStats.ts","../../src/components/pages/prompt/prompt-actions/handleStandardInput.ts","../../src/components/pages/prompt/prompt-util/getScreenSplitOffsets.ts","../../src/components/pages/prompt/prompt-actions/loadPromptContent.ts","../../src/components/pages/prompt/prompt-actions/updateProgress.ts","../../src/actions/getFont.ts","../../src/components/pages/prompt/prompt-util/setCantTypeAlert.ts","../../src/data/mobileKeyboardLayouts.ts","../../src/components/common/screen-keyboard/ScreenKeyboard.tsx","../../src/data/desktopKeyboardLayouts.ts","../../src/components/common/screen-keyboard/ScreenKeyboardDesktop.tsx","../../src/actions/notify.ts","../../src/components/pages/prompt/Prompt.tsx","../../src/components/common/separator/Separator.tsx","../../node_modules/@kurkle/color/dist/color.esm.js","../../node_modules/chart.js/dist/chunks/helpers.segment.js","../../node_modules/chart.js/dist/chart.js","../../node_modules/chart.js/auto/auto.js","../../src/components/pages/results/results-util/chart-palettes.ts","../../src/components/pages/results/results-util/StatsChart.ts","../../src/components/pages/results/results-util/ActivityChart.ts","../../src/components/pages/results/Chart.tsx","../../src/utils/random.ts","../../src/libs/confetti/tools/CanvasElement.ts","../../src/libs/confetti/tools/Container.ts","../../src/libs/confetti/tools/Shape.ts","../../src/libs/confetti/tools/Rectangle.ts","../../src/libs/confetti/tools/Text.ts","../../src/libs/confetti/Confetti.ts","../../src/libs/confetti/tools/Scene.ts","../../src/libs/confetti/FullscreenEffects.ts","../../src/components/pages/results/Confetti.tsx","../../src/components/common/small-button-toggle/SmallButtonToggle.tsx","../../src/components/pages/results/Results.tsx","../../src/components/pages/settings/fonts.ts","../../src/components/common/button-toggle/ButtonMulti.tsx","../../src/data/themes.ts","../../src/io/download.ts","../../src/io/save.ts","../../src/components/common/confirm/Confirm.tsx","../../src/io/reset.ts","../../src/components/pages/settings/Settings.tsx","../../src/components/pages/stats/RecentStats.tsx","../../src/components/pages/stats/LongTermStats.tsx","../../src/components/pages/stats/TopScores.tsx","../../src/components/pages/stats/Stats.tsx","../../src/io/getAdditionalBookInfo.ts","../../src/io/getBookCorrections.ts","../../src/components/pages/book-edit/BookEdit.tsx","../../node_modules/@zip.js/zip.js/lib/core/streams/codecs/deflate.js","../../node_modules/@zip.js/zip.js/lib/core/streams/codecs/inflate.js","../../node_modules/@zip.js/zip.js/lib/core/constants.js","../../node_modules/@zip.js/zip.js/lib/core/streams/stream-adapter.js","../../node_modules/@zip.js/zip.js/lib/core/configuration.js","../../node_modules/@zip.js/zip.js/lib/core/util/mime-type.js","../../node_modules/@zip.js/zip.js/lib/core/streams/codecs/crc32.js","../../node_modules/@zip.js/zip.js/lib/core/streams/crc32-stream.js","../../node_modules/@zip.js/zip.js/lib/core/util/encode-text.js","../../node_modules/@zip.js/zip.js/lib/core/streams/codecs/sjcl.js","../../node_modules/@zip.js/zip.js/lib/core/streams/common-crypto.js","../../node_modules/@zip.js/zip.js/lib/core/streams/aes-crypto-stream.js","../../node_modules/@zip.js/zip.js/lib/core/streams/zip-crypto-stream.js","../../node_modules/@zip.js/zip.js/lib/core/streams/zip-entry-stream.js","../../node_modules/@zip.js/zip.js/lib/core/streams/codec-stream.js","../../node_modules/@zip.js/zip.js/lib/core/codec-worker.js","../../node_modules/@zip.js/zip.js/lib/core/codec-pool.js","../../node_modules/@zip.js/zip.js/lib/z-worker-inline.js","../../node_modules/@zip.js/zip.js/lib/core/io.js","../../node_modules/@zip.js/zip.js/lib/core/util/cp437-decode.js","../../node_modules/@zip.js/zip.js/lib/core/util/decode-text.js","../../node_modules/@zip.js/zip.js/lib/core/zip-entry.js","../../node_modules/@zip.js/zip.js/lib/core/zip-reader.js","../../node_modules/@zip.js/zip.js/lib/zip-fs.js","../../node_modules/@zip.js/zip.js/index.js","../../node_modules/latinize/latinize.js","../../src/libs/cleanText.ts","../../src/libs/createBookId.ts","../../src/libs/getFileType.ts","../../src/libs/getLanguage.ts","../../src/libs/ebook/specialChapterNames.ts","../../src/libs/ebook/clasifyChapter.ts","../../src/libs/ebook/extractGenres.ts","../../src/libs/ebook/prepareCover.ts","../../src/libs/ebook/sanitizeDescription.ts","../../src/libs/ebook/toUrlIfPossible.ts","../../src/libs/ebook/epub.ts","../../src/libs/tts/speak.ts","../../src/libs/ebook/serialize.ts","../../src/prepareBooks.ts","../../src/components/pages/prompt/prompt-actions/simulateTyping.ts","../../src/index.tsx"],"sourcesContent":["let taskIdCounter = 1,\n  isCallbackScheduled = false,\n  isPerformingWork = false,\n  taskQueue = [],\n  currentTask = null,\n  shouldYieldToHost = null,\n  yieldInterval = 5,\n  deadline = 0,\n  maxYieldInterval = 300,\n  scheduleCallback = null,\n  scheduledCallback = null;\nconst maxSigned31BitInt = 1073741823;\nfunction setupScheduler() {\n  const channel = new MessageChannel(),\n    port = channel.port2;\n  scheduleCallback = () => port.postMessage(null);\n  channel.port1.onmessage = () => {\n    if (scheduledCallback !== null) {\n      const currentTime = performance.now();\n      deadline = currentTime + yieldInterval;\n      const hasTimeRemaining = true;\n      try {\n        const hasMoreWork = scheduledCallback(hasTimeRemaining, currentTime);\n        if (!hasMoreWork) {\n          scheduledCallback = null;\n        } else port.postMessage(null);\n      } catch (error) {\n        port.postMessage(null);\n        throw error;\n      }\n    }\n  };\n  if (navigator && navigator.scheduling && navigator.scheduling.isInputPending) {\n    const scheduling = navigator.scheduling;\n    shouldYieldToHost = () => {\n      const currentTime = performance.now();\n      if (currentTime >= deadline) {\n        if (scheduling.isInputPending()) {\n          return true;\n        }\n        return currentTime >= maxYieldInterval;\n      } else {\n        return false;\n      }\n    };\n  } else {\n    shouldYieldToHost = () => performance.now() >= deadline;\n  }\n}\nfunction enqueue(taskQueue, task) {\n  function findIndex() {\n    let m = 0;\n    let n = taskQueue.length - 1;\n    while (m <= n) {\n      const k = n + m >> 1;\n      const cmp = task.expirationTime - taskQueue[k].expirationTime;\n      if (cmp > 0) m = k + 1;else if (cmp < 0) n = k - 1;else return k;\n    }\n    return m;\n  }\n  taskQueue.splice(findIndex(), 0, task);\n}\nfunction requestCallback(fn, options) {\n  if (!scheduleCallback) setupScheduler();\n  let startTime = performance.now(),\n    timeout = maxSigned31BitInt;\n  if (options && options.timeout) timeout = options.timeout;\n  const newTask = {\n    id: taskIdCounter++,\n    fn,\n    startTime,\n    expirationTime: startTime + timeout\n  };\n  enqueue(taskQueue, newTask);\n  if (!isCallbackScheduled && !isPerformingWork) {\n    isCallbackScheduled = true;\n    scheduledCallback = flushWork;\n    scheduleCallback();\n  }\n  return newTask;\n}\nfunction cancelCallback(task) {\n  task.fn = null;\n}\nfunction flushWork(hasTimeRemaining, initialTime) {\n  isCallbackScheduled = false;\n  isPerformingWork = true;\n  try {\n    return workLoop(hasTimeRemaining, initialTime);\n  } finally {\n    currentTask = null;\n    isPerformingWork = false;\n  }\n}\nfunction workLoop(hasTimeRemaining, initialTime) {\n  let currentTime = initialTime;\n  currentTask = taskQueue[0] || null;\n  while (currentTask !== null) {\n    if (currentTask.expirationTime > currentTime && (!hasTimeRemaining || shouldYieldToHost())) {\n      break;\n    }\n    const callback = currentTask.fn;\n    if (callback !== null) {\n      currentTask.fn = null;\n      const didUserCallbackTimeout = currentTask.expirationTime <= currentTime;\n      callback(didUserCallbackTimeout);\n      currentTime = performance.now();\n      if (currentTask === taskQueue[0]) {\n        taskQueue.shift();\n      }\n    } else taskQueue.shift();\n    currentTask = taskQueue[0] || null;\n  }\n  return currentTask !== null;\n}\n\nconst sharedConfig = {\n  context: undefined,\n  registry: undefined\n};\nfunction setHydrateContext(context) {\n  sharedConfig.context = context;\n}\nfunction nextHydrateContext() {\n  return {\n    ...sharedConfig.context,\n    id: `${sharedConfig.context.id}${sharedConfig.context.count++}-`,\n    count: 0\n  };\n}\n\nconst equalFn = (a, b) => a === b;\nconst $PROXY = Symbol(\"solid-proxy\");\nconst $TRACK = Symbol(\"solid-track\");\nconst $DEVCOMP = Symbol(\"solid-dev-component\");\nconst signalOptions = {\n  equals: equalFn\n};\nlet ERROR = null;\nlet runEffects = runQueue;\nconst STALE = 1;\nconst PENDING = 2;\nconst UNOWNED = {\n  owned: null,\n  cleanups: null,\n  context: null,\n  owner: null\n};\nconst NO_INIT = {};\nvar Owner = null;\nlet Transition = null;\nlet Scheduler = null;\nlet ExternalSourceFactory = null;\nlet Listener = null;\nlet Updates = null;\nlet Effects = null;\nlet ExecCount = 0;\nconst [transPending, setTransPending] = /*@__PURE__*/createSignal(false);\nfunction createRoot(fn, detachedOwner) {\n  const listener = Listener,\n    owner = Owner,\n    unowned = fn.length === 0,\n    current = detachedOwner === undefined ? owner : detachedOwner,\n    root = unowned ? UNOWNED : {\n      owned: null,\n      cleanups: null,\n      context: current ? current.context : null,\n      owner: current\n    },\n    updateFn = unowned ? fn : () => fn(() => untrack(() => cleanNode(root)));\n  Owner = root;\n  Listener = null;\n  try {\n    return runUpdates(updateFn, true);\n  } finally {\n    Listener = listener;\n    Owner = owner;\n  }\n}\nfunction createSignal(value, options) {\n  options = options ? Object.assign({}, signalOptions, options) : signalOptions;\n  const s = {\n    value,\n    observers: null,\n    observerSlots: null,\n    comparator: options.equals || undefined\n  };\n  const setter = value => {\n    if (typeof value === \"function\") {\n      if (Transition && Transition.running && Transition.sources.has(s)) value = value(s.tValue);else value = value(s.value);\n    }\n    return writeSignal(s, value);\n  };\n  return [readSignal.bind(s), setter];\n}\nfunction createComputed(fn, value, options) {\n  const c = createComputation(fn, value, true, STALE);\n  if (Scheduler && Transition && Transition.running) Updates.push(c);else updateComputation(c);\n}\nfunction createRenderEffect(fn, value, options) {\n  const c = createComputation(fn, value, false, STALE);\n  if (Scheduler && Transition && Transition.running) Updates.push(c);else updateComputation(c);\n}\nfunction createEffect(fn, value, options) {\n  runEffects = runUserEffects;\n  const c = createComputation(fn, value, false, STALE),\n    s = SuspenseContext && useContext(SuspenseContext);\n  if (s) c.suspense = s;\n  if (!options || !options.render) c.user = true;\n  Effects ? Effects.push(c) : updateComputation(c);\n}\nfunction createReaction(onInvalidate, options) {\n  let fn;\n  const c = createComputation(() => {\n      fn ? fn() : untrack(onInvalidate);\n      fn = undefined;\n    }, undefined, false, 0),\n    s = SuspenseContext && useContext(SuspenseContext);\n  if (s) c.suspense = s;\n  c.user = true;\n  return tracking => {\n    fn = tracking;\n    updateComputation(c);\n  };\n}\nfunction createMemo(fn, value, options) {\n  options = options ? Object.assign({}, signalOptions, options) : signalOptions;\n  const c = createComputation(fn, value, true, 0);\n  c.observers = null;\n  c.observerSlots = null;\n  c.comparator = options.equals || undefined;\n  if (Scheduler && Transition && Transition.running) {\n    c.tState = STALE;\n    Updates.push(c);\n  } else updateComputation(c);\n  return readSignal.bind(c);\n}\nfunction isPromise(v) {\n  return v && typeof v === \"object\" && \"then\" in v;\n}\nfunction createResource(pSource, pFetcher, pOptions) {\n  let source;\n  let fetcher;\n  let options;\n  if (arguments.length === 2 && typeof pFetcher === \"object\" || arguments.length === 1) {\n    source = true;\n    fetcher = pSource;\n    options = pFetcher || {};\n  } else {\n    source = pSource;\n    fetcher = pFetcher;\n    options = pOptions || {};\n  }\n  let pr = null,\n    initP = NO_INIT,\n    id = null,\n    loadedUnderTransition = false,\n    scheduled = false,\n    resolved = (\"initialValue\" in options),\n    dynamic = typeof source === \"function\" && createMemo(source);\n  const contexts = new Set(),\n    [value, setValue] = (options.storage || createSignal)(options.initialValue),\n    [error, setError] = createSignal(undefined),\n    [track, trigger] = createSignal(undefined, {\n      equals: false\n    }),\n    [state, setState] = createSignal(resolved ? \"ready\" : \"unresolved\");\n  if (sharedConfig.context) {\n    id = `${sharedConfig.context.id}${sharedConfig.context.count++}`;\n    let v;\n    if (options.ssrLoadFrom === \"initial\") initP = options.initialValue;else if (sharedConfig.load && (v = sharedConfig.load(id))) initP = v;\n  }\n  function loadEnd(p, v, error, key) {\n    if (pr === p) {\n      pr = null;\n      key !== undefined && (resolved = true);\n      if ((p === initP || v === initP) && options.onHydrated) queueMicrotask(() => options.onHydrated(key, {\n        value: v\n      }));\n      initP = NO_INIT;\n      if (Transition && p && loadedUnderTransition) {\n        Transition.promises.delete(p);\n        loadedUnderTransition = false;\n        runUpdates(() => {\n          Transition.running = true;\n          completeLoad(v, error);\n        }, false);\n      } else completeLoad(v, error);\n    }\n    return v;\n  }\n  function completeLoad(v, err) {\n    runUpdates(() => {\n      if (err === undefined) setValue(() => v);\n      setState(err !== undefined ? \"errored\" : resolved ? \"ready\" : \"unresolved\");\n      setError(err);\n      for (const c of contexts.keys()) c.decrement();\n      contexts.clear();\n    }, false);\n  }\n  function read() {\n    const c = SuspenseContext && useContext(SuspenseContext),\n      v = value(),\n      err = error();\n    if (err !== undefined && !pr) throw err;\n    if (Listener && !Listener.user && c) {\n      createComputed(() => {\n        track();\n        if (pr) {\n          if (c.resolved && Transition && loadedUnderTransition) Transition.promises.add(pr);else if (!contexts.has(c)) {\n            c.increment();\n            contexts.add(c);\n          }\n        }\n      });\n    }\n    return v;\n  }\n  function load(refetching = true) {\n    if (refetching !== false && scheduled) return;\n    scheduled = false;\n    const lookup = dynamic ? dynamic() : source;\n    loadedUnderTransition = Transition && Transition.running;\n    if (lookup == null || lookup === false) {\n      loadEnd(pr, untrack(value));\n      return;\n    }\n    if (Transition && pr) Transition.promises.delete(pr);\n    const p = initP !== NO_INIT ? initP : untrack(() => fetcher(lookup, {\n      value: value(),\n      refetching\n    }));\n    if (!isPromise(p)) {\n      loadEnd(pr, p, undefined, lookup);\n      return p;\n    }\n    pr = p;\n    if (\"value\" in p) {\n      if (p.status === \"success\") loadEnd(pr, p.value, undefined, lookup);else loadEnd(pr, undefined, undefined, lookup);\n      return p;\n    }\n    scheduled = true;\n    queueMicrotask(() => scheduled = false);\n    runUpdates(() => {\n      setState(resolved ? \"refreshing\" : \"pending\");\n      trigger();\n    }, false);\n    return p.then(v => loadEnd(p, v, undefined, lookup), e => loadEnd(p, undefined, castError(e), lookup));\n  }\n  Object.defineProperties(read, {\n    state: {\n      get: () => state()\n    },\n    error: {\n      get: () => error()\n    },\n    loading: {\n      get() {\n        const s = state();\n        return s === \"pending\" || s === \"refreshing\";\n      }\n    },\n    latest: {\n      get() {\n        if (!resolved) return read();\n        const err = error();\n        if (err && !pr) throw err;\n        return value();\n      }\n    }\n  });\n  if (dynamic) createComputed(() => load(false));else load(false);\n  return [read, {\n    refetch: load,\n    mutate: setValue\n  }];\n}\nfunction createDeferred(source, options) {\n  let t,\n    timeout = options ? options.timeoutMs : undefined;\n  const node = createComputation(() => {\n    if (!t || !t.fn) t = requestCallback(() => setDeferred(() => node.value), timeout !== undefined ? {\n      timeout\n    } : undefined);\n    return source();\n  }, undefined, true);\n  const [deferred, setDeferred] = createSignal(Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value, options);\n  updateComputation(node);\n  setDeferred(() => Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value);\n  return deferred;\n}\nfunction createSelector(source, fn = equalFn, options) {\n  const subs = new Map();\n  const node = createComputation(p => {\n    const v = source();\n    for (const [key, val] of subs.entries()) if (fn(key, v) !== fn(key, p)) {\n      for (const c of val.values()) {\n        c.state = STALE;\n        if (c.pure) Updates.push(c);else Effects.push(c);\n      }\n    }\n    return v;\n  }, undefined, true, STALE);\n  updateComputation(node);\n  return key => {\n    const listener = Listener;\n    if (listener) {\n      let l;\n      if (l = subs.get(key)) l.add(listener);else subs.set(key, l = new Set([listener]));\n      onCleanup(() => {\n        l.delete(listener);\n        !l.size && subs.delete(key);\n      });\n    }\n    return fn(key, Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value);\n  };\n}\nfunction batch(fn) {\n  return runUpdates(fn, false);\n}\nfunction untrack(fn) {\n  if (Listener === null) return fn();\n  const listener = Listener;\n  Listener = null;\n  try {\n    return fn();\n  } finally {\n    Listener = listener;\n  }\n}\nfunction on(deps, fn, options) {\n  const isArray = Array.isArray(deps);\n  let prevInput;\n  let defer = options && options.defer;\n  return prevValue => {\n    let input;\n    if (isArray) {\n      input = Array(deps.length);\n      for (let i = 0; i < deps.length; i++) input[i] = deps[i]();\n    } else input = deps();\n    if (defer) {\n      defer = false;\n      return undefined;\n    }\n    const result = untrack(() => fn(input, prevInput, prevValue));\n    prevInput = input;\n    return result;\n  };\n}\nfunction onMount(fn) {\n  createEffect(() => untrack(fn));\n}\nfunction onCleanup(fn) {\n  if (Owner === null) ;else if (Owner.cleanups === null) Owner.cleanups = [fn];else Owner.cleanups.push(fn);\n  return fn;\n}\nfunction catchError(fn, handler) {\n  ERROR || (ERROR = Symbol(\"error\"));\n  Owner = createComputation(undefined, undefined, true);\n  Owner.context = {\n    ...Owner.context,\n    [ERROR]: [handler]\n  };\n  if (Transition && Transition.running) Transition.sources.add(Owner);\n  try {\n    return fn();\n  } catch (err) {\n    handleError(err);\n  } finally {\n    Owner = Owner.owner;\n  }\n}\nfunction getListener() {\n  return Listener;\n}\nfunction getOwner() {\n  return Owner;\n}\nfunction runWithOwner(o, fn) {\n  const prev = Owner;\n  const prevListener = Listener;\n  Owner = o;\n  Listener = null;\n  try {\n    return runUpdates(fn, true);\n  } catch (err) {\n    handleError(err);\n  } finally {\n    Owner = prev;\n    Listener = prevListener;\n  }\n}\nfunction enableScheduling(scheduler = requestCallback) {\n  Scheduler = scheduler;\n}\nfunction startTransition(fn) {\n  if (Transition && Transition.running) {\n    fn();\n    return Transition.done;\n  }\n  const l = Listener;\n  const o = Owner;\n  return Promise.resolve().then(() => {\n    Listener = l;\n    Owner = o;\n    let t;\n    if (Scheduler || SuspenseContext) {\n      t = Transition || (Transition = {\n        sources: new Set(),\n        effects: [],\n        promises: new Set(),\n        disposed: new Set(),\n        queue: new Set(),\n        running: true\n      });\n      t.done || (t.done = new Promise(res => t.resolve = res));\n      t.running = true;\n    }\n    runUpdates(fn, false);\n    Listener = Owner = null;\n    return t ? t.done : undefined;\n  });\n}\nfunction useTransition() {\n  return [transPending, startTransition];\n}\nfunction resumeEffects(e) {\n  Effects.push.apply(Effects, e);\n  e.length = 0;\n}\nfunction createContext(defaultValue, options) {\n  const id = Symbol(\"context\");\n  return {\n    id,\n    Provider: createProvider(id),\n    defaultValue\n  };\n}\nfunction useContext(context) {\n  return Owner && Owner.context && Owner.context[context.id] !== undefined ? Owner.context[context.id] : context.defaultValue;\n}\nfunction children(fn) {\n  const children = createMemo(fn);\n  const memo = createMemo(() => resolveChildren(children()));\n  memo.toArray = () => {\n    const c = memo();\n    return Array.isArray(c) ? c : c != null ? [c] : [];\n  };\n  return memo;\n}\nlet SuspenseContext;\nfunction getSuspenseContext() {\n  return SuspenseContext || (SuspenseContext = createContext());\n}\nfunction enableExternalSource(factory) {\n  if (ExternalSourceFactory) {\n    const oldFactory = ExternalSourceFactory;\n    ExternalSourceFactory = (fn, trigger) => {\n      const oldSource = oldFactory(fn, trigger);\n      const source = factory(x => oldSource.track(x), trigger);\n      return {\n        track: x => source.track(x),\n        dispose() {\n          source.dispose();\n          oldSource.dispose();\n        }\n      };\n    };\n  } else {\n    ExternalSourceFactory = factory;\n  }\n}\nfunction readSignal() {\n  const runningTransition = Transition && Transition.running;\n  if (this.sources && (runningTransition ? this.tState : this.state)) {\n    if ((runningTransition ? this.tState : this.state) === STALE) updateComputation(this);else {\n      const updates = Updates;\n      Updates = null;\n      runUpdates(() => lookUpstream(this), false);\n      Updates = updates;\n    }\n  }\n  if (Listener) {\n    const sSlot = this.observers ? this.observers.length : 0;\n    if (!Listener.sources) {\n      Listener.sources = [this];\n      Listener.sourceSlots = [sSlot];\n    } else {\n      Listener.sources.push(this);\n      Listener.sourceSlots.push(sSlot);\n    }\n    if (!this.observers) {\n      this.observers = [Listener];\n      this.observerSlots = [Listener.sources.length - 1];\n    } else {\n      this.observers.push(Listener);\n      this.observerSlots.push(Listener.sources.length - 1);\n    }\n  }\n  if (runningTransition && Transition.sources.has(this)) return this.tValue;\n  return this.value;\n}\nfunction writeSignal(node, value, isComp) {\n  let current = Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value;\n  if (!node.comparator || !node.comparator(current, value)) {\n    if (Transition) {\n      const TransitionRunning = Transition.running;\n      if (TransitionRunning || !isComp && Transition.sources.has(node)) {\n        Transition.sources.add(node);\n        node.tValue = value;\n      }\n      if (!TransitionRunning) node.value = value;\n    } else node.value = value;\n    if (node.observers && node.observers.length) {\n      runUpdates(() => {\n        for (let i = 0; i < node.observers.length; i += 1) {\n          const o = node.observers[i];\n          const TransitionRunning = Transition && Transition.running;\n          if (TransitionRunning && Transition.disposed.has(o)) continue;\n          if (TransitionRunning ? !o.tState : !o.state) {\n            if (o.pure) Updates.push(o);else Effects.push(o);\n            if (o.observers) markDownstream(o);\n          }\n          if (!TransitionRunning) o.state = STALE;else o.tState = STALE;\n        }\n        if (Updates.length > 10e5) {\n          Updates = [];\n          if (false) ;\n          throw new Error();\n        }\n      }, false);\n    }\n  }\n  return value;\n}\nfunction updateComputation(node) {\n  if (!node.fn) return;\n  cleanNode(node);\n  const owner = Owner,\n    listener = Listener,\n    time = ExecCount;\n  Listener = Owner = node;\n  runComputation(node, Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value, time);\n  if (Transition && !Transition.running && Transition.sources.has(node)) {\n    queueMicrotask(() => {\n      runUpdates(() => {\n        Transition && (Transition.running = true);\n        Listener = Owner = node;\n        runComputation(node, node.tValue, time);\n        Listener = Owner = null;\n      }, false);\n    });\n  }\n  Listener = listener;\n  Owner = owner;\n}\nfunction runComputation(node, value, time) {\n  let nextValue;\n  try {\n    nextValue = node.fn(value);\n  } catch (err) {\n    if (node.pure) {\n      if (Transition && Transition.running) {\n        node.tState = STALE;\n        node.tOwned && node.tOwned.forEach(cleanNode);\n        node.tOwned = undefined;\n      } else {\n        node.state = STALE;\n        node.owned && node.owned.forEach(cleanNode);\n        node.owned = null;\n      }\n    }\n    node.updatedAt = time + 1;\n    return handleError(err);\n  }\n  if (!node.updatedAt || node.updatedAt <= time) {\n    if (node.updatedAt != null && \"observers\" in node) {\n      writeSignal(node, nextValue, true);\n    } else if (Transition && Transition.running && node.pure) {\n      Transition.sources.add(node);\n      node.tValue = nextValue;\n    } else node.value = nextValue;\n    node.updatedAt = time;\n  }\n}\nfunction createComputation(fn, init, pure, state = STALE, options) {\n  const c = {\n    fn,\n    state: state,\n    updatedAt: null,\n    owned: null,\n    sources: null,\n    sourceSlots: null,\n    cleanups: null,\n    value: init,\n    owner: Owner,\n    context: Owner ? Owner.context : null,\n    pure\n  };\n  if (Transition && Transition.running) {\n    c.state = 0;\n    c.tState = state;\n  }\n  if (Owner === null) ;else if (Owner !== UNOWNED) {\n    if (Transition && Transition.running && Owner.pure) {\n      if (!Owner.tOwned) Owner.tOwned = [c];else Owner.tOwned.push(c);\n    } else {\n      if (!Owner.owned) Owner.owned = [c];else Owner.owned.push(c);\n    }\n  }\n  if (ExternalSourceFactory) {\n    const [track, trigger] = createSignal(undefined, {\n      equals: false\n    });\n    const ordinary = ExternalSourceFactory(c.fn, trigger);\n    onCleanup(() => ordinary.dispose());\n    const triggerInTransition = () => startTransition(trigger).then(() => inTransition.dispose());\n    const inTransition = ExternalSourceFactory(c.fn, triggerInTransition);\n    c.fn = x => {\n      track();\n      return Transition && Transition.running ? inTransition.track(x) : ordinary.track(x);\n    };\n  }\n  return c;\n}\nfunction runTop(node) {\n  const runningTransition = Transition && Transition.running;\n  if ((runningTransition ? node.tState : node.state) === 0) return;\n  if ((runningTransition ? node.tState : node.state) === PENDING) return lookUpstream(node);\n  if (node.suspense && untrack(node.suspense.inFallback)) return node.suspense.effects.push(node);\n  const ancestors = [node];\n  while ((node = node.owner) && (!node.updatedAt || node.updatedAt < ExecCount)) {\n    if (runningTransition && Transition.disposed.has(node)) return;\n    if (runningTransition ? node.tState : node.state) ancestors.push(node);\n  }\n  for (let i = ancestors.length - 1; i >= 0; i--) {\n    node = ancestors[i];\n    if (runningTransition) {\n      let top = node,\n        prev = ancestors[i + 1];\n      while ((top = top.owner) && top !== prev) {\n        if (Transition.disposed.has(top)) return;\n      }\n    }\n    if ((runningTransition ? node.tState : node.state) === STALE) {\n      updateComputation(node);\n    } else if ((runningTransition ? node.tState : node.state) === PENDING) {\n      const updates = Updates;\n      Updates = null;\n      runUpdates(() => lookUpstream(node, ancestors[0]), false);\n      Updates = updates;\n    }\n  }\n}\nfunction runUpdates(fn, init) {\n  if (Updates) return fn();\n  let wait = false;\n  if (!init) Updates = [];\n  if (Effects) wait = true;else Effects = [];\n  ExecCount++;\n  try {\n    const res = fn();\n    completeUpdates(wait);\n    return res;\n  } catch (err) {\n    if (!wait) Effects = null;\n    Updates = null;\n    handleError(err);\n  }\n}\nfunction completeUpdates(wait) {\n  if (Updates) {\n    if (Scheduler && Transition && Transition.running) scheduleQueue(Updates);else runQueue(Updates);\n    Updates = null;\n  }\n  if (wait) return;\n  let res;\n  if (Transition) {\n    if (!Transition.promises.size && !Transition.queue.size) {\n      const sources = Transition.sources;\n      const disposed = Transition.disposed;\n      Effects.push.apply(Effects, Transition.effects);\n      res = Transition.resolve;\n      for (const e of Effects) {\n        \"tState\" in e && (e.state = e.tState);\n        delete e.tState;\n      }\n      Transition = null;\n      runUpdates(() => {\n        for (const d of disposed) cleanNode(d);\n        for (const v of sources) {\n          v.value = v.tValue;\n          if (v.owned) {\n            for (let i = 0, len = v.owned.length; i < len; i++) cleanNode(v.owned[i]);\n          }\n          if (v.tOwned) v.owned = v.tOwned;\n          delete v.tValue;\n          delete v.tOwned;\n          v.tState = 0;\n        }\n        setTransPending(false);\n      }, false);\n    } else if (Transition.running) {\n      Transition.running = false;\n      Transition.effects.push.apply(Transition.effects, Effects);\n      Effects = null;\n      setTransPending(true);\n      return;\n    }\n  }\n  const e = Effects;\n  Effects = null;\n  if (e.length) runUpdates(() => runEffects(e), false);\n  if (res) res();\n}\nfunction runQueue(queue) {\n  for (let i = 0; i < queue.length; i++) runTop(queue[i]);\n}\nfunction scheduleQueue(queue) {\n  for (let i = 0; i < queue.length; i++) {\n    const item = queue[i];\n    const tasks = Transition.queue;\n    if (!tasks.has(item)) {\n      tasks.add(item);\n      Scheduler(() => {\n        tasks.delete(item);\n        runUpdates(() => {\n          Transition.running = true;\n          runTop(item);\n        }, false);\n        Transition && (Transition.running = false);\n      });\n    }\n  }\n}\nfunction runUserEffects(queue) {\n  let i,\n    userLength = 0;\n  for (i = 0; i < queue.length; i++) {\n    const e = queue[i];\n    if (!e.user) runTop(e);else queue[userLength++] = e;\n  }\n  if (sharedConfig.context) {\n    if (sharedConfig.count) {\n      sharedConfig.effects || (sharedConfig.effects = []);\n      sharedConfig.effects.push(...queue.slice(0, userLength));\n      return;\n    } else if (sharedConfig.effects) {\n      queue = [...sharedConfig.effects, ...queue];\n      userLength += sharedConfig.effects.length;\n      delete sharedConfig.effects;\n    }\n    setHydrateContext();\n  }\n  for (i = 0; i < userLength; i++) runTop(queue[i]);\n}\nfunction lookUpstream(node, ignore) {\n  const runningTransition = Transition && Transition.running;\n  if (runningTransition) node.tState = 0;else node.state = 0;\n  for (let i = 0; i < node.sources.length; i += 1) {\n    const source = node.sources[i];\n    if (source.sources) {\n      const state = runningTransition ? source.tState : source.state;\n      if (state === STALE) {\n        if (source !== ignore && (!source.updatedAt || source.updatedAt < ExecCount)) runTop(source);\n      } else if (state === PENDING) lookUpstream(source, ignore);\n    }\n  }\n}\nfunction markDownstream(node) {\n  const runningTransition = Transition && Transition.running;\n  for (let i = 0; i < node.observers.length; i += 1) {\n    const o = node.observers[i];\n    if (runningTransition ? !o.tState : !o.state) {\n      if (runningTransition) o.tState = PENDING;else o.state = PENDING;\n      if (o.pure) Updates.push(o);else Effects.push(o);\n      o.observers && markDownstream(o);\n    }\n  }\n}\nfunction cleanNode(node) {\n  let i;\n  if (node.sources) {\n    while (node.sources.length) {\n      const source = node.sources.pop(),\n        index = node.sourceSlots.pop(),\n        obs = source.observers;\n      if (obs && obs.length) {\n        const n = obs.pop(),\n          s = source.observerSlots.pop();\n        if (index < obs.length) {\n          n.sourceSlots[s] = index;\n          obs[index] = n;\n          source.observerSlots[index] = s;\n        }\n      }\n    }\n  }\n  if (Transition && Transition.running && node.pure) {\n    if (node.tOwned) {\n      for (i = node.tOwned.length - 1; i >= 0; i--) cleanNode(node.tOwned[i]);\n      delete node.tOwned;\n    }\n    reset(node, true);\n  } else if (node.owned) {\n    for (i = node.owned.length - 1; i >= 0; i--) cleanNode(node.owned[i]);\n    node.owned = null;\n  }\n  if (node.cleanups) {\n    for (i = node.cleanups.length - 1; i >= 0; i--) node.cleanups[i]();\n    node.cleanups = null;\n  }\n  if (Transition && Transition.running) node.tState = 0;else node.state = 0;\n}\nfunction reset(node, top) {\n  if (!top) {\n    node.tState = 0;\n    Transition.disposed.add(node);\n  }\n  if (node.owned) {\n    for (let i = 0; i < node.owned.length; i++) reset(node.owned[i]);\n  }\n}\nfunction castError(err) {\n  if (err instanceof Error) return err;\n  return new Error(typeof err === \"string\" ? err : \"Unknown error\", {\n    cause: err\n  });\n}\nfunction runErrors(err, fns, owner) {\n  try {\n    for (const f of fns) f(err);\n  } catch (e) {\n    handleError(e, owner && owner.owner || null);\n  }\n}\nfunction handleError(err, owner = Owner) {\n  const fns = ERROR && owner && owner.context && owner.context[ERROR];\n  const error = castError(err);\n  if (!fns) throw error;\n  if (Effects) Effects.push({\n    fn() {\n      runErrors(error, fns, owner);\n    },\n    state: STALE\n  });else runErrors(error, fns, owner);\n}\nfunction resolveChildren(children) {\n  if (typeof children === \"function\" && !children.length) return resolveChildren(children());\n  if (Array.isArray(children)) {\n    const results = [];\n    for (let i = 0; i < children.length; i++) {\n      const result = resolveChildren(children[i]);\n      Array.isArray(result) ? results.push.apply(results, result) : results.push(result);\n    }\n    return results;\n  }\n  return children;\n}\nfunction createProvider(id, options) {\n  return function provider(props) {\n    let res;\n    createRenderEffect(() => res = untrack(() => {\n      Owner.context = {\n        ...Owner.context,\n        [id]: props.value\n      };\n      return children(() => props.children);\n    }), undefined);\n    return res;\n  };\n}\nfunction onError(fn) {\n  ERROR || (ERROR = Symbol(\"error\"));\n  if (Owner === null) ;else if (Owner.context === null || !Owner.context[ERROR]) {\n    Owner.context = {\n      ...Owner.context,\n      [ERROR]: [fn]\n    };\n    mutateContext(Owner, ERROR, [fn]);\n  } else Owner.context[ERROR].push(fn);\n}\nfunction mutateContext(o, key, value) {\n  if (o.owned) {\n    for (let i = 0; i < o.owned.length; i++) {\n      if (o.owned[i].context === o.context) mutateContext(o.owned[i], key, value);\n      if (!o.owned[i].context) {\n        o.owned[i].context = o.context;\n        mutateContext(o.owned[i], key, value);\n      } else if (!o.owned[i].context[key]) {\n        o.owned[i].context[key] = value;\n        mutateContext(o.owned[i], key, value);\n      }\n    }\n  }\n}\n\nfunction observable(input) {\n  return {\n    subscribe(observer) {\n      if (!(observer instanceof Object) || observer == null) {\n        throw new TypeError(\"Expected the observer to be an object.\");\n      }\n      const handler = typeof observer === \"function\" ? observer : observer.next && observer.next.bind(observer);\n      if (!handler) {\n        return {\n          unsubscribe() {}\n        };\n      }\n      const dispose = createRoot(disposer => {\n        createEffect(() => {\n          const v = input();\n          untrack(() => handler(v));\n        });\n        return disposer;\n      });\n      if (getOwner()) onCleanup(dispose);\n      return {\n        unsubscribe() {\n          dispose();\n        }\n      };\n    },\n    [Symbol.observable || \"@@observable\"]() {\n      return this;\n    }\n  };\n}\nfunction from(producer) {\n  const [s, set] = createSignal(undefined, {\n    equals: false\n  });\n  if (\"subscribe\" in producer) {\n    const unsub = producer.subscribe(v => set(() => v));\n    onCleanup(() => \"unsubscribe\" in unsub ? unsub.unsubscribe() : unsub());\n  } else {\n    const clean = producer(set);\n    onCleanup(clean);\n  }\n  return s;\n}\n\nconst FALLBACK = Symbol(\"fallback\");\nfunction dispose(d) {\n  for (let i = 0; i < d.length; i++) d[i]();\n}\nfunction mapArray(list, mapFn, options = {}) {\n  let items = [],\n    mapped = [],\n    disposers = [],\n    len = 0,\n    indexes = mapFn.length > 1 ? [] : null;\n  onCleanup(() => dispose(disposers));\n  return () => {\n    let newItems = list() || [],\n      i,\n      j;\n    newItems[$TRACK];\n    return untrack(() => {\n      let newLen = newItems.length,\n        newIndices,\n        newIndicesNext,\n        temp,\n        tempdisposers,\n        tempIndexes,\n        start,\n        end,\n        newEnd,\n        item;\n      if (newLen === 0) {\n        if (len !== 0) {\n          dispose(disposers);\n          disposers = [];\n          items = [];\n          mapped = [];\n          len = 0;\n          indexes && (indexes = []);\n        }\n        if (options.fallback) {\n          items = [FALLBACK];\n          mapped[0] = createRoot(disposer => {\n            disposers[0] = disposer;\n            return options.fallback();\n          });\n          len = 1;\n        }\n      }\n      else if (len === 0) {\n        mapped = new Array(newLen);\n        for (j = 0; j < newLen; j++) {\n          items[j] = newItems[j];\n          mapped[j] = createRoot(mapper);\n        }\n        len = newLen;\n      } else {\n        temp = new Array(newLen);\n        tempdisposers = new Array(newLen);\n        indexes && (tempIndexes = new Array(newLen));\n        for (start = 0, end = Math.min(len, newLen); start < end && items[start] === newItems[start]; start++);\n        for (end = len - 1, newEnd = newLen - 1; end >= start && newEnd >= start && items[end] === newItems[newEnd]; end--, newEnd--) {\n          temp[newEnd] = mapped[end];\n          tempdisposers[newEnd] = disposers[end];\n          indexes && (tempIndexes[newEnd] = indexes[end]);\n        }\n        newIndices = new Map();\n        newIndicesNext = new Array(newEnd + 1);\n        for (j = newEnd; j >= start; j--) {\n          item = newItems[j];\n          i = newIndices.get(item);\n          newIndicesNext[j] = i === undefined ? -1 : i;\n          newIndices.set(item, j);\n        }\n        for (i = start; i <= end; i++) {\n          item = items[i];\n          j = newIndices.get(item);\n          if (j !== undefined && j !== -1) {\n            temp[j] = mapped[i];\n            tempdisposers[j] = disposers[i];\n            indexes && (tempIndexes[j] = indexes[i]);\n            j = newIndicesNext[j];\n            newIndices.set(item, j);\n          } else disposers[i]();\n        }\n        for (j = start; j < newLen; j++) {\n          if (j in temp) {\n            mapped[j] = temp[j];\n            disposers[j] = tempdisposers[j];\n            if (indexes) {\n              indexes[j] = tempIndexes[j];\n              indexes[j](j);\n            }\n          } else mapped[j] = createRoot(mapper);\n        }\n        mapped = mapped.slice(0, len = newLen);\n        items = newItems.slice(0);\n      }\n      return mapped;\n    });\n    function mapper(disposer) {\n      disposers[j] = disposer;\n      if (indexes) {\n        const [s, set] = createSignal(j);\n        indexes[j] = set;\n        return mapFn(newItems[j], s);\n      }\n      return mapFn(newItems[j]);\n    }\n  };\n}\nfunction indexArray(list, mapFn, options = {}) {\n  let items = [],\n    mapped = [],\n    disposers = [],\n    signals = [],\n    len = 0,\n    i;\n  onCleanup(() => dispose(disposers));\n  return () => {\n    const newItems = list() || [];\n    newItems[$TRACK];\n    return untrack(() => {\n      if (newItems.length === 0) {\n        if (len !== 0) {\n          dispose(disposers);\n          disposers = [];\n          items = [];\n          mapped = [];\n          len = 0;\n          signals = [];\n        }\n        if (options.fallback) {\n          items = [FALLBACK];\n          mapped[0] = createRoot(disposer => {\n            disposers[0] = disposer;\n            return options.fallback();\n          });\n          len = 1;\n        }\n        return mapped;\n      }\n      if (items[0] === FALLBACK) {\n        disposers[0]();\n        disposers = [];\n        items = [];\n        mapped = [];\n        len = 0;\n      }\n      for (i = 0; i < newItems.length; i++) {\n        if (i < items.length && items[i] !== newItems[i]) {\n          signals[i](() => newItems[i]);\n        } else if (i >= items.length) {\n          mapped[i] = createRoot(mapper);\n        }\n      }\n      for (; i < items.length; i++) {\n        disposers[i]();\n      }\n      len = signals.length = disposers.length = newItems.length;\n      items = newItems.slice(0);\n      return mapped = mapped.slice(0, len);\n    });\n    function mapper(disposer) {\n      disposers[i] = disposer;\n      const [s, set] = createSignal(newItems[i]);\n      signals[i] = set;\n      return mapFn(s, i);\n    }\n  };\n}\n\nlet hydrationEnabled = false;\nfunction enableHydration() {\n  hydrationEnabled = true;\n}\nfunction createComponent(Comp, props) {\n  if (hydrationEnabled) {\n    if (sharedConfig.context) {\n      const c = sharedConfig.context;\n      setHydrateContext(nextHydrateContext());\n      const r = untrack(() => Comp(props || {}));\n      setHydrateContext(c);\n      return r;\n    }\n  }\n  return untrack(() => Comp(props || {}));\n}\nfunction trueFn() {\n  return true;\n}\nconst propTraps = {\n  get(_, property, receiver) {\n    if (property === $PROXY) return receiver;\n    return _.get(property);\n  },\n  has(_, property) {\n    if (property === $PROXY) return true;\n    return _.has(property);\n  },\n  set: trueFn,\n  deleteProperty: trueFn,\n  getOwnPropertyDescriptor(_, property) {\n    return {\n      configurable: true,\n      enumerable: true,\n      get() {\n        return _.get(property);\n      },\n      set: trueFn,\n      deleteProperty: trueFn\n    };\n  },\n  ownKeys(_) {\n    return _.keys();\n  }\n};\nfunction resolveSource(s) {\n  return !(s = typeof s === \"function\" ? s() : s) ? {} : s;\n}\nfunction resolveSources() {\n  for (let i = 0, length = this.length; i < length; ++i) {\n    const v = this[i]();\n    if (v !== undefined) return v;\n  }\n}\nfunction mergeProps(...sources) {\n  let proxy = false;\n  for (let i = 0; i < sources.length; i++) {\n    const s = sources[i];\n    proxy = proxy || !!s && $PROXY in s;\n    sources[i] = typeof s === \"function\" ? (proxy = true, createMemo(s)) : s;\n  }\n  if (proxy) {\n    return new Proxy({\n      get(property) {\n        for (let i = sources.length - 1; i >= 0; i--) {\n          const v = resolveSource(sources[i])[property];\n          if (v !== undefined) return v;\n        }\n      },\n      has(property) {\n        for (let i = sources.length - 1; i >= 0; i--) {\n          if (property in resolveSource(sources[i])) return true;\n        }\n        return false;\n      },\n      keys() {\n        const keys = [];\n        for (let i = 0; i < sources.length; i++) keys.push(...Object.keys(resolveSource(sources[i])));\n        return [...new Set(keys)];\n      }\n    }, propTraps);\n  }\n  const target = {};\n  const sourcesMap = {};\n  const defined = new Set();\n  for (let i = sources.length - 1; i >= 0; i--) {\n    const source = sources[i];\n    if (!source) continue;\n    const sourceKeys = Object.getOwnPropertyNames(source);\n    for (let i = 0, length = sourceKeys.length; i < length; i++) {\n      const key = sourceKeys[i];\n      if (key === \"__proto__\" || key === \"constructor\") continue;\n      const desc = Object.getOwnPropertyDescriptor(source, key);\n      if (!defined.has(key)) {\n        if (desc.get) {\n          defined.add(key);\n          Object.defineProperty(target, key, {\n            enumerable: true,\n            configurable: true,\n            get: resolveSources.bind(sourcesMap[key] = [desc.get.bind(source)])\n          });\n        } else {\n          if (desc.value !== undefined) defined.add(key);\n          target[key] = desc.value;\n        }\n      } else {\n        const sources = sourcesMap[key];\n        if (sources) {\n          if (desc.get) {\n            sources.push(desc.get.bind(source));\n          } else if (desc.value !== undefined) {\n            sources.push(() => desc.value);\n          }\n        } else if (target[key] === undefined) target[key] = desc.value;\n      }\n    }\n  }\n  return target;\n}\nfunction splitProps(props, ...keys) {\n  if ($PROXY in props) {\n    const blocked = new Set(keys.length > 1 ? keys.flat() : keys[0]);\n    const res = keys.map(k => {\n      return new Proxy({\n        get(property) {\n          return k.includes(property) ? props[property] : undefined;\n        },\n        has(property) {\n          return k.includes(property) && property in props;\n        },\n        keys() {\n          return k.filter(property => property in props);\n        }\n      }, propTraps);\n    });\n    res.push(new Proxy({\n      get(property) {\n        return blocked.has(property) ? undefined : props[property];\n      },\n      has(property) {\n        return blocked.has(property) ? false : property in props;\n      },\n      keys() {\n        return Object.keys(props).filter(k => !blocked.has(k));\n      }\n    }, propTraps));\n    return res;\n  }\n  const otherObject = {};\n  const objects = keys.map(() => ({}));\n  for (const propName of Object.getOwnPropertyNames(props)) {\n    const desc = Object.getOwnPropertyDescriptor(props, propName);\n    const isDefaultDesc = !desc.get && !desc.set && desc.enumerable && desc.writable && desc.configurable;\n    let blocked = false;\n    let objectIndex = 0;\n    for (const k of keys) {\n      if (k.includes(propName)) {\n        blocked = true;\n        isDefaultDesc ? objects[objectIndex][propName] = desc.value : Object.defineProperty(objects[objectIndex], propName, desc);\n      }\n      ++objectIndex;\n    }\n    if (!blocked) {\n      isDefaultDesc ? otherObject[propName] = desc.value : Object.defineProperty(otherObject, propName, desc);\n    }\n  }\n  return [...objects, otherObject];\n}\nfunction lazy(fn) {\n  let comp;\n  let p;\n  const wrap = props => {\n    const ctx = sharedConfig.context;\n    if (ctx) {\n      const [s, set] = createSignal();\n      sharedConfig.count || (sharedConfig.count = 0);\n      sharedConfig.count++;\n      (p || (p = fn())).then(mod => {\n        setHydrateContext(ctx);\n        sharedConfig.count--;\n        set(() => mod.default);\n        setHydrateContext();\n      });\n      comp = s;\n    } else if (!comp) {\n      const [s] = createResource(() => (p || (p = fn())).then(mod => mod.default));\n      comp = s;\n    }\n    let Comp;\n    return createMemo(() => (Comp = comp()) && untrack(() => {\n      if (false) ;\n      if (!ctx) return Comp(props);\n      const c = sharedConfig.context;\n      setHydrateContext(ctx);\n      const r = Comp(props);\n      setHydrateContext(c);\n      return r;\n    }));\n  };\n  wrap.preload = () => p || ((p = fn()).then(mod => comp = () => mod.default), p);\n  return wrap;\n}\nlet counter = 0;\nfunction createUniqueId() {\n  const ctx = sharedConfig.context;\n  return ctx ? `${ctx.id}${ctx.count++}` : `cl-${counter++}`;\n}\n\nconst narrowedError = name => `Stale read from <${name}>.`;\nfunction For(props) {\n  const fallback = \"fallback\" in props && {\n    fallback: () => props.fallback\n  };\n  return createMemo(mapArray(() => props.each, props.children, fallback || undefined));\n}\nfunction Index(props) {\n  const fallback = \"fallback\" in props && {\n    fallback: () => props.fallback\n  };\n  return createMemo(indexArray(() => props.each, props.children, fallback || undefined));\n}\nfunction Show(props) {\n  const keyed = props.keyed;\n  const condition = createMemo(() => props.when, undefined, {\n    equals: (a, b) => keyed ? a === b : !a === !b\n  });\n  return createMemo(() => {\n    const c = condition();\n    if (c) {\n      const child = props.children;\n      const fn = typeof child === \"function\" && child.length > 0;\n      return fn ? untrack(() => child(keyed ? c : () => {\n        if (!untrack(condition)) throw narrowedError(\"Show\");\n        return props.when;\n      })) : child;\n    }\n    return props.fallback;\n  }, undefined, undefined);\n}\nfunction Switch(props) {\n  let keyed = false;\n  const equals = (a, b) => a[0] === b[0] && (keyed ? a[1] === b[1] : !a[1] === !b[1]) && a[2] === b[2];\n  const conditions = children(() => props.children),\n    evalConditions = createMemo(() => {\n      let conds = conditions();\n      if (!Array.isArray(conds)) conds = [conds];\n      for (let i = 0; i < conds.length; i++) {\n        const c = conds[i].when;\n        if (c) {\n          keyed = !!conds[i].keyed;\n          return [i, c, conds[i]];\n        }\n      }\n      return [-1];\n    }, undefined, {\n      equals\n    });\n  return createMemo(() => {\n    const [index, when, cond] = evalConditions();\n    if (index < 0) return props.fallback;\n    const c = cond.children;\n    const fn = typeof c === \"function\" && c.length > 0;\n    return fn ? untrack(() => c(keyed ? when : () => {\n      if (untrack(evalConditions)[0] !== index) throw narrowedError(\"Match\");\n      return cond.when;\n    })) : c;\n  }, undefined, undefined);\n}\nfunction Match(props) {\n  return props;\n}\nlet Errors;\nfunction resetErrorBoundaries() {\n  Errors && [...Errors].forEach(fn => fn());\n}\nfunction ErrorBoundary(props) {\n  let err;\n  if (sharedConfig.context && sharedConfig.load) err = sharedConfig.load(sharedConfig.context.id + sharedConfig.context.count);\n  const [errored, setErrored] = createSignal(err, undefined);\n  Errors || (Errors = new Set());\n  Errors.add(setErrored);\n  onCleanup(() => Errors.delete(setErrored));\n  return createMemo(() => {\n    let e;\n    if (e = errored()) {\n      const f = props.fallback;\n      return typeof f === \"function\" && f.length ? untrack(() => f(e, () => setErrored())) : f;\n    }\n    return catchError(() => props.children, setErrored);\n  }, undefined, undefined);\n}\n\nconst suspenseListEquals = (a, b) => a.showContent === b.showContent && a.showFallback === b.showFallback;\nconst SuspenseListContext = createContext();\nfunction SuspenseList(props) {\n  let [wrapper, setWrapper] = createSignal(() => ({\n      inFallback: false\n    })),\n    show;\n  const listContext = useContext(SuspenseListContext);\n  const [registry, setRegistry] = createSignal([]);\n  if (listContext) {\n    show = listContext.register(createMemo(() => wrapper()().inFallback));\n  }\n  const resolved = createMemo(prev => {\n    const reveal = props.revealOrder,\n      tail = props.tail,\n      {\n        showContent = true,\n        showFallback = true\n      } = show ? show() : {},\n      reg = registry(),\n      reverse = reveal === \"backwards\";\n    if (reveal === \"together\") {\n      const all = reg.every(inFallback => !inFallback());\n      const res = reg.map(() => ({\n        showContent: all && showContent,\n        showFallback\n      }));\n      res.inFallback = !all;\n      return res;\n    }\n    let stop = false;\n    let inFallback = prev.inFallback;\n    const res = [];\n    for (let i = 0, len = reg.length; i < len; i++) {\n      const n = reverse ? len - i - 1 : i,\n        s = reg[n]();\n      if (!stop && !s) {\n        res[n] = {\n          showContent,\n          showFallback\n        };\n      } else {\n        const next = !stop;\n        if (next) inFallback = true;\n        res[n] = {\n          showContent: next,\n          showFallback: !tail || next && tail === \"collapsed\" ? showFallback : false\n        };\n        stop = true;\n      }\n    }\n    if (!stop) inFallback = false;\n    res.inFallback = inFallback;\n    return res;\n  }, {\n    inFallback: false\n  });\n  setWrapper(() => resolved);\n  return createComponent(SuspenseListContext.Provider, {\n    value: {\n      register: inFallback => {\n        let index;\n        setRegistry(registry => {\n          index = registry.length;\n          return [...registry, inFallback];\n        });\n        return createMemo(() => resolved()[index], undefined, {\n          equals: suspenseListEquals\n        });\n      }\n    },\n    get children() {\n      return props.children;\n    }\n  });\n}\nfunction Suspense(props) {\n  let counter = 0,\n    show,\n    ctx,\n    p,\n    flicker,\n    error;\n  const [inFallback, setFallback] = createSignal(false),\n    SuspenseContext = getSuspenseContext(),\n    store = {\n      increment: () => {\n        if (++counter === 1) setFallback(true);\n      },\n      decrement: () => {\n        if (--counter === 0) setFallback(false);\n      },\n      inFallback,\n      effects: [],\n      resolved: false\n    },\n    owner = getOwner();\n  if (sharedConfig.context && sharedConfig.load) {\n    const key = sharedConfig.context.id + sharedConfig.context.count;\n    let ref = sharedConfig.load(key);\n    if (ref && (typeof ref !== \"object\" || ref.status !== \"success\")) p = ref;\n    if (p && p !== \"$$f\") {\n      const [s, set] = createSignal(undefined, {\n        equals: false\n      });\n      flicker = s;\n      p.then(() => {\n        sharedConfig.gather(key);\n        setHydrateContext(ctx);\n        set();\n        setHydrateContext();\n      }).catch(err => {\n        if (err || sharedConfig.done) {\n          err && (error = err);\n          return set();\n        }\n      });\n    }\n  }\n  const listContext = useContext(SuspenseListContext);\n  if (listContext) show = listContext.register(store.inFallback);\n  let dispose;\n  onCleanup(() => dispose && dispose());\n  return createComponent(SuspenseContext.Provider, {\n    value: store,\n    get children() {\n      return createMemo(() => {\n        if (error) throw error;\n        ctx = sharedConfig.context;\n        if (flicker) {\n          flicker();\n          return flicker = undefined;\n        }\n        if (ctx && p === \"$$f\") setHydrateContext();\n        const rendered = createMemo(() => props.children);\n        return createMemo(prev => {\n          const inFallback = store.inFallback(),\n            {\n              showContent = true,\n              showFallback = true\n            } = show ? show() : {};\n          if ((!inFallback || p && p !== \"$$f\") && showContent) {\n            store.resolved = true;\n            dispose && dispose();\n            dispose = ctx = p = undefined;\n            resumeEffects(store.effects);\n            return rendered();\n          }\n          if (!showFallback) return;\n          if (dispose) return prev;\n          return createRoot(disposer => {\n            dispose = disposer;\n            if (ctx) {\n              setHydrateContext({\n                id: ctx.id + \"f\",\n                count: 0\n              });\n              ctx = undefined;\n            }\n            return props.fallback;\n          }, owner);\n        });\n      });\n    }\n  });\n}\n\nconst DEV = undefined;\n\nexport { $DEVCOMP, $PROXY, $TRACK, DEV, ErrorBoundary, For, Index, Match, Show, Suspense, SuspenseList, Switch, batch, cancelCallback, catchError, children, createComponent, createComputed, createContext, createDeferred, createEffect, createMemo, createReaction, createRenderEffect, createResource, createRoot, createSelector, createSignal, createUniqueId, enableExternalSource, enableHydration, enableScheduling, equalFn, from, getListener, getOwner, indexArray, lazy, mapArray, mergeProps, observable, on, onCleanup, onError, onMount, requestCallback, resetErrorBoundaries, runWithOwner, sharedConfig, splitProps, startTransition, untrack, useContext, useTransition };\n","import { createRoot, sharedConfig, createRenderEffect, untrack, enableHydration, getOwner, createEffect, runWithOwner, createMemo, createSignal, onCleanup, splitProps } from 'solid-js';\nexport { ErrorBoundary, For, Index, Match, Show, Suspense, SuspenseList, Switch, createComponent, createRenderEffect as effect, getOwner, createMemo as memo, mergeProps, untrack } from 'solid-js';\n\nconst booleans = [\"allowfullscreen\", \"async\", \"autofocus\", \"autoplay\", \"checked\", \"controls\", \"default\", \"disabled\", \"formnovalidate\", \"hidden\", \"indeterminate\", \"ismap\", \"loop\", \"multiple\", \"muted\", \"nomodule\", \"novalidate\", \"open\", \"playsinline\", \"readonly\", \"required\", \"reversed\", \"seamless\", \"selected\"];\nconst Properties = /*#__PURE__*/new Set([\"className\", \"value\", \"readOnly\", \"formNoValidate\", \"isMap\", \"noModule\", \"playsInline\", ...booleans]);\nconst ChildProperties = /*#__PURE__*/new Set([\"innerHTML\", \"textContent\", \"innerText\", \"children\"]);\nconst Aliases = /*#__PURE__*/Object.assign(Object.create(null), {\n  className: \"class\",\n  htmlFor: \"for\"\n});\nconst PropAliases = /*#__PURE__*/Object.assign(Object.create(null), {\n  class: \"className\",\n  formnovalidate: {\n    $: \"formNoValidate\",\n    BUTTON: 1,\n    INPUT: 1\n  },\n  ismap: {\n    $: \"isMap\",\n    IMG: 1\n  },\n  nomodule: {\n    $: \"noModule\",\n    SCRIPT: 1\n  },\n  playsinline: {\n    $: \"playsInline\",\n    VIDEO: 1\n  },\n  readonly: {\n    $: \"readOnly\",\n    INPUT: 1,\n    TEXTAREA: 1\n  }\n});\nfunction getPropAlias(prop, tagName) {\n  const a = PropAliases[prop];\n  return typeof a === \"object\" ? a[tagName] ? a[\"$\"] : undefined : a;\n}\nconst DelegatedEvents = /*#__PURE__*/new Set([\"beforeinput\", \"click\", \"dblclick\", \"contextmenu\", \"focusin\", \"focusout\", \"input\", \"keydown\", \"keyup\", \"mousedown\", \"mousemove\", \"mouseout\", \"mouseover\", \"mouseup\", \"pointerdown\", \"pointermove\", \"pointerout\", \"pointerover\", \"pointerup\", \"touchend\", \"touchmove\", \"touchstart\"]);\nconst SVGElements = /*#__PURE__*/new Set([\n\"altGlyph\", \"altGlyphDef\", \"altGlyphItem\", \"animate\", \"animateColor\", \"animateMotion\", \"animateTransform\", \"circle\", \"clipPath\", \"color-profile\", \"cursor\", \"defs\", \"desc\", \"ellipse\", \"feBlend\", \"feColorMatrix\", \"feComponentTransfer\", \"feComposite\", \"feConvolveMatrix\", \"feDiffuseLighting\", \"feDisplacementMap\", \"feDistantLight\", \"feFlood\", \"feFuncA\", \"feFuncB\", \"feFuncG\", \"feFuncR\", \"feGaussianBlur\", \"feImage\", \"feMerge\", \"feMergeNode\", \"feMorphology\", \"feOffset\", \"fePointLight\", \"feSpecularLighting\", \"feSpotLight\", \"feTile\", \"feTurbulence\", \"filter\", \"font\", \"font-face\", \"font-face-format\", \"font-face-name\", \"font-face-src\", \"font-face-uri\", \"foreignObject\", \"g\", \"glyph\", \"glyphRef\", \"hkern\", \"image\", \"line\", \"linearGradient\", \"marker\", \"mask\", \"metadata\", \"missing-glyph\", \"mpath\", \"path\", \"pattern\", \"polygon\", \"polyline\", \"radialGradient\", \"rect\",\n\"set\", \"stop\",\n\"svg\", \"switch\", \"symbol\", \"text\", \"textPath\",\n\"tref\", \"tspan\", \"use\", \"view\", \"vkern\"]);\nconst SVGNamespace = {\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\"\n};\nconst DOMElements = /*#__PURE__*/new Set([\"html\", \"base\", \"head\", \"link\", \"meta\", \"style\", \"title\", \"body\", \"address\", \"article\", \"aside\", \"footer\", \"header\", \"main\", \"nav\", \"section\", \"body\", \"blockquote\", \"dd\", \"div\", \"dl\", \"dt\", \"figcaption\", \"figure\", \"hr\", \"li\", \"ol\", \"p\", \"pre\", \"ul\", \"a\", \"abbr\", \"b\", \"bdi\", \"bdo\", \"br\", \"cite\", \"code\", \"data\", \"dfn\", \"em\", \"i\", \"kbd\", \"mark\", \"q\", \"rp\", \"rt\", \"ruby\", \"s\", \"samp\", \"small\", \"span\", \"strong\", \"sub\", \"sup\", \"time\", \"u\", \"var\", \"wbr\", \"area\", \"audio\", \"img\", \"map\", \"track\", \"video\", \"embed\", \"iframe\", \"object\", \"param\", \"picture\", \"portal\", \"source\", \"svg\", \"math\", \"canvas\", \"noscript\", \"script\", \"del\", \"ins\", \"caption\", \"col\", \"colgroup\", \"table\", \"tbody\", \"td\", \"tfoot\", \"th\", \"thead\", \"tr\", \"button\", \"datalist\", \"fieldset\", \"form\", \"input\", \"label\", \"legend\", \"meter\", \"optgroup\", \"option\", \"output\", \"progress\", \"select\", \"textarea\", \"details\", \"dialog\", \"menu\", \"summary\", \"details\", \"slot\", \"template\", \"acronym\", \"applet\", \"basefont\", \"bgsound\", \"big\", \"blink\", \"center\", \"content\", \"dir\", \"font\", \"frame\", \"frameset\", \"hgroup\", \"image\", \"keygen\", \"marquee\", \"menuitem\", \"nobr\", \"noembed\", \"noframes\", \"plaintext\", \"rb\", \"rtc\", \"shadow\", \"spacer\", \"strike\", \"tt\", \"xmp\", \"a\", \"abbr\", \"acronym\", \"address\", \"applet\", \"area\", \"article\", \"aside\", \"audio\", \"b\", \"base\", \"basefont\", \"bdi\", \"bdo\", \"bgsound\", \"big\", \"blink\", \"blockquote\", \"body\", \"br\", \"button\", \"canvas\", \"caption\", \"center\", \"cite\", \"code\", \"col\", \"colgroup\", \"content\", \"data\", \"datalist\", \"dd\", \"del\", \"details\", \"dfn\", \"dialog\", \"dir\", \"div\", \"dl\", \"dt\", \"em\", \"embed\", \"fieldset\", \"figcaption\", \"figure\", \"font\", \"footer\", \"form\", \"frame\", \"frameset\", \"head\", \"header\", \"hgroup\", \"hr\", \"html\", \"i\", \"iframe\", \"image\", \"img\", \"input\", \"ins\", \"kbd\", \"keygen\", \"label\", \"legend\", \"li\", \"link\", \"main\", \"map\", \"mark\", \"marquee\", \"menu\", \"menuitem\", \"meta\", \"meter\", \"nav\", \"nobr\", \"noembed\", \"noframes\", \"noscript\", \"object\", \"ol\", \"optgroup\", \"option\", \"output\", \"p\", \"param\", \"picture\", \"plaintext\", \"portal\", \"pre\", \"progress\", \"q\", \"rb\", \"rp\", \"rt\", \"rtc\", \"ruby\", \"s\", \"samp\", \"script\", \"section\", \"select\", \"shadow\", \"slot\", \"small\", \"source\", \"spacer\", \"span\", \"strike\", \"strong\", \"style\", \"sub\", \"summary\", \"sup\", \"table\", \"tbody\", \"td\", \"template\", \"textarea\", \"tfoot\", \"th\", \"thead\", \"time\", \"title\", \"tr\", \"track\", \"tt\", \"u\", \"ul\", \"var\", \"video\", \"wbr\", \"xmp\", \"input\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"]);\n\nfunction reconcileArrays(parentNode, a, b) {\n  let bLength = b.length,\n    aEnd = a.length,\n    bEnd = bLength,\n    aStart = 0,\n    bStart = 0,\n    after = a[aEnd - 1].nextSibling,\n    map = null;\n  while (aStart < aEnd || bStart < bEnd) {\n    if (a[aStart] === b[bStart]) {\n      aStart++;\n      bStart++;\n      continue;\n    }\n    while (a[aEnd - 1] === b[bEnd - 1]) {\n      aEnd--;\n      bEnd--;\n    }\n    if (aEnd === aStart) {\n      const node = bEnd < bLength ? bStart ? b[bStart - 1].nextSibling : b[bEnd - bStart] : after;\n      while (bStart < bEnd) parentNode.insertBefore(b[bStart++], node);\n    } else if (bEnd === bStart) {\n      while (aStart < aEnd) {\n        if (!map || !map.has(a[aStart])) a[aStart].remove();\n        aStart++;\n      }\n    } else if (a[aStart] === b[bEnd - 1] && b[bStart] === a[aEnd - 1]) {\n      const node = a[--aEnd].nextSibling;\n      parentNode.insertBefore(b[bStart++], a[aStart++].nextSibling);\n      parentNode.insertBefore(b[--bEnd], node);\n      a[aEnd] = b[bEnd];\n    } else {\n      if (!map) {\n        map = new Map();\n        let i = bStart;\n        while (i < bEnd) map.set(b[i], i++);\n      }\n      const index = map.get(a[aStart]);\n      if (index != null) {\n        if (bStart < index && index < bEnd) {\n          let i = aStart,\n            sequence = 1,\n            t;\n          while (++i < aEnd && i < bEnd) {\n            if ((t = map.get(a[i])) == null || t !== index + sequence) break;\n            sequence++;\n          }\n          if (sequence > index - bStart) {\n            const node = a[aStart];\n            while (bStart < index) parentNode.insertBefore(b[bStart++], node);\n          } else parentNode.replaceChild(b[bStart++], a[aStart++]);\n        } else aStart++;\n      } else a[aStart++].remove();\n    }\n  }\n}\n\nconst $$EVENTS = \"_$DX_DELEGATE\";\nfunction render(code, element, init, options = {}) {\n  let disposer;\n  createRoot(dispose => {\n    disposer = dispose;\n    element === document ? code() : insert(element, code(), element.firstChild ? null : undefined, init);\n  }, options.owner);\n  return () => {\n    disposer();\n    element.textContent = \"\";\n  };\n}\nfunction template(html, isCE, isSVG) {\n  let node;\n  const create = () => {\n    const t = document.createElement(\"template\");\n    t.innerHTML = html;\n    return isSVG ? t.content.firstChild.firstChild : t.content.firstChild;\n  };\n  const fn = isCE ? () => untrack(() => document.importNode(node || (node = create()), true)) : () => (node || (node = create())).cloneNode(true);\n  fn.cloneNode = fn;\n  return fn;\n}\nfunction delegateEvents(eventNames, document = window.document) {\n  const e = document[$$EVENTS] || (document[$$EVENTS] = new Set());\n  for (let i = 0, l = eventNames.length; i < l; i++) {\n    const name = eventNames[i];\n    if (!e.has(name)) {\n      e.add(name);\n      document.addEventListener(name, eventHandler);\n    }\n  }\n}\nfunction clearDelegatedEvents(document = window.document) {\n  if (document[$$EVENTS]) {\n    for (let name of document[$$EVENTS].keys()) document.removeEventListener(name, eventHandler);\n    delete document[$$EVENTS];\n  }\n}\nfunction setProperty(node, name, value) {\n  !sharedConfig.context && (node[name] = value);\n}\nfunction setAttribute(node, name, value) {\n  if (sharedConfig.context) return;\n  if (value == null) node.removeAttribute(name);else node.setAttribute(name, value);\n}\nfunction setAttributeNS(node, namespace, name, value) {\n  if (sharedConfig.context) return;\n  if (value == null) node.removeAttributeNS(namespace, name);else node.setAttributeNS(namespace, name, value);\n}\nfunction className(node, value) {\n  if (sharedConfig.context) return;\n  if (value == null) node.removeAttribute(\"class\");else node.className = value;\n}\nfunction addEventListener(node, name, handler, delegate) {\n  if (delegate) {\n    if (Array.isArray(handler)) {\n      node[`$$${name}`] = handler[0];\n      node[`$$${name}Data`] = handler[1];\n    } else node[`$$${name}`] = handler;\n  } else if (Array.isArray(handler)) {\n    const handlerFn = handler[0];\n    node.addEventListener(name, handler[0] = e => handlerFn.call(node, handler[1], e));\n  } else node.addEventListener(name, handler);\n}\nfunction classList(node, value, prev = {}) {\n  const classKeys = Object.keys(value || {}),\n    prevKeys = Object.keys(prev);\n  let i, len;\n  for (i = 0, len = prevKeys.length; i < len; i++) {\n    const key = prevKeys[i];\n    if (!key || key === \"undefined\" || value[key]) continue;\n    toggleClassKey(node, key, false);\n    delete prev[key];\n  }\n  for (i = 0, len = classKeys.length; i < len; i++) {\n    const key = classKeys[i],\n      classValue = !!value[key];\n    if (!key || key === \"undefined\" || prev[key] === classValue || !classValue) continue;\n    toggleClassKey(node, key, true);\n    prev[key] = classValue;\n  }\n  return prev;\n}\nfunction style(node, value, prev) {\n  if (!value) return prev ? setAttribute(node, \"style\") : value;\n  const nodeStyle = node.style;\n  if (typeof value === \"string\") return nodeStyle.cssText = value;\n  typeof prev === \"string\" && (nodeStyle.cssText = prev = undefined);\n  prev || (prev = {});\n  value || (value = {});\n  let v, s;\n  for (s in prev) {\n    value[s] == null && nodeStyle.removeProperty(s);\n    delete prev[s];\n  }\n  for (s in value) {\n    v = value[s];\n    if (v !== prev[s]) {\n      nodeStyle.setProperty(s, v);\n      prev[s] = v;\n    }\n  }\n  return prev;\n}\nfunction spread(node, props = {}, isSVG, skipChildren) {\n  const prevProps = {};\n  if (!skipChildren) {\n    createRenderEffect(() => prevProps.children = insertExpression(node, props.children, prevProps.children));\n  }\n  createRenderEffect(() => props.ref && props.ref(node));\n  createRenderEffect(() => assign(node, props, isSVG, true, prevProps, true));\n  return prevProps;\n}\nfunction dynamicProperty(props, key) {\n  const src = props[key];\n  Object.defineProperty(props, key, {\n    get() {\n      return src();\n    },\n    enumerable: true\n  });\n  return props;\n}\nfunction use(fn, element, arg) {\n  return untrack(() => fn(element, arg));\n}\nfunction insert(parent, accessor, marker, initial) {\n  if (marker !== undefined && !initial) initial = [];\n  if (typeof accessor !== \"function\") return insertExpression(parent, accessor, initial, marker);\n  createRenderEffect(current => insertExpression(parent, accessor(), current, marker), initial);\n}\nfunction assign(node, props, isSVG, skipChildren, prevProps = {}, skipRef = false) {\n  props || (props = {});\n  for (const prop in prevProps) {\n    if (!(prop in props)) {\n      if (prop === \"children\") continue;\n      prevProps[prop] = assignProp(node, prop, null, prevProps[prop], isSVG, skipRef);\n    }\n  }\n  for (const prop in props) {\n    if (prop === \"children\") {\n      if (!skipChildren) insertExpression(node, props.children);\n      continue;\n    }\n    const value = props[prop];\n    prevProps[prop] = assignProp(node, prop, value, prevProps[prop], isSVG, skipRef);\n  }\n}\nfunction hydrate$1(code, element, options = {}) {\n  sharedConfig.completed = globalThis._$HY.completed;\n  sharedConfig.events = globalThis._$HY.events;\n  sharedConfig.load = id => globalThis._$HY.r[id];\n  sharedConfig.has = id => id in globalThis._$HY.r;\n  sharedConfig.gather = root => gatherHydratable(element, root);\n  sharedConfig.registry = new Map();\n  sharedConfig.context = {\n    id: options.renderId || \"\",\n    count: 0\n  };\n  gatherHydratable(element, options.renderId);\n  const dispose = render(code, element, [...element.childNodes], options);\n  sharedConfig.context = null;\n  return dispose;\n}\nfunction getNextElement(template) {\n  let node, key;\n  if (!sharedConfig.context || !(node = sharedConfig.registry.get(key = getHydrationKey()))) {\n    return template();\n  }\n  if (sharedConfig.completed) sharedConfig.completed.add(node);\n  sharedConfig.registry.delete(key);\n  return node;\n}\nfunction getNextMatch(el, nodeName) {\n  while (el && el.localName !== nodeName) el = el.nextSibling;\n  return el;\n}\nfunction getNextMarker(start) {\n  let end = start,\n    count = 0,\n    current = [];\n  if (sharedConfig.context) {\n    while (end) {\n      if (end.nodeType === 8) {\n        const v = end.nodeValue;\n        if (v === \"$\") count++;else if (v === \"/\") {\n          if (count === 0) return [end, current];\n          count--;\n        }\n      }\n      current.push(end);\n      end = end.nextSibling;\n    }\n  }\n  return [end, current];\n}\nfunction runHydrationEvents() {\n  if (sharedConfig.events && !sharedConfig.events.queued) {\n    queueMicrotask(() => {\n      const {\n        completed,\n        events\n      } = sharedConfig;\n      events.queued = false;\n      while (events.length) {\n        const [el, e] = events[0];\n        if (!completed.has(el)) return;\n        eventHandler(e);\n        events.shift();\n      }\n    });\n    sharedConfig.events.queued = true;\n  }\n}\nfunction toPropertyName(name) {\n  return name.toLowerCase().replace(/-([a-z])/g, (_, w) => w.toUpperCase());\n}\nfunction toggleClassKey(node, key, value) {\n  const classNames = key.trim().split(/\\s+/);\n  for (let i = 0, nameLen = classNames.length; i < nameLen; i++) node.classList.toggle(classNames[i], value);\n}\nfunction assignProp(node, prop, value, prev, isSVG, skipRef) {\n  let isCE, isProp, isChildProp, propAlias, forceProp;\n  if (prop === \"style\") return style(node, value, prev);\n  if (prop === \"classList\") return classList(node, value, prev);\n  if (value === prev) return prev;\n  if (prop === \"ref\") {\n    if (!skipRef) value(node);\n  } else if (prop.slice(0, 3) === \"on:\") {\n    const e = prop.slice(3);\n    prev && node.removeEventListener(e, prev);\n    value && node.addEventListener(e, value);\n  } else if (prop.slice(0, 10) === \"oncapture:\") {\n    const e = prop.slice(10);\n    prev && node.removeEventListener(e, prev, true);\n    value && node.addEventListener(e, value, true);\n  } else if (prop.slice(0, 2) === \"on\") {\n    const name = prop.slice(2).toLowerCase();\n    const delegate = DelegatedEvents.has(name);\n    if (!delegate && prev) {\n      const h = Array.isArray(prev) ? prev[0] : prev;\n      node.removeEventListener(name, h);\n    }\n    if (delegate || value) {\n      addEventListener(node, name, value, delegate);\n      delegate && delegateEvents([name]);\n    }\n  } else if (prop.slice(0, 5) === \"attr:\") {\n    setAttribute(node, prop.slice(5), value);\n  } else if ((forceProp = prop.slice(0, 5) === \"prop:\") || (isChildProp = ChildProperties.has(prop)) || !isSVG && ((propAlias = getPropAlias(prop, node.tagName)) || (isProp = Properties.has(prop))) || (isCE = node.nodeName.includes(\"-\"))) {\n    if (forceProp) {\n      prop = prop.slice(5);\n      isProp = true;\n    } else if (sharedConfig.context) return value;\n    if (prop === \"class\" || prop === \"className\") className(node, value);else if (isCE && !isProp && !isChildProp) node[toPropertyName(prop)] = value;else node[propAlias || prop] = value;\n  } else {\n    const ns = isSVG && prop.indexOf(\":\") > -1 && SVGNamespace[prop.split(\":\")[0]];\n    if (ns) setAttributeNS(node, ns, prop, value);else setAttribute(node, Aliases[prop] || prop, value);\n  }\n  return value;\n}\nfunction eventHandler(e) {\n  const key = `$$${e.type}`;\n  let node = e.composedPath && e.composedPath()[0] || e.target;\n  if (e.target !== node) {\n    Object.defineProperty(e, \"target\", {\n      configurable: true,\n      value: node\n    });\n  }\n  Object.defineProperty(e, \"currentTarget\", {\n    configurable: true,\n    get() {\n      return node || document;\n    }\n  });\n  if (sharedConfig.registry && !sharedConfig.done) sharedConfig.done = _$HY.done = true;\n  while (node) {\n    const handler = node[key];\n    if (handler && !node.disabled) {\n      const data = node[`${key}Data`];\n      data !== undefined ? handler.call(node, data, e) : handler.call(node, e);\n      if (e.cancelBubble) return;\n    }\n    node = node._$host || node.parentNode || node.host;\n  }\n}\nfunction insertExpression(parent, value, current, marker, unwrapArray) {\n  if (sharedConfig.context) {\n    !current && (current = [...parent.childNodes]);\n    let cleaned = [];\n    for (let i = 0; i < current.length; i++) {\n      const node = current[i];\n      if (node.nodeType === 8 && node.data.slice(0, 2) === \"!$\") node.remove();else cleaned.push(node);\n    }\n    current = cleaned;\n  }\n  while (typeof current === \"function\") current = current();\n  if (value === current) return current;\n  const t = typeof value,\n    multi = marker !== undefined;\n  parent = multi && current[0] && current[0].parentNode || parent;\n  if (t === \"string\" || t === \"number\") {\n    if (sharedConfig.context) return current;\n    if (t === \"number\") value = value.toString();\n    if (multi) {\n      let node = current[0];\n      if (node && node.nodeType === 3) {\n        node.data = value;\n      } else node = document.createTextNode(value);\n      current = cleanChildren(parent, current, marker, node);\n    } else {\n      if (current !== \"\" && typeof current === \"string\") {\n        current = parent.firstChild.data = value;\n      } else current = parent.textContent = value;\n    }\n  } else if (value == null || t === \"boolean\") {\n    if (sharedConfig.context) return current;\n    current = cleanChildren(parent, current, marker);\n  } else if (t === \"function\") {\n    createRenderEffect(() => {\n      let v = value();\n      while (typeof v === \"function\") v = v();\n      current = insertExpression(parent, v, current, marker);\n    });\n    return () => current;\n  } else if (Array.isArray(value)) {\n    const array = [];\n    const currentArray = current && Array.isArray(current);\n    if (normalizeIncomingArray(array, value, current, unwrapArray)) {\n      createRenderEffect(() => current = insertExpression(parent, array, current, marker, true));\n      return () => current;\n    }\n    if (sharedConfig.context) {\n      if (!array.length) return current;\n      if (marker === undefined) return [...parent.childNodes];\n      let node = array[0];\n      let nodes = [node];\n      while ((node = node.nextSibling) !== marker) nodes.push(node);\n      return current = nodes;\n    }\n    if (array.length === 0) {\n      current = cleanChildren(parent, current, marker);\n      if (multi) return current;\n    } else if (currentArray) {\n      if (current.length === 0) {\n        appendNodes(parent, array, marker);\n      } else reconcileArrays(parent, current, array);\n    } else {\n      current && cleanChildren(parent);\n      appendNodes(parent, array);\n    }\n    current = array;\n  } else if (value.nodeType) {\n    if (sharedConfig.context && value.parentNode) return current = multi ? [value] : value;\n    if (Array.isArray(current)) {\n      if (multi) return current = cleanChildren(parent, current, marker, value);\n      cleanChildren(parent, current, null, value);\n    } else if (current == null || current === \"\" || !parent.firstChild) {\n      parent.appendChild(value);\n    } else parent.replaceChild(value, parent.firstChild);\n    current = value;\n  } else ;\n  return current;\n}\nfunction normalizeIncomingArray(normalized, array, current, unwrap) {\n  let dynamic = false;\n  for (let i = 0, len = array.length; i < len; i++) {\n    let item = array[i],\n      prev = current && current[i],\n      t;\n    if (item == null || item === true || item === false) ; else if ((t = typeof item) === \"object\" && item.nodeType) {\n      normalized.push(item);\n    } else if (Array.isArray(item)) {\n      dynamic = normalizeIncomingArray(normalized, item, prev) || dynamic;\n    } else if (t === \"function\") {\n      if (unwrap) {\n        while (typeof item === \"function\") item = item();\n        dynamic = normalizeIncomingArray(normalized, Array.isArray(item) ? item : [item], Array.isArray(prev) ? prev : [prev]) || dynamic;\n      } else {\n        normalized.push(item);\n        dynamic = true;\n      }\n    } else {\n      const value = String(item);\n      if (prev && prev.nodeType === 3 && prev.data === value) normalized.push(prev);else normalized.push(document.createTextNode(value));\n    }\n  }\n  return dynamic;\n}\nfunction appendNodes(parent, array, marker = null) {\n  for (let i = 0, len = array.length; i < len; i++) parent.insertBefore(array[i], marker);\n}\nfunction cleanChildren(parent, current, marker, replacement) {\n  if (marker === undefined) return parent.textContent = \"\";\n  const node = replacement || document.createTextNode(\"\");\n  if (current.length) {\n    let inserted = false;\n    for (let i = current.length - 1; i >= 0; i--) {\n      const el = current[i];\n      if (node !== el) {\n        const isParent = el.parentNode === parent;\n        if (!inserted && !i) isParent ? parent.replaceChild(node, el) : parent.insertBefore(node, marker);else isParent && el.remove();\n      } else inserted = true;\n    }\n  } else parent.insertBefore(node, marker);\n  return [node];\n}\nfunction gatherHydratable(element, root) {\n  const templates = element.querySelectorAll(`*[data-hk]`);\n  for (let i = 0; i < templates.length; i++) {\n    const node = templates[i];\n    const key = node.getAttribute(\"data-hk\");\n    if ((!root || key.startsWith(root)) && !sharedConfig.registry.has(key)) sharedConfig.registry.set(key, node);\n  }\n}\nfunction getHydrationKey() {\n  const hydrate = sharedConfig.context;\n  return `${hydrate.id}${hydrate.count++}`;\n}\nfunction NoHydration(props) {\n  return sharedConfig.context ? undefined : props.children;\n}\nfunction Hydration(props) {\n  return props.children;\n}\nfunction voidFn() {}\nconst RequestContext = Symbol();\nfunction innerHTML(parent, content) {\n  !sharedConfig.context && (parent.innerHTML = content);\n}\n\nfunction throwInBrowser(func) {\n  const err = new Error(`${func.name} is not supported in the browser, returning undefined`);\n  console.error(err);\n}\nfunction renderToString(fn, options) {\n  throwInBrowser(renderToString);\n}\nfunction renderToStringAsync(fn, options) {\n  throwInBrowser(renderToStringAsync);\n}\nfunction renderToStream(fn, options) {\n  throwInBrowser(renderToStream);\n}\nfunction ssr(template, ...nodes) {}\nfunction ssrElement(name, props, children, needsId) {}\nfunction ssrClassList(value) {}\nfunction ssrStyle(value) {}\nfunction ssrAttribute(key, value) {}\nfunction ssrHydrationKey() {}\nfunction resolveSSRNode(node) {}\nfunction escape(html) {}\nfunction ssrSpread(props, isSVG, skipChildren) {}\n\nconst isServer = false;\nconst isDev = false;\nconst SVG_NAMESPACE = \"http://www.w3.org/2000/svg\";\nfunction createElement(tagName, isSVG = false) {\n  return isSVG ? document.createElementNS(SVG_NAMESPACE, tagName) : document.createElement(tagName);\n}\nconst hydrate = (...args) => {\n  enableHydration();\n  return hydrate$1(...args);\n};\nfunction Portal(props) {\n  const {\n      useShadow\n    } = props,\n    marker = document.createTextNode(\"\"),\n    mount = () => props.mount || document.body,\n    owner = getOwner();\n  let content;\n  let hydrating = !!sharedConfig.context;\n  createEffect(() => {\n    if (hydrating) getOwner().user = hydrating = false;\n    content || (content = runWithOwner(owner, () => createMemo(() => props.children)));\n    const el = mount();\n    if (el instanceof HTMLHeadElement) {\n      const [clean, setClean] = createSignal(false);\n      const cleanup = () => setClean(true);\n      createRoot(dispose => insert(el, () => !clean() ? content() : dispose(), null));\n      onCleanup(cleanup);\n    } else {\n      const container = createElement(props.isSVG ? \"g\" : \"div\", props.isSVG),\n        renderRoot = useShadow && container.attachShadow ? container.attachShadow({\n          mode: \"open\"\n        }) : container;\n      Object.defineProperty(container, \"_$host\", {\n        get() {\n          return marker.parentNode;\n        },\n        configurable: true\n      });\n      insert(renderRoot, content);\n      el.appendChild(container);\n      props.ref && props.ref(container);\n      onCleanup(() => el.removeChild(container));\n    }\n  }, undefined, {\n    render: !hydrating\n  });\n  return marker;\n}\nfunction Dynamic(props) {\n  const [p, others] = splitProps(props, [\"component\"]);\n  const cached = createMemo(() => p.component);\n  return createMemo(() => {\n    const component = cached();\n    switch (typeof component) {\n      case \"function\":\n        return untrack(() => component(others));\n      case \"string\":\n        const isSvg = SVGElements.has(component);\n        const el = sharedConfig.context ? getNextElement() : createElement(component, isSvg);\n        spread(el, others, isSvg);\n        return el;\n    }\n  });\n}\n\nexport { Aliases, voidFn as Assets, ChildProperties, DOMElements, DelegatedEvents, Dynamic, Hydration, voidFn as HydrationScript, NoHydration, Portal, Properties, RequestContext, SVGElements, SVGNamespace, addEventListener, assign, classList, className, clearDelegatedEvents, delegateEvents, dynamicProperty, escape, voidFn as generateHydrationScript, voidFn as getAssets, getHydrationKey, getNextElement, getNextMarker, getNextMatch, getPropAlias, voidFn as getRequestEvent, hydrate, innerHTML, insert, isDev, isServer, render, renderToStream, renderToString, renderToStringAsync, resolveSSRNode, runHydrationEvents, setAttribute, setAttributeNS, setProperty, spread, ssr, ssrAttribute, ssrClassList, ssrElement, ssrHydrationKey, ssrSpread, ssrStyle, style, template, use, voidFn as useAssets };\n","import { isServer } from \"solid-js/web\";\nexport function createBeforeLeave() {\n    let listeners = new Set();\n    function subscribe(listener) {\n        listeners.add(listener);\n        return () => listeners.delete(listener);\n    }\n    let ignore = false;\n    function confirm(to, options) {\n        if (ignore)\n            return !(ignore = false);\n        const e = {\n            to,\n            options,\n            defaultPrevented: false,\n            preventDefault: () => (e.defaultPrevented = true)\n        };\n        for (const l of listeners)\n            l.listener({\n                ...e,\n                from: l.location,\n                retry: (force) => {\n                    force && (ignore = true);\n                    l.navigate(to, { ...options, resolve: false });\n                }\n            });\n        return !e.defaultPrevented;\n    }\n    return {\n        subscribe,\n        confirm\n    };\n}\n// The following supports browser initiated blocking (eg back/forward)\nlet depth;\nexport function saveCurrentDepth() {\n    if (!window.history.state || window.history.state._depth == null) {\n        window.history.replaceState({ ...window.history.state, _depth: window.history.length - 1 }, \"\");\n    }\n    depth = window.history.state._depth;\n}\nif (!isServer) {\n    saveCurrentDepth();\n}\nexport function keepDepth(state) {\n    return {\n        ...state,\n        _depth: window.history.state && window.history.state._depth\n    };\n}\nexport function notifyIfNotBlocked(notify, block) {\n    let ignore = false;\n    return () => {\n        const prevDepth = depth;\n        saveCurrentDepth();\n        const delta = prevDepth == null ? null : depth - prevDepth;\n        if (ignore) {\n            ignore = false;\n            return;\n        }\n        if (delta && block(delta)) {\n            ignore = true;\n            window.history.go(-delta);\n        }\n        else {\n            notify();\n        }\n    };\n}\n","import { createMemo, getOwner, runWithOwner } from \"solid-js\";\nconst hasSchemeRegex = /^(?:[a-z0-9]+:)?\\/\\//i;\nconst trimPathRegex = /^\\/+|(\\/)\\/+$/g;\nexport const mockBase = \"http://sr\";\nexport function normalizePath(path, omitSlash = false) {\n    const s = path.replace(trimPathRegex, \"$1\");\n    return s ? (omitSlash || /^[?#]/.test(s) ? s : \"/\" + s) : \"\";\n}\nexport function resolvePath(base, path, from) {\n    if (hasSchemeRegex.test(path)) {\n        return undefined;\n    }\n    const basePath = normalizePath(base);\n    const fromPath = from && normalizePath(from);\n    let result = \"\";\n    if (!fromPath || path.startsWith(\"/\")) {\n        result = basePath;\n    }\n    else if (fromPath.toLowerCase().indexOf(basePath.toLowerCase()) !== 0) {\n        result = basePath + fromPath;\n    }\n    else {\n        result = fromPath;\n    }\n    return (result || \"/\") + normalizePath(path, !result);\n}\nexport function invariant(value, message) {\n    if (value == null) {\n        throw new Error(message);\n    }\n    return value;\n}\nexport function joinPaths(from, to) {\n    return normalizePath(from).replace(/\\/*(\\*.*)?$/g, \"\") + normalizePath(to);\n}\nexport function extractSearchParams(url) {\n    const params = {};\n    url.searchParams.forEach((value, key) => {\n        params[key] = value;\n    });\n    return params;\n}\nexport function createMatcher(path, partial, matchFilters) {\n    const [pattern, splat] = path.split(\"/*\", 2);\n    const segments = pattern.split(\"/\").filter(Boolean);\n    const len = segments.length;\n    return (location) => {\n        const locSegments = location.split(\"/\").filter(Boolean);\n        const lenDiff = locSegments.length - len;\n        if (lenDiff < 0 || (lenDiff > 0 && splat === undefined && !partial)) {\n            return null;\n        }\n        const match = {\n            path: len ? \"\" : \"/\",\n            params: {}\n        };\n        const matchFilter = (s) => matchFilters === undefined ? undefined : matchFilters[s];\n        for (let i = 0; i < len; i++) {\n            const segment = segments[i];\n            const locSegment = locSegments[i];\n            const dynamic = segment[0] === \":\";\n            const key = dynamic ? segment.slice(1) : segment;\n            if (dynamic && matchSegment(locSegment, matchFilter(key))) {\n                match.params[key] = locSegment;\n            }\n            else if (dynamic || !matchSegment(locSegment, segment)) {\n                return null;\n            }\n            match.path += `/${locSegment}`;\n        }\n        if (splat) {\n            const remainder = lenDiff ? locSegments.slice(-lenDiff).join(\"/\") : \"\";\n            if (matchSegment(remainder, matchFilter(splat))) {\n                match.params[splat] = remainder;\n            }\n            else {\n                return null;\n            }\n        }\n        return match;\n    };\n}\nfunction matchSegment(input, filter) {\n    const isEqual = (s) => s.localeCompare(input, undefined, { sensitivity: \"base\" }) === 0;\n    if (filter === undefined) {\n        return true;\n    }\n    else if (typeof filter === \"string\") {\n        return isEqual(filter);\n    }\n    else if (typeof filter === \"function\") {\n        return filter(input);\n    }\n    else if (Array.isArray(filter)) {\n        return filter.some(isEqual);\n    }\n    else if (filter instanceof RegExp) {\n        return filter.test(input);\n    }\n    return false;\n}\nexport function scoreRoute(route) {\n    const [pattern, splat] = route.pattern.split(\"/*\", 2);\n    const segments = pattern.split(\"/\").filter(Boolean);\n    return segments.reduce((score, segment) => score + (segment.startsWith(\":\") ? 2 : 3), segments.length - (splat === undefined ? 0 : 1));\n}\nexport function createMemoObject(fn) {\n    const map = new Map();\n    const owner = getOwner();\n    return new Proxy({}, {\n        get(_, property) {\n            if (!map.has(property)) {\n                runWithOwner(owner, () => map.set(property, createMemo(() => fn()[property])));\n            }\n            return map.get(property)();\n        },\n        getOwnPropertyDescriptor() {\n            return {\n                enumerable: true,\n                configurable: true\n            };\n        },\n        ownKeys() {\n            return Reflect.ownKeys(fn());\n        }\n    });\n}\nexport function mergeSearchString(search, params) {\n    const merged = new URLSearchParams(search);\n    Object.entries(params).forEach(([key, value]) => {\n        if (value == null || value === \"\") {\n            merged.delete(key);\n        }\n        else {\n            merged.set(key, String(value));\n        }\n    });\n    const s = merged.toString();\n    return s ? `?${s}` : \"\";\n}\nexport function expandOptionals(pattern) {\n    let match = /(\\/?\\:[^\\/]+)\\?/.exec(pattern);\n    if (!match)\n        return [pattern];\n    let prefix = pattern.slice(0, match.index);\n    let suffix = pattern.slice(match.index + match[0].length);\n    const prefixes = [prefix, (prefix += match[1])];\n    // This section handles adjacent optional params. We don't actually want all permuations since\n    // that will lead to equivalent routes which have the same number of params. For example\n    // `/:a?/:b?/:c`? only has the unique expansion: `/`, `/:a`, `/:a/:b`, `/:a/:b/:c` and we can\n    // discard `/:b`, `/:c`, `/:b/:c` by building them up in order and not recursing. This also helps\n    // ensure predictability where earlier params have precidence.\n    while ((match = /^(\\/\\:[^\\/]+)\\?/.exec(suffix))) {\n        prefixes.push((prefix += match[1]));\n        suffix = suffix.slice(match[0].length);\n    }\n    return expandOptionals(suffix).reduce((results, expansion) => [...results, ...prefixes.map(p => p + expansion)], []);\n}\n","import { runWithOwner } from \"solid-js\";\nimport { createComponent, createContext, createMemo, createRenderEffect, createSignal, on, onCleanup, untrack, useContext, startTransition, resetErrorBoundaries } from \"solid-js\";\nimport { isServer, getRequestEvent } from \"solid-js/web\";\nimport { createBeforeLeave } from \"./lifecycle.js\";\nimport { mockBase, createMemoObject, extractSearchParams, invariant, resolvePath, createMatcher, joinPaths, scoreRoute, mergeSearchString, expandOptionals } from \"./utils.js\";\nconst MAX_REDIRECTS = 100;\nexport const RouterContextObj = createContext();\nexport const RouteContextObj = createContext();\nexport const useRouter = () => invariant(useContext(RouterContextObj), \"<A> and 'use' router primitives can be only used inside a Route.\");\nlet TempRoute;\nexport const useRoute = () => TempRoute || useContext(RouteContextObj) || useRouter().base;\nexport const useResolvedPath = (path) => {\n    const route = useRoute();\n    return createMemo(() => route.resolvePath(path()));\n};\nexport const useHref = (to) => {\n    const router = useRouter();\n    return createMemo(() => {\n        const to_ = to();\n        return to_ !== undefined ? router.renderPath(to_) : to_;\n    });\n};\nexport const useNavigate = () => useRouter().navigatorFactory();\nexport const useLocation = () => useRouter().location;\nexport const useIsRouting = () => useRouter().isRouting;\nexport const useMatch = (path, matchFilters) => {\n    const location = useLocation();\n    const matchers = createMemo(() => expandOptionals(path()).map(path => createMatcher(path, undefined, matchFilters)));\n    return createMemo(() => {\n        for (const matcher of matchers()) {\n            const match = matcher(location.pathname);\n            if (match)\n                return match;\n        }\n    });\n};\nexport const useParams = () => useRoute().params;\nexport const useSearchParams = () => {\n    const location = useLocation();\n    const navigate = useNavigate();\n    const setSearchParams = (params, options) => {\n        const searchString = untrack(() => location.pathname + mergeSearchString(location.search, params) + location.hash);\n        navigate(searchString, {\n            scroll: false,\n            resolve: false,\n            ...options\n        });\n    };\n    return [location.query, setSearchParams];\n};\nexport const useBeforeLeave = (listener) => {\n    const s = useRouter().beforeLeave.subscribe({\n        listener,\n        location: useLocation(),\n        navigate: useNavigate()\n    });\n    onCleanup(s);\n};\nexport function createRoutes(routeDef, base = \"\") {\n    const { component, load, children, info } = routeDef;\n    const isLeaf = !children || (Array.isArray(children) && !children.length);\n    const shared = {\n        key: routeDef,\n        component,\n        load,\n        info\n    };\n    return asArray(routeDef.path).reduce((acc, path) => {\n        for (const originalPath of expandOptionals(path)) {\n            const path = joinPaths(base, originalPath);\n            let pattern = isLeaf ? path : path.split(\"/*\", 1)[0];\n            pattern = pattern\n                .split(\"/\")\n                .map((s) => {\n                return s.startsWith(\":\") || s.startsWith(\"*\") ? s : encodeURIComponent(s);\n            })\n                .join(\"/\");\n            acc.push({\n                ...shared,\n                originalPath,\n                pattern,\n                matcher: createMatcher(pattern, !isLeaf, routeDef.matchFilters)\n            });\n        }\n        return acc;\n    }, []);\n}\nexport function createBranch(routes, index = 0) {\n    return {\n        routes,\n        score: scoreRoute(routes[routes.length - 1]) * 10000 - index,\n        matcher(location) {\n            const matches = [];\n            for (let i = routes.length - 1; i >= 0; i--) {\n                const route = routes[i];\n                const match = route.matcher(location);\n                if (!match) {\n                    return null;\n                }\n                matches.unshift({\n                    ...match,\n                    route\n                });\n            }\n            return matches;\n        }\n    };\n}\nfunction asArray(value) {\n    return Array.isArray(value) ? value : [value];\n}\nexport function createBranches(routeDef, base = \"\", stack = [], branches = []) {\n    const routeDefs = asArray(routeDef);\n    for (let i = 0, len = routeDefs.length; i < len; i++) {\n        const def = routeDefs[i];\n        if (def && typeof def === \"object\") {\n            if (!def.hasOwnProperty(\"path\"))\n                def.path = \"\";\n            const routes = createRoutes(def, base);\n            for (const route of routes) {\n                stack.push(route);\n                const isEmptyArray = Array.isArray(def.children) && def.children.length === 0;\n                if (def.children && !isEmptyArray) {\n                    createBranches(def.children, route.pattern, stack, branches);\n                }\n                else {\n                    const branch = createBranch([...stack], branches.length);\n                    branches.push(branch);\n                }\n                stack.pop();\n            }\n        }\n    }\n    // Stack will be empty on final return\n    return stack.length ? branches : branches.sort((a, b) => b.score - a.score);\n}\nexport function getRouteMatches(branches, location) {\n    for (let i = 0, len = branches.length; i < len; i++) {\n        const match = branches[i].matcher(location);\n        if (match) {\n            return match;\n        }\n    }\n    return [];\n}\nexport function createLocation(path, state) {\n    const origin = new URL(mockBase);\n    const url = createMemo(prev => {\n        const path_ = path();\n        try {\n            return new URL(path_, origin);\n        }\n        catch (err) {\n            console.error(`Invalid path ${path_}`);\n            return prev;\n        }\n    }, origin, {\n        equals: (a, b) => a.href === b.href\n    });\n    const pathname = createMemo(() => url().pathname);\n    const search = createMemo(() => url().search, true);\n    const hash = createMemo(() => url().hash);\n    const key = () => \"\";\n    return {\n        get pathname() {\n            return pathname();\n        },\n        get search() {\n            return search();\n        },\n        get hash() {\n            return hash();\n        },\n        get state() {\n            return state();\n        },\n        get key() {\n            return key();\n        },\n        query: createMemoObject(on(search, () => extractSearchParams(url())))\n    };\n}\nlet intent;\nexport function getIntent() {\n    return intent;\n}\nexport function createRouterContext(integration, getContext, getBranches, options = {}) {\n    const { signal: [source, setSource], utils = {} } = integration;\n    const parsePath = utils.parsePath || (p => p);\n    const renderPath = utils.renderPath || (p => p);\n    const beforeLeave = utils.beforeLeave || createBeforeLeave();\n    const basePath = resolvePath(\"\", options.base || \"\");\n    if (basePath === undefined) {\n        throw new Error(`${basePath} is not a valid base path`);\n    }\n    else if (basePath && !source().value) {\n        setSource({ value: basePath, replace: true, scroll: false });\n    }\n    const [isRouting, setIsRouting] = createSignal(false);\n    const start = async (callback) => {\n        setIsRouting(true);\n        try {\n            await startTransition(callback);\n        }\n        finally {\n            setIsRouting(false);\n        }\n    };\n    const [reference, setReference] = createSignal(source().value);\n    const [state, setState] = createSignal(source().state);\n    const location = createLocation(reference, state);\n    const referrers = [];\n    const submissions = createSignal(isServer ? initFromFlash() : []);\n    const baseRoute = {\n        pattern: basePath,\n        params: {},\n        path: () => basePath,\n        outlet: () => null,\n        resolvePath(to) {\n            return resolvePath(basePath, to);\n        }\n    };\n    createRenderEffect(() => {\n        const { value, state } = source();\n        // Untrack this whole block so `start` doesn't cause Solid's Listener to be preserved\n        untrack(() => {\n            if (value !== reference()) {\n                start(() => {\n                    intent = \"native\";\n                    setReference(value);\n                    setState(state);\n                    resetErrorBoundaries();\n                    submissions[1]([]);\n                }).then(() => {\n                    intent = undefined;\n                });\n            }\n        });\n    });\n    return {\n        base: baseRoute,\n        location,\n        isRouting,\n        renderPath,\n        parsePath,\n        navigatorFactory,\n        beforeLeave,\n        preloadRoute,\n        singleFlight: options.singleFlight === undefined ? true : options.singleFlight,\n        submissions\n    };\n    function navigateFromRoute(route, to, options) {\n        // Untrack in case someone navigates in an effect - don't want to track `reference` or route paths\n        untrack(() => {\n            if (typeof to === \"number\") {\n                if (!to) {\n                    // A delta of 0 means stay at the current location, so it is ignored\n                }\n                else if (utils.go) {\n                    utils.go(to);\n                }\n                else {\n                    console.warn(\"Router integration does not support relative routing\");\n                }\n                return;\n            }\n            const { replace, resolve, scroll, state: nextState } = {\n                replace: false,\n                resolve: true,\n                scroll: true,\n                ...options\n            };\n            const resolvedTo = resolve ? route.resolvePath(to) : resolvePath(\"\", to);\n            if (resolvedTo === undefined) {\n                throw new Error(`Path '${to}' is not a routable path`);\n            }\n            else if (referrers.length >= MAX_REDIRECTS) {\n                throw new Error(\"Too many redirects\");\n            }\n            const current = reference();\n            if (resolvedTo !== current || nextState !== state()) {\n                if (isServer) {\n                    const e = getRequestEvent();\n                    e && (e.response = { status: 302, headers: new Headers({ Location: resolvedTo }) });\n                    setSource({ value: resolvedTo, replace, scroll, state: nextState });\n                }\n                else if (beforeLeave.confirm(resolvedTo, options)) {\n                    const len = referrers.push({ value: current, replace, scroll, state: state() });\n                    start(() => {\n                        intent = \"navigate\";\n                        setReference(resolvedTo);\n                        setState(nextState);\n                        resetErrorBoundaries();\n                        submissions[1]([]);\n                    }).then(() => {\n                        if (referrers.length === len) {\n                            intent = undefined;\n                            navigateEnd({\n                                value: resolvedTo,\n                                state: nextState\n                            });\n                        }\n                    });\n                }\n            }\n        });\n    }\n    function navigatorFactory(route) {\n        // Workaround for vite issue (https://github.com/vitejs/vite/issues/3803)\n        route = route || useContext(RouteContextObj) || baseRoute;\n        return (to, options) => navigateFromRoute(route, to, options);\n    }\n    function navigateEnd(next) {\n        const first = referrers[0];\n        if (first) {\n            if (next.value !== first.value || next.state !== first.state) {\n                setSource({\n                    ...next,\n                    replace: first.replace,\n                    scroll: first.scroll\n                });\n            }\n            referrers.length = 0;\n        }\n    }\n    function preloadRoute(url, preloadData) {\n        const matches = getRouteMatches(getBranches(), url.pathname);\n        const prevIntent = intent;\n        intent = \"preload\";\n        for (let match in matches) {\n            const { route, params } = matches[match];\n            route.component &&\n                route.component.preload &&\n                route.component.preload();\n            const { load } = route;\n            preloadData &&\n                load &&\n                runWithOwner(getContext(), () => load({\n                    params,\n                    location: {\n                        pathname: url.pathname,\n                        search: url.search,\n                        hash: url.hash,\n                        query: extractSearchParams(url),\n                        state: null,\n                        key: \"\"\n                    },\n                    intent: \"preload\"\n                }));\n        }\n        intent = prevIntent;\n    }\n    function initFromFlash() {\n        const e = getRequestEvent();\n        return e && e.router && e.router.submission ? [e.router.submission] : [];\n    }\n}\nexport function createRouteContext(router, parent, outlet, match, params) {\n    const { base, location } = router;\n    const { pattern, component, load } = match().route;\n    const path = createMemo(() => match().path);\n    component &&\n        component.preload &&\n        component.preload();\n    const data = load ? load({ params, location, intent: intent || \"initial\" }) : undefined;\n    const route = {\n        parent,\n        pattern,\n        path,\n        params,\n        outlet: () => component\n            ? createComponent(component, {\n                params,\n                location,\n                data,\n                get children() {\n                    return outlet();\n                }\n            })\n            : outlet(),\n        resolvePath(to) {\n            return resolvePath(base.path(), to, path());\n        }\n    };\n    return route;\n}\n","/*@refresh skip*/\nimport { getRequestEvent, isServer } from \"solid-js/web\";\nimport { children, createMemo, createRoot, getOwner, mergeProps, on, Show } from \"solid-js\";\nimport { createBranches, createRouteContext, createRouterContext, getRouteMatches, RouteContextObj, RouterContextObj } from \"../routing.js\";\nimport { createMemoObject, extractSearchParams } from \"../utils.js\";\nexport const createRouterComponent = (router) => (props) => {\n    const { base } = props;\n    const routeDefs = children(() => props.children);\n    const branches = createMemo(() => createBranches(props.root ? { component: props.root, load: props.rootLoad, children: routeDefs() } : routeDefs(), props.base || \"\"));\n    let context;\n    const routerState = createRouterContext(router, () => context, branches, { base, singleFlight: props.singleFlight });\n    router.create && router.create(routerState);\n    return (<RouterContextObj.Provider value={routerState}>\n      {(context = getOwner()) && null}\n      <Routes routerState={routerState} branches={branches()}/>\n    </RouterContextObj.Provider>);\n};\nfunction Routes(props) {\n    const matches = createMemo(() => getRouteMatches(props.branches, props.routerState.location.pathname));\n    if (isServer) {\n        const e = getRequestEvent();\n        if (e && e.router && e.router.dataOnly) {\n            dataOnly(e, props.branches);\n            return;\n        }\n        e &&\n            ((e.router || (e.router = {})).matches ||\n                (e.router.matches = matches().map(({ route, path, params }) => ({\n                    path: route.originalPath,\n                    pattern: route.pattern,\n                    match: path,\n                    params,\n                    info: route.info\n                }))));\n    }\n    const params = createMemoObject(() => {\n        const m = matches();\n        const params = {};\n        for (let i = 0; i < m.length; i++) {\n            Object.assign(params, m[i].params);\n        }\n        return params;\n    });\n    const disposers = [];\n    let root;\n    const routeStates = createMemo(on(matches, (nextMatches, prevMatches, prev) => {\n        let equal = prevMatches && nextMatches.length === prevMatches.length;\n        const next = [];\n        for (let i = 0, len = nextMatches.length; i < len; i++) {\n            const prevMatch = prevMatches && prevMatches[i];\n            const nextMatch = nextMatches[i];\n            if (prev && prevMatch && nextMatch.route.key === prevMatch.route.key) {\n                next[i] = prev[i];\n            }\n            else {\n                equal = false;\n                if (disposers[i]) {\n                    disposers[i]();\n                }\n                createRoot(dispose => {\n                    disposers[i] = dispose;\n                    next[i] = createRouteContext(props.routerState, next[i - 1] || props.routerState.base, createOutlet(() => routeStates()[i + 1]), () => matches()[i], params);\n                });\n            }\n        }\n        disposers.splice(nextMatches.length).forEach(dispose => dispose());\n        if (prev && equal) {\n            return prev;\n        }\n        root = next[0];\n        return next;\n    }));\n    return (<Show when={routeStates() && root} keyed>\n      {route => <RouteContextObj.Provider value={route}>{route.outlet()}</RouteContextObj.Provider>}\n    </Show>);\n}\nconst createOutlet = (child) => {\n    return () => (<Show when={child()} keyed>\n      {child => <RouteContextObj.Provider value={child}>{child.outlet()}</RouteContextObj.Provider>}\n    </Show>);\n};\nexport const Route = (props) => {\n    const childRoutes = children(() => props.children);\n    return mergeProps(props, {\n        get children() {\n            return childRoutes();\n        }\n    });\n};\n// for data only mode with single flight mutations\nfunction dataOnly(event, branches) {\n    const url = new URL(event.request.url);\n    const prevMatches = getRouteMatches(branches, new URL(event.router.previousUrl || event.request.url).pathname);\n    const matches = getRouteMatches(branches, url.pathname);\n    for (let match = 0; match < matches.length; match++) {\n        if (!prevMatches[match] || matches[match].route !== prevMatches[match].route)\n            event.router.dataOnly = true;\n        const { route, params } = matches[match];\n        route.load &&\n            route.load({\n                params,\n                location: {\n                    pathname: url.pathname,\n                    search: url.search,\n                    hash: url.hash,\n                    query: extractSearchParams(url),\n                    state: null,\n                    key: \"\"\n                },\n                intent: \"preload\"\n            });\n    }\n}\n","import { createSignal, onCleanup } from \"solid-js\";\nimport { createRouterComponent } from \"./components.jsx\";\nfunction intercept([value, setValue], get, set) {\n    return [get ? () => get(value()) : value, set ? (v) => setValue(set(v)) : setValue];\n}\nfunction querySelector(selector) {\n    if (selector === \"#\") {\n        return null;\n    }\n    // Guard against selector being an invalid CSS selector\n    try {\n        return document.querySelector(selector);\n    }\n    catch (e) {\n        return null;\n    }\n}\nexport function createRouter(config) {\n    let ignore = false;\n    const wrap = (value) => (typeof value === \"string\" ? { value } : value);\n    const signal = intercept(createSignal(wrap(config.get()), { equals: (a, b) => a.value === b.value }), undefined, next => {\n        !ignore && config.set(next);\n        return next;\n    });\n    config.init &&\n        onCleanup(config.init((value = config.get()) => {\n            ignore = true;\n            signal[1](wrap(value));\n            ignore = false;\n        }));\n    return createRouterComponent({\n        signal,\n        create: config.create,\n        utils: config.utils\n    });\n}\nexport function bindEvent(target, type, handler) {\n    target.addEventListener(type, handler);\n    return () => target.removeEventListener(type, handler);\n}\nexport function scrollToHash(hash, fallbackTop) {\n    const el = querySelector(`#${hash}`);\n    if (el) {\n        el.scrollIntoView();\n    }\n    else if (fallbackTop) {\n        window.scrollTo(0, 0);\n    }\n}\n","import { $TRACK, createMemo, createSignal, onCleanup, getOwner } from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\nimport { useRouter } from \"../routing.js\";\nimport { mockBase } from \"../utils.js\";\nimport { cacheKeyOp, hashKey, revalidate, cache } from \"./cache.js\";\nexport const actions = /* #__PURE__ */ new Map();\nexport function useSubmissions(fn, filter) {\n    const router = useRouter();\n    const subs = createMemo(() => router.submissions[0]().filter(s => s.url === fn.toString() && (!filter || filter(s.input))));\n    return new Proxy([], {\n        get(_, property) {\n            if (property === $TRACK)\n                return subs();\n            if (property === \"pending\")\n                return subs().some(sub => !sub.result);\n            return subs()[property];\n        }\n    });\n}\nexport function useSubmission(fn, filter) {\n    const submissions = useSubmissions(fn, filter);\n    return new Proxy({}, {\n        get(_, property) {\n            return submissions[submissions.length - 1]?.[property];\n        }\n    });\n}\nexport function useAction(action) {\n    const router = useRouter();\n    return (...args) => action.apply(router, args);\n}\nexport function action(fn, name) {\n    function mutate(...variables) {\n        const router = this;\n        const p = (router.singleFlight && fn.withOptions\n            ? fn.withOptions({ headers: { \"X-Single-Flight\": \"true\" } })\n            : fn)(...variables);\n        const [result, setResult] = createSignal();\n        let submission;\n        async function handler(res) {\n            const data = await handleResponse(res, router.navigatorFactory());\n            data ? setResult({ data }) : submission.clear();\n            return data;\n        }\n        router.submissions[1](s => [\n            ...s,\n            (submission = {\n                input: variables,\n                url,\n                get result() {\n                    return result()?.data;\n                },\n                get pending() {\n                    return !result();\n                },\n                clear() {\n                    router.submissions[1](v => v.filter(i => i.input !== variables));\n                },\n                retry() {\n                    setResult(undefined);\n                    const p = fn(...variables);\n                    return p.then(handler, handler);\n                }\n            })\n        ]);\n        return p.then(handler, handler);\n    }\n    const url = fn.url ||\n        (name && `https://action/${name}`) ||\n        (!isServer ? `https://action/${hashString(fn.toString())}` : \"\");\n    return toAction(mutate, url);\n}\nfunction toAction(fn, url) {\n    fn.toString = () => {\n        if (!url)\n            throw new Error(\"Client Actions need explicit names if server rendered\");\n        return url;\n    };\n    fn.with = function (...args) {\n        const newFn = function (...passedArgs) {\n            return fn.call(this, ...args, ...passedArgs);\n        };\n        const uri = new URL(url, mockBase);\n        uri.searchParams.set(\"args\", hashKey(args));\n        return toAction(newFn, (uri.origin === \"https://action\" ? uri.origin : \"\") + uri.pathname + uri.search);\n    };\n    fn.url = url;\n    if (!isServer) {\n        actions.set(url, fn);\n        getOwner() && onCleanup(() => actions.delete(url));\n    }\n    return fn;\n}\nconst hashString = (s) => s.split(\"\").reduce((a, b) => ((a << 5) - a + b.charCodeAt(0)) | 0, 0);\nasync function handleResponse(response, navigate) {\n    let data;\n    let keys;\n    let invalidateKeys;\n    if (response instanceof Response) {\n        if (response.headers.has(\"X-Revalidate\"))\n            keys = invalidateKeys = response.headers.get(\"X-Revalidate\").split(\",\");\n        if (response.customBody) {\n            data = await response.customBody();\n            if (response.headers.has(\"X-Single-Flight\")) {\n                keys || (keys = []);\n                invalidateKeys || (invalidateKeys = []);\n                Object.keys(data).forEach(key => {\n                    if (key === \"_$value\")\n                        return;\n                    keys.push(key);\n                    cache.set(key, data[key]);\n                });\n                data = data._$value;\n            }\n        }\n        if (response.headers.has(\"Location\")) {\n            const locationUrl = response.headers.get(\"Location\") || \"/\";\n            if (locationUrl.startsWith(\"http\")) {\n                window.location.href = locationUrl;\n            }\n            else {\n                navigate(locationUrl);\n            }\n        }\n    }\n    else\n        data = response;\n    // invalidate\n    cacheKeyOp(invalidateKeys, entry => (entry[0] = 0));\n    // trigger revalidation\n    await revalidate(keys, false);\n    return data;\n}\n","import { delegateEvents } from \"solid-js/web\";\nimport { onCleanup } from \"solid-js\";\nimport { actions } from \"./action.js\";\nimport { mockBase } from \"../utils.js\";\nexport function setupNativeEvents(preload = true, explicitLinks = false, actionBase = \"/_server\") {\n    return (router) => {\n        const basePath = router.base.path();\n        const navigateFromRoute = router.navigatorFactory(router.base);\n        let preloadTimeout = {};\n        function isSvg(el) {\n            return el.namespaceURI === \"http://www.w3.org/2000/svg\";\n        }\n        function handleAnchor(evt) {\n            if (evt.defaultPrevented ||\n                evt.button !== 0 ||\n                evt.metaKey ||\n                evt.altKey ||\n                evt.ctrlKey ||\n                evt.shiftKey)\n                return;\n            const a = evt\n                .composedPath()\n                .find(el => el instanceof Node && el.nodeName.toUpperCase() === \"A\");\n            if (!a || (explicitLinks && !a.hasAttribute(\"link\")))\n                return;\n            const svg = isSvg(a);\n            const href = svg ? a.href.baseVal : a.href;\n            const target = svg ? a.target.baseVal : a.target;\n            if (target || (!href && !a.hasAttribute(\"state\")))\n                return;\n            const rel = (a.getAttribute(\"rel\") || \"\").split(/\\s+/);\n            if (a.hasAttribute(\"download\") || (rel && rel.includes(\"external\")))\n                return;\n            const url = svg ? new URL(href, document.baseURI) : new URL(href);\n            if (url.origin !== window.location.origin ||\n                (basePath && url.pathname && !url.pathname.toLowerCase().startsWith(basePath.toLowerCase())))\n                return;\n            return [a, url];\n        }\n        function handleAnchorClick(evt) {\n            const res = handleAnchor(evt);\n            if (!res)\n                return;\n            const [a, url] = res;\n            const to = router.parsePath(url.pathname + url.search + url.hash);\n            const state = a.getAttribute(\"state\");\n            evt.preventDefault();\n            navigateFromRoute(to, {\n                resolve: false,\n                replace: a.hasAttribute(\"replace\"),\n                scroll: !a.hasAttribute(\"noscroll\"),\n                state: state && JSON.parse(state)\n            });\n        }\n        function handleAnchorPreload(evt) {\n            const res = handleAnchor(evt);\n            if (!res)\n                return;\n            const [a, url] = res;\n            if (!preloadTimeout[url.pathname])\n                router.preloadRoute(url, a.getAttribute(\"preload\") !== \"false\");\n        }\n        function handleAnchorIn(evt) {\n            const res = handleAnchor(evt);\n            if (!res)\n                return;\n            const [a, url] = res;\n            if (preloadTimeout[url.pathname])\n                return;\n            preloadTimeout[url.pathname] = setTimeout(() => {\n                router.preloadRoute(url, a.getAttribute(\"preload\") !== \"false\");\n                delete preloadTimeout[url.pathname];\n            }, 200);\n        }\n        function handleAnchorOut(evt) {\n            const res = handleAnchor(evt);\n            if (!res)\n                return;\n            const [, url] = res;\n            if (preloadTimeout[url.pathname]) {\n                clearTimeout(preloadTimeout[url.pathname]);\n                delete preloadTimeout[url.pathname];\n            }\n        }\n        function handleFormSubmit(evt) {\n            let actionRef = evt.submitter && evt.submitter.hasAttribute(\"formaction\")\n                ? evt.submitter.getAttribute(\"formaction\")\n                : evt.target.getAttribute(\"action\");\n            if (!actionRef)\n                return;\n            if (!actionRef.startsWith(\"https://action/\")) {\n                // normalize server actions\n                const url = new URL(actionRef, mockBase);\n                actionRef = router.parsePath(url.pathname + url.search);\n                if (!actionRef.startsWith(actionBase))\n                    return;\n            }\n            if (evt.target.method.toUpperCase() !== \"POST\")\n                throw new Error(\"Only POST forms are supported for Actions\");\n            const handler = actions.get(actionRef);\n            if (handler) {\n                evt.preventDefault();\n                const data = new FormData(evt.target);\n                if (evt.submitter && evt.submitter.name)\n                    data.append(evt.submitter.name, evt.submitter.value);\n                handler.call(router, data);\n            }\n        }\n        // ensure delegated event run first\n        delegateEvents([\"click\", \"submit\"]);\n        document.addEventListener(\"click\", handleAnchorClick);\n        if (preload) {\n            document.addEventListener(\"mouseover\", handleAnchorIn);\n            document.addEventListener(\"mouseout\", handleAnchorOut);\n            document.addEventListener(\"focusin\", handleAnchorPreload);\n            document.addEventListener(\"touchstart\", handleAnchorPreload);\n        }\n        document.addEventListener(\"submit\", handleFormSubmit);\n        onCleanup(() => {\n            document.removeEventListener(\"click\", handleAnchorClick);\n            if (preload) {\n                document.removeEventListener(\"mouseover\", handleAnchorIn);\n                document.removeEventListener(\"mouseout\", handleAnchorOut);\n                document.removeEventListener(\"focusin\", handleAnchorPreload);\n                document.removeEventListener(\"touchstart\", handleAnchorPreload);\n            }\n            document.removeEventListener(\"submit\", handleFormSubmit);\n        });\n    };\n}\n","import { isServer } from \"solid-js/web\";\nimport { createRouter, scrollToHash, bindEvent } from \"./createRouter.js\";\nimport { StaticRouter } from \"./StaticRouter.js\";\nimport { setupNativeEvents } from \"../data/events.js\";\nimport { createBeforeLeave, keepDepth, notifyIfNotBlocked, saveCurrentDepth } from \"../lifecycle.js\";\nexport function Router(props) {\n    if (isServer)\n        return StaticRouter(props);\n    const getSource = () => ({\n        value: window.location.pathname + window.location.search + window.location.hash,\n        state: window.history.state\n    });\n    const beforeLeave = createBeforeLeave();\n    return createRouter({\n        get: getSource,\n        set({ value, replace, scroll, state }) {\n            if (replace) {\n                window.history.replaceState(keepDepth(state), \"\", value);\n            }\n            else {\n                window.history.pushState(state, \"\", value);\n            }\n            scrollToHash(window.location.hash.slice(1), scroll);\n            saveCurrentDepth();\n        },\n        init: notify => bindEvent(window, \"popstate\", notifyIfNotBlocked(notify, delta => {\n            if (delta && delta < 0) {\n                return !beforeLeave.confirm(delta);\n            }\n            else {\n                const s = getSource();\n                return !beforeLeave.confirm(s.value, { state: s.state });\n            }\n        })),\n        create: setupNativeEvents(props.preload, props.explicitLinks, props.actionBase),\n        utils: {\n            go: delta => window.history.go(delta),\n            beforeLeave\n        }\n    })(props);\n}\n","import { $PROXY, $TRACK, getListener, batch, createSignal } from 'solid-js';\n\nconst $RAW = Symbol(\"store-raw\"),\n  $NODE = Symbol(\"store-node\"),\n  $HAS = Symbol(\"store-has\"),\n  $SELF = Symbol(\"store-self\");\nfunction wrap$1(value) {\n  let p = value[$PROXY];\n  if (!p) {\n    Object.defineProperty(value, $PROXY, {\n      value: p = new Proxy(value, proxyTraps$1)\n    });\n    if (!Array.isArray(value)) {\n      const keys = Object.keys(value),\n        desc = Object.getOwnPropertyDescriptors(value);\n      for (let i = 0, l = keys.length; i < l; i++) {\n        const prop = keys[i];\n        if (desc[prop].get) {\n          Object.defineProperty(value, prop, {\n            enumerable: desc[prop].enumerable,\n            get: desc[prop].get.bind(p)\n          });\n        }\n      }\n    }\n  }\n  return p;\n}\nfunction isWrappable(obj) {\n  let proto;\n  return obj != null && typeof obj === \"object\" && (obj[$PROXY] || !(proto = Object.getPrototypeOf(obj)) || proto === Object.prototype || Array.isArray(obj));\n}\nfunction unwrap(item, set = new Set()) {\n  let result, unwrapped, v, prop;\n  if (result = item != null && item[$RAW]) return result;\n  if (!isWrappable(item) || set.has(item)) return item;\n  if (Array.isArray(item)) {\n    if (Object.isFrozen(item)) item = item.slice(0);else set.add(item);\n    for (let i = 0, l = item.length; i < l; i++) {\n      v = item[i];\n      if ((unwrapped = unwrap(v, set)) !== v) item[i] = unwrapped;\n    }\n  } else {\n    if (Object.isFrozen(item)) item = Object.assign({}, item);else set.add(item);\n    const keys = Object.keys(item),\n      desc = Object.getOwnPropertyDescriptors(item);\n    for (let i = 0, l = keys.length; i < l; i++) {\n      prop = keys[i];\n      if (desc[prop].get) continue;\n      v = item[prop];\n      if ((unwrapped = unwrap(v, set)) !== v) item[prop] = unwrapped;\n    }\n  }\n  return item;\n}\nfunction getNodes(target, symbol) {\n  let nodes = target[symbol];\n  if (!nodes) Object.defineProperty(target, symbol, {\n    value: nodes = Object.create(null)\n  });\n  return nodes;\n}\nfunction getNode(nodes, property, value) {\n  if (nodes[property]) return nodes[property];\n  const [s, set] = createSignal(value, {\n    equals: false,\n    internal: true\n  });\n  s.$ = set;\n  return nodes[property] = s;\n}\nfunction proxyDescriptor$1(target, property) {\n  const desc = Reflect.getOwnPropertyDescriptor(target, property);\n  if (!desc || desc.get || !desc.configurable || property === $PROXY || property === $NODE) return desc;\n  delete desc.value;\n  delete desc.writable;\n  desc.get = () => target[$PROXY][property];\n  return desc;\n}\nfunction trackSelf(target) {\n  getListener() && getNode(getNodes(target, $NODE), $SELF)();\n}\nfunction ownKeys(target) {\n  trackSelf(target);\n  return Reflect.ownKeys(target);\n}\nconst proxyTraps$1 = {\n  get(target, property, receiver) {\n    if (property === $RAW) return target;\n    if (property === $PROXY) return receiver;\n    if (property === $TRACK) {\n      trackSelf(target);\n      return receiver;\n    }\n    const nodes = getNodes(target, $NODE);\n    const tracked = nodes[property];\n    let value = tracked ? tracked() : target[property];\n    if (property === $NODE || property === $HAS || property === \"__proto__\") return value;\n    if (!tracked) {\n      const desc = Object.getOwnPropertyDescriptor(target, property);\n      if (getListener() && (typeof value !== \"function\" || target.hasOwnProperty(property)) && !(desc && desc.get)) value = getNode(nodes, property, value)();\n    }\n    return isWrappable(value) ? wrap$1(value) : value;\n  },\n  has(target, property) {\n    if (property === $RAW || property === $PROXY || property === $TRACK || property === $NODE || property === $HAS || property === \"__proto__\") return true;\n    getListener() && getNode(getNodes(target, $HAS), property)();\n    return property in target;\n  },\n  set() {\n    return true;\n  },\n  deleteProperty() {\n    return true;\n  },\n  ownKeys: ownKeys,\n  getOwnPropertyDescriptor: proxyDescriptor$1\n};\nfunction setProperty(state, property, value, deleting = false) {\n  if (!deleting && state[property] === value) return;\n  const prev = state[property],\n    len = state.length;\n  if (value === undefined) {\n    delete state[property];\n    if (state[$HAS] && state[$HAS][property] && prev !== undefined) state[$HAS][property].$();\n  } else {\n    state[property] = value;\n    if (state[$HAS] && state[$HAS][property] && prev === undefined) state[$HAS][property].$();\n  }\n  let nodes = getNodes(state, $NODE),\n    node;\n  if (node = getNode(nodes, property, prev)) node.$(() => value);\n  if (Array.isArray(state) && state.length !== len) {\n    for (let i = state.length; i < len; i++) (node = nodes[i]) && node.$();\n    (node = getNode(nodes, \"length\", len)) && node.$(state.length);\n  }\n  (node = nodes[$SELF]) && node.$();\n}\nfunction mergeStoreNode(state, value) {\n  const keys = Object.keys(value);\n  for (let i = 0; i < keys.length; i += 1) {\n    const key = keys[i];\n    setProperty(state, key, value[key]);\n  }\n}\nfunction updateArray(current, next) {\n  if (typeof next === \"function\") next = next(current);\n  next = unwrap(next);\n  if (Array.isArray(next)) {\n    if (current === next) return;\n    let i = 0,\n      len = next.length;\n    for (; i < len; i++) {\n      const value = next[i];\n      if (current[i] !== value) setProperty(current, i, value);\n    }\n    setProperty(current, \"length\", len);\n  } else mergeStoreNode(current, next);\n}\nfunction updatePath(current, path, traversed = []) {\n  let part,\n    prev = current;\n  if (path.length > 1) {\n    part = path.shift();\n    const partType = typeof part,\n      isArray = Array.isArray(current);\n    if (Array.isArray(part)) {\n      for (let i = 0; i < part.length; i++) {\n        updatePath(current, [part[i]].concat(path), traversed);\n      }\n      return;\n    } else if (isArray && partType === \"function\") {\n      for (let i = 0; i < current.length; i++) {\n        if (part(current[i], i)) updatePath(current, [i].concat(path), traversed);\n      }\n      return;\n    } else if (isArray && partType === \"object\") {\n      const {\n        from = 0,\n        to = current.length - 1,\n        by = 1\n      } = part;\n      for (let i = from; i <= to; i += by) {\n        updatePath(current, [i].concat(path), traversed);\n      }\n      return;\n    } else if (path.length > 1) {\n      updatePath(current[part], path, [part].concat(traversed));\n      return;\n    }\n    prev = current[part];\n    traversed = [part].concat(traversed);\n  }\n  let value = path[0];\n  if (typeof value === \"function\") {\n    value = value(prev, traversed);\n    if (value === prev) return;\n  }\n  if (part === undefined && value == undefined) return;\n  value = unwrap(value);\n  if (part === undefined || isWrappable(prev) && isWrappable(value) && !Array.isArray(value)) {\n    mergeStoreNode(prev, value);\n  } else setProperty(current, part, value);\n}\nfunction createStore(...[store, options]) {\n  const unwrappedStore = unwrap(store || {});\n  const isArray = Array.isArray(unwrappedStore);\n  const wrappedStore = wrap$1(unwrappedStore);\n  function setStore(...args) {\n    batch(() => {\n      isArray && args.length === 1 ? updateArray(unwrappedStore, args[0]) : updatePath(unwrappedStore, args);\n    });\n  }\n  return [wrappedStore, setStore];\n}\n\nfunction proxyDescriptor(target, property) {\n  const desc = Reflect.getOwnPropertyDescriptor(target, property);\n  if (!desc || desc.get || desc.set || !desc.configurable || property === $PROXY || property === $NODE) return desc;\n  delete desc.value;\n  delete desc.writable;\n  desc.get = () => target[$PROXY][property];\n  desc.set = v => target[$PROXY][property] = v;\n  return desc;\n}\nconst proxyTraps = {\n  get(target, property, receiver) {\n    if (property === $RAW) return target;\n    if (property === $PROXY) return receiver;\n    if (property === $TRACK) {\n      trackSelf(target);\n      return receiver;\n    }\n    const nodes = getNodes(target, $NODE);\n    const tracked = nodes[property];\n    let value = tracked ? tracked() : target[property];\n    if (property === $NODE || property === $HAS || property === \"__proto__\") return value;\n    if (!tracked) {\n      const desc = Object.getOwnPropertyDescriptor(target, property);\n      const isFunction = typeof value === \"function\";\n      if (getListener() && (!isFunction || target.hasOwnProperty(property)) && !(desc && desc.get)) value = getNode(nodes, property, value)();else if (value != null && isFunction && value === Array.prototype[property]) {\n        return (...args) => batch(() => Array.prototype[property].apply(receiver, args));\n      }\n    }\n    return isWrappable(value) ? wrap(value) : value;\n  },\n  has(target, property) {\n    if (property === $RAW || property === $PROXY || property === $TRACK || property === $NODE || property === $HAS || property === \"__proto__\") return true;\n    getListener() && getNode(getNodes(target, $HAS), property)();\n    return property in target;\n  },\n  set(target, property, value) {\n    batch(() => setProperty(target, property, unwrap(value)));\n    return true;\n  },\n  deleteProperty(target, property) {\n    batch(() => setProperty(target, property, undefined, true));\n    return true;\n  },\n  ownKeys: ownKeys,\n  getOwnPropertyDescriptor: proxyDescriptor\n};\nfunction wrap(value) {\n  let p = value[$PROXY];\n  if (!p) {\n    Object.defineProperty(value, $PROXY, {\n      value: p = new Proxy(value, proxyTraps)\n    });\n    const keys = Object.keys(value),\n      desc = Object.getOwnPropertyDescriptors(value);\n    for (let i = 0, l = keys.length; i < l; i++) {\n      const prop = keys[i];\n      if (desc[prop].get) {\n        const get = desc[prop].get.bind(p);\n        Object.defineProperty(value, prop, {\n          get\n        });\n      }\n      if (desc[prop].set) {\n        const og = desc[prop].set,\n          set = v => batch(() => og.call(p, v));\n        Object.defineProperty(value, prop, {\n          set\n        });\n      }\n    }\n  }\n  return p;\n}\nfunction createMutable(state, options) {\n  const unwrappedStore = unwrap(state || {});\n  const wrappedStore = wrap(unwrappedStore);\n  return wrappedStore;\n}\nfunction modifyMutable(state, modifier) {\n  batch(() => modifier(unwrap(state)));\n}\n\nconst $ROOT = Symbol(\"store-root\");\nfunction applyState(target, parent, property, merge, key) {\n  const previous = parent[property];\n  if (target === previous) return;\n  if (property !== $ROOT && (!isWrappable(target) || !isWrappable(previous) || key && target[key] !== previous[key])) {\n    setProperty(parent, property, target);\n    return;\n  }\n  if (Array.isArray(target)) {\n    if (target.length && previous.length && (!merge || key && target[0] && target[0][key] != null)) {\n      let i, j, start, end, newEnd, item, newIndicesNext, keyVal;\n      for (start = 0, end = Math.min(previous.length, target.length); start < end && (previous[start] === target[start] || key && previous[start] && target[start] && previous[start][key] === target[start][key]); start++) {\n        applyState(target[start], previous, start, merge, key);\n      }\n      const temp = new Array(target.length),\n        newIndices = new Map();\n      for (end = previous.length - 1, newEnd = target.length - 1; end >= start && newEnd >= start && (previous[end] === target[newEnd] || key && previous[start] && target[start] && previous[end][key] === target[newEnd][key]); end--, newEnd--) {\n        temp[newEnd] = previous[end];\n      }\n      if (start > newEnd || start > end) {\n        for (j = start; j <= newEnd; j++) setProperty(previous, j, target[j]);\n        for (; j < target.length; j++) {\n          setProperty(previous, j, temp[j]);\n          applyState(target[j], previous, j, merge, key);\n        }\n        if (previous.length > target.length) setProperty(previous, \"length\", target.length);\n        return;\n      }\n      newIndicesNext = new Array(newEnd + 1);\n      for (j = newEnd; j >= start; j--) {\n        item = target[j];\n        keyVal = key && item ? item[key] : item;\n        i = newIndices.get(keyVal);\n        newIndicesNext[j] = i === undefined ? -1 : i;\n        newIndices.set(keyVal, j);\n      }\n      for (i = start; i <= end; i++) {\n        item = previous[i];\n        keyVal = key && item ? item[key] : item;\n        j = newIndices.get(keyVal);\n        if (j !== undefined && j !== -1) {\n          temp[j] = previous[i];\n          j = newIndicesNext[j];\n          newIndices.set(keyVal, j);\n        }\n      }\n      for (j = start; j < target.length; j++) {\n        if (j in temp) {\n          setProperty(previous, j, temp[j]);\n          applyState(target[j], previous, j, merge, key);\n        } else setProperty(previous, j, target[j]);\n      }\n    } else {\n      for (let i = 0, len = target.length; i < len; i++) {\n        applyState(target[i], previous, i, merge, key);\n      }\n    }\n    if (previous.length > target.length) setProperty(previous, \"length\", target.length);\n    return;\n  }\n  const targetKeys = Object.keys(target);\n  for (let i = 0, len = targetKeys.length; i < len; i++) {\n    applyState(target[targetKeys[i]], previous, targetKeys[i], merge, key);\n  }\n  const previousKeys = Object.keys(previous);\n  for (let i = 0, len = previousKeys.length; i < len; i++) {\n    if (target[previousKeys[i]] === undefined) setProperty(previous, previousKeys[i], undefined);\n  }\n}\nfunction reconcile(value, options = {}) {\n  const {\n      merge,\n      key = \"id\"\n    } = options,\n    v = unwrap(value);\n  return state => {\n    if (!isWrappable(state) || !isWrappable(v)) return v;\n    const res = applyState(v, {\n      [$ROOT]: state\n    }, $ROOT, merge, key);\n    return res === undefined ? state : res;\n  };\n}\nconst producers = new WeakMap();\nconst setterTraps = {\n  get(target, property) {\n    if (property === $RAW) return target;\n    const value = target[property];\n    let proxy;\n    return isWrappable(value) ? producers.get(value) || (producers.set(value, proxy = new Proxy(value, setterTraps)), proxy) : value;\n  },\n  set(target, property, value) {\n    setProperty(target, property, unwrap(value));\n    return true;\n  },\n  deleteProperty(target, property) {\n    setProperty(target, property, undefined, true);\n    return true;\n  }\n};\nfunction produce(fn) {\n  return state => {\n    if (isWrappable(state)) {\n      let proxy;\n      if (!(proxy = producers.get(state))) {\n        producers.set(state, proxy = new Proxy(state, setterTraps));\n      }\n      fn(proxy);\n    }\n    return state;\n  };\n}\n\nconst DEV = undefined;\n\nexport { $RAW, DEV, createMutable, createStore, modifyMutable, produce, reconcile, unwrap };\n","'use strict'\n\nmodule.exports = isMobile\nmodule.exports.isMobile = isMobile\nmodule.exports.default = isMobile\n\nconst mobileRE = /(android|bb\\d+|meego).+mobile|armv7l|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i\nconst notMobileRE = /CrOS/\n\nconst tabletRE = /android|ipad|playbook|silk/i\n\nfunction isMobile (opts) {\n  if (!opts) opts = {}\n  let ua = opts.ua\n  if (!ua && typeof navigator !== 'undefined') ua = navigator.userAgent\n  if (ua && ua.headers && typeof ua.headers['user-agent'] === 'string') {\n    ua = ua.headers['user-agent']\n  }\n  if (typeof ua !== 'string') return false\n\n  let result =\n    (mobileRE.test(ua) && !notMobileRE.test(ua)) ||\n    (!!opts.tablet && tabletRE.test(ua))\n\n  if (\n    !result &&\n    opts.tablet &&\n    opts.featureDetect &&\n    navigator &&\n    navigator.maxTouchPoints > 1 &&\n    ua.indexOf('Macintosh') !== -1 &&\n    ua.indexOf('Safari') !== -1\n  ) {\n    result = true\n  }\n\n  return result\n}\n","export function getOS(): \"Apple\" | \"Linux\" | \"Windows\" | \"Unknown\" {\n  // @ts-ignore\n  const platform = navigator?.userAgentData?.platform || navigator?.platform\n\n  if (typeof platform !== \"string\") {\n    return \"Unknown\"\n  }\n\n  if (/^(iOS|iPhone|iPad|Mac)/i.test(platform)) {\n    return \"Apple\"\n  }\n\n  if (/^(Linux)/i.test(platform)) {\n    return \"Linux\"\n  }\n\n  if (/^(Win)/i.test(platform)) {\n    return \"Windows\"\n  }\n\n  return \"Unknown\"\n}\n","import { getOS } from \"./getOS\"\n\nexport function isApple() {\n  const os = getOS()\n  return os === \"Apple\"\n}\n","import isMobile from \"is-mobile\"\nimport { isApple } from \"./utils/isApple\"\nimport { getOS } from \"./utils/getOS\"\n\nconst CHARACTERS_PER_PAGE = 2000 // https://ux.stackexchange.com/questions/133883/is-there-any-specific-maximum-number-of-characters-within-a-single-page-to-be-co\nconst MAX_PAGES_PER_SCREEN = 2\nconst MIN_PB_PARAGRAPH_LENGTH = 5 * 10\n\nexport default {\n  CHARACTERS_PER_PAGE,\n  OS: getOS(),\n  IS_MOBILE: isMobile(),\n  IS_APPLE: isApple(),\n  AFK_BOUNDRY: 5000, // ms\n  AFK_PENALTY: 1000, // ms\n  MAX_CHARS_PER_SCREEN: CHARACTERS_PER_PAGE * MAX_PAGES_PER_SCREEN,\n  ENTER_SYMBOL: \"\",\n  DAYS_AS_NEW: 7,\n  MIN_PB_PARAGRAPH_LENGTH,\n  MIN_PB_CHAPTER_LENGTH: MIN_PB_PARAGRAPH_LENGTH * 10,\n  MAX_RECENT_PARAGRAPHS: 50,\n  NEXT_DAY_AT_HOUR: 4,\n  DAILY_GOAL_MINUTES: 15,\n  DOMAINS: new Set([\"entertrained.app\", \"entertrained.netlify.app\"]),\n}\n","export async function fetchJSON(path: string) {\n  const res = await fetch(path)\n\n  if (!res.ok) {\n    return null\n  }\n\n  try {\n    return res.json()\n  } catch (e) {\n    console.error(e)\n    return null\n  }\n}\n","import type { BooksIndex } from \"../../types/common\"\nimport { fetchJSON } from \"./fetchJSON\"\n\nexport function getBooksIndexLastUpdate() {\n  console.log(\"Fetching last books index update\")\n  return fetchJSON(\"/books/_meta_/lastUpdate.json\") as Promise<number>\n}\n\nexport function getBooksIndex() {\n  console.log(\"Fetching books index\")\n  return fetchJSON(\"/books/_meta_/index.json\") as Promise<BooksIndex>\n}\n","/*!\n    localForage -- Offline Storage, Improved\n    Version 1.10.0\n    https://localforage.github.io/localForage\n    (c) 2013-2017 Mozilla, Apache License 2.0\n*/\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.localforage = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw (f.code=\"MODULE_NOT_FOUND\", f)}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nvar scheduleDrain;\n\n{\n  if (Mutation) {\n    var called = 0;\n    var observer = new Mutation(nextTick);\n    var element = global.document.createTextNode('');\n    observer.observe(element, {\n      characterData: true\n    });\n    scheduleDrain = function () {\n      element.data = (called = ++called % 2);\n    };\n  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n    var channel = new global.MessageChannel();\n    channel.port1.onmessage = nextTick;\n    scheduleDrain = function () {\n      channel.port2.postMessage(0);\n    };\n  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n    scheduleDrain = function () {\n\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var scriptEl = global.document.createElement('script');\n      scriptEl.onreadystatechange = function () {\n        nextTick();\n\n        scriptEl.onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        scriptEl = null;\n      };\n      global.document.documentElement.appendChild(scriptEl);\n    };\n  } else {\n    scheduleDrain = function () {\n      setTimeout(nextTick, 0);\n    };\n  }\n}\n\nvar draining;\nvar queue = [];\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  draining = true;\n  var i, oldQueue;\n  var len = queue.length;\n  while (len) {\n    oldQueue = queue;\n    queue = [];\n    i = -1;\n    while (++i < len) {\n      oldQueue[i]();\n    }\n    len = queue.length;\n  }\n  draining = false;\n}\n\nmodule.exports = immediate;\nfunction immediate(task) {\n  if (queue.push(task) === 1 && !draining) {\n    scheduleDrain();\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(_dereq_,module,exports){\n'use strict';\nvar immediate = _dereq_(1);\n\n/* istanbul ignore next */\nfunction INTERNAL() {}\n\nvar handlers = {};\n\nvar REJECTED = ['REJECTED'];\nvar FULFILLED = ['FULFILLED'];\nvar PENDING = ['PENDING'];\n\nmodule.exports = Promise;\n\nfunction Promise(resolver) {\n  if (typeof resolver !== 'function') {\n    throw new TypeError('resolver must be a function');\n  }\n  this.state = PENDING;\n  this.queue = [];\n  this.outcome = void 0;\n  if (resolver !== INTERNAL) {\n    safelyResolveThenable(this, resolver);\n  }\n}\n\nPromise.prototype[\"catch\"] = function (onRejected) {\n  return this.then(null, onRejected);\n};\nPromise.prototype.then = function (onFulfilled, onRejected) {\n  if (typeof onFulfilled !== 'function' && this.state === FULFILLED ||\n    typeof onRejected !== 'function' && this.state === REJECTED) {\n    return this;\n  }\n  var promise = new this.constructor(INTERNAL);\n  if (this.state !== PENDING) {\n    var resolver = this.state === FULFILLED ? onFulfilled : onRejected;\n    unwrap(promise, resolver, this.outcome);\n  } else {\n    this.queue.push(new QueueItem(promise, onFulfilled, onRejected));\n  }\n\n  return promise;\n};\nfunction QueueItem(promise, onFulfilled, onRejected) {\n  this.promise = promise;\n  if (typeof onFulfilled === 'function') {\n    this.onFulfilled = onFulfilled;\n    this.callFulfilled = this.otherCallFulfilled;\n  }\n  if (typeof onRejected === 'function') {\n    this.onRejected = onRejected;\n    this.callRejected = this.otherCallRejected;\n  }\n}\nQueueItem.prototype.callFulfilled = function (value) {\n  handlers.resolve(this.promise, value);\n};\nQueueItem.prototype.otherCallFulfilled = function (value) {\n  unwrap(this.promise, this.onFulfilled, value);\n};\nQueueItem.prototype.callRejected = function (value) {\n  handlers.reject(this.promise, value);\n};\nQueueItem.prototype.otherCallRejected = function (value) {\n  unwrap(this.promise, this.onRejected, value);\n};\n\nfunction unwrap(promise, func, value) {\n  immediate(function () {\n    var returnValue;\n    try {\n      returnValue = func(value);\n    } catch (e) {\n      return handlers.reject(promise, e);\n    }\n    if (returnValue === promise) {\n      handlers.reject(promise, new TypeError('Cannot resolve promise with itself'));\n    } else {\n      handlers.resolve(promise, returnValue);\n    }\n  });\n}\n\nhandlers.resolve = function (self, value) {\n  var result = tryCatch(getThen, value);\n  if (result.status === 'error') {\n    return handlers.reject(self, result.value);\n  }\n  var thenable = result.value;\n\n  if (thenable) {\n    safelyResolveThenable(self, thenable);\n  } else {\n    self.state = FULFILLED;\n    self.outcome = value;\n    var i = -1;\n    var len = self.queue.length;\n    while (++i < len) {\n      self.queue[i].callFulfilled(value);\n    }\n  }\n  return self;\n};\nhandlers.reject = function (self, error) {\n  self.state = REJECTED;\n  self.outcome = error;\n  var i = -1;\n  var len = self.queue.length;\n  while (++i < len) {\n    self.queue[i].callRejected(error);\n  }\n  return self;\n};\n\nfunction getThen(obj) {\n  // Make sure we only access the accessor once as required by the spec\n  var then = obj && obj.then;\n  if (obj && (typeof obj === 'object' || typeof obj === 'function') && typeof then === 'function') {\n    return function appyThen() {\n      then.apply(obj, arguments);\n    };\n  }\n}\n\nfunction safelyResolveThenable(self, thenable) {\n  // Either fulfill, reject or reject with error\n  var called = false;\n  function onError(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.reject(self, value);\n  }\n\n  function onSuccess(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.resolve(self, value);\n  }\n\n  function tryToUnwrap() {\n    thenable(onSuccess, onError);\n  }\n\n  var result = tryCatch(tryToUnwrap);\n  if (result.status === 'error') {\n    onError(result.value);\n  }\n}\n\nfunction tryCatch(func, value) {\n  var out = {};\n  try {\n    out.value = func(value);\n    out.status = 'success';\n  } catch (e) {\n    out.status = 'error';\n    out.value = e;\n  }\n  return out;\n}\n\nPromise.resolve = resolve;\nfunction resolve(value) {\n  if (value instanceof this) {\n    return value;\n  }\n  return handlers.resolve(new this(INTERNAL), value);\n}\n\nPromise.reject = reject;\nfunction reject(reason) {\n  var promise = new this(INTERNAL);\n  return handlers.reject(promise, reason);\n}\n\nPromise.all = all;\nfunction all(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var values = new Array(len);\n  var resolved = 0;\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    allResolver(iterable[i], i);\n  }\n  return promise;\n  function allResolver(value, i) {\n    self.resolve(value).then(resolveFromAll, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n    function resolveFromAll(outValue) {\n      values[i] = outValue;\n      if (++resolved === len && !called) {\n        called = true;\n        handlers.resolve(promise, values);\n      }\n    }\n  }\n}\n\nPromise.race = race;\nfunction race(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    resolver(iterable[i]);\n  }\n  return promise;\n  function resolver(value) {\n    self.resolve(value).then(function (response) {\n      if (!called) {\n        called = true;\n        handlers.resolve(promise, response);\n      }\n    }, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n  }\n}\n\n},{\"1\":1}],3:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nif (typeof global.Promise !== 'function') {\n  global.Promise = _dereq_(2);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"2\":2}],4:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getIDB() {\n    /* global indexedDB,webkitIndexedDB,mozIndexedDB,OIndexedDB,msIndexedDB */\n    try {\n        if (typeof indexedDB !== 'undefined') {\n            return indexedDB;\n        }\n        if (typeof webkitIndexedDB !== 'undefined') {\n            return webkitIndexedDB;\n        }\n        if (typeof mozIndexedDB !== 'undefined') {\n            return mozIndexedDB;\n        }\n        if (typeof OIndexedDB !== 'undefined') {\n            return OIndexedDB;\n        }\n        if (typeof msIndexedDB !== 'undefined') {\n            return msIndexedDB;\n        }\n    } catch (e) {\n        return;\n    }\n}\n\nvar idb = getIDB();\n\nfunction isIndexedDBValid() {\n    try {\n        // Initialize IndexedDB; fall back to vendor-prefixed versions\n        // if needed.\n        if (!idb || !idb.open) {\n            return false;\n        }\n        // We mimic PouchDB here;\n        //\n        // We test for openDatabase because IE Mobile identifies itself\n        // as Safari. Oh the lulz...\n        var isSafari = typeof openDatabase !== 'undefined' && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n\n        var hasFetch = typeof fetch === 'function' && fetch.toString().indexOf('[native code') !== -1;\n\n        // Safari <10.1 does not meet our requirements for IDB support\n        // (see: https://github.com/pouchdb/pouchdb/issues/5572).\n        // Safari 10.1 shipped with fetch, we can use that to detect it.\n        // Note: this creates issues with `window.fetch` polyfills and\n        // overrides; see:\n        // https://github.com/localForage/localForage/issues/856\n        return (!isSafari || hasFetch) && typeof indexedDB !== 'undefined' &&\n        // some outdated implementations of IDB that appear on Samsung\n        // and HTC Android devices <4.4 are missing IDBKeyRange\n        // See: https://github.com/mozilla/localForage/issues/128\n        // See: https://github.com/mozilla/localForage/issues/272\n        typeof IDBKeyRange !== 'undefined';\n    } catch (e) {\n        return false;\n    }\n}\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\nfunction createBlob(parts, properties) {\n    /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n    parts = parts || [];\n    properties = properties || {};\n    try {\n        return new Blob(parts, properties);\n    } catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder : typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n\n// This is CommonJS because lie is an external dependency, so Rollup\n// can just ignore it.\nif (typeof Promise === 'undefined') {\n    // In the \"nopromises\" build this will just throw if you don't have\n    // a global promise object, but it would throw anyway later.\n    _dereq_(3);\n}\nvar Promise$1 = Promise;\n\nfunction executeCallback(promise, callback) {\n    if (callback) {\n        promise.then(function (result) {\n            callback(null, result);\n        }, function (error) {\n            callback(error);\n        });\n    }\n}\n\nfunction executeTwoCallbacks(promise, callback, errorCallback) {\n    if (typeof callback === 'function') {\n        promise.then(callback);\n    }\n\n    if (typeof errorCallback === 'function') {\n        promise[\"catch\"](errorCallback);\n    }\n}\n\nfunction normalizeKey(key) {\n    // Cast the key to a string, as that's all we can set as a key.\n    if (typeof key !== 'string') {\n        console.warn(key + ' used as a key, but it is not a string.');\n        key = String(key);\n    }\n\n    return key;\n}\n\nfunction getCallback() {\n    if (arguments.length && typeof arguments[arguments.length - 1] === 'function') {\n        return arguments[arguments.length - 1];\n    }\n}\n\n// Some code originally from async_storage.js in\n// [Gaia](https://github.com/mozilla-b2g/gaia).\n\nvar DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';\nvar supportsBlobs = void 0;\nvar dbContexts = {};\nvar toString = Object.prototype.toString;\n\n// Transaction Modes\nvar READ_ONLY = 'readonly';\nvar READ_WRITE = 'readwrite';\n\n// Transform a binary string to an array buffer, because otherwise\n// weird stuff happens when you try to work with the binary string directly.\n// It is known.\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction _binStringToArrayBuffer(bin) {\n    var length = bin.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    for (var i = 0; i < length; i++) {\n        arr[i] = bin.charCodeAt(i);\n    }\n    return buf;\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\n// Code borrowed from PouchDB. See:\n// https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-adapter-idb/src/blobSupport.js\n//\nfunction _checkBlobSupportWithoutCaching(idb) {\n    return new Promise$1(function (resolve) {\n        var txn = idb.transaction(DETECT_BLOB_SUPPORT_STORE, READ_WRITE);\n        var blob = createBlob(['']);\n        txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob, 'key');\n\n        txn.onabort = function (e) {\n            // If the transaction aborts now its due to not being able to\n            // write to the database, likely due to the disk being full\n            e.preventDefault();\n            e.stopPropagation();\n            resolve(false);\n        };\n\n        txn.oncomplete = function () {\n            var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n            var matchedEdge = navigator.userAgent.match(/Edge\\//);\n            // MS Edge pretends to be Chrome 42:\n            // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n            resolve(matchedEdge || !matchedChrome || parseInt(matchedChrome[1], 10) >= 43);\n        };\n    })[\"catch\"](function () {\n        return false; // error, so assume unsupported\n    });\n}\n\nfunction _checkBlobSupport(idb) {\n    if (typeof supportsBlobs === 'boolean') {\n        return Promise$1.resolve(supportsBlobs);\n    }\n    return _checkBlobSupportWithoutCaching(idb).then(function (value) {\n        supportsBlobs = value;\n        return supportsBlobs;\n    });\n}\n\nfunction _deferReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Create a deferred object representing the current database operation.\n    var deferredOperation = {};\n\n    deferredOperation.promise = new Promise$1(function (resolve, reject) {\n        deferredOperation.resolve = resolve;\n        deferredOperation.reject = reject;\n    });\n\n    // Enqueue the deferred operation.\n    dbContext.deferredOperations.push(deferredOperation);\n\n    // Chain its promise to the database readiness.\n    if (!dbContext.dbReady) {\n        dbContext.dbReady = deferredOperation.promise;\n    } else {\n        dbContext.dbReady = dbContext.dbReady.then(function () {\n            return deferredOperation.promise;\n        });\n    }\n}\n\nfunction _advanceReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Resolve its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.resolve();\n        return deferredOperation.promise;\n    }\n}\n\nfunction _rejectReadiness(dbInfo, err) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Reject its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.reject(err);\n        return deferredOperation.promise;\n    }\n}\n\nfunction _getConnection(dbInfo, upgradeNeeded) {\n    return new Promise$1(function (resolve, reject) {\n        dbContexts[dbInfo.name] = dbContexts[dbInfo.name] || createDbContext();\n\n        if (dbInfo.db) {\n            if (upgradeNeeded) {\n                _deferReadiness(dbInfo);\n                dbInfo.db.close();\n            } else {\n                return resolve(dbInfo.db);\n            }\n        }\n\n        var dbArgs = [dbInfo.name];\n\n        if (upgradeNeeded) {\n            dbArgs.push(dbInfo.version);\n        }\n\n        var openreq = idb.open.apply(idb, dbArgs);\n\n        if (upgradeNeeded) {\n            openreq.onupgradeneeded = function (e) {\n                var db = openreq.result;\n                try {\n                    db.createObjectStore(dbInfo.storeName);\n                    if (e.oldVersion <= 1) {\n                        // Added when support for blob shims was added\n                        db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n                    }\n                } catch (ex) {\n                    if (ex.name === 'ConstraintError') {\n                        console.warn('The database \"' + dbInfo.name + '\"' + ' has been upgraded from version ' + e.oldVersion + ' to version ' + e.newVersion + ', but the storage \"' + dbInfo.storeName + '\" already exists.');\n                    } else {\n                        throw ex;\n                    }\n                }\n            };\n        }\n\n        openreq.onerror = function (e) {\n            e.preventDefault();\n            reject(openreq.error);\n        };\n\n        openreq.onsuccess = function () {\n            var db = openreq.result;\n            db.onversionchange = function (e) {\n                // Triggered when the database is modified (e.g. adding an objectStore) or\n                // deleted (even when initiated by other sessions in different tabs).\n                // Closing the connection here prevents those operations from being blocked.\n                // If the database is accessed again later by this instance, the connection\n                // will be reopened or the database recreated as needed.\n                e.target.close();\n            };\n            resolve(db);\n            _advanceReadiness(dbInfo);\n        };\n    });\n}\n\nfunction _getOriginalConnection(dbInfo) {\n    return _getConnection(dbInfo, false);\n}\n\nfunction _getUpgradedConnection(dbInfo) {\n    return _getConnection(dbInfo, true);\n}\n\nfunction _isUpgradeNeeded(dbInfo, defaultVersion) {\n    if (!dbInfo.db) {\n        return true;\n    }\n\n    var isNewStore = !dbInfo.db.objectStoreNames.contains(dbInfo.storeName);\n    var isDowngrade = dbInfo.version < dbInfo.db.version;\n    var isUpgrade = dbInfo.version > dbInfo.db.version;\n\n    if (isDowngrade) {\n        // If the version is not the default one\n        // then warn for impossible downgrade.\n        if (dbInfo.version !== defaultVersion) {\n            console.warn('The database \"' + dbInfo.name + '\"' + \" can't be downgraded from version \" + dbInfo.db.version + ' to version ' + dbInfo.version + '.');\n        }\n        // Align the versions to prevent errors.\n        dbInfo.version = dbInfo.db.version;\n    }\n\n    if (isUpgrade || isNewStore) {\n        // If the store is new then increment the version (if needed).\n        // This will trigger an \"upgradeneeded\" event which is required\n        // for creating a store.\n        if (isNewStore) {\n            var incVersion = dbInfo.db.version + 1;\n            if (incVersion > dbInfo.version) {\n                dbInfo.version = incVersion;\n            }\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n// encode a blob for indexeddb engines that don't support blobs\nfunction _encodeBlob(blob) {\n    return new Promise$1(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = function (e) {\n            var base64 = btoa(e.target.result || '');\n            resolve({\n                __local_forage_encoded_blob: true,\n                data: base64,\n                type: blob.type\n            });\n        };\n        reader.readAsBinaryString(blob);\n    });\n}\n\n// decode an encoded blob\nfunction _decodeBlob(encodedBlob) {\n    var arrayBuff = _binStringToArrayBuffer(atob(encodedBlob.data));\n    return createBlob([arrayBuff], { type: encodedBlob.type });\n}\n\n// is this one of our fancy encoded blobs?\nfunction _isEncodedBlob(value) {\n    return value && value.__local_forage_encoded_blob;\n}\n\n// Specialize the default `ready()` function by making it dependent\n// on the current database operations. Thus, the driver will be actually\n// ready when it's been initialized (default) *and* there are no pending\n// operations on the database (initiated by some other instances).\nfunction _fullyReady(callback) {\n    var self = this;\n\n    var promise = self._initReady().then(function () {\n        var dbContext = dbContexts[self._dbInfo.name];\n\n        if (dbContext && dbContext.dbReady) {\n            return dbContext.dbReady;\n        }\n    });\n\n    executeTwoCallbacks(promise, callback, callback);\n    return promise;\n}\n\n// Try to establish a new db connection to replace the\n// current one which is broken (i.e. experiencing\n// InvalidStateError while creating a transaction).\nfunction _tryReconnect(dbInfo) {\n    _deferReadiness(dbInfo);\n\n    var dbContext = dbContexts[dbInfo.name];\n    var forages = dbContext.forages;\n\n    for (var i = 0; i < forages.length; i++) {\n        var forage = forages[i];\n        if (forage._dbInfo.db) {\n            forage._dbInfo.db.close();\n            forage._dbInfo.db = null;\n        }\n    }\n    dbInfo.db = null;\n\n    return _getOriginalConnection(dbInfo).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        // store the latest db reference\n        // in case the db was upgraded\n        dbInfo.db = dbContext.db = db;\n        for (var i = 0; i < forages.length; i++) {\n            forages[i]._dbInfo.db = db;\n        }\n    })[\"catch\"](function (err) {\n        _rejectReadiness(dbInfo, err);\n        throw err;\n    });\n}\n\n// FF doesn't like Promises (micro-tasks) and IDDB store operations,\n// so we have to do it with callbacks\nfunction createTransaction(dbInfo, mode, callback, retries) {\n    if (retries === undefined) {\n        retries = 1;\n    }\n\n    try {\n        var tx = dbInfo.db.transaction(dbInfo.storeName, mode);\n        callback(null, tx);\n    } catch (err) {\n        if (retries > 0 && (!dbInfo.db || err.name === 'InvalidStateError' || err.name === 'NotFoundError')) {\n            return Promise$1.resolve().then(function () {\n                if (!dbInfo.db || err.name === 'NotFoundError' && !dbInfo.db.objectStoreNames.contains(dbInfo.storeName) && dbInfo.version <= dbInfo.db.version) {\n                    // increase the db version, to create the new ObjectStore\n                    if (dbInfo.db) {\n                        dbInfo.version = dbInfo.db.version + 1;\n                    }\n                    // Reopen the database for upgrading.\n                    return _getUpgradedConnection(dbInfo);\n                }\n            }).then(function () {\n                return _tryReconnect(dbInfo).then(function () {\n                    createTransaction(dbInfo, mode, callback, retries - 1);\n                });\n            })[\"catch\"](callback);\n        }\n\n        callback(err);\n    }\n}\n\nfunction createDbContext() {\n    return {\n        // Running localForages sharing a database.\n        forages: [],\n        // Shared database.\n        db: null,\n        // Database readiness (promise).\n        dbReady: null,\n        // Deferred operations on the database.\n        deferredOperations: []\n    };\n}\n\n// Open the IndexedDB database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    // Get the current context of the database;\n    var dbContext = dbContexts[dbInfo.name];\n\n    // ...or create a new context.\n    if (!dbContext) {\n        dbContext = createDbContext();\n        // Register the new context in the global container.\n        dbContexts[dbInfo.name] = dbContext;\n    }\n\n    // Register itself as a running localForage in the current context.\n    dbContext.forages.push(self);\n\n    // Replace the default `ready()` function with the specialized one.\n    if (!self._initReady) {\n        self._initReady = self.ready;\n        self.ready = _fullyReady;\n    }\n\n    // Create an array of initialization states of the related localForages.\n    var initPromises = [];\n\n    function ignoreErrors() {\n        // Don't handle errors here,\n        // just makes sure related localForages aren't pending.\n        return Promise$1.resolve();\n    }\n\n    for (var j = 0; j < dbContext.forages.length; j++) {\n        var forage = dbContext.forages[j];\n        if (forage !== self) {\n            // Don't wait for itself...\n            initPromises.push(forage._initReady()[\"catch\"](ignoreErrors));\n        }\n    }\n\n    // Take a snapshot of the related localForages.\n    var forages = dbContext.forages.slice(0);\n\n    // Initialize the connection process only when\n    // all the related localForages aren't pending.\n    return Promise$1.all(initPromises).then(function () {\n        dbInfo.db = dbContext.db;\n        // Get the connection or open a new one without upgrade.\n        return _getOriginalConnection(dbInfo);\n    }).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo, self._defaultConfig.version)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        dbInfo.db = dbContext.db = db;\n        self._dbInfo = dbInfo;\n        // Share the final connection amongst related localForages.\n        for (var k = 0; k < forages.length; k++) {\n            var forage = forages[k];\n            if (forage !== self) {\n                // Self is already up-to-date.\n                forage._dbInfo.db = dbInfo.db;\n                forage._dbInfo.version = dbInfo.version;\n            }\n        }\n    });\n}\n\nfunction getItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.get(key);\n\n                    req.onsuccess = function () {\n                        var value = req.result;\n                        if (value === undefined) {\n                            value = null;\n                        }\n                        if (_isEncodedBlob(value)) {\n                            value = _decodeBlob(value);\n                        }\n                        resolve(value);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items stored in database.\nfunction iterate(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openCursor();\n                    var iterationNumber = 1;\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (cursor) {\n                            var value = cursor.value;\n                            if (_isEncodedBlob(value)) {\n                                value = _decodeBlob(value);\n                            }\n                            var result = iterator(value, cursor.key, iterationNumber++);\n\n                            // when the iterator callback returns any\n                            // (non-`undefined`) value, then we stop\n                            // the iteration immediately\n                            if (result !== void 0) {\n                                resolve(result);\n                            } else {\n                                cursor[\"continue\"]();\n                            }\n                        } else {\n                            resolve();\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n\n    return promise;\n}\n\nfunction setItem(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        var dbInfo;\n        self.ready().then(function () {\n            dbInfo = self._dbInfo;\n            if (toString.call(value) === '[object Blob]') {\n                return _checkBlobSupport(dbInfo.db).then(function (blobSupport) {\n                    if (blobSupport) {\n                        return value;\n                    }\n                    return _encodeBlob(value);\n                });\n            }\n            return value;\n        }).then(function (value) {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n\n                    // The reason we don't _save_ null is because IE 10 does\n                    // not support saving the `null` type in IndexedDB. How\n                    // ironic, given the bug below!\n                    // See: https://github.com/mozilla/localForage/issues/161\n                    if (value === null) {\n                        value = undefined;\n                    }\n\n                    var req = store.put(value, key);\n\n                    transaction.oncomplete = function () {\n                        // Cast to undefined so the value passed to\n                        // callback/promise is the same as what one would get out\n                        // of `getItem()` later. This leads to some weirdness\n                        // (setItem('foo', undefined) will return `null`), but\n                        // it's not my fault localStorage is our baseline and that\n                        // it's weird.\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        resolve(value);\n                    };\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction removeItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    // We use a Grunt task to make this safe for IE and some\n                    // versions of Android (including those used by Cordova).\n                    // Normally IE won't like `.delete()` and will insist on\n                    // using `['delete']()`, but we have a build step that\n                    // fixes this for us now.\n                    var req = store[\"delete\"](key);\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onerror = function () {\n                        reject(req.error);\n                    };\n\n                    // The request will be also be aborted if we've exceeded our storage\n                    // space.\n                    transaction.onabort = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction clear(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.clear();\n\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction length(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.count();\n\n                    req.onsuccess = function () {\n                        resolve(req.result);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction key(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        if (n < 0) {\n            resolve(null);\n\n            return;\n        }\n\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var advanced = false;\n                    var req = store.openKeyCursor();\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            // this means there weren't enough keys\n                            resolve(null);\n\n                            return;\n                        }\n\n                        if (n === 0) {\n                            // We have the first key, return it if that's what they\n                            // wanted.\n                            resolve(cursor.key);\n                        } else {\n                            if (!advanced) {\n                                // Otherwise, ask the cursor to skip ahead n\n                                // records.\n                                advanced = true;\n                                cursor.advance(n);\n                            } else {\n                                // When we get here, we've got the nth key.\n                                resolve(cursor.key);\n                            }\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openKeyCursor();\n                    var keys = [];\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (!cursor) {\n                            resolve(keys);\n                            return;\n                        }\n\n                        keys.push(cursor.key);\n                        cursor[\"continue\"]();\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        var isCurrentDb = options.name === currentConfig.name && self._dbInfo.db;\n\n        var dbPromise = isCurrentDb ? Promise$1.resolve(self._dbInfo.db) : _getOriginalConnection(options).then(function (db) {\n            var dbContext = dbContexts[options.name];\n            var forages = dbContext.forages;\n            dbContext.db = db;\n            for (var i = 0; i < forages.length; i++) {\n                forages[i]._dbInfo.db = db;\n            }\n            return db;\n        });\n\n        if (!options.storeName) {\n            promise = dbPromise.then(function (db) {\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                }\n\n                var dropDBPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.deleteDatabase(options.name);\n\n                    req.onerror = function () {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        reject(req.error);\n                    };\n\n                    req.onblocked = function () {\n                        // Closing all open connections in onversionchange handler should prevent this situation, but if\n                        // we do get here, it just means the request remains pending - eventually it will succeed or error\n                        console.warn('dropInstance blocked for database \"' + options.name + '\" until all open connections are closed');\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        resolve(db);\n                    };\n                });\n\n                return dropDBPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var i = 0; i < forages.length; i++) {\n                        var _forage = forages[i];\n                        _advanceReadiness(_forage._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        } else {\n            promise = dbPromise.then(function (db) {\n                if (!db.objectStoreNames.contains(options.storeName)) {\n                    return;\n                }\n\n                var newVersion = db.version + 1;\n\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                    forage._dbInfo.version = newVersion;\n                }\n\n                var dropObjectPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.open(options.name, newVersion);\n\n                    req.onerror = function (err) {\n                        var db = req.result;\n                        db.close();\n                        reject(err);\n                    };\n\n                    req.onupgradeneeded = function () {\n                        var db = req.result;\n                        db.deleteObjectStore(options.storeName);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        db.close();\n                        resolve(db);\n                    };\n                });\n\n                return dropObjectPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var j = 0; j < forages.length; j++) {\n                        var _forage2 = forages[j];\n                        _forage2._dbInfo.db = db;\n                        _advanceReadiness(_forage2._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        }\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar asyncStorage = {\n    _driver: 'asyncStorage',\n    _initStorage: _initStorage,\n    _support: isIndexedDBValid(),\n    iterate: iterate,\n    getItem: getItem,\n    setItem: setItem,\n    removeItem: removeItem,\n    clear: clear,\n    length: length,\n    key: key,\n    keys: keys,\n    dropInstance: dropInstance\n};\n\nfunction isWebSQLValid() {\n    return typeof openDatabase === 'function';\n}\n\n// Sadly, the best way to save binary data in WebSQL/localStorage is serializing\n// it to Base64, so this is how we store it to prevent very strange errors with less\n// verbose ways of binary <-> string data storage.\nvar BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nvar BLOB_TYPE_PREFIX = '~~local_forage_type~';\nvar BLOB_TYPE_PREFIX_REGEX = /^~~local_forage_type~([^~]+)~/;\n\nvar SERIALIZED_MARKER = '__lfsc__:';\nvar SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n// OMG the serializations!\nvar TYPE_ARRAYBUFFER = 'arbf';\nvar TYPE_BLOB = 'blob';\nvar TYPE_INT8ARRAY = 'si08';\nvar TYPE_UINT8ARRAY = 'ui08';\nvar TYPE_UINT8CLAMPEDARRAY = 'uic8';\nvar TYPE_INT16ARRAY = 'si16';\nvar TYPE_INT32ARRAY = 'si32';\nvar TYPE_UINT16ARRAY = 'ur16';\nvar TYPE_UINT32ARRAY = 'ui32';\nvar TYPE_FLOAT32ARRAY = 'fl32';\nvar TYPE_FLOAT64ARRAY = 'fl64';\nvar TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH + TYPE_ARRAYBUFFER.length;\n\nvar toString$1 = Object.prototype.toString;\n\nfunction stringToBuffer(serializedString) {\n    // Fill the string into a ArrayBuffer.\n    var bufferLength = serializedString.length * 0.75;\n    var len = serializedString.length;\n    var i;\n    var p = 0;\n    var encoded1, encoded2, encoded3, encoded4;\n\n    if (serializedString[serializedString.length - 1] === '=') {\n        bufferLength--;\n        if (serializedString[serializedString.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = new ArrayBuffer(bufferLength);\n    var bytes = new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n        encoded2 = BASE_CHARS.indexOf(serializedString[i + 1]);\n        encoded3 = BASE_CHARS.indexOf(serializedString[i + 2]);\n        encoded4 = BASE_CHARS.indexOf(serializedString[i + 3]);\n\n        /*jslint bitwise: true */\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n    return buffer;\n}\n\n// Converts a buffer to a string to store, serialized, in the backend\n// storage library.\nfunction bufferToString(buffer) {\n    // base64-arraybuffer\n    var bytes = new Uint8Array(buffer);\n    var base64String = '';\n    var i;\n\n    for (i = 0; i < bytes.length; i += 3) {\n        /*jslint bitwise: true */\n        base64String += BASE_CHARS[bytes[i] >> 2];\n        base64String += BASE_CHARS[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n        base64String += BASE_CHARS[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n        base64String += BASE_CHARS[bytes[i + 2] & 63];\n    }\n\n    if (bytes.length % 3 === 2) {\n        base64String = base64String.substring(0, base64String.length - 1) + '=';\n    } else if (bytes.length % 3 === 1) {\n        base64String = base64String.substring(0, base64String.length - 2) + '==';\n    }\n\n    return base64String;\n}\n\n// Serialize a value, afterwards executing a callback (which usually\n// instructs the `setItem()` callback/promise to be executed). This is how\n// we store binary data with localStorage.\nfunction serialize(value, callback) {\n    var valueType = '';\n    if (value) {\n        valueType = toString$1.call(value);\n    }\n\n    // Cannot use `value instanceof ArrayBuffer` or such here, as these\n    // checks fail when running the tests using casper.js...\n    //\n    // TODO: See why those tests fail and use a better solution.\n    if (value && (valueType === '[object ArrayBuffer]' || value.buffer && toString$1.call(value.buffer) === '[object ArrayBuffer]')) {\n        // Convert binary arrays to a string and prefix the string with\n        // a special marker.\n        var buffer;\n        var marker = SERIALIZED_MARKER;\n\n        if (value instanceof ArrayBuffer) {\n            buffer = value;\n            marker += TYPE_ARRAYBUFFER;\n        } else {\n            buffer = value.buffer;\n\n            if (valueType === '[object Int8Array]') {\n                marker += TYPE_INT8ARRAY;\n            } else if (valueType === '[object Uint8Array]') {\n                marker += TYPE_UINT8ARRAY;\n            } else if (valueType === '[object Uint8ClampedArray]') {\n                marker += TYPE_UINT8CLAMPEDARRAY;\n            } else if (valueType === '[object Int16Array]') {\n                marker += TYPE_INT16ARRAY;\n            } else if (valueType === '[object Uint16Array]') {\n                marker += TYPE_UINT16ARRAY;\n            } else if (valueType === '[object Int32Array]') {\n                marker += TYPE_INT32ARRAY;\n            } else if (valueType === '[object Uint32Array]') {\n                marker += TYPE_UINT32ARRAY;\n            } else if (valueType === '[object Float32Array]') {\n                marker += TYPE_FLOAT32ARRAY;\n            } else if (valueType === '[object Float64Array]') {\n                marker += TYPE_FLOAT64ARRAY;\n            } else {\n                callback(new Error('Failed to get type for BinaryArray'));\n            }\n        }\n\n        callback(marker + bufferToString(buffer));\n    } else if (valueType === '[object Blob]') {\n        // Conver the blob to a binaryArray and then to a string.\n        var fileReader = new FileReader();\n\n        fileReader.onload = function () {\n            // Backwards-compatible prefix for the blob type.\n            var str = BLOB_TYPE_PREFIX + value.type + '~' + bufferToString(this.result);\n\n            callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n        };\n\n        fileReader.readAsArrayBuffer(value);\n    } else {\n        try {\n            callback(JSON.stringify(value));\n        } catch (e) {\n            console.error(\"Couldn't convert value into a JSON string: \", value);\n\n            callback(null, e);\n        }\n    }\n}\n\n// Deserialize data we've inserted into a value column/field. We place\n// special markers into our strings to mark them as encoded; this isn't\n// as nice as a meta field, but it's the only sane thing we can do whilst\n// keeping localStorage support intact.\n//\n// Oftentimes this will just deserialize JSON content, but if we have a\n// special marker (SERIALIZED_MARKER, defined above), we will extract\n// some kind of arraybuffer/binary data/typed array out of the string.\nfunction deserialize(value) {\n    // If we haven't marked this string as being specially serialized (i.e.\n    // something other than serialized JSON), we can just return it and be\n    // done with it.\n    if (value.substring(0, SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n        return JSON.parse(value);\n    }\n\n    // The following code deals with deserializing some kind of Blob or\n    // TypedArray. First we separate out the type of data we're dealing\n    // with from the data itself.\n    var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n    var type = value.substring(SERIALIZED_MARKER_LENGTH, TYPE_SERIALIZED_MARKER_LENGTH);\n\n    var blobType;\n    // Backwards-compatible blob type serialization strategy.\n    // DBs created with older versions of localForage will simply not have the blob type.\n    if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {\n        var matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);\n        blobType = matcher[1];\n        serializedString = serializedString.substring(matcher[0].length);\n    }\n    var buffer = stringToBuffer(serializedString);\n\n    // Return the right type based on the code/type set during\n    // serialization.\n    switch (type) {\n        case TYPE_ARRAYBUFFER:\n            return buffer;\n        case TYPE_BLOB:\n            return createBlob([buffer], { type: blobType });\n        case TYPE_INT8ARRAY:\n            return new Int8Array(buffer);\n        case TYPE_UINT8ARRAY:\n            return new Uint8Array(buffer);\n        case TYPE_UINT8CLAMPEDARRAY:\n            return new Uint8ClampedArray(buffer);\n        case TYPE_INT16ARRAY:\n            return new Int16Array(buffer);\n        case TYPE_UINT16ARRAY:\n            return new Uint16Array(buffer);\n        case TYPE_INT32ARRAY:\n            return new Int32Array(buffer);\n        case TYPE_UINT32ARRAY:\n            return new Uint32Array(buffer);\n        case TYPE_FLOAT32ARRAY:\n            return new Float32Array(buffer);\n        case TYPE_FLOAT64ARRAY:\n            return new Float64Array(buffer);\n        default:\n            throw new Error('Unkown type: ' + type);\n    }\n}\n\nvar localforageSerializer = {\n    serialize: serialize,\n    deserialize: deserialize,\n    stringToBuffer: stringToBuffer,\n    bufferToString: bufferToString\n};\n\n/*\n * Includes code from:\n *\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nfunction createDbTable(t, dbInfo, callback, errorCallback) {\n    t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName + ' ' + '(id INTEGER PRIMARY KEY, key unique, value)', [], callback, errorCallback);\n}\n\n// Open the WebSQL database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage$1(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];\n        }\n    }\n\n    var dbInfoPromise = new Promise$1(function (resolve, reject) {\n        // Open the database; the openDatabase API will automatically\n        // create it for us if it doesn't exist.\n        try {\n            dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version), dbInfo.description, dbInfo.size);\n        } catch (e) {\n            return reject(e);\n        }\n\n        // Create our key/value table if it doesn't exist.\n        dbInfo.db.transaction(function (t) {\n            createDbTable(t, dbInfo, function () {\n                self._dbInfo = dbInfo;\n                resolve();\n            }, function (t, error) {\n                reject(error);\n            });\n        }, reject);\n    });\n\n    dbInfo.serializer = localforageSerializer;\n    return dbInfoPromise;\n}\n\nfunction tryExecuteSql(t, dbInfo, sqlStatement, args, callback, errorCallback) {\n    t.executeSql(sqlStatement, args, callback, function (t, error) {\n        if (error.code === error.SYNTAX_ERR) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name = ?\", [dbInfo.storeName], function (t, results) {\n                if (!results.rows.length) {\n                    // if the table is missing (was deleted)\n                    // re-create it table and retry\n                    createDbTable(t, dbInfo, function () {\n                        t.executeSql(sqlStatement, args, callback, errorCallback);\n                    }, errorCallback);\n                } else {\n                    errorCallback(t, error);\n                }\n            }, errorCallback);\n        } else {\n            errorCallback(t, error);\n        }\n    }, errorCallback);\n}\n\nfunction getItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName + ' WHERE key = ? LIMIT 1', [key], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).value : null;\n\n                    // Check to see if this is serialized content we need to\n                    // unpack.\n                    if (result) {\n                        result = dbInfo.serializer.deserialize(result);\n                    }\n\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction iterate$1(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var rows = results.rows;\n                    var length = rows.length;\n\n                    for (var i = 0; i < length; i++) {\n                        var item = rows.item(i);\n                        var result = item.value;\n\n                        // Check to see if this is serialized content\n                        // we need to unpack.\n                        if (result) {\n                            result = dbInfo.serializer.deserialize(result);\n                        }\n\n                        result = iterator(result, item.key, i + 1);\n\n                        // void(0) prevents problems with redefinition\n                        // of `undefined`.\n                        if (result !== void 0) {\n                            resolve(result);\n                            return;\n                        }\n                    }\n\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction _setItem(key, value, callback, retriesLeft) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            // The localStorage API doesn't return undefined values in an\n            // \"expected\" way, so undefined is always cast to null in all\n            // drivers. See: https://github.com/mozilla/localForage/pull/42\n            if (value === undefined) {\n                value = null;\n            }\n\n            // Save the original value to pass to the callback.\n            var originalValue = value;\n\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    dbInfo.db.transaction(function (t) {\n                        tryExecuteSql(t, dbInfo, 'INSERT OR REPLACE INTO ' + dbInfo.storeName + ' ' + '(key, value) VALUES (?, ?)', [key, value], function () {\n                            resolve(originalValue);\n                        }, function (t, error) {\n                            reject(error);\n                        });\n                    }, function (sqlError) {\n                        // The transaction failed; check\n                        // to see if it's a quota error.\n                        if (sqlError.code === sqlError.QUOTA_ERR) {\n                            // We reject the callback outright for now, but\n                            // it's worth trying to re-run the transaction.\n                            // Even if the user accepts the prompt to use\n                            // more storage on Safari, this error will\n                            // be called.\n                            //\n                            // Try to re-run the transaction.\n                            if (retriesLeft > 0) {\n                                resolve(_setItem.apply(self, [key, originalValue, callback, retriesLeft - 1]));\n                                return;\n                            }\n                            reject(sqlError);\n                        }\n                    });\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction setItem$1(key, value, callback) {\n    return _setItem.apply(this, [key, value, callback, 1]);\n}\n\nfunction removeItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName + ' WHERE key = ?', [key], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Deletes every item in the table.\n// TODO: Find out if this resets the AUTO_INCREMENT number.\nfunction clear$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName, [], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Does a simple `COUNT(key)` to get the number of items stored in\n// localForage.\nfunction length$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                // Ahhh, SQL makes this one soooooo easy.\n                tryExecuteSql(t, dbInfo, 'SELECT COUNT(key) as c FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var result = results.rows.item(0).c;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Return the key located at key index X; essentially gets the key from a\n// `WHERE id = ?`. This is the most efficient way I can think to implement\n// this rarely-used (in my experience) part of the API, but it can seem\n// inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so\n// the ID of each key will change every time it's updated. Perhaps a stored\n// procedure for the `setItem()` SQL would solve this problem?\n// TODO: Don't change ID on `setItem()`.\nfunction key$1(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName + ' WHERE id = ? LIMIT 1', [n + 1], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).key : null;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var keys = [];\n\n                    for (var i = 0; i < results.rows.length; i++) {\n                        keys.push(results.rows.item(i).key);\n                    }\n\n                    resolve(keys);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// https://www.w3.org/TR/webdatabase/#databases\n// > There is no way to enumerate or delete the databases available for an origin from this API.\nfunction getAllStoreNames(db) {\n    return new Promise$1(function (resolve, reject) {\n        db.transaction(function (t) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'\", [], function (t, results) {\n                var storeNames = [];\n\n                for (var i = 0; i < results.rows.length; i++) {\n                    storeNames.push(results.rows.item(i).name);\n                }\n\n                resolve({\n                    db: db,\n                    storeNames: storeNames\n                });\n            }, function (t, error) {\n                reject(error);\n            });\n        }, function (sqlError) {\n            reject(sqlError);\n        });\n    });\n}\n\nfunction dropInstance$1(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            var db;\n            if (options.name === currentConfig.name) {\n                // use the db reference of the current instance\n                db = self._dbInfo.db;\n            } else {\n                db = openDatabase(options.name, '', '', 0);\n            }\n\n            if (!options.storeName) {\n                // drop all database tables\n                resolve(getAllStoreNames(db));\n            } else {\n                resolve({\n                    db: db,\n                    storeNames: [options.storeName]\n                });\n            }\n        }).then(function (operationInfo) {\n            return new Promise$1(function (resolve, reject) {\n                operationInfo.db.transaction(function (t) {\n                    function dropTable(storeName) {\n                        return new Promise$1(function (resolve, reject) {\n                            t.executeSql('DROP TABLE IF EXISTS ' + storeName, [], function () {\n                                resolve();\n                            }, function (t, error) {\n                                reject(error);\n                            });\n                        });\n                    }\n\n                    var operations = [];\n                    for (var i = 0, len = operationInfo.storeNames.length; i < len; i++) {\n                        operations.push(dropTable(operationInfo.storeNames[i]));\n                    }\n\n                    Promise$1.all(operations).then(function () {\n                        resolve();\n                    })[\"catch\"](function (e) {\n                        reject(e);\n                    });\n                }, function (sqlError) {\n                    reject(sqlError);\n                });\n            });\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar webSQLStorage = {\n    _driver: 'webSQLStorage',\n    _initStorage: _initStorage$1,\n    _support: isWebSQLValid(),\n    iterate: iterate$1,\n    getItem: getItem$1,\n    setItem: setItem$1,\n    removeItem: removeItem$1,\n    clear: clear$1,\n    length: length$1,\n    key: key$1,\n    keys: keys$1,\n    dropInstance: dropInstance$1\n};\n\nfunction isLocalStorageValid() {\n    try {\n        return typeof localStorage !== 'undefined' && 'setItem' in localStorage &&\n        // in IE8 typeof localStorage.setItem === 'object'\n        !!localStorage.setItem;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction _getKeyPrefix(options, defaultConfig) {\n    var keyPrefix = options.name + '/';\n\n    if (options.storeName !== defaultConfig.storeName) {\n        keyPrefix += options.storeName + '/';\n    }\n    return keyPrefix;\n}\n\n// Check if localStorage throws when saving an item\nfunction checkIfLocalStorageThrows() {\n    var localStorageTestKey = '_localforage_support_test';\n\n    try {\n        localStorage.setItem(localStorageTestKey, true);\n        localStorage.removeItem(localStorageTestKey);\n\n        return false;\n    } catch (e) {\n        return true;\n    }\n}\n\n// Check if localStorage is usable and allows to save an item\n// This method checks if localStorage is usable in Safari Private Browsing\n// mode, or in any other case where the available quota for localStorage\n// is 0 and there wasn't any saved items yet.\nfunction _isLocalStorageUsable() {\n    return !checkIfLocalStorageThrows() || localStorage.length > 0;\n}\n\n// Config the localStorage backend, using options set in the config.\nfunction _initStorage$2(options) {\n    var self = this;\n    var dbInfo = {};\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    dbInfo.keyPrefix = _getKeyPrefix(options, self._defaultConfig);\n\n    if (!_isLocalStorageUsable()) {\n        return Promise$1.reject();\n    }\n\n    self._dbInfo = dbInfo;\n    dbInfo.serializer = localforageSerializer;\n\n    return Promise$1.resolve();\n}\n\n// Remove all keys from the datastore, effectively destroying all data in\n// the app's key/value store!\nfunction clear$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var keyPrefix = self._dbInfo.keyPrefix;\n\n        for (var i = localStorage.length - 1; i >= 0; i--) {\n            var key = localStorage.key(i);\n\n            if (key.indexOf(keyPrefix) === 0) {\n                localStorage.removeItem(key);\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Retrieve an item from the store. Unlike the original async_storage\n// library in Gaia, we don't modify return values at all. If a key's value\n// is `undefined`, we pass that value to the callback function.\nfunction getItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result = localStorage.getItem(dbInfo.keyPrefix + key);\n\n        // If a result was found, parse it from the serialized\n        // string into a JS object. If result isn't truthy, the key\n        // is likely undefined and we'll pass it straight to the\n        // callback.\n        if (result) {\n            result = dbInfo.serializer.deserialize(result);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items in the store.\nfunction iterate$2(iterator, callback) {\n    var self = this;\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var keyPrefix = dbInfo.keyPrefix;\n        var keyPrefixLength = keyPrefix.length;\n        var length = localStorage.length;\n\n        // We use a dedicated iterator instead of the `i` variable below\n        // so other keys we fetch in localStorage aren't counted in\n        // the `iterationNumber` argument passed to the `iterate()`\n        // callback.\n        //\n        // See: github.com/mozilla/localForage/pull/435#discussion_r38061530\n        var iterationNumber = 1;\n\n        for (var i = 0; i < length; i++) {\n            var key = localStorage.key(i);\n            if (key.indexOf(keyPrefix) !== 0) {\n                continue;\n            }\n            var value = localStorage.getItem(key);\n\n            // If a result was found, parse it from the serialized\n            // string into a JS object. If result isn't truthy, the\n            // key is likely undefined and we'll pass it straight\n            // to the iterator.\n            if (value) {\n                value = dbInfo.serializer.deserialize(value);\n            }\n\n            value = iterator(value, key.substring(keyPrefixLength), iterationNumber++);\n\n            if (value !== void 0) {\n                return value;\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Same as localStorage's key() method, except takes a callback.\nfunction key$2(n, callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result;\n        try {\n            result = localStorage.key(n);\n        } catch (error) {\n            result = null;\n        }\n\n        // Remove the prefix from the key, if a key is found.\n        if (result) {\n            result = result.substring(dbInfo.keyPrefix.length);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var length = localStorage.length;\n        var keys = [];\n\n        for (var i = 0; i < length; i++) {\n            var itemKey = localStorage.key(i);\n            if (itemKey.indexOf(dbInfo.keyPrefix) === 0) {\n                keys.push(itemKey.substring(dbInfo.keyPrefix.length));\n            }\n        }\n\n        return keys;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Supply the number of keys in the datastore to the callback function.\nfunction length$2(callback) {\n    var self = this;\n    var promise = self.keys().then(function (keys) {\n        return keys.length;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Remove an item from the store, nice and simple.\nfunction removeItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        localStorage.removeItem(dbInfo.keyPrefix + key);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Set a key's value and run an optional callback once the value is set.\n// Unlike Gaia's implementation, the callback function is passed the value,\n// in case you want to operate on that value only after you're sure it\n// saved, or something like that.\nfunction setItem$2(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        // Convert undefined values to null.\n        // https://github.com/mozilla/localForage/pull/42\n        if (value === undefined) {\n            value = null;\n        }\n\n        // Save the original value to pass to the callback.\n        var originalValue = value;\n\n        return new Promise$1(function (resolve, reject) {\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    try {\n                        localStorage.setItem(dbInfo.keyPrefix + key, value);\n                        resolve(originalValue);\n                    } catch (e) {\n                        // localStorage capacity exceeded.\n                        // TODO: Make this a specific error/event.\n                        if (e.name === 'QuotaExceededError' || e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                            reject(e);\n                        }\n                        reject(e);\n                    }\n                }\n            });\n        });\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance$2(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        var currentConfig = this.config();\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            if (!options.storeName) {\n                resolve(options.name + '/');\n            } else {\n                resolve(_getKeyPrefix(options, self._defaultConfig));\n            }\n        }).then(function (keyPrefix) {\n            for (var i = localStorage.length - 1; i >= 0; i--) {\n                var key = localStorage.key(i);\n\n                if (key.indexOf(keyPrefix) === 0) {\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar localStorageWrapper = {\n    _driver: 'localStorageWrapper',\n    _initStorage: _initStorage$2,\n    _support: isLocalStorageValid(),\n    iterate: iterate$2,\n    getItem: getItem$2,\n    setItem: setItem$2,\n    removeItem: removeItem$2,\n    clear: clear$2,\n    length: length$2,\n    key: key$2,\n    keys: keys$2,\n    dropInstance: dropInstance$2\n};\n\nvar sameValue = function sameValue(x, y) {\n    return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n};\n\nvar includes = function includes(array, searchElement) {\n    var len = array.length;\n    var i = 0;\n    while (i < len) {\n        if (sameValue(array[i], searchElement)) {\n            return true;\n        }\n        i++;\n    }\n\n    return false;\n};\n\nvar isArray = Array.isArray || function (arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n};\n\n// Drivers are stored here when `defineDriver()` is called.\n// They are shared across all instances of localForage.\nvar DefinedDrivers = {};\n\nvar DriverSupport = {};\n\nvar DefaultDrivers = {\n    INDEXEDDB: asyncStorage,\n    WEBSQL: webSQLStorage,\n    LOCALSTORAGE: localStorageWrapper\n};\n\nvar DefaultDriverOrder = [DefaultDrivers.INDEXEDDB._driver, DefaultDrivers.WEBSQL._driver, DefaultDrivers.LOCALSTORAGE._driver];\n\nvar OptionalDriverMethods = ['dropInstance'];\n\nvar LibraryMethods = ['clear', 'getItem', 'iterate', 'key', 'keys', 'length', 'removeItem', 'setItem'].concat(OptionalDriverMethods);\n\nvar DefaultConfig = {\n    description: '',\n    driver: DefaultDriverOrder.slice(),\n    name: 'localforage',\n    // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n    // we can use without a prompt.\n    size: 4980736,\n    storeName: 'keyvaluepairs',\n    version: 1.0\n};\n\nfunction callWhenReady(localForageInstance, libraryMethod) {\n    localForageInstance[libraryMethod] = function () {\n        var _args = arguments;\n        return localForageInstance.ready().then(function () {\n            return localForageInstance[libraryMethod].apply(localForageInstance, _args);\n        });\n    };\n}\n\nfunction extend() {\n    for (var i = 1; i < arguments.length; i++) {\n        var arg = arguments[i];\n\n        if (arg) {\n            for (var _key in arg) {\n                if (arg.hasOwnProperty(_key)) {\n                    if (isArray(arg[_key])) {\n                        arguments[0][_key] = arg[_key].slice();\n                    } else {\n                        arguments[0][_key] = arg[_key];\n                    }\n                }\n            }\n        }\n    }\n\n    return arguments[0];\n}\n\nvar LocalForage = function () {\n    function LocalForage(options) {\n        _classCallCheck(this, LocalForage);\n\n        for (var driverTypeKey in DefaultDrivers) {\n            if (DefaultDrivers.hasOwnProperty(driverTypeKey)) {\n                var driver = DefaultDrivers[driverTypeKey];\n                var driverName = driver._driver;\n                this[driverTypeKey] = driverName;\n\n                if (!DefinedDrivers[driverName]) {\n                    // we don't need to wait for the promise,\n                    // since the default drivers can be defined\n                    // in a blocking manner\n                    this.defineDriver(driver);\n                }\n            }\n        }\n\n        this._defaultConfig = extend({}, DefaultConfig);\n        this._config = extend({}, this._defaultConfig, options);\n        this._driverSet = null;\n        this._initDriver = null;\n        this._ready = false;\n        this._dbInfo = null;\n\n        this._wrapLibraryMethodsWithReady();\n        this.setDriver(this._config.driver)[\"catch\"](function () {});\n    }\n\n    // Set any config values for localForage; can be called anytime before\n    // the first API call (e.g. `getItem`, `setItem`).\n    // We loop through options so we don't overwrite existing config\n    // values.\n\n\n    LocalForage.prototype.config = function config(options) {\n        // If the options argument is an object, we use it to set values.\n        // Otherwise, we return either a specified config value or all\n        // config values.\n        if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n            // If localforage is ready and fully initialized, we can't set\n            // any new configuration values. Instead, we return an error.\n            if (this._ready) {\n                return new Error(\"Can't call config() after localforage \" + 'has been used.');\n            }\n\n            for (var i in options) {\n                if (i === 'storeName') {\n                    options[i] = options[i].replace(/\\W/g, '_');\n                }\n\n                if (i === 'version' && typeof options[i] !== 'number') {\n                    return new Error('Database version must be a number.');\n                }\n\n                this._config[i] = options[i];\n            }\n\n            // after all config options are set and\n            // the driver option is used, try setting it\n            if ('driver' in options && options.driver) {\n                return this.setDriver(this._config.driver);\n            }\n\n            return true;\n        } else if (typeof options === 'string') {\n            return this._config[options];\n        } else {\n            return this._config;\n        }\n    };\n\n    // Used to define a custom driver, shared across all instances of\n    // localForage.\n\n\n    LocalForage.prototype.defineDriver = function defineDriver(driverObject, callback, errorCallback) {\n        var promise = new Promise$1(function (resolve, reject) {\n            try {\n                var driverName = driverObject._driver;\n                var complianceError = new Error('Custom driver not compliant; see ' + 'https://mozilla.github.io/localForage/#definedriver');\n\n                // A driver name should be defined and not overlap with the\n                // library-defined, default drivers.\n                if (!driverObject._driver) {\n                    reject(complianceError);\n                    return;\n                }\n\n                var driverMethods = LibraryMethods.concat('_initStorage');\n                for (var i = 0, len = driverMethods.length; i < len; i++) {\n                    var driverMethodName = driverMethods[i];\n\n                    // when the property is there,\n                    // it should be a method even when optional\n                    var isRequired = !includes(OptionalDriverMethods, driverMethodName);\n                    if ((isRequired || driverObject[driverMethodName]) && typeof driverObject[driverMethodName] !== 'function') {\n                        reject(complianceError);\n                        return;\n                    }\n                }\n\n                var configureMissingMethods = function configureMissingMethods() {\n                    var methodNotImplementedFactory = function methodNotImplementedFactory(methodName) {\n                        return function () {\n                            var error = new Error('Method ' + methodName + ' is not implemented by the current driver');\n                            var promise = Promise$1.reject(error);\n                            executeCallback(promise, arguments[arguments.length - 1]);\n                            return promise;\n                        };\n                    };\n\n                    for (var _i = 0, _len = OptionalDriverMethods.length; _i < _len; _i++) {\n                        var optionalDriverMethod = OptionalDriverMethods[_i];\n                        if (!driverObject[optionalDriverMethod]) {\n                            driverObject[optionalDriverMethod] = methodNotImplementedFactory(optionalDriverMethod);\n                        }\n                    }\n                };\n\n                configureMissingMethods();\n\n                var setDriverSupport = function setDriverSupport(support) {\n                    if (DefinedDrivers[driverName]) {\n                        console.info('Redefining LocalForage driver: ' + driverName);\n                    }\n                    DefinedDrivers[driverName] = driverObject;\n                    DriverSupport[driverName] = support;\n                    // don't use a then, so that we can define\n                    // drivers that have simple _support methods\n                    // in a blocking manner\n                    resolve();\n                };\n\n                if ('_support' in driverObject) {\n                    if (driverObject._support && typeof driverObject._support === 'function') {\n                        driverObject._support().then(setDriverSupport, reject);\n                    } else {\n                        setDriverSupport(!!driverObject._support);\n                    }\n                } else {\n                    setDriverSupport(true);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        executeTwoCallbacks(promise, callback, errorCallback);\n        return promise;\n    };\n\n    LocalForage.prototype.driver = function driver() {\n        return this._driver || null;\n    };\n\n    LocalForage.prototype.getDriver = function getDriver(driverName, callback, errorCallback) {\n        var getDriverPromise = DefinedDrivers[driverName] ? Promise$1.resolve(DefinedDrivers[driverName]) : Promise$1.reject(new Error('Driver not found.'));\n\n        executeTwoCallbacks(getDriverPromise, callback, errorCallback);\n        return getDriverPromise;\n    };\n\n    LocalForage.prototype.getSerializer = function getSerializer(callback) {\n        var serializerPromise = Promise$1.resolve(localforageSerializer);\n        executeTwoCallbacks(serializerPromise, callback);\n        return serializerPromise;\n    };\n\n    LocalForage.prototype.ready = function ready(callback) {\n        var self = this;\n\n        var promise = self._driverSet.then(function () {\n            if (self._ready === null) {\n                self._ready = self._initDriver();\n            }\n\n            return self._ready;\n        });\n\n        executeTwoCallbacks(promise, callback, callback);\n        return promise;\n    };\n\n    LocalForage.prototype.setDriver = function setDriver(drivers, callback, errorCallback) {\n        var self = this;\n\n        if (!isArray(drivers)) {\n            drivers = [drivers];\n        }\n\n        var supportedDrivers = this._getSupportedDrivers(drivers);\n\n        function setDriverToConfig() {\n            self._config.driver = self.driver();\n        }\n\n        function extendSelfWithDriver(driver) {\n            self._extend(driver);\n            setDriverToConfig();\n\n            self._ready = self._initStorage(self._config);\n            return self._ready;\n        }\n\n        function initDriver(supportedDrivers) {\n            return function () {\n                var currentDriverIndex = 0;\n\n                function driverPromiseLoop() {\n                    while (currentDriverIndex < supportedDrivers.length) {\n                        var driverName = supportedDrivers[currentDriverIndex];\n                        currentDriverIndex++;\n\n                        self._dbInfo = null;\n                        self._ready = null;\n\n                        return self.getDriver(driverName).then(extendSelfWithDriver)[\"catch\"](driverPromiseLoop);\n                    }\n\n                    setDriverToConfig();\n                    var error = new Error('No available storage method found.');\n                    self._driverSet = Promise$1.reject(error);\n                    return self._driverSet;\n                }\n\n                return driverPromiseLoop();\n            };\n        }\n\n        // There might be a driver initialization in progress\n        // so wait for it to finish in order to avoid a possible\n        // race condition to set _dbInfo\n        var oldDriverSetDone = this._driverSet !== null ? this._driverSet[\"catch\"](function () {\n            return Promise$1.resolve();\n        }) : Promise$1.resolve();\n\n        this._driverSet = oldDriverSetDone.then(function () {\n            var driverName = supportedDrivers[0];\n            self._dbInfo = null;\n            self._ready = null;\n\n            return self.getDriver(driverName).then(function (driver) {\n                self._driver = driver._driver;\n                setDriverToConfig();\n                self._wrapLibraryMethodsWithReady();\n                self._initDriver = initDriver(supportedDrivers);\n            });\n        })[\"catch\"](function () {\n            setDriverToConfig();\n            var error = new Error('No available storage method found.');\n            self._driverSet = Promise$1.reject(error);\n            return self._driverSet;\n        });\n\n        executeTwoCallbacks(this._driverSet, callback, errorCallback);\n        return this._driverSet;\n    };\n\n    LocalForage.prototype.supports = function supports(driverName) {\n        return !!DriverSupport[driverName];\n    };\n\n    LocalForage.prototype._extend = function _extend(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n    };\n\n    LocalForage.prototype._getSupportedDrivers = function _getSupportedDrivers(drivers) {\n        var supportedDrivers = [];\n        for (var i = 0, len = drivers.length; i < len; i++) {\n            var driverName = drivers[i];\n            if (this.supports(driverName)) {\n                supportedDrivers.push(driverName);\n            }\n        }\n        return supportedDrivers;\n    };\n\n    LocalForage.prototype._wrapLibraryMethodsWithReady = function _wrapLibraryMethodsWithReady() {\n        // Add a stub for each driver API method that delays the call to the\n        // corresponding driver method until localForage is ready. These stubs\n        // will be replaced by the driver methods as soon as the driver is\n        // loaded, so there is no performance impact.\n        for (var i = 0, len = LibraryMethods.length; i < len; i++) {\n            callWhenReady(this, LibraryMethods[i]);\n        }\n    };\n\n    LocalForage.prototype.createInstance = function createInstance(options) {\n        return new LocalForage(options);\n    };\n\n    return LocalForage;\n}();\n\n// The actual localForage object that we expose as a module or via a\n// global. It's extended by pulling in one of our other libraries.\n\n\nvar localforage_js = new LocalForage();\n\nmodule.exports = localforage_js;\n\n},{\"3\":3}]},{},[4])(4)\n});\n","import localforage from \"localforage\"\nimport type {\n  BookStats,\n  BooksIndex,\n  ChapterStats,\n  AverageStats,\n  FinishedParagraphStats,\n  Settings,\n  StaticBookInfo,\n  StatsSummary,\n} from \"../types/common\"\n\n/**\n * Creates store that holds key-value pairs\n * with values of the same type\n */\nclass EntriesStorage<T> {\n  #database: LocalForage\n\n  constructor(name: string) {\n    this.#database = localforage.createInstance({\n      name: \"main\",\n      storeName: name,\n      driver: [localforage.INDEXEDDB, localforage.LOCALSTORAGE],\n    })\n  }\n\n  get(key: string): Promise<T | null> {\n    return this.#database.getItem(key)\n  }\n\n  async has(key: string): Promise<boolean> {\n    return (await this.#database.keys()).includes(key)\n  }\n\n  set(key: string, value: T) {\n    return this.#database.setItem(key, value)\n  }\n\n  remove(key: string) {\n    return this.#database.removeItem(key)\n  }\n\n  async clear() {\n    return this.#database.clear()\n  }\n\n  keys() {\n    return this.#database.keys()\n  }\n}\n\n/**\n * Creates store that holds key-value pairs\n * with values of different types\n */\nclass MixedStorage<T extends { [key: string]: any }> {\n  #database: LocalForage\n\n  constructor(name: string) {\n    this.#database = localforage.createInstance({\n      name: \"main\",\n      storeName: name,\n      driver: [localforage.INDEXEDDB, localforage.LOCALSTORAGE],\n    })\n  }\n\n  async setDefaults(defaults: T) {\n    const keys = new Set(await this.#database.keys())\n\n    for (const [key, val] of Object.entries(defaults)) {\n      if (!keys.has(key)) {\n        await this.set(key, val)\n      }\n    }\n  }\n\n  async get<K extends keyof T>(key: K): Promise<T[K] | null> {\n    return this.#database.getItem(key as string)\n  }\n\n  async set<K extends keyof T>(key: K, value: T[K]) {\n    await this.#database.setItem(key as string, value)\n  }\n\n  async remove(key: keyof T) {\n    await this.#database.removeItem(key as string)\n  }\n\n  keys() {\n    return this.#database.keys()\n  }\n}\n\nexport type GeneralStorage = {\n  settings: Settings\n  booksIndex: BooksIndex\n  missedWords: string[]\n  favorites: string[]\n  statsSummary: StatsSummary\n}\n\nconst storage = {\n  booksInfo: new EntriesStorage<StaticBookInfo>(\"booksInfo\"),\n  booksStats: new EntriesStorage<BookStats>(\"booksStats\"),\n  chaptersStats: new EntriesStorage<{ [index: string]: ChapterStats }>(\n    \"chaptersStats\",\n  ),\n  paragraphsStats: new EntriesStorage<{\n    [index: number]: FinishedParagraphStats\n  }>(\"paragraphsStats\"),\n  dailyStats: new EntriesStorage<AverageStats>(\"dailyStats\"),\n  booksContent: new EntriesStorage<string>(\"booksContent\"),\n  general: new MixedStorage<GeneralStorage>(\"general\"),\n}\n\nexport default storage\n","import config from \"../config\"\n\nexport function getDailyDate(timestamp?: number) {\n  const date = timestamp ? new Date(timestamp) : new Date()\n  const h = date.getHours()\n  const y = date.getFullYear()\n  const m = String(date.getMonth() + 1).padStart(2, \"0\")\n  const d = String(\n    date.getDate() - (h < config.NEXT_DAY_AT_HOUR ? 1 : 0),\n  ).padStart(2, \"0\")\n  return `${y}-${m}-${d}`\n}\n","import config from \"../config\"\nimport type { AverageStats } from \"../types/common\"\n\nexport function getDailyProgress(dailyStats: AverageStats | null) {\n  return {\n    progress: (dailyStats?.time ?? 0) / (1000 * 60 * config.DAILY_GOAL_MINUTES),\n    length: dailyStats?.typed ?? 0,\n    time: dailyStats?.time ?? 0,\n  }\n}\n","export type Obj = {\n  [key: string]:\n    | Obj\n    | string\n    | number\n    | boolean\n    | null\n    | Obj[]\n    | number[]\n    | string[]\n}\n\nfunction mergeArrays<T>(a: T[], b: T[]): T[] {\n  return [...new Set([...a, ...b])]\n}\n\nexport function merge(a: Obj, b: Obj): Obj {\n  const result = structuredClone(a)\n\n  for (const [key, val] of Object.entries(b)) {\n    if (val === null || typeof val !== \"object\") {\n      result[key] = val\n    } else if (Array.isArray(val)) {\n      const merged = mergeArrays((result[key] ?? []) as any[], val)\n      result[key] = merged\n    } else {\n      result[key] = merge((result[key] ?? {}) as Obj, val)\n    }\n  }\n\n  return result\n}\n","import { createEffect, createRoot, on } from \"solid-js\"\nimport { createStore, unwrap, type SetStoreFunction } from \"solid-js/store\"\nimport config from \"../config.ts\"\nimport {\n  getBooksIndex,\n  getBooksIndexLastUpdate,\n} from \"../libs/api-helpers/apiCalls.ts\"\nimport storage from \"../storage/storage.ts\"\nimport type {\n  BooksIndex,\n  BooksLiveIndex,\n  Settings,\n  State,\n  StatsSummary,\n} from \"../types/common\"\nimport { getDailyDate } from \"../actions/getDailyDate.ts\"\nimport { getDailyProgress } from \"../actions/getDailyProgress.ts\"\nimport { merge } from \"../utils/merge.ts\"\n\nexport const defaultSettings: Settings = {\n  ui: {\n    lang: \"en\",\n    darkmode: true,\n    booksPerPage: 24,\n    sortBy: \"author\",\n    readingMode: false,\n    favoriteGenres: [],\n    favoriteMaxLength: 0,\n    theme: \"default\",\n    showHero: true,\n    showConsents: true,\n  },\n  typingPrompt: {\n    caret: \"line\",\n    caretSpeed: \"medium\",\n    caretEasing: \"swing\",\n    font: \"Recursive Linear:monospace:1\",\n    fontScale: config.IS_MOBILE ? \"1\" : \"1.75\",\n    lineHeight: \"1.8\",\n    paragraphsGap: \"0.5\",\n    lineWidth: \"auto\",\n    showTypos: true,\n    backspaceWholeWord: false,\n    justify: false,\n    indentParagraphs: false,\n    screenKeyboard: true,\n    keyboardLayout: \"qwerty-us\",\n    keyboardLayoutMobile: \"qwerty\",\n    keyboardHaptics: 40,\n    keyboardThickness: \"2px\",\n    keyboardKeycaps: \"standard\",\n    keyBoardFont: \"Open Sans:sans-serif:1\",\n    keyboardIndicator: \"last\",\n    zenMode: false,\n    focusWarning: true,\n  },\n  readingPrompt: {\n    font: \"DejaVu Serif:serif:1\",\n    fontScale: config.IS_MOBILE ? \"1\" : \"1.25\",\n    lineHeight: \"1.5\",\n    paragraphsGap: \"0\",\n    lineWidth: \"auto\",\n    justify: true,\n    indentParagraphs: true,\n  },\n}\n\nexport const defaultSummary: StatsSummary = {\n  average: {\n    wpm: {\n      value: 0,\n      raw: 0,\n      weight: 0,\n    },\n    acc: {\n      value: 0,\n      weight: 0,\n    },\n    con: {\n      value: 0,\n      weight: 0,\n    },\n  },\n  recent: [],\n  topParagraph: {\n    wpm: { value: 0, timestamp: 0, id: \"\" },\n    raw: { value: 0, timestamp: 0, id: \"\" },\n    acc: { value: 0, timestamp: 0, id: \"\" },\n    con: { value: 0, timestamp: 0, id: \"\" },\n  },\n  topChapter: {\n    wpm: { value: 0, timestamp: 0, id: \"\" },\n    raw: { value: 0, timestamp: 0, id: \"\" },\n    acc: { value: 0, timestamp: 0, id: \"\" },\n    con: { value: 0, timestamp: 0, id: \"\" },\n  },\n  topBook: {\n    wpm: { value: 0, timestamp: 0, id: \"\" },\n    raw: { value: 0, timestamp: 0, id: \"\" },\n    acc: { value: 0, timestamp: 0, id: \"\" },\n    con: { value: 0, timestamp: 0, id: \"\" },\n  },\n}\n\nconst defaultSession = {\n  dailyDone: true,\n  daily: {\n    wpm: {\n      value: 0,\n      raw: 0,\n      weight: 0,\n    },\n    acc: {\n      value: 0,\n      weight: 0,\n    },\n    con: {\n      value: 0,\n      weight: 0,\n    },\n    time: 0,\n    timestamp: 0,\n    typed: 0,\n    read: 0,\n  },\n  notifications: [],\n}\n\nconst defaultState: State = {\n  loaded: false,\n  statsSummary: structuredClone(defaultSummary),\n  settings: structuredClone(defaultSettings),\n  booksIndex: [],\n  session: defaultSession,\n}\n\nasync function loadSavedData(state: State, setState: SetStoreFunction<State>) {\n  const settings = await storage.general.get(\"settings\")\n  const statsSummary = await storage.general.get(\"statsSummary\")\n\n  // daily\n  const dailyStats = await storage.dailyStats.get(getDailyDate())\n\n  if (dailyStats) {\n    setState(\"session\", \"daily\", dailyStats)\n    const info = getDailyProgress(dailyStats)\n    setState(\"session\", \"dailyDone\", info.progress >= 1)\n  }\n\n  if (settings) {\n    setState(\"settings\", merge(defaultSettings, settings))\n  }\n\n  if (statsSummary) {\n    setState(\"statsSummary\", statsSummary)\n  }\n\n  const lastBooksIndexUpdate = await getBooksIndexLastUpdate()\n  const savedBooksIndex = await storage.general.get(\"booksIndex\")\n\n  let booksIndex: null | BooksIndex = null\n\n  if (!savedBooksIndex || lastBooksIndexUpdate > savedBooksIndex.lastUpdate) {\n    const newBooksIndex = await getBooksIndex()\n\n    if (newBooksIndex) {\n      booksIndex = newBooksIndex\n    }\n  } else {\n    booksIndex = savedBooksIndex\n  }\n\n  if (booksIndex) {\n    const booksWithStats = new Set(await storage.booksStats.keys())\n    const favorites = new Set((await storage.general.get(\"favorites\")) ?? [])\n\n    const booksLiveIndex: BooksLiveIndex = []\n\n    for (const book of booksIndex.books) {\n      let progress = 0\n      let timestamp = 0\n      const favorite = favorites.has(book.id)\n\n      if (booksWithStats.has(book.id)) {\n        const stats = await storage.booksStats.get(book.id)\n        progress = stats?.progress ?? 0\n        timestamp = stats?.timestamp ?? 0\n      }\n\n      booksLiveIndex.push({\n        ...book,\n        progress,\n        favorite,\n        timestamp,\n      })\n    }\n\n    setState(\"booksIndex\", booksLiveIndex)\n    await storage.general.set(\"booksIndex\", booksIndex)\n\n    if (\n      state.settings.ui.showHero &&\n      (state.booksIndex.find((book) => book.id === \"entertrained--first-steps\")\n        ?.progress ?? 0) > 0\n    ) {\n      setState(\"settings\", \"ui\", \"showHero\", false)\n    }\n  }\n\n  setState(\"loaded\", true)\n}\n\nconst state = createRoot(() => {\n  const [state, setState] = createStore(defaultState)\n\n  loadSavedData(state, setState)\n\n  const settingsToWatch = (\n    Object.keys(state.settings) as (keyof typeof state.settings)[]\n  )\n    .map((mainKey) =>\n      Object.keys(state.settings[mainKey]).map((key) => {\n        return () => (state.settings[mainKey] as { [key: string]: any })[key]\n      }),\n    )\n    .flat()\n\n  createEffect(\n    on(settingsToWatch, () => {\n      if (state.loaded) {\n        const settings = { ...unwrap(state.settings) }\n        storage.general.set(\"settings\", settings)\n      }\n    }),\n  )\n\n  createEffect(() => {\n    if (state.settings.ui.darkmode) {\n      document.body.classList.add(\"dark\")\n    } else {\n      document.body.classList.remove(\"dark\")\n    }\n  })\n\n  return {\n    get: state,\n    set: setState,\n    reload: () => loadSavedData(state, setState),\n  }\n})\n\nexport default state\n\n// setTimeout(() => {\n//   state.set(\"settings\", \"ui\", \"showHero\", true)\n//   console.log(state.get.settings.ui)\n// }, 1000)\n","import \"./DesktopHeader.css\"\nimport { useLocation } from \"@solidjs/router\"\nimport { type Component } from \"solid-js\"\nimport state from \"../../../state/state\"\n\nexport const DesktopHeader: Component = () => {\n  const location = useLocation()\n\n  return (\n    <div class=\"desktop-header\">\n      <div class=\"logo\">\n        <a href=\"/\">\n          <i class=\"icon-logo\"></i>\n          <h1 data-catchphrase=\"Are you not\" data-version=\"(beta)\">\n            EnterTrained\n          </h1>\n        </a>\n      </div>\n      <nav class=\"menu\">\n        <ul>\n          <li>\n            <a href=\"/\" classList={{ active: location.pathname === \"/\" }}>\n              <i class=\"icon-home\" /> <span>Home</span>\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"/books\"\n              classList={{ active: location.pathname === \"/books\" }}\n            >\n              <i class=\"icon-books\" /> <span>Books</span>\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"/stats\"\n              classList={{ active: location.pathname === \"/stats\" }}\n            >\n              <i class=\"icon-stats\" /> <span>Stats</span>\n            </a>\n          </li>\n        </ul>\n      </nav>\n      <nav class=\"profile\">\n        <ul>\n          <li\n            title=\"Toggle dark mode\"\n            onClick={() => {\n              state.set(\n                \"settings\",\n                \"ui\",\n                \"darkmode\",\n                !state.get.settings.ui.darkmode,\n              )\n            }}\n          >\n            <i\n              class={\n                state.get.settings.ui.darkmode\n                  ? \"icon-dark-mode\"\n                  : \"icon-light-mode\"\n              }\n            />\n          </li>\n          <li title=\"Settings\" class=\"settings-button\">\n            <a\n              href=\"/settings\"\n              classList={{ active: location.pathname === \"/settings\" }}\n            >\n              <i class=\"icon-settings\" />\n            </a>\n          </li>\n          {/* <li title=\"Profile\"> */}\n          {/*   <a */}\n          {/*     href=\"/profile\" */}\n          {/*     classList={{ active: location.pathname === \"/profile\" }} */}\n          {/*   > */}\n          {/*     <i class=\"icon-profile\" /> <span>John Doe</span> */}\n          {/*   </a> */}\n          {/* </li> */}\n        </ul>\n      </nav>\n    </div>\n  )\n}\n","import \"./MobileMenu.css\"\nimport { Component } from \"solid-js\"\nimport state from \"../../../state/state\"\n\ntype Props = {\n  hidden: boolean\n  close: () => void\n}\n\nconst MobileMenu: Component<Props> = (props) => {\n  return (\n    <div class=\"mobile-menu\" hidden={props.hidden}>\n      <nav classList={{ profile: true }}>\n        <ul>\n          <li\n            title=\"Toggle dark mode\"\n            onClick={() => {\n              state.set(\n                \"settings\",\n                \"ui\",\n                \"darkmode\",\n                !state.get.settings.ui.darkmode,\n              )\n              props.close()\n            }}\n            classList={{ active: location.pathname === \"/settings\" }}\n          >\n            <i\n              class={\n                state.get.settings.ui.darkmode\n                  ? \"icon-dark-mode\"\n                  : \"icon-light-mode\"\n              }\n            />\n          </li>\n          <li title=\"Settings\" class=\"settings-button\">\n            <a\n              href=\"/settings\"\n              classList={{ active: location.pathname === \"/settings\" }}\n              onClick={props.close}\n            >\n              <i class=\"icon-settings\" />\n            </a>\n          </li>\n          {/* <li title=\"Profile\"> */}\n          {/*   <a */}\n          {/*     href=\"/profile\" */}\n          {/*     classList={{ active: location.pathname === \"/profile\" }} */}\n          {/*     onClick={props.close} */}\n          {/*   > */}\n          {/*     <i class=\"icon-profile\" /> <span>John Doe</span> */}\n          {/*   </a> */}\n          {/* </li> */}\n        </ul>\n      </nav>\n      <nav classList={{ menu: true }}>\n        <ul>\n          <li>\n            <a\n              href=\"/\"\n              onClick={props.close}\n              classList={{ active: location.pathname === \"/\" }}\n            >\n              <i class=\"icon-home\" /> <span>Home</span>\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"/books\"\n              onClick={props.close}\n              classList={{ active: location.pathname === \"/books\" }}\n            >\n              <i class=\"icon-books\" /> <span>Books</span>\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"/stats\"\n              onClick={props.close}\n              classList={{ active: location.pathname === \"/stats\" }}\n            >\n              <i class=\"icon-stats\" /> <span>Stats</span>\n            </a>\n          </li>\n        </ul>\n      </nav>\n    </div>\n  )\n}\n\nexport default MobileMenu\n","export const delay = (ms: number) =>\n  new Promise((resolve) => setTimeout(resolve, ms))\n","import type { PWAInstallElement } from \"@khmyznikov/pwa-install\"\nimport config from \"../../../config\"\nimport \"./InstallButton.css\"\nimport { Component, createMemo, createSignal, Show } from \"solid-js\"\nimport { Portal } from \"solid-js/web\"\nimport { delay } from \"../../../utils/delay\"\n\nconst InstallButton: Component = () => {\n  const [loading, setLoading] = createSignal(false)\n  const [go, setGo] = createSignal(false)\n  const isInstalled = createMemo(() => {\n    return (\n      window.matchMedia(\"(display-mode: standalone)\").matches ||\n      (\"standalone\" in navigator && (navigator as any).standalone === true)\n    )\n  })\n\n  return (\n    <Show when={!isInstalled() && config.IS_MOBILE}>\n      <button\n        classList={{ download: true, pulse: !loading() }}\n        onClick={async () => {\n          setLoading(true)\n          await import(\"@khmyznikov/pwa-install\")\n\n          setGo(true)\n\n          await delay(500)\n\n          const $pwaInstall = document.querySelector(\n            \"pwa-install\",\n          ) as unknown as PWAInstallElement\n\n          $pwaInstall.showDialog()\n          setLoading(false)\n        }}\n      >\n        <i class={loading() ? \"icon-loading\" : \"icon-download\"}></i>\n      </button>\n      <Show when={go()}>\n        <Portal>\n          {/* @ts-ignore */}\n          <pwa-install\n            name=\"Entertrained\"\n            description=\"Practice touch typing by retyping famous novels\"\n            manual-apple=\"true\"\n            manual-chrome=\"true\"\n            icon=\"/images/icon-pad.svg\"\n            install-description=\"This site has app functionality. Add it to your Home Screen for fullscreen view, easy access, and offline capabilities.\"\n          />\n        </Portal>\n      </Show>\n    </Show>\n  )\n}\n\nexport default InstallButton\n","import \"./MobileHeader.css\"\nimport { Component, createSignal } from \"solid-js\"\nimport MobileMenu from \"./MobileMenu\"\nimport InstallButton from \"./InstallButton\"\n\nconst MobileHeader: Component = () => {\n  const [menu, setMenu] = createSignal(false)\n\n  return (\n    <div class=\"mobile-header\">\n      <div class=\"logo\">\n        <a href=\"/\">\n          <i class=\"icon-logo\"></i>\n          <h1>Entertrained</h1>\n        </a>\n      </div>\n      <nav>\n        <InstallButton />\n        <button class=\"menu\" onClick={() => setMenu(!menu())}>\n          <i class={menu() ? \"icon-close\" : \"icon-menu\"}></i>\n        </button>\n      </nav>\n      <MobileMenu hidden={!menu()} close={() => setMenu(false)} />\n    </div>\n  )\n}\n\nexport default MobileHeader\n","import { useLocation } from \"@solidjs/router\"\nimport { type Component } from \"solid-js\"\nimport \"./Header.css\"\nimport { DesktopHeader } from \"./DesktopHeader\"\nimport MobileHeader from \"./MobileHeader\"\n\ntype Props = {\n  zone?: boolean\n}\n\nconst Header: Component<Props> = (props) => {\n  const location = useLocation()\n\n  return (\n    <header\n      classList={{\n        sticky: !location.pathname.startsWith(\"/prompt\"),\n        small: location.pathname.startsWith(\"/prompt\"),\n        zone: props.zone,\n      }}\n    >\n      <DesktopHeader />\n      <MobileHeader />\n    </header>\n  )\n}\n\nexport default Header\n","import \"./Toast.css\"\nimport { Component, For, Show } from \"solid-js\"\nimport { Portal } from \"solid-js/web\"\n\nexport type ToastItem = {\n  id: Symbol\n  title: string\n  details?: string\n  type?: \"error\" | \"warning\" | \"ok\" | \"special\"\n  important: boolean\n  onClose: () => void\n}\n\ntype Props = {\n  items: ToastItem[]\n  closeAll: () => void\n}\n\nconst Toast: Component<Props> = (props) => {\n  return (\n    <Portal>\n      <Show when={props.items.length > 0}>\n        <ul class=\"toast\">\n          <Show when={props.items.length > 1}>\n            <li class=\"close-all\" onClick={props.closeAll}>\n              CLOSE ALL\n            </li>\n          </Show>\n          <For each={props.items}>\n            {(item) => (\n              <li\n                classList={{\n                  [item.type ?? \"default\"]: Boolean(item.type),\n                  important: item.important,\n                }}\n                onClick={() => {\n                  if (item.onClose) {\n                    item.onClose()\n                  }\n                }}\n              >\n                <h3>{item.title}</h3>\n                <Show when={item.details}>\n                  <p>{item.details}</p>\n                </Show>\n                <i class=\"icon-close\"></i>\n              </li>\n            )}\n          </For>\n        </ul>\n      </Show>\n    </Portal>\n  )\n}\n\nexport default Toast\n","import { Portal } from \"solid-js/web\"\nimport \"./Loading.css\"\nimport { Component } from \"solid-js\"\n\nconst Loading: Component = () => {\n  return (\n    <Portal>\n      <section class=\"loading-page\">\n        <i class=\"icon-loading\" />\n      </section>\n    </Portal>\n  )\n}\n\nexport default Loading\n","import { type ParentComponent, Show, createEffect, on } from \"solid-js\"\nimport \"./App.css\"\nimport Header from \"./common/header/Header.tsx\"\nimport { useLocation } from \"@solidjs/router\"\nimport Toast from \"./common/toast/Toast.tsx\"\nimport state from \"../state/state.ts\"\nimport Loading from \"./common/loading/Loading.tsx\"\n\nconst App: ParentComponent = (props) => {\n  const location = useLocation()\n\n  // Clean notifications when navigating to the different place\n  createEffect(\n    on(\n      () => location.pathname,\n      () => {\n        state.set(\"session\", \"notifications\", [])\n      },\n    ),\n  )\n\n  return (\n    <Show when={state.get.loaded} fallback={<Loading />}>\n      <div\n        classList={{\n          \"fit-height\": location.pathname.startsWith(\"/prompt\"),\n          [state.get.settings.ui.theme]: true,\n        }}\n      >\n        <Show when={!location.pathname.startsWith(\"/prompt\")}>\n          <Header />\n        </Show>\n        <Toast\n          items={state.get.session.notifications}\n          closeAll={() => state.set(\"session\", \"notifications\", [])}\n        />\n        <main>{props.children}</main>\n      </div>\n    </Show>\n  )\n}\n\nexport default App\n","export function getAccuracyThreshold(acc: number) {\n  if (acc >= 0.98) {\n    return \"ok\"\n  }\n\n  if (acc >= 0.95) {\n    return \"warning\"\n  }\n\n  return \"error\"\n}\n","import state from \"../state/state\"\nimport storage from \"../storage/storage\"\n\nexport async function toggleFavorite(bookId: string) {\n  const index = state.get.booksIndex.findIndex((book) => book.id === bookId)\n\n  if (index !== -1) {\n    state.set(\"booksIndex\", index, \"favorite\", (prev) => !prev)\n    const isFavorite = state.get.booksIndex[index].favorite\n\n    const favorites = new Set(await storage.general.get(\"favorites\"))\n\n    if (isFavorite) {\n      favorites.add(bookId)\n    } else {\n      favorites.delete(bookId)\n    }\n\n    console.log(\"Adding to favorites:\", bookId)\n    return storage.general.set(\"favorites\", [...favorites])\n  }\n\n  return null\n}\n","import config from \"../config\"\n\nexport function getUtcDays(timestamp: number) {\n  return Math.floor(timestamp / (1000 * 60 * 60 * 24))\n}\n\nexport function isNew(timestamp: number) {\n  return getUtcDays(Date.now() - timestamp) < config.DAYS_AS_NEW\n}\n","export function formatPercentage(num: number, precision = 0) {\n  if (num === 1) {\n    precision = 0\n  }\n\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"percent\",\n    maximumFractionDigits: precision,\n    minimumFractionDigits: precision,\n    // @ts-ignore\n    roundingMode: \"floor\",\n  }).format(num)\n}\n\nexport function formatNum(num: number, precision = 0) {\n  return new Intl.NumberFormat(\"en-US\", {\n    maximumFractionDigits: precision,\n    minimumFractionDigits: precision,\n    // @ts-ignore\n    roundingMode: \"floor\",\n  }).format(num)\n}\n\nexport function formatOrdinalNum(num: number) {\n  const asStr = String(num)\n  if (/(4|5|6|7|8|9|0|11|12|13)$/.test(asStr)) {\n    return `${num}th`\n  }\n\n  if (asStr.endsWith(\"1\")) {\n    return `${num}st`\n  }\n\n  if (asStr.endsWith(\"2\")) {\n    return `${num}nd`\n  }\n\n  return `${num}rd`\n}\n\nexport function formatPercentageNice(num: number, precision = 0) {\n  if (num === 0) {\n    return \"-\"\n  }\n\n  if (num < 0.01 && precision === 0) {\n    return \"<1\"\n  }\n\n  return formatPercentage(num, precision).slice(0, -1)\n}\n\nexport function formatNumNice(num: number, precision = 0) {\n  if (num === 0) {\n    return \"-\"\n  }\n\n  if (num < 1 && precision === 0) {\n    return \"<1\"\n  }\n\n  return formatNum(num, precision)\n}\n\nconst S_IN_M = 60\nconst M_IN_H = 60\nconst MS_IN_S = 1000\nconst MS_IN_M = MS_IN_S * S_IN_M\nconst MS_IN_H = MS_IN_S * S_IN_M * M_IN_H\n\nexport function getHMS(ms: number) {\n  const h = Math.floor(ms / MS_IN_H)\n  const m = Math.floor((ms - h * MS_IN_H) / MS_IN_M)\n  const s = Math.floor((ms - (h * MS_IN_H + m * MS_IN_M)) / MS_IN_S)\n\n  return [h, m, s]\n}\n\nexport function formatDuration(ms: number, asString: boolean = false) {\n  const [h, m, s] = getHMS(ms)\n\n  const chunks = []\n\n  if (h > 0) {\n    chunks.push([h, \"h\"])\n  }\n\n  if (m > 0) {\n    chunks.push([m, \"m\"])\n  }\n\n  if (h === 0 && m === 0) {\n    chunks.push([s, \"s\"])\n  }\n\n  return asString\n    ? chunks.map((chunk) => chunk.join(\"\")).join(\" \")\n    : chunks.flat()\n}\n\nexport function formatTime(ms: number) {\n  const [h, m, s] = getHMS(ms)\n\n  return [\n    String(h),\n    String(m).padStart(2, \"0\"),\n    String(s).padStart(2, \"0\"),\n  ].join(\":\")\n}\n","export function encodeParams(items: { [key: string]: string }) {\n  const params = new URLSearchParams()\n\n  for (const [key, val] of Object.entries(items)) {\n    params.set(key, val)\n  }\n\n  return params.toString()\n}\n","import { type Component, For } from \"solid-js\"\nimport { encodeParams } from \"../../../utils/url\"\nimport \"./BookGenres.css\"\n\ntype Props = {\n  genres: string[]\n  style?: string\n}\n\nconst BookGenres: Component<Props> = (props) => {\n  return (\n    <ul class=\"book-genres\" style={props.style}>\n      <For each={props.genres}>\n        {(genre) => (\n          <li title=\"Show all books of this genre\">\n            <a href={\"/books?\" + encodeParams({ genre })}>{genre}</a>\n          </li>\n        )}\n      </For>\n    </ul>\n  )\n}\n\nexport default BookGenres\n","import { type Component, Show } from \"solid-js\"\nimport { formatNum, formatPercentageNice } from \"../../../utils/formatters\"\nimport { encodeParams } from \"../../../utils/url\"\nimport \"./BookStrip.css\"\nimport config from \"../../../config\"\n\ntype Props = {\n  pages: number\n  progress: number\n  isNew: boolean\n  eta?: string\n  wpm?: number\n  part?: number\n  style?: string\n}\n\nconst BookStrip: Component<Props> = (props) => {\n  return (\n    <ul class=\"book-strip\" style={props.style}>\n      <Show when={props.part}>\n        <li>\n          <span>#{props.part}</span>\n        </li>\n      </Show>\n      <li>\n        <span\n          title={`Page is equal to ${formatNum(\n            config.CHARACTERS_PER_PAGE,\n          )} characters (${formatNum(config.CHARACTERS_PER_PAGE / 5)} words)`}\n        >\n          {props.pages} page{props.pages !== 1 ? \"s\" : \"\"}\n        </span>\n      </li>\n      <Show when={props.eta}>\n        <li\n          title={`Remaining typing time, estimated based on your recent typing speed (${formatNum(\n            props.wpm ?? 60,\n          )} wpm)`}\n        >\n          <span>~{props.eta}</span>\n        </li>\n      </Show>\n      <Show when={props.isNew}>\n        <li class=\"new\" title=\"Show all recently added\">\n          <a href={\"/books?\" + encodeParams({ type: \"new\" })}>New!</a>\n        </li>\n      </Show>\n      <Show when={props.progress === 1}>\n        <li class=\"done\" title=\"Show all finished\">\n          <a href={\"/books?\" + encodeParams({ tab: \"done\" })}>Done!</a>\n        </li>\n      </Show>\n      <Show when={props.progress > 0 && props.progress < 1}>\n        <li class=\"in-progress\" title=\"Show all in progress\">\n          <a href={\"/books?\" + encodeParams({ tab: \"in-progress\" })}>\n            {formatPercentageNice(props.progress)}% done\n          </a>\n        </li>\n      </Show>\n    </ul>\n  )\n}\n\nexport default BookStrip\n","import { useNavigate } from \"@solidjs/router\"\nimport { type Component, Show } from \"solid-js\"\nimport \"./Cover.css\"\n\nconst Cover: Component<{ url: string; link?: string }> = (props) => {\n  const navigate = useNavigate()\n  const style = `background-image: url(${props.url});`\n\n  return (\n    <div classList={{ cover: true, link: Boolean(props.link) }}>\n      <div\n        style={style}\n        onClick={() => {\n          console.log(\"Cover click!\")\n          if (props.link) {\n            navigate(props.link)\n          }\n        }}\n      >\n        <Show when={props.link}>\n          <div>\n            {\" \"}\n            <p>Open</p>\n          </div>\n        </Show>\n      </div>\n    </div>\n  )\n}\n\nexport default Cover\n","import { type Component, For, Show, createMemo } from \"solid-js\"\nimport { formatNumNice, formatPercentageNice } from \"../../../utils/formatters\"\nimport \"./StatsStrip.css\"\n\ntype Props = {\n  data: {\n    name: string\n    nameSub?: string\n    val: (number | string)[] | number | string | null\n    isPercent: boolean\n    precision: number\n    unit?: string\n    type?: string\n    extra?: string\n    tooltipTitle?: string\n    tooltipVal?: string\n    showZero?: boolean\n  }[]\n  desktopColumns?: number\n  mobileColumns?: number\n}\n\nconst StatsStrip: Component<Props> = (props) => {\n  const style = createMemo(() => {\n    const styles = []\n\n    if (props.desktopColumns) {\n      styles.push(`--desktop-columns: ${props.desktopColumns}`)\n    }\n\n    if (props.mobileColumns) {\n      styles.push(`--mobile-columns: ${props.mobileColumns}`)\n    }\n\n    return styles.join(\"; \")\n  })\n  return (\n    <ul class=\"stats-strip\" style={style()}>\n      <For each={props.data}>\n        {(item) => {\n          const val = () => {\n            if (item.val === null) {\n              return <strong>-</strong>\n            }\n\n            if (Array.isArray(item.val)) {\n              return (\n                <For each={item.val}>\n                  {(chunk, i) => {\n                    return i() % 2 === 0 ? (\n                      <strong> {chunk}</strong>\n                    ) : (\n                      <span> {chunk}</span>\n                    )\n                  }}\n                </For>\n              )\n            }\n\n            if (typeof item.val === \"string\") {\n              return <strong>{item.val}</strong>\n            }\n\n            if (item.val === 0 && item.showZero) {\n              return <strong>0</strong>\n            }\n\n            if (item.isPercent) {\n              return (\n                <strong>\n                  {formatPercentageNice(item.val ?? 0, item.precision)}\n                </strong>\n              )\n            }\n\n            return (\n              <strong>{formatNumNice(item.val ?? 0, item.precision)}</strong>\n            )\n          }\n\n          return (\n            <li>\n              <figure>\n                <figcaption title={item.tooltipTitle ?? \"\"}>\n                  {item.name}\n                </figcaption>\n                <Show when={item.nameSub}>\n                  <p class=\"sub\">{item.nameSub}</p>\n                </Show>\n                <p\n                  title={item.tooltipVal ?? \"\"}\n                  classList={{\n                    val: true,\n                    [item.type ?? \"normal\"]:\n                      item.type !== undefined && item.val !== 0,\n                  }}\n                >\n                  {val()}\n                  <Show when={item.val !== null && item.unit}>\n                    {item.val !== 0 || item.showZero ? item.unit : \"\"}\n                  </Show>\n                </p>\n                <Show when={item.extra}>\n                  <p class=\"extra\">{item.extra}</p>\n                </Show>\n              </figure>\n            </li>\n          )\n        }}\n      </For>\n    </ul>\n  )\n}\n\nexport default StatsStrip\n","export function getConsistencyThreshold(acc: number) {\n  if (acc >= 0.8) {\n    return \"ok\"\n  }\n\n  if (acc >= 0.6) {\n    return \"warning\"\n  }\n\n  return \"error\"\n}\n","export function calculateMean(arr: number[]) {\n  const sum = arr.reduce((acc, curr) => acc + curr, 0)\n  return sum / arr.length\n}\n\nexport function calculateVariance(arr: number[], mean: number) {\n  const squaredDifferences = arr.map((value) => (value - mean) ** 2)\n  const sumOfSquaredDifferences = squaredDifferences.reduce(\n    (acc, curr) => acc + curr,\n    0,\n  )\n  return sumOfSquaredDifferences / arr.length\n}\n\nexport function calculateStandardDeviation(arr: number[], mean: number) {\n  const variance = calculateVariance(arr, mean)\n  return Math.sqrt(variance)\n}\n\nexport function calculateVariationCoefficient(arr: number[]) {\n  const mean = calculateMean(arr)\n  const standardDeviation = calculateStandardDeviation(arr, mean)\n\n  return mean === 0 ? 0 : standardDeviation / mean\n}\n\nexport function removeOutliersByStandardDeviations(\n  arr: number[],\n  standardDeviationsCutoff = 1,\n) {\n  const mean = calculateMean(arr)\n  const standardDeviation = calculateStandardDeviation(arr, mean)\n\n  return arr.filter((num) => {\n    const standardDeviationsFromMean = Math.abs(mean - num) / standardDeviation\n    return standardDeviationsFromMean <= standardDeviationsCutoff\n  })\n}\n\nexport function removeOutliersByPercentiles(\n  arr: number[],\n  startPercentile = 10,\n  endPercentile = 90,\n) {\n  const sortedArray = arr.slice().sort((a, b) => a - b)\n\n  const index10th = Math.floor(\n    (startPercentile / 100) * (sortedArray.length - 1),\n  )\n  const index90th = Math.floor((endPercentile / 100) * (sortedArray.length - 1))\n\n  return sortedArray.slice(index10th, index90th + 1)\n}\n\nexport function calculateWeightedAverage(values: number[], weights: number[]) {\n  if (values.length !== weights.length) {\n    throw new Error(\"Input arrays must have the same length.\")\n  }\n\n  if (values.length === 1) {\n    return values[0]\n  }\n\n  const [sum, weightSum] = weights.reduce(\n    (acc, weight, i) => {\n      const weightedValue = values[i] * weight\n      acc[0] += weightedValue\n      acc[1] += weight\n      return acc\n    },\n    [0, 0],\n  )\n\n  return sum / weightSum\n}\n\nexport function calculateMedian(values: number[]): number {\n  if (values.length === 0) {\n    return 0\n  }\n\n  values = [...values].sort((a, b) => a - b)\n\n  const half = Math.floor(values.length / 2)\n\n  return values.length % 2\n    ? values[half]\n    : (values[half - 1] + values[half]) / 2\n}\n\nexport function mod(num: number, modulus: number) {\n  return ((num % modulus) + modulus) % modulus\n}\n","import type {\n  BookStats,\n  ChapterStats,\n  AverageStats,\n  FinishedParagraphStats,\n  ReadParagraphStats,\n  TypedParagraphStats,\n  MainStats,\n} from \"../../../../types/common\"\nimport { calculateWeightedAverage } from \"../../../../utils/math\"\n\nexport type ParagraphsStats = (TypedParagraphStats | ReadParagraphStats)[]\n\nexport function calculateStat(values: number[], weights: number[]) {\n  const nonZeroWeights = weights.filter((weight) => weight > 0).length\n\n  return nonZeroWeights === 0\n    ? { value: 0, weight: 0 }\n    : {\n        value: calculateWeightedAverage(values, weights),\n        weight: weights.reduce((a, b) => a + b, 0),\n      }\n}\n\nexport function summarizeChapterStats(\n  pStats: ParagraphsStats,\n  chapterLength: number,\n  skip: boolean,\n): ChapterStats {\n  const typedParagraphsCount = pStats.filter(\n    (entry) => entry.type === \"typed\",\n  ).length\n\n  const wpms = new Array(typedParagraphsCount)\n  const rawWpms = new Array(typedParagraphsCount)\n  const wpmsWeights = new Array(typedParagraphsCount)\n  const accuracies = new Array(typedParagraphsCount)\n  const accuraciesWeights = new Array(typedParagraphsCount)\n  const consustencies = new Array(typedParagraphsCount)\n  const consistenciesWeights = new Array(typedParagraphsCount)\n\n  let time = 0\n  let read = 0\n  let typed = 0\n  let timestamp = 0\n  let i = 0\n\n  for (const stats of pStats) {\n    if (stats.type === \"typed\") {\n      wpms[i] = stats.wpm.value\n      rawWpms[i] = stats.wpm.raw\n      wpmsWeights[i] = stats.wpm.weight\n      accuracies[i] = stats.acc.value\n      accuraciesWeights[i] = stats.acc.weight\n      consustencies[i] = stats.con.value\n      consistenciesWeights[i] = stats.con.weight\n      typed += stats.length\n      time += stats.time\n      i++\n    } else {\n      read += stats.length\n    }\n\n    timestamp = Math.max(timestamp, stats.timestamp)\n  }\n\n  const total = read + typed\n  const wpm = calculateStat(wpms, wpmsWeights)\n  const rawWpm = calculateStat(rawWpms, wpmsWeights)\n  const acc = calculateStat(accuracies, accuraciesWeights)\n  const con = calculateStat(consustencies, consistenciesWeights)\n\n  return {\n    wpm: {\n      value: wpm.value,\n      raw: rawWpm.value,\n      weight: wpm.weight,\n    },\n    acc,\n    con,\n    time,\n    timestamp,\n    read,\n    typed,\n    progress: total / chapterLength,\n    skip,\n  }\n}\n\nexport function summarizeDailyStats(\n  pStats: TypedParagraphStats[],\n): AverageStats {\n  const paragraphsCount = pStats.length\n\n  const wpms = new Array(paragraphsCount)\n  const rawWpms = new Array(paragraphsCount)\n  const wpmsWeights = new Array(paragraphsCount)\n  const accuracies = new Array(paragraphsCount)\n  const accuraciesWeights = new Array(paragraphsCount)\n  const consustencies = new Array(paragraphsCount)\n  const consistenciesWeights = new Array(paragraphsCount)\n\n  let time = 0\n  let read = 0\n  let typed = 0\n  let timestamp = 0\n  let i = 0\n\n  for (const stats of pStats) {\n    wpms[i] = stats.wpm.value\n    rawWpms[i] = stats.wpm.raw\n    wpmsWeights[i] = stats.wpm.weight\n    accuracies[i] = stats.acc.value\n    accuraciesWeights[i] = stats.acc.weight\n    consustencies[i] = stats.con.value\n    consistenciesWeights[i] = stats.con.weight\n    typed += stats.length\n    time += stats.time\n    i++\n\n    timestamp = Math.max(timestamp, stats.timestamp)\n  }\n\n  const wpm = calculateStat(wpms, wpmsWeights)\n  const rawWpm = calculateStat(rawWpms, wpmsWeights)\n  const acc = calculateStat(accuracies, accuraciesWeights)\n  const con = calculateStat(consustencies, consistenciesWeights)\n\n  return {\n    wpm: {\n      value: wpm.value,\n      raw: rawWpm.value,\n      weight: wpm.weight,\n    },\n    acc,\n    con,\n    time,\n    timestamp,\n    read,\n    typed,\n  }\n}\n\nexport function summarizeAverageStats(aStats: AverageStats[]): AverageStats {\n  const len = aStats.length\n\n  const wpms = new Array(len)\n  const rawWpms = new Array(len)\n  const wpmsWeights = new Array(len)\n  const accuracies = new Array(len)\n  const accuraciesWeights = new Array(len)\n  const consustencies = new Array(len)\n  const consistenciesWeights = new Array(len)\n\n  let time = 0\n  let read = 0\n  let typed = 0\n  let timestamp = 0\n\n  for (let i = 0; i < len; i++) {\n    wpms[i] = aStats[i].wpm.value\n    rawWpms[i] = aStats[i].wpm.raw\n    wpmsWeights[i] = aStats[i].wpm.weight\n    accuracies[i] = aStats[i].acc.value\n    accuraciesWeights[i] = aStats[i].acc.weight\n    consustencies[i] = aStats[i].con.value\n    consistenciesWeights[i] = aStats[i].con.weight\n    typed += aStats[i].typed\n    read += aStats[i].read\n    time += aStats[i].time\n    timestamp = Math.max(timestamp, aStats[i].timestamp)\n  }\n\n  const wpm = calculateStat(wpms, wpmsWeights)\n  const rawWpm = calculateStat(rawWpms, wpmsWeights)\n  const acc = calculateStat(accuracies, accuraciesWeights)\n  const con = calculateStat(consustencies, consistenciesWeights)\n\n  return {\n    wpm: {\n      value: wpm.value,\n      raw: rawWpm.value,\n      weight: wpm.weight,\n    },\n    acc,\n    con,\n    time,\n    timestamp,\n    read,\n    typed,\n  }\n}\n\nexport function summarizeBookStats(\n  cStats: ChapterStats[],\n  bookLength: number,\n  lastChapter: string,\n): BookStats {\n  const len = cStats.length\n\n  const wpms = new Array(len)\n  const rawWpms = new Array(len)\n  const wpmsWeights = new Array(len)\n  const accuracies = new Array(len)\n  const accuraciesWeights = new Array(len)\n  const consustencies = new Array(len)\n  const consistenciesWeights = new Array(len)\n\n  let time = 0\n  let read = 0\n  let typed = 0\n  let timestamp = 0\n  let total = 0\n\n  for (let i = 0; i < len; i++) {\n    wpms[i] = cStats[i].wpm.value\n    rawWpms[i] = cStats[i].wpm.raw\n    wpmsWeights[i] = cStats[i].wpm.weight\n    accuracies[i] = cStats[i].acc.value\n    accuraciesWeights[i] = cStats[i].acc.weight\n    consustencies[i] = cStats[i].con.value\n    consistenciesWeights[i] = cStats[i].con.weight\n    typed += cStats[i].typed\n    read += cStats[i].read\n    time += cStats[i].time\n    timestamp = Math.max(timestamp, cStats[i].timestamp)\n\n    if (!cStats[i].skip) {\n      total += cStats[i].typed + cStats[i].read\n    }\n  }\n\n  const wpm = calculateStat(wpms, wpmsWeights)\n  const rawWpm = calculateStat(rawWpms, wpmsWeights)\n  const acc = calculateStat(accuracies, accuraciesWeights)\n  const con = calculateStat(consustencies, consistenciesWeights)\n\n  return {\n    wpm: {\n      value: wpm.value,\n      raw: rawWpm.value,\n      weight: wpm.weight,\n    },\n    acc,\n    con,\n    time,\n    timestamp,\n    read,\n    typed,\n    progress: total / bookLength,\n    lastChapter,\n  }\n}\n\nexport function mergeAverageStats(\n  paragraphStats: FinishedParagraphStats,\n  averageStats?: AverageStats,\n): AverageStats {\n  if (!averageStats) {\n    return paragraphStats.type === \"typed\"\n      ? {\n          wpm: paragraphStats.wpm,\n          acc: paragraphStats.acc,\n          con: paragraphStats.con,\n          time: paragraphStats.time,\n          typed: paragraphStats.length,\n          read: 0,\n          timestamp: paragraphStats.timestamp,\n        }\n      : {\n          wpm: { value: 0, raw: 0, weight: 0 },\n          acc: { value: 0, weight: 0 },\n          con: { value: 0, weight: 0 },\n          time: 0,\n          typed: 0,\n          read: paragraphStats.length,\n          timestamp: paragraphStats.timestamp,\n        }\n  } else {\n    const wpm =\n      paragraphStats.type === \"typed\"\n        ? calculateStat(\n            [averageStats.wpm.value, paragraphStats.wpm.value],\n            [averageStats.wpm.weight, paragraphStats.wpm.weight],\n          )\n        : averageStats.wpm\n    const raw =\n      paragraphStats.type === \"typed\"\n        ? calculateStat(\n            [averageStats.wpm.raw, paragraphStats.wpm.raw],\n            [averageStats.wpm.weight, paragraphStats.wpm.weight],\n          )\n        : { value: averageStats.wpm.raw }\n    const acc =\n      paragraphStats.type === \"typed\"\n        ? calculateStat(\n            [averageStats.acc.value, paragraphStats.acc.value],\n            [averageStats.acc.weight, paragraphStats.acc.weight],\n          )\n        : averageStats.acc\n    const con =\n      paragraphStats.type === \"typed\"\n        ? calculateStat(\n            [averageStats.con.value, paragraphStats.con.value],\n            [averageStats.con.weight, paragraphStats.con.weight],\n          )\n        : averageStats.con\n\n    const time =\n      paragraphStats.type === \"typed\"\n        ? averageStats.time + paragraphStats.time\n        : averageStats.time\n\n    const typed =\n      paragraphStats.type === \"typed\"\n        ? averageStats.typed + paragraphStats.length\n        : averageStats.typed\n\n    const read =\n      paragraphStats.type === \"read\"\n        ? averageStats.read + paragraphStats.length\n        : averageStats.read\n\n    return {\n      wpm: {\n        value: wpm.value,\n        raw: raw.value,\n        weight: wpm.weight,\n      },\n      acc,\n      con,\n      time,\n      typed,\n      read,\n      timestamp: paragraphStats.timestamp,\n    }\n  }\n}\n\nexport function mergeMainStats(\n  paragraphStats: FinishedParagraphStats,\n  mainStats?: MainStats,\n): MainStats {\n  if (!mainStats) {\n    return paragraphStats.type === \"typed\"\n      ? {\n          wpm: paragraphStats.wpm,\n          acc: paragraphStats.acc,\n          con: paragraphStats.con,\n        }\n      : {\n          wpm: { value: 0, raw: 0, weight: 0 },\n          acc: { value: 0, weight: 0 },\n          con: { value: 0, weight: 0 },\n        }\n  } else {\n    const wpm =\n      paragraphStats.type === \"typed\"\n        ? calculateStat(\n            [mainStats.wpm.value, paragraphStats.wpm.value],\n            [mainStats.wpm.weight, paragraphStats.wpm.weight],\n          )\n        : mainStats.wpm\n    const raw =\n      paragraphStats.type === \"typed\"\n        ? calculateStat(\n            [mainStats.wpm.raw, paragraphStats.wpm.raw],\n            [mainStats.wpm.weight, paragraphStats.wpm.weight],\n          )\n        : { value: mainStats.wpm.raw }\n    const acc =\n      paragraphStats.type === \"typed\"\n        ? calculateStat(\n            [mainStats.acc.value, paragraphStats.acc.value],\n            [mainStats.acc.weight, paragraphStats.acc.weight],\n          )\n        : mainStats.acc\n    const con =\n      paragraphStats.type === \"typed\"\n        ? calculateStat(\n            [mainStats.con.value, paragraphStats.con.value],\n            [mainStats.con.weight, paragraphStats.con.weight],\n          )\n        : mainStats.con\n\n    return {\n      wpm: {\n        value: wpm.value,\n        raw: raw.value,\n        weight: wpm.weight,\n      },\n      acc,\n      con,\n    }\n  }\n}\n","import type { ChapterStats, StaticChapterInfo } from \"../types/common\"\n\ntype Args = {\n  currentChapterId: string\n  chaptersStats: { [index: string]: ChapterStats }\n  chapters: StaticChapterInfo[]\n  progress: number\n}\n\nexport function getNextChapterId({\n  currentChapterId,\n  chaptersStats,\n  chapters,\n  progress,\n}: Args) {\n  if (progress === 0 || progress === 1) {\n    const index = Math.max(\n      0,\n      chapters.findIndex((c) => !c.skip),\n    )\n\n    return chapters[index].id\n  }\n\n  const curr = chapters.findIndex((chapter) => chapter.id === currentChapterId)\n\n  for (let i = curr; i < curr + chapters.length; i++) {\n    const index = i % chapters.length\n    const id = chapters[index].id\n\n    if (\n      !chapters[index].skip &&\n      (!chaptersStats[id] || chaptersStats[id].progress < 1)\n    ) {\n      return chapters[index].id\n    }\n  }\n\n  return chapters[0].id\n}\n","import { fetchJSON } from \"../libs/api-helpers/fetchJSON\"\nimport storage from \"../storage/storage\"\nimport type { StaticBookInfo } from \"../types/common\"\n\nexport async function getBookInfo(id: string): Promise<StaticBookInfo | null> {\n  const cachedBookInfo = await storage.booksInfo.get(id)\n\n  if (cachedBookInfo) {\n    return cachedBookInfo\n  }\n\n  const bookInfo = await fetchJSON(`/books/${id}/info.json`)\n\n  if (bookInfo) {\n    await storage.booksInfo.set(id, bookInfo)\n  }\n\n  return bookInfo\n}\n","import { getNextChapterId } from \"../../../actions/getNextChapterId\"\nimport config from \"../../../config\"\nimport { getBookInfo } from \"../../../io/getBookInfo\"\nimport storage from \"../../../storage/storage\"\n\nexport async function fetchBookDetails(id: string) {\n  const data = await getBookInfo(id)\n\n  if (data === null) {\n    return null\n  }\n\n  const extra = null //await getAdditionalBookInfo(data.title, data.author)\n\n  const chaptersStats = await storage.chaptersStats.get(id)\n  const bookStats = await storage.booksStats.get(id)\n\n  const nextChapterId = getNextChapterId({\n    currentChapterId: bookStats?.lastChapter ?? \"\",\n    chaptersStats: chaptersStats ?? {},\n    chapters: data.chapters,\n    progress: bookStats?.progress ?? 0,\n  })\n\n  const chapters = data.chapters.map((chapter) => {\n    const chapterStats = chaptersStats && chaptersStats[chapter.id]\n\n    return {\n      ...chapter,\n      wpm: chapterStats?.wpm.value ?? null,\n      acc: chapterStats?.acc.value ?? null,\n      consistency: chapterStats?.con.value ?? null,\n      progress: chapterStats?.progress ?? 0,\n      typedLength: chapterStats?.typed ?? 0,\n    }\n  })\n\n  const totalChars = data.chapters\n    .filter((chapter) => !chapter.skip)\n    .map((chapter) => chapter.length)\n    .reduce((sum, x) => sum + x, 0)\n\n  const totalPages = Math.ceil(totalChars / config.CHARACTERS_PER_PAGE)\n\n  const typedLength = bookStats?.typed ?? 0\n  const pages = typedLength / config.CHARACTERS_PER_PAGE\n\n  return {\n    ...data,\n    pages,\n    totalPages,\n    totalChars,\n    chapters,\n    wpm: bookStats?.wpm.value ?? null,\n    raw: bookStats?.wpm.raw ?? null,\n    acc: bookStats?.acc.value ?? null,\n    con: bookStats?.con.value ?? null,\n    time: bookStats?.time,\n    progress: bookStats?.progress ?? 0,\n    typedLength,\n    nextChapterId,\n    extra,\n  }\n}\n","import { useLocation, useParams } from \"@solidjs/router\"\nimport {\n  type Component,\n  For,\n  Show,\n  createEffect,\n  createMemo,\n  createResource,\n  createSignal,\n  onMount,\n} from \"solid-js\"\nimport { getAccuracyThreshold } from \"../../../actions/getAccuracyThreshold\"\nimport { toggleFavorite } from \"../../../actions/toggleFavorite\"\nimport config from \"../../../config\"\nimport state from \"../../../state/state\"\nimport { isNew } from \"../../../utils/dates\"\nimport {\n  formatNum,\n  formatOrdinalNum,\n  formatPercentage,\n  formatDuration,\n} from \"../../../utils/formatters\"\nimport { encodeParams } from \"../../../utils/url\"\nimport BookGenres from \"../../common/book-genres/BookGenres\"\nimport BookStrip from \"../../common/book-strip/BookStrip\"\nimport Cover from \"../../common/book/Cover\"\nimport StatsStrip from \"../../common/stats-strip/StatsStrip\"\nimport \"./BookDetails.css\"\nimport { getConsistencyThreshold } from \"../../../actions/getConsistencyThreshold\"\nimport { summarizeChapterStats } from \"../prompt/prompt-actions/summarizeStats\"\nimport { fetchBookDetails } from \"./fetchBookDetails\"\nimport Loading from \"../../common/loading/Loading\"\n\ntype Props = {\n  value: number | string\n  unit: string\n  type?: string\n  class?: string\n  title?: string\n}\n\nconst MiniStat: Component<Props> = (props) => {\n  return (\n    <div\n      classList={{\n        ministat: true,\n        [props.type ?? \"normal\"]: props.type !== undefined,\n        [props.class ?? \"class\"]: props.class !== undefined,\n      }}\n      title={props.title}\n    >\n      <strong>{props.value}</strong>\n      <small>{props.unit}</small>\n    </div>\n  )\n}\n\nconst BookDetails: Component = () => {\n  const location = useLocation()\n  const params = useParams()\n  const [data] = createResource(params.id, fetchBookDetails)\n  const [more, setMore] = createSignal(false)\n\n  const favorite = createMemo(() => {\n    return (\n      state.get.booksIndex.find((book) => book.id === data()?.id)?.favorite ??\n      false\n    )\n  })\n\n  const recent = createMemo(() => {\n    return summarizeChapterStats(state.get.statsSummary.recent, 0, false)\n  })\n\n  const totalTypingTime = createMemo(() => {\n    const averageWpm = recent().wpm.value || 60\n    const timeMs = ((data()?.totalChars ?? 0) / 5 / averageWpm) * 60 * 1000\n    return formatDuration(timeMs, true) as string\n  })\n\n  onMount(() => {\n    createEffect(() => {\n      if (location.hash && data()) {\n        document.querySelector(location.hash)?.scrollIntoView()\n      }\n    })\n  })\n\n  const nextChapter = createMemo(() => {\n    const chaptetId = data()?.nextChapterId ?? \"\"\n\n    return {\n      link: `/prompt/${params.id}__${chaptetId}`,\n      text:\n        data()?.progress === 1\n          ? \"TRY AGAIN\"\n          : data()?.progress === 0\n            ? \"START\"\n            : \"CONTINUE\",\n    }\n  })\n\n  const description = createMemo(() => {\n    const paragraphs = data()?.longDescription ?? []\n\n    if (paragraphs.length === 0) {\n      return [\"No description.\"]\n    }\n\n    if (paragraphs.length === 1 || more()) {\n      return paragraphs\n    }\n\n    return paragraphs.slice(0, 1)\n  })\n\n  const statsStripData = createMemo(() => {\n    if (!data()?.time) {\n      return null\n    }\n\n    const acc = data()?.acc ?? null\n    const con = data()?.con ?? null\n    const duration = data()?.time ? formatDuration(data()?.time ?? 0) : null\n\n    return [\n      {\n        name: \"Speed\",\n        val: data()?.wpm ?? null,\n        isPercent: false,\n        precision: 2,\n        unit: \" wpm\",\n        tooltipTitle:\n          \"Words per minute, where one word equals five characters (including spaces)\",\n        tooltipVal: data()?.raw\n          ? `${formatNum(data()!.raw ?? 0, 2)} raw`\n          : undefined,\n      },\n      {\n        name: \"Accuracy\",\n        val: acc,\n        isPercent: true,\n        precision: 2,\n        unit: \" %\",\n        type: acc !== null ? getAccuracyThreshold(acc) : undefined,\n        tooltipTitle: \"Percentage of correct keystrokes\",\n        tooltipVal: \"Target accuracy >= 98%\",\n      },\n      {\n        name: \"Consistency\",\n        val: con,\n        isPercent: true,\n        precision: 2,\n        unit: \" %\",\n        type: con !== null ? getConsistencyThreshold(con) : undefined,\n        tooltipTitle: \"Measures how consistent is the time between keystrokes\",\n        tooltipVal: \"Target consistency >= 80%\",\n      },\n      {\n        name: \"Typing Time\",\n        val: duration,\n        isPercent: false,\n        precision: 0,\n        tooltipVal: \"hours : minutes : seconds\",\n        tooltipTitle: \"Total time spent typing\",\n      },\n    ]\n  })\n\n  const sourceText = createMemo(() => {\n    const value = data()?.source?.value ?? \"unknown\"\n    if (data()?.source?.isUrl) {\n      try {\n        return new URL(value).origin\n      } catch {}\n    }\n\n    return data()?.source?.value\n  })\n\n  return (\n    <Show when={data()} fallback={<Loading />}>\n      <div class=\"book-details\">\n        <section class=\"info\" style={`--pages: ${data()?.totalPages}`}>\n          <nav>\n            <div>\n              <button\n                classList={{ favorite: true, active: favorite() }}\n                onClick={() => toggleFavorite(data()?.id ?? \"\")}\n                title={\n                  favorite() ? \"Remove from favorites\" : \"Add to favorites\"\n                }\n                type=\"button\"\n              >\n                <i class={favorite() ? \"icon-heart\" : \"icon-heart-off\"} />\n              </button>\n              <a class=\"button primary type\" href={nextChapter().link}>\n                {nextChapter().text}\n              </a>\n            </div>\n            {/* <div> */}\n            {/*   <button class=\"edit primary warning\">EDIT</button> */}\n            {/* </div> */}\n          </nav>\n          <h2>{data()?.title}</h2>\n          <Cover url={`/books/${params.id}/cover.min.webp`} />\n          <Show when={data()?.series}>\n            <p class=\"series\">\n              <strong>{formatOrdinalNum(data()?.part ?? 0)}</strong> book of{\" \"}\n              {/^(a |an |the )/i.test(data()?.series ?? \"\") ? \" \" : \"the \"}\n              <a\n                title=\"Show all books in the series\"\n                href={`/books?${encodeParams({\n                  series: data()?.series ?? \"\",\n                  order: \"part\",\n                })}`}\n              >\n                {data()?.series}\n              </a>{\" \"}\n              series\n            </p>\n          </Show>\n          <p class=\"author\">\n            by{\" \"}\n            <a\n              title=\"Show all books by the author\"\n              href={`/books?${encodeParams({\n                author: data()?.author ?? \"\",\n              })}`}\n            >\n              {data()?.author}\n            </a>\n          </p>\n          <BookStrip\n            pages={data()?.totalPages ?? 0}\n            eta={totalTypingTime()}\n            progress={data()?.progress ?? 0}\n            isNew={isNew(data()?.createdAt ?? 0)}\n            style=\"--padding-v: var(--space-xs); --padding-h: var(--space-s); --font-size: var(--font-m); --margin: var(--space-s)\"\n            wpm={recent().wpm.value}\n          />\n          <BookGenres\n            genres={data()?.genres ?? []}\n            style=\"--padding-v: var(--space-xs); --padding-h: var(--space-s); --font-size: var(--font-s); --margin: var(--space-m)\"\n          />\n          <p class=\"source\">\n            Source:{\" \"}\n            <Show when={data()?.source?.isUrl} fallback={sourceText()}>\n              <a href={data()?.source?.value} target=\"_blank\" rel=\"noreferrer\">\n                {sourceText()}\n              </a>\n            </Show>\n          </p>\n          <Show when={statsStripData()}>\n            <StatsStrip data={statsStripData()!} />\n          </Show>\n          <p class=\"short-description\">{data()?.description}</p>\n          <article class=\"description\">\n            <p>***</p>\n            <For each={description()}>{(par) => <p>{par}</p>}</For>\n          </article>\n          <Show when={more()}>\n            <p class=\"rights\">\n              <strong>Rights: </strong>\n              {data()?.rights ?? \"no info\"}\n            </p>\n          </Show>\n          <p class=\"more\">\n            <a\n              href=\"#\"\n              onClick={(e) => {\n                e.preventDefault()\n                setMore(!more())\n                if (!more()) {\n                  window.scrollTo({ top: 0, behavior: \"instant\" })\n                }\n              }}\n            >\n              [{more() ? \"less\" : \"more\"}]\n            </a>\n          </p>\n        </section>\n        <hr />\n        <section class=\"chapters\" id=\"toc\">\n          <h2>Chapters</h2>\n          <ul>\n            <For each={data()?.chapters}>\n              {(chapter) => {\n                const pages = createMemo(() =>\n                  Math.ceil(chapter.length / config.CHARACTERS_PER_PAGE),\n                )\n\n                const words = createMemo(() => Math.ceil(chapter.length / 5))\n\n                const status = createMemo(() => {\n                  if (chapter.progress === 1) {\n                    return { val: \"100%\", unit: \"done\", type: \"ok\" }\n                  }\n\n                  if (chapter.progress > 0) {\n                    return {\n                      val: formatPercentage(chapter.progress),\n                      unit: \"done\",\n                      type: \"warning\",\n                    }\n                  }\n\n                  if (chapter.skip) {\n                    return { val: \"SKIP\", unit: \"THIS\", type: \"\" }\n                  }\n\n                  return { val: \"\", unit: \"\", type: \"\" }\n                })\n\n                const typingTime = createMemo(() => {\n                  const averageWpm = recent().wpm.value || 60\n                  const timeMs = (words() / averageWpm) * 60 * 1000\n                  return formatDuration(timeMs, true)\n                })\n\n                return (\n                  <li\n                    classList={{\n                      skipped: chapter.skip && chapter.progress === 0,\n                      done: chapter.progress === 1,\n                      \"in-progress\":\n                        chapter.progress > 0 && chapter.progress < 1,\n                    }}\n                  >\n                    <a\n                      href={`/prompt/${data()?.id}__${chapter.id}`}\n                      class=\"chapter-link\"\n                    >\n                      <p\n                        classList={{\n                          \"chapter-title\": true,\n                          \"full-size\": chapter.progress > 0,\n                        }}\n                      >\n                        {chapter.title}\n                      </p>\n                    </a>\n                    <div class=\"chapter-right\">\n                      <Show when={chapter.progress > 0 && chapter.wpm}>\n                        <a\n                          href={`/results/${data()?.id}__${\n                            chapter.id\n                          }?show=chapter`}\n                        >\n                          <MiniStat value={\"FULL\"} unit=\"stats\" />\n                        </a>\n                      </Show>\n                      <Show when={chapter.wpm}>\n                        <MiniStat\n                          value={formatNum(chapter.wpm ?? 0)}\n                          unit=\"wpm\"\n                        />\n                      </Show>\n                      <Show when={chapter.acc}>\n                        <MiniStat\n                          value={formatPercentage(chapter.acc ?? 0)}\n                          unit=\"acc\"\n                          type={getAccuracyThreshold(chapter.acc ?? 0)}\n                        />\n                      </Show>\n                      <Show when={status().val}>\n                        <MiniStat\n                          value={status().val}\n                          unit={status().unit}\n                          type={status().type}\n                          class={\n                            chapter.progress === 0\n                              ? \"condensed-status\"\n                              : undefined\n                          }\n                        />\n                      </Show>\n                      <MiniStat\n                        value={pages()}\n                        unit={`page${pages() !== 1 ? \"s\" : \"\"}`}\n                        class={\n                          chapter.progress === 0\n                            ? \"condensed-page-count\"\n                            : undefined\n                        }\n                        title={`${formatNum(words())} words | ~${typingTime()}`}\n                      />\n                      {/* <span class=\"chapter-skip\"> */}\n                      {/*   <label> */}\n                      {/*     <i */}\n                      {/*       class={`icon-toggle-${chapter.skip ? \"off\" : \"on\"}`} */}\n                      {/*     /> */}\n                      {/*     <input type=\"checkbox\" /> */}\n                      {/*   </label> */}\n                      {/* </span> */}\n                    </div>\n                  </li>\n                )\n              }}\n            </For>\n          </ul>\n        </section>\n      </div>\n    </Show>\n  )\n}\n\nexport default BookDetails\n","import type { Component } from \"solid-js\"\nimport { toggleFavorite } from \"../../../actions/toggleFavorite\"\nimport { encodeParams } from \"../../../utils/url\"\nimport BookGenres from \"../book-genres/BookGenres\"\nimport BookStrip from \"../book-strip/BookStrip\"\nimport \"./Book.css\"\nimport Cover from \"./Cover\"\n\ntype Props = {\n  coverUrl: string\n  id: string\n  title: string\n  author: string\n  description: string\n  pages: number\n  progress: number\n  favorite: boolean\n  isNew: boolean\n  genres: string[]\n  part?: number\n}\n\nconst Book: Component<Props> = (props) => {\n  return (\n    <article\n      classList={{\n        book: true,\n        done: props.progress === 1,\n        \"in-progress\": props.progress > 0 && props.progress < 1,\n      }}\n      style={`--pages: ${props.pages}`}\n    >\n      <div class=\"cover-box\">\n        <Cover url={props.coverUrl} link={`/books/${props.id}`} />\n      </div>\n      <div class=\"scroll-box\">\n        <div class=\"info\">\n          <h3>\n            <a href={`/books/${props.id}`}>{props.title}</a>\n          </h3>\n          <p class=\"author\">\n            by{\" \"}\n            <a href={`/books?${encodeParams({ author: props.author })}`}>\n              {props.author}\n            </a>\n          </p>\n          <p class=\"description\" title={props.description}>\n            {props.description}\n          </p>\n          <BookGenres genres={props.genres} />\n        </div>\n      </div>\n      <div class=\"top-box\">\n        <BookStrip\n          pages={props.pages}\n          progress={props.progress}\n          isNew={props.isNew}\n          part={props.part}\n        />\n        <button\n          classList={{ favorite: true, active: props.favorite }}\n          onClick={() => toggleFavorite(props.id)}\n          title={props.favorite ? \"Remove from favorites\" : \"Add to favorites\"}\n          type=\"button\"\n        >\n          <i class={props.favorite ? \"icon-heart\" : \"icon-heart-off\"} />\n        </button>\n      </div>\n    </article>\n  )\n}\n\nexport default Book\n","import { useSearchParams } from \"@solidjs/router\"\nimport {\n  type Component,\n  For,\n  Show,\n  createMemo,\n  onCleanup,\n  onMount,\n} from \"solid-js\"\nimport \"./Pagination.css\"\n\ntype Props = {\n  of: number\n  shortcuts: boolean\n  down?: boolean\n}\n\ntype ButtonData = {\n  type: \"prev\" | \"next\" | \"direct\" | \"dots\"\n  disabled: boolean\n  val: number\n}\n\nconst Pagination: Component<Props> = (props) => {\n  const [searchParams, setSearchParams] = useSearchParams()\n\n  const currentPage = createMemo(() => {\n    return Math.min(props.of, searchParams.page ? Number(searchParams.page) : 1)\n  })\n\n  if (props.shortcuts) {\n    // TODO - prevent from triggering when in input fields or simmilar\n    const registerShortcuts = (e: KeyboardEvent) => {\n      switch (e.key) {\n        case \"ArrowLeft\":\n          e.preventDefault()\n          if (currentPage() > 1) {\n            const val = currentPage() - 1\n            setSearchParams({ page: val === 1 ? null : val })\n          }\n          return\n        case \"ArrowRight\":\n          e.preventDefault()\n          if (currentPage() < props.of) {\n            const val = currentPage() + 1\n            setSearchParams({ page: val === 1 ? null : val })\n          }\n          return\n      }\n    }\n\n    onMount(() => {\n      document.addEventListener(\"keydown\", registerShortcuts)\n    })\n\n    onCleanup(() => {\n      document.removeEventListener(\"keydown\", registerShortcuts)\n    })\n  }\n\n  const buttons = createMemo(() => {\n    if (props.of < 10) {\n      return Array.from({ length: props.of }, (_, i) => ({\n        type: \"direct\",\n        disabled: false,\n        val: i + 1,\n      }))\n    }\n\n    const of = props.of\n    const page = currentPage()\n    const x: ButtonData[] = new Array(9).fill({\n      type: \"direct\",\n      disabled: false,\n      val: 1,\n    })\n    x[0] = { type: \"prev\", disabled: page === 1, val: page - 1 }\n    x[1] = { type: \"direct\", disabled: false, val: 1 }\n    x[2] = { type: page < 5 ? \"direct\" : \"dots\", disabled: page >= 5, val: 2 }\n    x[3] = {\n      type: \"direct\",\n      disabled: false,\n      val: page < 5 ? 3 : page > of - 4 ? of - 4 : page - 1,\n    }\n    x[4] = {\n      type: \"direct\",\n      disabled: false,\n      val: page < 5 ? 4 : page > of - 4 ? of - 3 : page,\n    }\n    x[5] = {\n      type: \"direct\",\n      disabled: false,\n      val: page < 5 ? 5 : page > of - 4 ? of - 2 : page + 1,\n    }\n    x[6] = {\n      type: page > of - 4 ? \"direct\" : \"dots\",\n      disabled: page <= of - 4,\n      val: of - 1,\n    }\n    x[7] = { type: \"direct\", disabled: false, val: of }\n    x[8] = { type: \"next\", disabled: page === of, val: page + 1 }\n\n    return x\n  })\n\n  return (\n    <Show when={props.of > 1}>\n      <nav\n        classList={{\n          pagination: true,\n          down: props.down,\n        }}\n      >\n        <For each={buttons()}>\n          {(button) => (\n            <button\n              classList={{\n                [button.type]: true,\n                current:\n                  button.type === \"direct\" && button.val === currentPage(),\n              }}\n              disabled={button.disabled}\n              onClick={() => {\n                if (!button.disabled) {\n                  setSearchParams({\n                    page: button.val === 1 ? null : button.val,\n                  })\n                  window.scrollTo(0, 0)\n                }\n              }}\n            >\n              {button.type === \"direct\"\n                ? String(button.val)\n                : button.type === \"dots\"\n                  ? \"..\"\n                  : \"\"}\n            </button>\n          )}\n        </For>\n      </nav>\n    </Show>\n  )\n}\n\nexport default Pagination\n","export function debounce(fn: (...args: any[]) => void, time = 500) {\n  let timer: NodeJS.Timeout\n\n  return (...args: any[]) => {\n    if (timer) {\n      clearTimeout(timer)\n    }\n\n    timer = setTimeout(fn, time, ...args)\n  }\n}\n","import { type Component, For } from \"solid-js\"\nimport \"./ButtonToggle.css\"\n\nconst ButtonToggle: Component<{\n  items: {\n    name: string | Component\n    value: string\n    tooltip?: string\n  }[]\n  active: string\n  setValue: (val: string) => void\n  joined?: boolean\n  style?: string | { [key: string]: string }\n  class?: string\n}> = (props) => {\n  return (\n    <div\n      classList={{\n        \"button-toggle\": true,\n        separate: !props.joined,\n        [props.class ?? \"\"]: true,\n      }}\n    >\n      <For each={props.items}>\n        {(item) => (\n          <button\n            classList={{ active: item.value === props.active }}\n            disabled={item.value === props.active}\n            onClick={() => props.setValue(item.value)}\n            style={props.style}\n            title={item.tooltip}\n          >\n            {/* TODO Check why it gives type error although it works */}\n            {item.name as unknown as Element}\n          </button>\n        )}\n      </For>\n    </div>\n  )\n}\n\nexport default ButtonToggle\n","import type { ParentComponent } from \"solid-js\"\nimport \"./Select.css\"\n\ntype Props = {\n  onChange(\n    e: Event & {\n      target: HTMLSelectElement\n    },\n  ): void\n}\n\nconst Select: ParentComponent<Props> = (props) => {\n  return (\n    <div class=\"select\">\n      <select onChange={props.onChange}>{props.children}</select>\n    </div>\n  )\n}\n\nexport default Select\n","import { useSearchParams } from \"@solidjs/router\"\nimport { type Component, For, Show, createMemo, onMount } from \"solid-js\"\nimport state from \"../../../state/state\"\nimport type { SortBy } from \"../../../types/common\"\nimport { debounce } from \"../../../utils/debounce\"\nimport ButtonToggle from \"../../common/button-toggle/ButtonToggle\"\nimport Select from \"../../common/select/Select\"\nimport \"./Filters.css\"\nimport config from \"../../../config\"\n\nconst setSearch = debounce(\n  (\n    val: string,\n    setSearchParams: (x: { [key: string]: string | null }) => void,\n  ) => {\n    const phrase = val.toLowerCase().trim()\n    setSearchParams({ search: phrase, page: null })\n  },\n  300,\n)\n\nfunction setOrderBy(\n  val: string,\n  setSearchParams: (x: { [key: string]: string | null }) => void,\n) {\n  state.set(\"settings\", \"ui\", \"sortBy\", val as SortBy)\n  setSearchParams({ order: val, page: null })\n}\n\nconst Filters: Component = () => {\n  const [searchParams, setSearchParams] = useSearchParams()\n  const sortBy = createMemo(\n    () => searchParams.order ?? state.get.settings.ui.sortBy,\n  )\n  const criteria = createMemo(() => {\n    const items = []\n    if (searchParams.author) {\n      items.push({\n        category: \"Author\",\n        value: searchParams.author,\n        onClick: () => setSearchParams({ author: null, page: null }),\n      })\n    }\n\n    if (searchParams.series) {\n      items.push({\n        category: \"Series\",\n        value: searchParams.series,\n        onClick: () => setSearchParams({ series: null, page: null }),\n      })\n    }\n\n    if (searchParams.genre) {\n      items.push({\n        category: \"Genre\",\n        value: searchParams.genre,\n        onClick: () => setSearchParams({ genre: null, page: null }),\n      })\n    }\n\n    if (searchParams.type) {\n      items.push({\n        category: \"Type\",\n        value: searchParams.type,\n        onClick: () => setSearchParams({ type: null, page: null }),\n      })\n    }\n\n    if (searchParams.search) {\n      items.push({\n        category: \"Search\",\n        value: searchParams.search,\n        onClick: () => setSearchParams({ search: null, page: null }),\n      })\n    }\n\n    return items\n  })\n\n  let searchRef: HTMLInputElement | undefined\n  onMount(() => {\n    if (!searchRef || config.IS_MOBILE) {\n      return\n    }\n\n    searchRef.focus()\n  })\n\n  return (\n    <nav class=\"filters\">\n      <div class=\"tabs\">\n        <label>\n          <span>Show </span>\n          <ButtonToggle\n            joined={true}\n            items={[\n              { name: \"All\", value: \"all\" },\n              { name: \"Favorite\", value: \"favorites\" },\n              { name: \"In progress\", value: \"in-progress\" },\n              { name: \"Done\", value: \"done\" },\n            ]}\n            active={searchParams.tab ?? \"all\"}\n            setValue={(val: string) =>\n              setSearchParams({\n                tab: val === \"all\" ? null : val,\n                page: null,\n                author: null,\n                genre: null,\n                type: null,\n                search: null,\n                series: null,\n              })\n            }\n          />\n        </label>\n      </div>\n      <div class=\"criteria\">\n        <Show when={criteria().length > 0}>\n          <label>\n            <span>Selected criteria</span>\n            <div>\n              <ul>\n                <For each={criteria()}>\n                  {(item) => (\n                    <li onClick={item.onClick} title=\"Remove criteria\">\n                      {item.category}: <strong>{item.value}</strong>{\" \"}\n                      <i class=\"icon-close\" />\n                    </li>\n                  )}\n                </For>\n                <Show when={criteria().length > 1}>\n                  <li\n                    class=\"clear\"\n                    title=\"Remove all criteria\"\n                    onClick={() => {\n                      setSearchParams({\n                        author: null,\n                        genre: null,\n                        type: null,\n                        search: null,\n                        series: null,\n                        page: null,\n                      })\n                    }}\n                  >\n                    CLEAR <i class=\"icon-close\"></i>\n                  </li>\n                </Show>\n              </ul>\n            </div>\n          </label>\n        </Show>\n      </div>\n      <div class=\"options\">\n        <label>\n          <span>Order by </span>\n          <Select onChange={(e) => setOrderBy(e.target.value, setSearchParams)}>\n            <Show when={searchParams.series}>\n              <option value=\"author\" selected={sortBy() === \"part\"}>\n                Part\n              </option>\n            </Show>\n            <option value=\"author\" selected={sortBy() === \"author\"}>\n              Author\n            </option>\n            <option value=\"title\" selected={sortBy() === \"title\"}>\n              Title\n            </option>\n            <option value=\"length\" selected={sortBy() === \"length\"}>\n              Length\n            </option>\n            {/* <option value=\"year\" selected={current() === \"year\"}> */}\n            {/*   Year */}\n            {/* </option> */}\n            <option value=\"added\" selected={sortBy() === \"added\"}>\n              Date added\n            </option>\n            <option value=\"random\" selected={sortBy() === \"random\"}>\n              Random\n            </option>\n          </Select>\n        </label>\n        <label>\n          <span>Search </span>\n          <input\n            type=\"search\"\n            placeholder=\"Title, author or genre...\"\n            onInput={(e) => setSearch(e.target.value ?? \"\", setSearchParams)}\n            value={searchParams.search ?? \"\"}\n            ref={searchRef}\n          />\n        </label>\n      </div>\n    </nav>\n  )\n}\n\nexport default Filters\n","import config from \"../config\"\nimport type { BooksLiveIndex } from \"../types/common\"\nimport { isNew } from \"../utils/dates\"\n\nexport function getBooksData(booksIndex: BooksLiveIndex) {\n  return booksIndex.map((entry) => ({\n    id: entry.id,\n    title: entry.title ?? \"No Title\",\n    titleAlpha: entry.titleAlpha,\n    author: entry.author ?? \"Unknown\",\n    year: entry.year,\n    createdAt: entry.createdAt,\n    pages: Math.ceil(entry.length / config.CHARACTERS_PER_PAGE),\n    description: entry.description ?? \"No description\",\n    genres: entry.genres,\n    coverUrl: `/books/${entry.id}/cover${\n      devicePixelRatio > 1 ? \"\" : \"-small\"\n    }.min.webp`,\n    coverBigUrl: `/books/${entry.id}/cover.min.webp`,\n    progress: entry.progress,\n    favorite: entry.favorite,\n    series: entry.series,\n    part: entry.part,\n    isNew: isNew(entry.createdAt),\n  }))\n}\n\nexport type BookData = ReturnType<typeof getBooksData>[number]\n","export function zip<T, V>(arr1: T[], arr2: V[]): [T, V][] {\n  const zipped = new Array(arr1.length)\n\n  for (let i = 0; i < arr1.length; i++) {\n    zipped[i] = [arr1[i], arr2[i]]\n  }\n\n  return zipped\n}\n\nexport function shuffle<T>(arr: T[]): void {\n  let currentIndex = arr.length\n\n  // While there remain elements to shuffle...\n  while (currentIndex != 0) {\n    // Pick a remaining element...\n    let randomIndex = Math.floor(Math.random() * currentIndex)\n    currentIndex--\n\n    // And swap it with the current element.\n    ;[arr[currentIndex], arr[randomIndex]] = [\n      arr[randomIndex],\n      arr[currentIndex],\n    ]\n  }\n}\n","import { useSearchParams } from \"@solidjs/router\"\nimport { type Component, For, createMemo } from \"solid-js\"\nimport state from \"../../../state/state\"\nimport { getUtcDays } from \"../../../utils/dates\"\nimport Book from \"../../common/book/Book\"\nimport Pagination from \"../../common/pagination/Pagination\"\nimport \"./Books.css\"\nimport Filters from \"./Filters\"\nimport { getBooksData } from \"../../../actions/getBooksData\"\nimport { shuffle } from \"../../../utils/array\"\n\nconst Books: Component = () => {\n  const [searchParams] = useSearchParams()\n\n  const books = createMemo(() => {\n    const genre = searchParams.genre\n    const author = searchParams.author\n    const type = searchParams.type\n    const phrase = searchParams.search\n    const tab = searchParams.tab ?? \"all\"\n    const series = searchParams.series\n\n    const data = getBooksData(state.get.booksIndex).filter((book) => {\n      const matchesSearch = phrase\n        ? book.author.toLowerCase().includes(phrase) ||\n          book.title.toLowerCase().includes(phrase) ||\n          book.genres.some((genre) => genre.includes(phrase)) ||\n          book.series?.toLowerCase().includes(phrase)\n        : true\n\n      const matchesAuthor = author ? book.author === author : true\n      const matchesGenre = genre ? book.genres.includes(genre) : true\n      type === \"in-progress\" ? book.progress > 0 && book.progress < 1 : true\n      const matchesNew = type === \"new\" ? book.isNew : true\n      const matchSeries = series ? book.series === series : true\n      const matchTab =\n        tab === \"favorites\"\n          ? book.favorite\n          : tab === \"done\"\n            ? book.progress === 1\n            : tab === \"in-progress\"\n              ? book.progress > 0 && book.progress < 1\n              : true\n\n      return (\n        matchesSearch &&\n        matchesAuthor &&\n        matchesGenre &&\n        matchesNew &&\n        matchTab &&\n        matchSeries\n      )\n    })\n\n    const sortBy = searchParams.order ?? state.get.settings.ui.sortBy\n\n    if (sortBy === \"random\") {\n      shuffle(data)\n    } else {\n      data.sort((a, b) => {\n        if (sortBy === \"part\") {\n          return (\n            a.part - b.part ||\n            a.author.localeCompare(b.author) ||\n            a.titleAlpha.localeCompare(b.titleAlpha)\n          )\n        }\n\n        if (sortBy === \"length\") {\n          return (\n            a.pages - b.pages ||\n            a.author.localeCompare(b.author) ||\n            a.titleAlpha.localeCompare(b.titleAlpha)\n          )\n        }\n\n        if (sortBy === \"title\") {\n          return (\n            a.titleAlpha.localeCompare(b.titleAlpha) ||\n            a.author.localeCompare(b.author)\n          )\n        }\n\n        if (sortBy === \"year\") {\n          return (\n            a.year - b.year ||\n            a.part - b.part ||\n            a.author.localeCompare(b.author) ||\n            a.titleAlpha.localeCompare(b.titleAlpha)\n          )\n        }\n\n        if (sortBy === \"added\") {\n          return (\n            getUtcDays(b.createdAt - a.createdAt) ||\n            a.part - b.part ||\n            a.author.localeCompare(b.author) ||\n            a.titleAlpha.localeCompare(b.titleAlpha)\n          )\n        }\n\n        return (\n          a.author.localeCompare(b.author) ||\n          a.part - b.part ||\n          a.titleAlpha.localeCompare(b.titleAlpha)\n        )\n      })\n    }\n\n    return data\n  })\n\n  const booksOnPage = createMemo(() => {\n    const limit = state.get.settings.ui.booksPerPage\n    const currentPage = searchParams.page ? Number(searchParams.page) : 1\n    const start = (currentPage - 1) * limit\n    const end = start + limit\n    return books().slice(start, end)\n  })\n\n  const totalPages = createMemo(() => {\n    return Math.ceil(books().length / state.get.settings.ui.booksPerPage)\n  })\n\n  return (\n    <section class=\"books\">\n      <Filters />\n      <Pagination of={totalPages()} shortcuts={false} />\n      <p class=\"results\">\n        Found <strong>{books().length}</strong> book\n        {books().length !== 1 ? \"s\" : \"\"}\n      </p>\n      <main>\n        <For each={booksOnPage()}>\n          {(book) => (\n            <Book\n              id={book.id}\n              coverUrl={book.coverUrl}\n              title={book.title}\n              author={book.author}\n              description={book.description}\n              pages={book.pages}\n              progress={book.progress}\n              favorite={book.favorite}\n              isNew={book.isNew}\n              genres={book.genres}\n              part={searchParams.series ? book.part : undefined}\n            />\n          )}\n        </For>\n      </main>\n      <Pagination of={totalPages()} shortcuts={false} down={true} />\n    </section>\n  )\n}\n\nexport default Books\n","import \"./QuickBooks.css\"\nimport { Component, For, Show } from \"solid-js\"\nimport Book from \"../../common/book/Book\"\nimport { BookData } from \"../../../actions/getBooksData\"\n\ntype Props = {\n  booksInProgress: BookData[]\n}\n\nconst QuickBooks: Component<Props> = (props) => {\n  return (\n    <Show when={props.booksInProgress.length > 0}>\n      <section class=\"quick-books\">\n        <h2>In Progress</h2>\n        <For each={props.booksInProgress.slice(0, 3)}>\n          {(book) => (\n            <Book\n              id={book.id}\n              coverUrl={book.coverUrl}\n              title={book.title}\n              author={book.author}\n              description={book.description}\n              pages={book.pages}\n              progress={book.progress}\n              favorite={book.favorite}\n              isNew={book.isNew}\n              genres={book.genres}\n            />\n          )}\n        </For>\n        <Show when={props.booksInProgress.length > 3}>\n          <footer>\n            <a class=\"button primary\" href=\"/books?tab=in-progress\">\n              Show All in Progress\n            </a>\n          </footer>\n        </Show>\n      </section>\n    </Show>\n  )\n}\n\nexport default QuickBooks\n","import \"./Recommended.css\"\nimport { Component, For, createMemo } from \"solid-js\"\nimport Book from \"../../common/book/Book\"\nimport state from \"../../../state/state\"\nimport { getBooksData } from \"../../../actions/getBooksData\"\nimport config from \"../../../config\"\nimport { shuffle } from \"../../../utils/array\"\n\nconst WEIGHTS = {\n  PREFERRED_GENRE: 5,\n  PREFERRED_LENGTH: 5,\n  IN_READ_SERIES: 10,\n  READ_AUTHOR: 5,\n  RATING: 5,\n  POPULARITY: 5,\n}\n\nconst Recommended: Component = () => {\n  const recommendedBooks = createMemo(() => {\n    const usedBooks = []\n    const completedBooks = []\n    const unusedBooks = []\n    const startedSeries: { [key: string]: Set<number> } = {}\n\n    for (const book of state.get.booksIndex) {\n      if (book.progress > 0) {\n        usedBooks.push(book)\n\n        if (book.progress === 1) {\n          completedBooks.push(book)\n        }\n\n        if (book.series !== null) {\n          if (!startedSeries[book.series]) {\n            startedSeries[book.series] = new Set()\n          }\n          startedSeries[book.series].add(book.part)\n        }\n      } else {\n        unusedBooks.push(book)\n      }\n    }\n\n    // Filter out further parts of the series\n    const unusedBooksNextParts = unusedBooks.filter((book) => {\n      if (book.series === null || book.part === 1) {\n        return true\n      }\n\n      const partsUsed = startedSeries[book.series]\n\n      return partsUsed && Math.max(...partsUsed) + 1 === book.part\n    })\n\n    const readAuthors = new Set(\n      completedBooks.map((bookInfo) => bookInfo.author),\n    )\n\n    for (const bookInfo of usedBooks) {\n      if (bookInfo.series !== null) {\n        if (!startedSeries[bookInfo.series]) {\n          startedSeries[bookInfo.series] = new Set()\n        }\n        startedSeries[bookInfo.series].add(bookInfo.part)\n      }\n    }\n\n    const favoriteGenres = new Set(state.get.settings.ui.favoriteGenres)\n    const maxLength = state.get.settings.ui.favoriteMaxLength || Infinity\n\n    const bookScores: { [key: string]: number } = {}\n\n    for (const bookInfo of unusedBooksNextParts) {\n      let score = 0\n\n      /* Score genres */\n      let genreWeight = WEIGHTS.PREFERRED_GENRE\n\n      for (const genre of bookInfo.genres) {\n        if (favoriteGenres.has(genre)) {\n          score += genreWeight\n          // Every additonal matching genre has diminishing returns (no lower than 1)\n          genreWeight = Math.max(1, genreWeight - 1)\n        }\n      }\n\n      /* Score length */\n\n      const totalPages = Math.ceil(bookInfo.length / config.CHARACTERS_PER_PAGE)\n\n      if (totalPages <= maxLength) {\n        score += WEIGHTS.PREFERRED_LENGTH\n      } else {\n        const extraPages = totalPages - maxLength\n        const reduction = Math.max(0, 1 - extraPages / 100) // some score form max 100 pages more\n        score += WEIGHTS.PREFERRED_LENGTH * reduction\n      }\n\n      /* Score series */\n\n      if (bookInfo.series && startedSeries[bookInfo.series]) {\n        score += WEIGHTS.IN_READ_SERIES\n      }\n\n      if (readAuthors.has(bookInfo.author)) {\n        score += WEIGHTS.READ_AUTHOR\n      }\n\n      bookScores[bookInfo.id] = score\n    }\n\n    // console.log({\n    //   usedBooks,\n    //   unusedBooks,\n    //   completedBooks,\n    //   readAuthors,\n    //   startedSeries,\n    //   favoriteGenres,\n    //   maxLenngth: maxLength,\n    //   bookScores,\n    // })\n\n    const candidateBooksSorted = unusedBooksNextParts.sort(\n      (a, b) => bookScores[b.id] - bookScores[a.id],\n    )\n\n    const candidateBooksBest = candidateBooksSorted.slice(0, 6)\n    const candidateBooksMaybe = candidateBooksSorted.slice(6, 50)\n    shuffle(candidateBooksMaybe)\n\n    const candidateBooks = [\n      ...candidateBooksBest,\n      ...candidateBooksMaybe.slice(0, 6),\n    ]\n\n    return getBooksData(candidateBooks)\n  })\n\n  return (\n    <section class=\"recommended\">\n      <h2>Recommended</h2>\n      <For each={recommendedBooks()}>\n        {(book) => (\n          <Book\n            id={book.id}\n            coverUrl={book.coverUrl}\n            title={book.title}\n            author={book.author}\n            description={book.description}\n            pages={book.pages}\n            progress={book.progress}\n            favorite={book.favorite}\n            isNew={book.isNew}\n            genres={book.genres}\n          />\n        )}\n      </For>\n\n      <footer>\n        <a class=\"button primary\" href=\"/books\">\n          Browse All Books\n        </a>\n      </footer>\n    </section>\n  )\n}\n\nexport default Recommended\n","import \"./QuickStats.css\"\nimport { type Component, Show, createMemo, createResource } from \"solid-js\"\nimport StatsStrip from \"../../common/stats-strip/StatsStrip\"\nimport { summarizeChapterStats } from \"../prompt/prompt-actions/summarizeStats\"\nimport state from \"../../../state/state\"\nimport { formatNum, formatDuration } from \"../../../utils/formatters\"\nimport { getAccuracyThreshold } from \"../../../actions/getAccuracyThreshold\"\nimport storage from \"../../../storage/storage\"\nimport { getDailyDate } from \"../../../actions/getDailyDate\"\nimport config from \"../../../config\"\nimport { getConsistencyThreshold } from \"../../../actions/getConsistencyThreshold\"\nimport { getDailyProgress } from \"../../../actions/getDailyProgress\"\n\nconst QuickStats: Component = () => {\n  const [dailyProgress] = createResource(async () => {\n    const dailyStats = await storage.dailyStats.get(getDailyDate())\n\n    return getDailyProgress(dailyStats)\n  })\n\n  const [books] = createResource(async () => {\n    const keys = await storage.booksStats.keys()\n    const entries = await Promise.all(\n      keys.map((key) => storage.booksStats.get(key)),\n    )\n\n    return entries.map((entry, i) => ({ id: keys[i], ...entry }))\n  })\n\n  const typedAllTime = createMemo(() => {\n    return books()?.reduce((sum, x) => sum + (x.typed ?? 0), 0) ?? 0\n  })\n\n  const recent = createMemo(() => {\n    return summarizeChapterStats(state.get.statsSummary.recent, 0, false)\n  })\n\n  const statsNameSub = createMemo(() => {\n    const len = state.get.statsSummary.recent.length\n    return len === 1 ? \"Last paragraph\" : `Last ${len} paragraphs`\n  })\n\n  return (\n    <Show when={state.get.statsSummary.recent.length > 0}>\n      <section class=\"quick-stats\">\n        <h2>Quick Stats</h2>\n        <StatsStrip\n          data={[\n            {\n              name: \"Pages Typed\",\n              nameSub: \"All time\",\n              val: typedAllTime() / config.CHARACTERS_PER_PAGE,\n              isPercent: false,\n              precision: 0,\n              tooltipVal: `${formatNum(\n                typedAllTime() / 5,\n                0,\n              )} words, ${formatNum(typedAllTime(), 0)} characters`,\n            },\n            {\n              name: \"Speed\",\n              nameSub: statsNameSub(),\n              val: recent().wpm.value ?? null,\n              isPercent: false,\n              precision: 2,\n              unit: \" wpm\",\n              tooltipTitle:\n                \"Words per minute, where one word equals five characters (including spaces)\",\n              tooltipVal: recent().wpm.raw\n                ? `${formatNum(recent().wpm.raw ?? 0, 2)} raw`\n                : undefined,\n            },\n            {\n              name: \"Accuracy\",\n              nameSub: statsNameSub(),\n              val: recent().acc.value ?? null,\n              isPercent: true,\n              precision: 2,\n              unit: \" %\",\n              type: getAccuracyThreshold(recent().acc.value ?? 0),\n              tooltipTitle: \"Percentage of correct keystrokes\",\n              tooltipVal: \"Target accuracy >= 98%\",\n            },\n            {\n              name: \"Consistency\",\n              nameSub: statsNameSub(),\n              val: recent().con.value ?? null,\n              isPercent: true,\n              precision: 2,\n              unit: \" %\",\n              type: getConsistencyThreshold(recent().con.value ?? 0),\n              tooltipTitle: \"Measures how consistent is you speed beteen words\",\n              tooltipVal: \"Target consistency >= 80%\",\n            },\n            {\n              name: \"Daily Goal\",\n              nameSub: \"Type for 15 min\",\n              val: dailyProgress()?.progress ?? 0,\n              isPercent: true,\n              precision: 0,\n              unit: \" %\",\n              type: (dailyProgress()?.progress ?? 0) >= 1 ? \"ok\" : \"warning\",\n              tooltipTitle: \"Measures the completion of the daily goal\",\n              tooltipVal: `${formatDuration(\n                dailyProgress()?.time ?? 0,\n                true,\n              )}, ${formatNum((dailyProgress()?.length ?? 0) / 5, 0)} words\n              `,\n              showZero: true,\n            },\n          ]}\n          desktopColumns={5}\n          mobileColumns={2}\n        />\n      </section>\n    </Show>\n  )\n}\n\nexport default QuickStats\n","import {\n  Component,\n  Show,\n  createMemo,\n  Switch,\n  Match,\n  createResource,\n} from \"solid-js\"\nimport \"./Hero.css\"\nimport Cover from \"../../common/book/Cover\"\nimport state from \"../../../state/state\"\nimport { BookData } from \"../../../actions/getBooksData\"\nimport { formatPercentage } from \"../../../utils/formatters\"\nimport { getNextChapterId } from \"../../../actions/getNextChapterId\"\nimport { getBookInfo } from \"../../../io/getBookInfo\"\nimport storage from \"../../../storage/storage\"\n\nconst getNextChapter =\n  (id: string, showHero: \"welcome\" | \"last\" | null) => async () => {\n    if (showHero !== \"last\") {\n      return null\n    }\n\n    const data = await getBookInfo(id)\n\n    if (data === null) {\n      return null\n    }\n\n    const chaptersStats = await storage.chaptersStats.get(id)\n    const bookStats = await storage.booksStats.get(id)\n\n    const nextChapterId = getNextChapterId({\n      currentChapterId: bookStats?.lastChapter ?? \"\",\n      chaptersStats: chaptersStats ?? {},\n      chapters: data.chapters,\n      progress: bookStats?.progress ?? 0,\n    })\n\n    return nextChapterId\n  }\n\ntype Props = {\n  lastBookData: BookData\n}\n\nconst Hero: Component<Props> = (props) => {\n  const showHero = createMemo(() => {\n    const showWelcome =\n      state.get.loaded &&\n      state.get.settings.ui.showHero &&\n      (state.get.booksIndex.find(\n        (book) => book.id === \"entertrained--first-steps\",\n      )?.progress ?? 0) === 0\n\n    return showWelcome ? \"welcome\" : props.lastBookData ? \"last\" : null\n  })\n\n  const [nextChapterId] = createResource(\n    getNextChapter(props.lastBookData?.id, showHero()),\n  )\n\n  return (\n    <Show when={showHero()}>\n      <section\n        classList={{ hero: true, last: showHero() === \"last\" }}\n        style={{\n          \"--bg-img\":\n            showHero() === \"welcome\"\n              ? `url(/images/bg.webp)`\n              : `url(${props.lastBookData.coverBigUrl})`,\n        }}\n      >\n        <div>\n          <Switch>\n            <Match when={showHero() === \"welcome\"}>\n              <div class=\"hero-intro\">\n                <h2>Welcome to Entertrained!</h2>\n                <p>\n                  Practice touch typing by{\" \"}\n                  <strong>retyping famous novels</strong>. Not only will you{\" \"}\n                  <strong>improve your typing skills</strong>, but youll also\n                  enjoy some of the greatest stories ever told!\n                </p>\n                <p>\n                  A good place to start is our step-by-step guide that\n                  kickstarts your adventure into the world of touch typing.\n                </p>\n                <nav>\n                  <button\n                    class=\"secondary\"\n                    onClick={() =>\n                      state.set(\"settings\", \"ui\", \"showHero\", false)\n                    }\n                  >\n                    Skip\n                  </button>\n                  <a\n                    href=\"/prompt/entertrained--first-steps__000\"\n                    class=\"button primary ok\"\n                  >\n                    Start the Tutorial\n                  </a>\n                </nav>\n              </div>\n              <div class=\"hero-call\">\n                <Cover url=\"/books/entertrained--first-steps/cover.min.webp\" />\n              </div>\n            </Match>\n            <Match when={showHero() === \"last\"}>\n              <div class=\"hero-intro \">\n                <small>Most recent</small>\n                <h2>{props.lastBookData.title}</h2>\n                <h3>\n                  by <a href=\"#\">{props.lastBookData.author}</a>\n                </h3>\n                <p>{props.lastBookData.description}</p>\n                <p\n                  class=\"progress\"\n                  style={{\n                    \"--width\": formatPercentage(props.lastBookData.progress),\n                  }}\n                >\n                  {formatPercentage(props.lastBookData.progress, 1)} done\n                </p>\n                <nav>\n                  <a\n                    href={`/books/${props.lastBookData.id}`}\n                    class=\"button secondary\"\n                  >\n                    Details\n                  </a>\n                  <a\n                    href={`/prompt/${props.lastBookData.id}__${\n                      nextChapterId() ?? \"000\"\n                    }`}\n                    class=\"button primary ok\"\n                  >\n                    Continue\n                  </a>\n                </nav>\n              </div>\n              <div\n                class=\"hero-call\"\n                style={{ \"--pages\": props.lastBookData.pages }}\n              >\n                <Cover url={props.lastBookData.coverBigUrl} />\n              </div>\n            </Match>\n          </Switch>\n        </div>\n      </section>\n    </Show>\n  )\n}\n\nexport default Hero\n","import { type Component, Show, createMemo } from \"solid-js\"\nimport \"./Home.css\"\nimport QuickBooks from \"./QuickBooks\"\nimport Recommended from \"./Recommended\"\nimport QuickStats from \"./QuickStats\"\nimport config from \"../../../config\"\nimport Hero from \"./Hero\"\nimport state from \"../../../state/state\"\nimport { getBooksData } from \"../../../actions/getBooksData\"\n\nconst Home: Component = () => {\n  const booksInProgress = createMemo(() => {\n    return getBooksData(\n      state.get.booksIndex\n        .filter((book) => book.progress > 0 && book.progress < 1)\n        .sort((a, b) => b.timestamp - a.timestamp),\n    )\n  })\n\n  return (\n    <main class=\"home\">\n      <Hero lastBookData={booksInProgress()[0]} />\n      <Show when={!config.IS_MOBILE}>\n        <QuickStats />\n      </Show>\n      <QuickBooks booksInProgress={booksInProgress()} />\n      <Recommended />\n    </main>\n  )\n}\n\nexport default Home\n","export async function compress(data: Blob | Uint8Array) {\n  const input = data instanceof Blob ? data : new Blob([data])\n\n  return new Response(\n    input.stream().pipeThrough(new CompressionStream(\"gzip\")),\n  ).blob()\n}\n\nexport async function decompress(data: Blob | Uint8Array) {\n  const input = data instanceof Blob ? data : new Blob([data])\n\n  return new Response(\n    input.stream().pipeThrough(new DecompressionStream(\"gzip\")),\n  ).blob()\n}\n","import storage from \"../storage/storage\"\nimport { decompress } from \"../utils/gzip\"\n\nexport async function getBookContent(bookId: string) {\n  const res = await fetch(`/books/${bookId}/content.gz`)\n\n  let data: string = \"\"\n\n  const encoding = res.headers.get(\"content-encoding\")\n\n  if (encoding !== \"gzip\") {\n    const compressed = await res.blob()\n    const bytes = await decompress(compressed)\n    data = new TextDecoder().decode(await bytes.arrayBuffer())\n  } else {\n    data = await res.text()\n  }\n\n  const chapters = data.split(\"\\n\\n\").map((chapter) => {\n    const [chapterId, ...paragraphs] = chapter.split(\"\\n\")\n    return { id: chapterId, text: paragraphs.join(\"\\n\") }\n  })\n\n  for (const item of chapters) {\n    const id = `${bookId}__${item.id}`\n    await storage.booksContent.set(id, item.text)\n  }\n\n  return Object.fromEntries(\n    chapters.map((chapter) => [chapter.id, chapter.text]),\n  )\n}\n","import storage from \"../storage/storage\"\nimport { getBookContent } from \"./getBookContent\"\n\nexport async function getChapterContent(bookId: string, chapterId: string) {\n  const id = `${bookId}__${chapterId}`\n  let chapterContent = await storage.booksContent.get(id)\n\n  if (!chapterContent) {\n    const chapters = await getBookContent(bookId)\n    chapterContent = chapters[chapterId]\n  }\n\n  return (chapterContent ?? \"\")\n    .trim()\n    .split(\"\\n\")\n    .map((p) => p + \"\")\n}\n","import { getChapterContent } from \"../../../../actions/getChapterContent.ts\"\nimport { getBookInfo } from \"../../../../io/getBookInfo.ts\"\nimport storage from \"../../../../storage/storage.ts\"\nimport { StaticBookInfo } from \"../../../../types/common.ts\"\nimport type { PromptData } from \"../types.ts\"\n\nexport async function getPromptData(id: string): Promise<PromptData> {\n  const [bookId, chapterId] = id.split(\"__\")\n\n  const info = (await getBookInfo(bookId)) as StaticBookInfo\n  const paragraphs = await getChapterContent(bookId, chapterId)\n  const savedParagraphsStats = (await storage.paragraphsStats.get(id)) ?? {}\n  const savedChaptersStats = (await storage.chaptersStats.get(bookId)) ?? {}\n  const chapterProgress = savedChaptersStats[chapterId]?.progress ?? 0\n\n  return {\n    bookInfo: {\n      id: bookId,\n      language: info.language,\n      title: info.title,\n    },\n    chapterInfo: info.chapters.find((chapter) => chapter.id === chapterId),\n    chapterProgress,\n    paragraphs,\n    stats: savedParagraphsStats,\n  }\n}\n","export const EXTRA_KEYS = new Set([\n  \"Escape\",\n  \"F1\",\n  \"F2\",\n  \"F3\",\n  \"F4\",\n  \"F5\",\n  \"F6\",\n  \"F7\",\n  \"F8\",\n  \"F9\",\n  \"F10\",\n  \"F11\",\n  \"F12\",\n  \"Insert\",\n  \"Delete\",\n  \"ArrowUp\",\n  \"ArrowDown\",\n  \"ArrowLeft\",\n  \"ArrowRight\",\n  \"PageUp\",\n  \"PageDown\",\n  \"Home\",\n  \"End\",\n  \"NumLock\",\n  \"Control\",\n  \"Alt\",\n  \"AltGraph\",\n  \"Shift\",\n  \"CapsLock\",\n  \"Meta\",\n])\n","import config from \"../../../../config\"\nimport { delay } from \"../../../../utils/delay\"\n\nasync function getActiveWord() {\n  let attempts = 0\n  while (true) {\n    const node = document.querySelector(\n      \".word.active\",\n    ) as HTMLSpanElement | null\n    if (node || attempts > 10) {\n      return node\n    }\n\n    await delay(100)\n  }\n}\n\nfunction scrollToNode(\n  prev = -1,\n  screenKeyboardPrompt: HTMLTextAreaElement | undefined,\n  node: HTMLSpanElement | null,\n  behavior: \"smooth\" | \"instant\",\n) {\n  if (node) {\n    if (config.IS_MOBILE && !config.IS_APPLE && screenKeyboardPrompt) {\n      screenKeyboardPrompt.style.top = `${node.getBoundingClientRect().top}px`\n    }\n\n    const offset = window.scrollY + node.getBoundingClientRect().top\n\n    if (offset !== prev) {\n      node.scrollIntoView({\n        behavior,\n        block: \"center\",\n      })\n\n      return offset\n    }\n  }\n\n  return prev\n}\n\nexport async function initScroll(\n  screenKeyboardPrompt: HTMLTextAreaElement | undefined,\n) {\n  const node = await getActiveWord()\n  scrollToNode(0, screenKeyboardPrompt, node, \"smooth\")\n}\n\nexport function scrollToWord(\n  prev = -1,\n  screenKeyboardPrompt: HTMLTextAreaElement | undefined,\n) {\n  const node = document.querySelector(\".word.active\") as HTMLSpanElement | null\n  scrollToNode(prev, screenKeyboardPrompt, node, \"smooth\")\n  return prev\n}\n","import { type Component, Show, createMemo, createSignal } from \"solid-js\"\nimport { getAccuracyThreshold } from \"../../../actions/getAccuracyThreshold.ts\"\nimport state from \"../../../state/state.ts\"\nimport {\n  formatNum,\n  formatPercentage,\n  formatPercentageNice,\n} from \"../../../utils/formatters.ts\"\nimport \"./Statusbar.css\"\nimport config from \"../../../config.ts\"\nimport MobileMenu from \"../../common/header/MobileMenu.tsx\"\n\ntype Props = {\n  bookId: string | null\n  bookTitle: string | null\n  chapterTitle: string | null\n  acc: number | null\n  wpm: number | null\n  paused: boolean\n  page: number\n  pages: number\n  progress: number\n  dailyProgress: {\n    progress: number\n    length: number\n    time: number\n  }\n  saved: boolean\n  cantTypeAlert: boolean\n  scrollToActive: () => void\n  resetUnfinishedParagraph: () => void\n  invisible: boolean\n}\n\nconst Statusbar: Component<Props> = (props) => {\n  const [menu, setMenu] = createSignal(false)\n\n  const liveAcc = createMemo(() =>\n    props.acc !== null\n      ? formatNum(props.acc * 100, config.IS_MOBILE ? 0 : 2)\n      : \"-\",\n  )\n\n  const liveWpm = createMemo(() =>\n    props.wpm !== null ? formatNum(props.wpm, config.IS_MOBILE ? 0 : 2) : \"-\",\n  )\n\n  const liveProgress = createMemo(() =>\n    formatPercentageNice(props.progress, config.IS_MOBILE ? 0 : 1),\n  )\n\n  return (\n    <section classList={{ statusbar: true, invisible: props.invisible }}>\n      <p class=\"slug\">\n        <Show when={props.bookTitle}>\n          <a href={`/books/${props.bookId}`} class=\"mobile\">\n            <i class=\"icon-big icon-back\"></i>\n          </a>\n        </Show>\n        <Show when={props.bookTitle}>\n          <a href={`/books/${props.bookId}`} class=\"desktop\">\n            {props.bookTitle}\n          </a>\n          <span class=\"desktop\"> / </span>\n        </Show>\n        <Show when={props.chapterTitle}>\n          <strong class=\"desktop\">{props.chapterTitle}</strong>\n        </Show>\n      </p>\n      <p class=\"stats\">\n        <Show\n          when={\n            (props.paused && !state.get.settings.ui.readingMode) || props.saved\n          }\n        >\n          <span\n            classList={{\n              alert: true,\n              warning: props.paused && !props.saved,\n              ok: props.saved,\n            }}\n          >\n            <i class={`icon-${props.saved ? \"save\" : \"pause\"}`} />\n            <strong>{props.saved ? \"SAVED\" : \"PAUSED\"}</strong>\n          </span>\n        </Show>\n        <span title=\"Progress\">\n          <strong class=\"percent\">{liveProgress()}</strong> done\n        </span>\n        <Show when={!state.get.settings.ui.readingMode}>\n          <span title=\"Words per minute\">\n            <strong>{liveWpm()}</strong> wpm\n          </span>\n          <span\n            title={`Accuracy (${((props.acc ?? 0) * 100).toFixed(3)}%)`}\n            classList={{\n              [getAccuracyThreshold(props.acc ?? 0)]: props.acc !== null,\n            }}\n          >\n            <strong class=\"percent\">{liveAcc()}</strong> acc\n          </span>\n        </Show>\n        <Show when={state.get.settings.ui.readingMode}>\n          <span\n            classList={{\n              mode: true,\n              flash: props.cantTypeAlert,\n            }}\n            title=\"Toggle the button on the right to go back to typing.\"\n          >\n            READING MODE\n          </span>\n        </Show>\n        <button\n          class=\"mode\"\n          onClick={() => {\n            state.set(\"settings\", \"ui\", \"readingMode\", (prev) => !prev)\n            if (state.get.settings.ui.readingMode) {\n              props.resetUnfinishedParagraph()\n            }\n            setTimeout(() => props.scrollToActive(), 100)\n          }}\n          title={\n            state.get.settings.ui.readingMode\n              ? \"Click to switch to typing mode\"\n              : \"Click to switch to reading mode\"\n          }\n        >\n          <i\n            class={`icon-big icon-reading-${\n              state.get.settings.ui.readingMode ? \"on\" : \"off\"\n            }`}\n          />\n        </button>\n        <button class=\"nav menu\" onClick={() => setMenu(!menu())} title=\"Menu\">\n          <i class={menu() ? \"icon-close\" : \"icon-menu\"} />\n        </button>\n      </p>\n      <MobileMenu hidden={!menu()} close={() => setMenu(false)} />\n      <div class=\"bars\">\n        <Show when={!menu() && !state.get.settings.ui.readingMode}>\n          <div\n            class=\"progressbar daily\"\n            data-info={`Daily goal progress: ${formatPercentage(\n              props.dailyProgress.progress,\n              1,\n            )}, ${formatNum(props.dailyProgress.time / 1000 / 60, 0)} of ${\n              config.DAILY_GOAL_MINUTES\n            } min`}\n          >\n            <div\n              style={`width: ${\n                Math.min(1, props.dailyProgress.progress) * 100\n              }%`}\n            ></div>\n          </div>\n        </Show>\n        <Show when={!menu()}>\n          <div\n            class=\"progressbar\"\n            data-info={`Chapter progress: ${formatPercentage(\n              props.progress,\n              1,\n            )}, page ${props.page} of ${props.pages}`}\n          >\n            <div style={`width: ${props.progress * 100}%`}></div>\n          </div>\n        </Show>\n      </div>\n    </section>\n  )\n}\n\nexport default Statusbar\n","import { produce, unwrap } from \"solid-js/store\"\nimport config from \"../../../../config\"\nimport state from \"../../../../state/state\"\nimport storage from \"../../../../storage/storage\"\nimport type {\n  BookStats,\n  ChapterStats,\n  FinishedParagraphStats,\n} from \"../../../../types/common\"\nimport { mergeAverageStats, mergeMainStats } from \"./summarizeStats\"\nimport { getDailyDate } from \"../../../../actions/getDailyDate\"\n\nexport async function saveSummary(\n  paragraphStats: FinishedParagraphStats,\n  chapterStats: ChapterStats,\n  bookStats: BookStats,\n  path: string,\n  bookId: string,\n  paragraphNum: number,\n) {\n  const timestamp = paragraphStats.timestamp\n  const paragraphId = `${path}__${paragraphNum}`\n  const date = getDailyDate()\n  const dailyStats = await storage.dailyStats.get(date)\n\n  state.set(\n    \"statsSummary\",\n    produce((summary) => {\n      if (\n        paragraphStats.type === \"typed\" &&\n        paragraphStats.length >= config.MIN_PB_PARAGRAPH_LENGTH\n      ) {\n        if (paragraphStats.wpm.value > summary.topParagraph.wpm.value) {\n          summary.topParagraph.wpm.value = paragraphStats.wpm.value\n          summary.topParagraph.wpm.timestamp = timestamp\n          summary.topParagraph.wpm.id = paragraphId\n        }\n\n        if (paragraphStats.wpm.raw > summary.topParagraph.raw.value) {\n          summary.topParagraph.raw.value = paragraphStats.wpm.raw\n          summary.topParagraph.raw.timestamp = timestamp\n          summary.topParagraph.raw.id = paragraphId\n        }\n\n        if (paragraphStats.acc.value > summary.topParagraph.acc.value) {\n          summary.topParagraph.acc.value = paragraphStats.acc.value\n          summary.topParagraph.acc.timestamp = timestamp\n          summary.topParagraph.acc.id = paragraphId\n        }\n\n        if (paragraphStats.con.value > summary.topParagraph.con.value) {\n          summary.topParagraph.con.value = paragraphStats.con.value\n          summary.topParagraph.con.timestamp = timestamp\n          summary.topParagraph.con.id = paragraphId\n        }\n      }\n\n      if (paragraphStats.type === \"typed\") {\n        const sameIdIndex = summary.recent.findIndex(\n          (stats) => stats.id === paragraphId,\n        )\n\n        if (sameIdIndex !== -1) {\n          summary.recent[sameIdIndex] = {\n            id: paragraphId,\n            ...paragraphStats,\n          }\n        } else {\n          summary.recent.push({\n            id: paragraphId,\n            ...paragraphStats,\n          })\n        }\n\n        if (summary.recent.length > config.MAX_RECENT_PARAGRAPHS) {\n          summary.recent.shift()\n        }\n\n        const dailyData = mergeAverageStats(\n          paragraphStats,\n          dailyStats ?? undefined,\n        )\n        storage.dailyStats.set(date, dailyData)\n        state.set(\"session\", \"daily\", dailyData)\n      }\n\n      summary.average = mergeMainStats(paragraphStats, summary.average)\n\n      if (\n        chapterStats.progress === 1 &&\n        chapterStats.typed > config.MIN_PB_CHAPTER_LENGTH\n      ) {\n        if (chapterStats.wpm.value > summary.topChapter.wpm.value) {\n          summary.topChapter.wpm.value = chapterStats.wpm.value\n          summary.topChapter.wpm.timestamp = timestamp\n          summary.topChapter.wpm.id = path\n        }\n\n        if (chapterStats.wpm.raw > summary.topChapter.raw.value) {\n          summary.topChapter.raw.value = chapterStats.wpm.raw\n          summary.topChapter.raw.timestamp = timestamp\n          summary.topChapter.raw.id = path\n        }\n\n        if (chapterStats.acc.value > summary.topChapter.acc.value) {\n          summary.topChapter.acc.value = chapterStats.acc.value\n          summary.topChapter.acc.timestamp = timestamp\n          summary.topChapter.acc.id = path\n        }\n\n        if (chapterStats.con.value > summary.topChapter.con.value) {\n          summary.topChapter.con.value = chapterStats.con.value\n          summary.topChapter.con.timestamp = timestamp\n          summary.topChapter.con.id = path\n        }\n      }\n\n      if (bookStats.progress === 1) {\n        if (bookStats.wpm.value > summary.topBook.wpm.value) {\n          summary.topBook.wpm.value = bookStats.wpm.value\n          summary.topBook.wpm.timestamp = timestamp\n          summary.topBook.wpm.id = bookId\n        }\n\n        if (bookStats.wpm.raw > summary.topBook.raw.value) {\n          summary.topBook.raw.value = bookStats.wpm.raw\n          summary.topBook.raw.timestamp = timestamp\n          summary.topBook.raw.id = bookId\n        }\n\n        if (bookStats.acc.value > summary.topBook.acc.value) {\n          summary.topBook.acc.value = bookStats.acc.value\n          summary.topBook.acc.timestamp = timestamp\n          summary.topBook.acc.id = bookId\n        }\n\n        if (bookStats.con.value > summary.topBook.con.value) {\n          summary.topBook.con.value = bookStats.con.value\n          summary.topBook.con.timestamp = timestamp\n          summary.topBook.con.id = bookId\n        }\n      }\n    }),\n  )\n\n  await storage.general.set(\"statsSummary\", unwrap(state.get.statsSummary))\n}\n","import { produce } from \"solid-js/store\"\nimport state from \"../../../../state/state\"\nimport storage from \"../../../../storage/storage\"\nimport type { FinishedParagraphStats } from \"../../../../types/common\"\nimport { saveSummary } from \"./saveSummary\"\nimport { summarizeBookStats, summarizeChapterStats } from \"./summarizeStats\"\n\nexport async function saveParagraphs(\n  path: string,\n  skip: boolean,\n  paragraph: {\n    num: number\n    stats: FinishedParagraphStats\n    missedWords?: string[]\n    isNextHr?: boolean\n  },\n  chapterLength: number,\n  paragraphsLengths: number[] = [],\n) {\n  const changes = {\n    readAdded: new Set<number>(),\n    readDeleted: new Set<number>(),\n    lastIndex: -1,\n  }\n\n  try {\n    const [bookId, chapterId] = path.split(\"__\")\n    const bookLength =\n      state.get.booksIndex.find((book) => book.id === bookId)?.length ?? 0\n\n    const paragraphsStats = (await storage.paragraphsStats.get(path)) ?? {}\n    const chaptersStats = (await storage.chaptersStats.get(bookId)) ?? {}\n\n    if (paragraph.stats.type === \"read\") {\n      const entries = Object.entries(paragraphsStats)\n      const lastTypedIndex = Math.max(\n        ...entries\n          .filter(([_, entry]) => entry.type === \"typed\")\n          .map(([id]) => Number(id)),\n        -1,\n      )\n      const lastReadIndex = Math.max(\n        ...entries\n          .filter(([_, entry]) => entry.type === \"read\")\n          .map(([id]) => Number(id)),\n        -1,\n      )\n\n      const to = paragraph.isNextHr ? paragraph.num + 1 : paragraph.num\n      const readToIndex = Math.max(lastTypedIndex, to)\n      const maxIndex = Math.max(lastReadIndex, readToIndex)\n\n      for (let i = 0; i <= maxIndex; i++) {\n        if (i <= readToIndex && !paragraphsStats[i]) {\n          paragraphsStats[i] = {\n            ...paragraph.stats,\n            length: paragraphsLengths[i],\n          }\n          changes.readAdded.add(i)\n        } else if (i > readToIndex && paragraphsStats?.[i].type === \"read\") {\n          delete paragraphsStats[i]\n          changes.readDeleted.add(i)\n        }\n      }\n\n      if (to === lastReadIndex) {\n        delete paragraphsStats[paragraph.num]\n        changes.readDeleted.add(paragraph.num)\n        if (paragraph.isNextHr) {\n          delete paragraphsStats[to]\n          changes.readDeleted.add(to)\n        }\n      }\n\n      changes.lastIndex = Math.max(\n        ...Object.entries(paragraphsStats).map(([i]) => Number(i)),\n        -1,\n      )\n    } else {\n      paragraphsStats[paragraph.num] = paragraph.stats\n    }\n\n    const chapterStats = summarizeChapterStats(\n      Object.values(paragraphsStats),\n      chapterLength,\n      skip,\n    )\n\n    chaptersStats[chapterId] = chapterStats\n\n    const bookStats = summarizeBookStats(\n      Object.values(chaptersStats),\n      bookLength,\n      chapterId,\n    )\n    await storage.paragraphsStats.set(path, paragraphsStats)\n    await storage.chaptersStats.set(bookId, chaptersStats)\n    await storage.booksStats.set(bookId, bookStats)\n\n    await saveSummary(\n      paragraph.stats,\n      chapterStats,\n      bookStats,\n      path,\n      bookId,\n      paragraph.num,\n    )\n\n    if (paragraph.missedWords) {\n      const existingMissedWords =\n        (await storage.general.get(\"missedWords\")) ?? []\n      const updatedMissedWords = [\n        ...new Set([...existingMissedWords, ...paragraph.missedWords]),\n      ]\n      await storage.general.set(\"missedWords\", updatedMissedWords)\n    }\n\n    state.set(\n      \"booksIndex\",\n      state.get.booksIndex.findIndex((x) => x.id === bookId),\n      produce((book) => {\n        book.progress = bookStats.progress\n        book.timestamp = bookStats.timestamp\n      }),\n    )\n  } catch (e) {\n    console.error(e)\n  }\n\n  return changes\n}\n","export function calculateWpm(time: number, charsCount: number) {\n  const cps = charsCount / (time / 1000)\n  return (cps * 60) / 5\n}\n","import config from \"../../../../config.ts\"\n\nexport function getAfkTime(times: number[]) {\n  let afkTime = 0\n\n  for (let i = 0; i < times.length - 1; i++) {\n    const timeDiff = times[i + 1] - times[i]\n\n    if (timeDiff >= config.AFK_BOUNDRY) {\n      afkTime += timeDiff - config.AFK_PENALTY\n    }\n  }\n\n  return afkTime\n}\n","import type { WordStats } from \"../types.ts\"\nimport { calculateWpm } from \"./calculateWpm.ts\"\nimport { getAfkTime } from \"./getAfkTime.ts\"\n\nexport function calculateParagraphWpm(\n  inputTimes: number[],\n  wordsStats: WordStats[],\n  prevTime: number,\n) {\n  const afkTime = getAfkTime(inputTimes)\n  const start = inputTimes[0]\n  const end = inputTimes[inputTimes.length - 1]\n  const time = end - start - afkTime + prevTime\n\n  let charCount = 0\n  let weight = 0\n\n  // @ts-ignore\n  const lastTypedIndex = wordsStats.findLastIndex(\n    // @ts-ignore\n    (stats) => stats.typedLength > 0,\n  )\n\n  for (let i = 0; i <= lastTypedIndex; i++) {\n    weight += wordsStats[i].typedLength || wordsStats[i].length\n\n    if (wordsStats[i].isCorrect) {\n      charCount += wordsStats[i].typedLength || wordsStats[i].length\n    }\n  }\n\n  return {\n    wpm: {\n      value: calculateWpm(time, charCount),\n      raw: calculateWpm(time, weight),\n      weight,\n    },\n    time,\n  }\n}\n","import type { SetStoreFunction } from \"solid-js/store\"\nimport { calculateWeightedAverage } from \"../../../../utils/math\"\nimport { calculateParagraphWpm } from \"../prompt-util/calculateParagraphWpm\"\nimport type { LocalState } from \"../types\"\n\nexport function updateAverageWpm(\n  local: LocalState,\n  setLocal: SetStoreFunction<LocalState>,\n) {\n  return () => {\n    if (local.stats.length === 0) {\n      return\n    }\n\n    const wpms: number[] = []\n    const weights: number[] = []\n\n    for (let i = 0; i < local.paragraphNum; i++) {\n      if (local.stats[i].wpm === null) {\n        continue\n      }\n\n      wpms.push(local.stats[i].wpm?.value ?? 0)\n      weights.push(local.stats[i].wpm?.weight ?? 0)\n    }\n\n    const currentParagraph = local.stats[local.paragraphNum]\n\n    if (currentParagraph && currentParagraph.inputTimes.length > 0) {\n      const { wpm } = calculateParagraphWpm(\n        currentParagraph.inputTimes,\n        currentParagraph.words,\n        0,\n      )\n      wpms.push(wpm.value)\n      weights.push(wpm.weight)\n    }\n\n    const averageWpm = calculateWeightedAverage(wpms, weights)\n    setLocal(\"pageStats\", \"wpm\", Number.isNaN(averageWpm) ? null : averageWpm)\n  }\n}\n","export function calculateAccuracy(nonTypos: number, typos: number) {\n  const total = typos + nonTypos\n\n  if (total === 0) {\n    return 1\n  }\n\n  return nonTypos / total\n}\n","import { calculateWeightedAverage } from \"../../../../utils/math.ts\"\nimport { calculateAccuracy } from \"./calculateAccuracy.ts\"\n\nexport function calculateParagraphAccuracy(\n  nonTypos: number,\n  typos: number,\n  prevAccuracy: { value: number; weight: number } | null,\n) {\n  const weight = nonTypos + typos\n  const currentValue = calculateAccuracy(nonTypos, typos)\n\n  const updatedAccuracy =\n    prevAccuracy === null\n      ? currentValue\n      : calculateWeightedAverage(\n          [prevAccuracy.value, currentValue],\n          [prevAccuracy.weight, weight],\n        )\n\n  return {\n    value: updatedAccuracy,\n    weight: (prevAccuracy?.weight ?? 0) + weight,\n  }\n}\n","import type { SetStoreFunction } from \"solid-js/store\"\nimport { calculateWeightedAverage } from \"../../../../utils/math\"\nimport { calculateParagraphAccuracy } from \"../prompt-util/calculateParagraphAccuracy\"\nimport type { LocalState } from \"../types\"\n\nexport function updateAverageAccuracy(\n  local: LocalState,\n  setLocal: SetStoreFunction<LocalState>,\n) {\n  return () => {\n    if (local.stats.length === 0) {\n      return\n    }\n\n    const accuracies = []\n    const weights = []\n\n    for (let i = 0; i < local.paragraphNum; i++) {\n      if (local.stats[i].read) {\n        continue\n      }\n\n      accuracies.push(local.stats[i].acc?.value ?? 0)\n      weights.push(local.stats[i].acc?.weight ?? 0)\n    }\n\n    const currentParagraph = local.stats[local.paragraphNum]\n\n    if (currentParagraph && currentParagraph.inputTimes.length > 0) {\n      const acc = calculateParagraphAccuracy(\n        currentParagraph.nonTypos,\n        currentParagraph.typos,\n        currentParagraph.acc,\n      )\n      accuracies.push(acc.value)\n      weights.push(acc.weight)\n    }\n\n    const averageAcc = calculateWeightedAverage(accuracies, weights)\n\n    setLocal(\"pageStats\", \"acc\", Number.isNaN(averageAcc) ? null : averageAcc)\n  }\n}\n","import { type SetStoreFunction, produce } from \"solid-js/store\"\nimport type { LocalState } from \"../types\"\nimport { updateAverageWpm } from \"./updateAverageWpm\"\nimport { updateAverageAccuracy } from \"./updateAverageAccuracy\"\n\nexport function handleParagraphReset(\n  local: LocalState,\n  setLocal: SetStoreFunction<LocalState>,\n) {\n  if (local.paragraphNum < 0 || local.typed.length === 0) {\n    return\n  }\n\n  setLocal(\"prev\", \"\")\n  setLocal(\"prevOk\", true)\n\n  setLocal(\"typed\", local.paragraphNum, (prev) =>\n    prev.map((word) => new Array(word.length).fill(null)),\n  )\n  setLocal(\"stats\", local.paragraphNum, (prev) => {\n    return {\n      ...prev,\n      correctCharCount: 0,\n      wpm: null,\n      acc: null,\n      con: null,\n      time: 0,\n      inputTimes: [],\n      startTime: 0,\n      endTime: 0,\n      totalTime: 0,\n      typos: 0,\n      nonTypos: 0,\n      words: local.original[local.paragraphNum].map((chars) => ({\n        length: chars.length,\n        typedLength: 0,\n        times: new Array(chars.length),\n        isCorrect: true,\n        hadTypos: false,\n        typosIndicies: [],\n      })),\n    }\n  })\n\n  // At the end so stats are recalculated correctly\n  setLocal(\n    produce((state) => {\n      state.wordNum = 0\n      state.charNum = 0\n      state.paused = true\n    }),\n  )\n\n  updateAverageWpm(local, setLocal)\n  updateAverageAccuracy(local, setLocal)\n}\n","import type { LocalState } from \"../types\"\nimport { produce, type SetStoreFunction } from \"solid-js/store\"\nimport { saveParagraphs } from \"./saveParagraph\"\nimport { handleParagraphReset } from \"./handleParagraphReset\"\n\nexport async function handleParagraphClick(\n  paragraphNum: number,\n  local: LocalState,\n  setLocal: SetStoreFunction<LocalState>,\n) {\n  if (local.id === null) {\n    return\n  }\n\n  const nextParagraph = local.original[paragraphNum + 1]\n  const isNextHr =\n    nextParagraph &&\n    nextParagraph.length === 1 &&\n    nextParagraph[0].length === 4 &&\n    nextParagraph[0].join(\"\").startsWith(\"***\")\n\n  const changes = await saveParagraphs(\n    local.id,\n    local.skip,\n    {\n      num: paragraphNum,\n      stats: {\n        type: \"read\",\n        timestamp: Date.now(),\n        length: 0,\n      },\n      isNextHr,\n    },\n    local.length,\n    local.paragraphsLengths,\n  )\n\n  if (changes.readAdded.has(paragraphNum)) {\n    handleParagraphReset(local, setLocal)\n  } else if (!changes.readDeleted.has(paragraphNum)) {\n    // TODO Fix the case when you go back to typed paragraph,\n    // backspace some or made other changes and the press Shoft+Enter\n    // it should restore previous typed pargraph without problems\n    // in reading mode, code below causes problems\n    // setLocal(\n    //   \"typed\",\n    //   local.paragraphNum,\n    //   structuredClone(unwrap(local.original[paragraphNum])),\n    // )\n  }\n\n  console.log(local)\n\n  setLocal(\n    \"stats\",\n    produce((state) => {\n      for (const index of changes.readAdded) {\n        state[index].read = true\n      }\n      for (const index of changes.readDeleted) {\n        state[index].read = false\n      }\n    }),\n  )\n\n  if (local.typed.length - 1 === changes.lastIndex) {\n    location.replace(`/results/${local.id}`)\n    return\n  }\n\n  setLocal(\n    produce((state) => {\n      state.paragraphNum = changes.lastIndex + 1 // HANDLE END OF CHAPTER!\n      state.wordNum = 0\n      state.charNum = 0\n    }),\n  )\n}\n","import config from \"../../../../config\"\nimport { LocalState } from \"../types\"\nimport { SetStoreFunction } from \"solid-js/store\"\n\nlet afkTimeout: NodeJS.Timeout | null = null\n\nexport function handleAfk(setLocal: SetStoreFunction<LocalState>) {\n  setLocal(\"paused\", false)\n\n  if (afkTimeout !== null) {\n    clearTimeout(afkTimeout)\n  }\n\n  afkTimeout = setTimeout(() => {\n    setLocal(\"paused\", true)\n  }, config.AFK_BOUNDRY)\n}\n","import { produce, type SetStoreFunction } from \"solid-js/store\"\nimport state from \"../../../../state/state\"\nimport type { LocalState } from \"../types\"\nimport { handleParagraphClick } from \"./handleParagraphClick\"\nimport { handleAfk } from \"./handleAfk\"\n\nexport function handleBackspace(\n  e: KeyboardEvent,\n  local: LocalState,\n  setLocal: SetStoreFunction<LocalState>,\n) {\n  const isFirstParagraph = local.paragraphNum === 0\n  const isFirstWord = local.wordNum === 0\n  const isFirstChar = local.charNum === 0\n\n  if (isFirstParagraph && isFirstWord && isFirstChar) {\n    return\n  }\n\n  handleAfk(setLocal)\n\n  const mod = e.ctrlKey || e.metaKey\n\n  if (\n    (mod && !state.get.settings.typingPrompt.backspaceWholeWord) ||\n    (!mod && state.get.settings.typingPrompt.backspaceWholeWord)\n  ) {\n    // Delete whole word\n    if (isFirstWord && isFirstChar) {\n      const prevParagraphNum = local.paragraphNum - 1\n      const isPrevRead = local.stats[prevParagraphNum].read\n\n      // It unmarks the paragraph as read\n      if (isPrevRead) {\n        handleParagraphClick(prevParagraphNum, local, setLocal)\n      }\n\n      setLocal(\n        produce((state) => {\n          state.paragraphNum = prevParagraphNum\n          state.wordNum = isPrevRead\n            ? 0\n            : local.typed[local.paragraphNum].length - 1\n          state.charNum = 0\n        }),\n      )\n      setLocal(\"stats\", prevParagraphNum, \"read\", false)\n    } else if (isFirstChar) {\n      setLocal(\n        produce((state) => {\n          state.wordNum = local.wordNum - 1\n          state.charNum = 0\n        }),\n      )\n    } else {\n      setLocal(\"charNum\", 0)\n    }\n\n    setLocal(\"typed\", local.paragraphNum, local.wordNum, (prev) =>\n      [...prev].fill(null),\n    )\n  } else {\n    // Delete single character\n    if (isFirstWord && isFirstChar) {\n      const prevParagraphNum = local.paragraphNum - 1\n      const isPrevRead = local.stats[prevParagraphNum].read\n\n      // It unmarks the paragraph as read\n      if (isPrevRead) {\n        handleParagraphClick(prevParagraphNum, local, setLocal)\n      }\n\n      setLocal(\n        produce((state) => {\n          state.paragraphNum = prevParagraphNum\n          state.wordNum = isPrevRead\n            ? 0\n            : local.typed[local.paragraphNum].length - 1\n          state.charNum = isPrevRead\n            ? 0\n            : local.typed[local.paragraphNum][local.wordNum].length - 1\n        }),\n      )\n      setLocal(\"stats\", prevParagraphNum, \"read\", false)\n    } else if (isFirstChar) {\n      setLocal(\n        produce((state) => {\n          state.wordNum = local.wordNum - 1\n          state.charNum =\n            local.typed[local.paragraphNum][local.wordNum].length - 1\n        }),\n      )\n    } else {\n      setLocal(\"charNum\", local.charNum - 1)\n    }\n\n    setLocal(\"typed\", local.paragraphNum, local.wordNum, local.charNum, null)\n  }\n\n  setLocal(\"prev\", \"\")\n  setLocal(\"prevOk\", true)\n}\n","import { calculateVariationCoefficient } from \"../../../../utils/math.ts\"\nimport { WordStats } from \"../types.ts\"\nimport { calculateWpm } from \"./calculateWpm.ts\"\n\nexport function calculateWordsWpms(wordsStats: WordStats[]) {\n  const wpms = []\n\n  for (const stats of wordsStats) {\n    const start = stats.times[0]\n    const end = stats.times[stats.length - 1]\n\n    if (!start || !end) {\n      continue\n    }\n\n    const wordTime = end - start\n    wpms.push(calculateWpm(wordTime, stats.length - 1))\n  }\n\n  return wpms\n}\n\nexport function calculateParagraphConsistency(\n  wordsStats: WordStats[],\n  charCount: number,\n  prevConsistency: { value: number; weight: number } | null,\n) {\n  // It is not worth the additional complexity to recalculate this\n  // minor stat on paragraph reentry, so we just return the old one\n  if (prevConsistency) {\n    return { ...prevConsistency }\n  }\n\n  const wpms = calculateWordsWpms(wordsStats)\n  const val = 1 - calculateVariationCoefficient(wpms)\n\n  return {\n    value: Math.max(0, val),\n    weight: charCount,\n  }\n}\n","const sym = `\\`1234567890-=~!@#$%^&*()_+[]\\\\{}|;':\",./<>? `\nconst en = `${sym}qwertyuiopQWERTYUIOPasdfghjklASDFGHJKLzxcvbnmZXCVBNM`\nconst pl = `${en}`\nconst ua = `${sym}`\n\nexport const symbols = new Set(sym)\n\nexport function getCharset(language: string) {\n  const low = language.toLowerCase()\n\n  switch (low) {\n    case \"pl\":\n      return new Set(pl)\n    case \"uk\":\n      return new Set(ua)\n    default:\n      return new Set(en)\n  }\n}\n\ntype Replacements = { [char: string]: string }\n\nexport function shouldIgnore(char: string) {\n  const code = char.charCodeAt(0)\n  return (\n    code === 0x2060 || // Word Joiner\n    code <= 0x1f || // Control characters\n    (code >= 0x7f && code <= 0x9f) || // Control characters\n    (code >= 0xe000 && code <= 0xf8ff) || // Private Use Area\n    (code >= 0xf0000 && code <= 0xffffd) || // Supplementary Private Use Area-A\n    (code >= 0x100000 && code <= 0x10fffd) // Supplementary Private Use Area-B\n  )\n}\n\nexport const notDisplayableUnicodeRanges = [[0, 31], []]\n\nexport const symbolReplacements: Replacements = {\n  \"\": \"'\",\n  \"\": \"'\",\n  \"\": \">>\",\n  \"\": \"<<\",\n  \"\": \" - \",\n  \"\": \" - \",\n  \"\": \"...\",\n  \"\": '\"',\n  \"\": '\"',\n  \"\": '\"',\n  \"\": \"--\", // 2-em dash\n  \"\": \"---\", // 3-em dash\n  // \"\": \"(c)\",\n  // \"\": \"GBP\",\n  // \"\": \"infinity\",\n  // \"\": \"deg\",\n  // \"\": \"?\",\n  // \"\": \"!\",\n}\n","import config from \"../../../../config\"\nimport { symbols } from \"../../../../libs/charsets\"\nimport type { WordStats } from \"../types\"\n\nconst SYMBOLS = [...symbols, config.ENTER_SYMBOL].join(\"\\\\\")\nconst SYMBOLS_START_REGEX = new RegExp(`^[${SYMBOLS}]*`)\nconst SYMBOLS_END_REGEX = new RegExp(`[${SYMBOLS}]*$`)\n\nexport function getParagraphMissedWords(\n  wordsStats: WordStats[],\n  original: string[][],\n) {\n  const missedWords = []\n\n  for (let i = 0; i < wordsStats.length; i++) {\n    if (\n      wordsStats[i].hadTypos &&\n      wordsStats[i].typosIndicies.some((j) => !symbols.has(original[i][j]))\n    ) {\n      const word = original[i]\n        .join(\"\")\n        .trim()\n        .replace(SYMBOLS_START_REGEX, \"\")\n        .replace(SYMBOLS_END_REGEX, \"\")\n\n      missedWords.push(word)\n    }\n  }\n\n  return [...new Set(missedWords)]\n}\n","import { type SetStoreFunction, produce } from \"solid-js/store\"\nimport { calculateParagraphAccuracy } from \"../prompt-util/calculateParagraphAccuracy.ts\"\nimport { calculateParagraphConsistency } from \"../prompt-util/calculateParagraphConsistency.ts\"\nimport { calculateParagraphWpm } from \"../prompt-util/calculateParagraphWpm.ts\"\nimport { getParagraphMissedWords } from \"../prompt-util/getParagraphMissedWords.ts\"\nimport type { LocalState } from \"../types.ts\"\nimport { saveParagraphs } from \"./saveParagraph.ts\"\n\nexport function setParagraphStats(\n  local: LocalState,\n  setLocal: SetStoreFunction<LocalState>,\n  done: boolean,\n) {\n  setTimeout(() => setLocal(\"paused\", true), 500)\n\n  const currentParagraph = local.stats[local.paragraphNum]\n\n  const acc = calculateParagraphAccuracy(\n    currentParagraph.nonTypos,\n    currentParagraph.typos,\n    currentParagraph.acc,\n  )\n\n  const { wpm, time } = calculateParagraphWpm(\n    currentParagraph.inputTimes,\n    currentParagraph.words,\n    currentParagraph.time,\n  )\n\n  const con = calculateParagraphConsistency(\n    currentParagraph.words,\n    currentParagraph.charCount,\n    currentParagraph.con,\n  )\n\n  const missedWords = getParagraphMissedWords(\n    currentParagraph.words,\n    local.original[local.paragraphNum],\n  )\n\n  setLocal(\n    \"stats\",\n    local.paragraphNum,\n    produce((state) => {\n      if (!Number.isNaN(acc.value)) {\n        state.acc = acc\n      }\n\n      if (!Number.isNaN(wpm.value)) {\n        state.wpm = wpm\n      }\n\n      if (!Number.isNaN(con.value)) {\n        state.con = con\n      }\n\n      if (!Number.isNaN(time)) {\n        state.time = time\n      }\n\n      // Clean temp data\n      state.typos = 0\n      state.nonTypos = 0\n      state.inputTimes = []\n      state.words = state.words.map((entry) => ({\n        length: entry.length,\n        typedLength: 0,\n        times: new Array(entry.length),\n        isCorrect: entry.isCorrect,\n        hadTypos: false,\n        typosIndicies: [],\n      }))\n    }),\n  )\n\n  if (local.id) {\n    saveParagraphs(\n      local.id,\n      local.skip,\n      {\n        num: local.paragraphNum,\n        stats: {\n          type: \"typed\",\n          wpm,\n          acc,\n          con,\n          time,\n          timestamp: Date.now(),\n          length: wpm.weight,\n        },\n        missedWords,\n      },\n      local.length,\n    ).then(() => {\n      setLocal(\"saved\", true)\n      setTimeout(() => setLocal(\"saved\", false), 1000)\n\n      if (done) {\n        location.replace(`/results/${local.id}`)\n      }\n    })\n  }\n}\n","import { type SetStoreFunction, produce } from \"solid-js/store\"\nimport type { LocalState } from \"../types\"\nimport { setParagraphStats } from \"./setParagraphStats\"\nimport { handleAfk } from \"./handleAfk\"\n\nexport function handleStandardInput(\n  e: KeyboardEvent,\n  local: LocalState,\n  setLocal: SetStoreFunction<LocalState>,\n) {\n  if (local.original.length === 0) {\n    return\n  }\n\n  const expectedChar =\n    local.original[local.paragraphNum][local.wordNum][local.charNum]\n\n  if (expectedChar === \"\" && e.key !== \"Enter\") {\n    // TODO indicate that the user has to press enter to end the paragraph\n    return\n  }\n\n  let char\n\n  if (e.key === \"Enter\") {\n    // Treat enter as line end if at the end of a paragraph,space otherwise\n    // (to prevent annoying typo when the paragraph wraps and user don't realize space is required).\n    char = expectedChar === \"\" ? \"\" : \" \"\n  } else {\n    // If the expected character is not in the current charset, accept any key\n    char = local.charset.has(expectedChar) ? e.key : expectedChar\n  }\n\n  const inputTime = performance.now()\n\n  setLocal(\"pageStats\", \"inputTimes\", (prev) => [...prev, inputTime])\n  setLocal(\"stats\", local.paragraphNum, \"inputTimes\", (prev) => [\n    ...prev,\n    inputTime,\n  ])\n  setLocal(\n    \"stats\",\n    local.paragraphNum,\n    \"words\",\n    local.wordNum,\n    \"times\",\n    local.charNum,\n    inputTime,\n  )\n  setLocal(\"prev\", char)\n  setLocal(\"prevOk\", char === expectedChar)\n\n  if (char !== expectedChar) {\n    setLocal(\"stats\", local.paragraphNum, \"typos\", (prev) => prev + 1)\n    setLocal(\n      \"stats\",\n      local.paragraphNum,\n      \"words\",\n      local.wordNum,\n      \"hadTypos\",\n      true,\n    )\n\n    setLocal(\n      \"stats\",\n      local.paragraphNum,\n      \"words\",\n      local.wordNum,\n      \"typosIndicies\",\n      (prev) => [...prev, local.charNum],\n    )\n    // TODO MARK TYPOS POSITIONS\n  } else if (char !== \"\") {\n    setLocal(\"stats\", local.paragraphNum, \"nonTypos\", (prev) => prev + 1)\n  }\n\n  setLocal(\"typed\", local.paragraphNum, local.wordNum, local.charNum, char)\n  setLocal(\n    \"stats\",\n    local.paragraphNum,\n    \"words\",\n    local.wordNum,\n    \"typedLength\",\n    local.charNum + 1,\n  )\n  setLocal(\"hideCursor\", true)\n  handleAfk(setLocal)\n\n  // Mark if partial (or full) word is correct\n  setLocal(\n    \"stats\",\n    local.paragraphNum,\n    \"words\",\n    local.wordNum,\n    \"isCorrect\",\n    local.original[local.paragraphNum][local.wordNum]\n      .join(\"\")\n      .startsWith(local.typed[local.paragraphNum][local.wordNum].join(\"\")),\n  )\n\n  const isLastChar =\n    local.charNum ===\n    local.original[local.paragraphNum][local.wordNum].length - 1\n  const isLastWord =\n    isLastChar && local.wordNum === local.typed[local.paragraphNum].length - 1\n  const isLastParagraph =\n    isLastWord && local.paragraphNum === local.typed.length - 1\n\n  // PARAGRAPH END\n  if (expectedChar === \"\") {\n    setParagraphStats(local, setLocal, isLastParagraph)\n  }\n\n  if (isLastParagraph) {\n  } else if (isLastWord) {\n    setLocal(\n      produce((state) => {\n        state.charNum = 0\n        state.wordNum = 0\n        state.paragraphNum += 1\n      }),\n    )\n  } else if (isLastChar) {\n    setLocal(\n      produce((state) => {\n        state.charNum = 0\n        state.wordNum += 1\n      }),\n    )\n  } else {\n    setLocal(\"charNum\", local.charNum + 1)\n  }\n}\n","export function getScreenSplitOffsets(\n  screenSplits: number[],\n  paragraphNum: number,\n) {\n  // @ts-ignore\n  const splitIndex = screenSplits.findLastIndex(\n    (split: number) => paragraphNum >= split,\n  )\n\n  return {\n    start: screenSplits[splitIndex],\n    end: screenSplits[splitIndex + 1],\n  }\n}\n","import type { Resource } from \"solid-js\"\nimport type { SetStoreFunction } from \"solid-js/store\"\nimport config from \"../../../../config\"\nimport { getCharset } from \"../../../../libs/charsets\"\nimport { getScreenSplitOffsets } from \"../prompt-util/getScreenSplitOffsets\"\nimport type {\n  LocalState,\n  ParagraphStats,\n  PromptData,\n  WordStats,\n} from \"../types\"\n\n/**\n * Used for fast progress update on each typed word,\n * instead of calculating position of character under caret\n */\nfunction getIncrementalLength(original: string[][][]) {\n  const incrementalLength = original.map((p) => p.map(() => 0))\n\n  let len = 0\n\n  for (let p = 0; p < original.length; p++) {\n    for (let w = 0; w < original[p].length; w++) {\n      incrementalLength[p][w] = len\n      len += original[p][w].length\n    }\n  }\n\n  return incrementalLength\n}\n\n/**\n * Divides a chapter into sections of a provided length,\n * so the length page screen:\n * a) does not slow down the browser (some chapters can be very long)\n * b) user can set a desred chunk per screen\n *\n * return indicies of paragraps where the screen should be split\n */\nfunction getScreenSplits(paragraphs: string[], maxCharsPerScreen: number) {\n  const paragraphsLengths = paragraphs.map((p) => p.length)\n\n  const splits = [0]\n  let tempLen = 0\n\n  for (let i = 0; i < paragraphsLengths.length - 1; i++) {\n    tempLen += paragraphsLengths[i]\n\n    if (tempLen + paragraphsLengths[i + 1] > maxCharsPerScreen) {\n      splits.push(i + 1)\n      tempLen = 0\n    }\n  }\n\n  splits.push(paragraphsLengths.length)\n\n  return splits\n}\n\nexport function loadPromptContent(\n  promptData: Resource<PromptData>,\n  setLocal: SetStoreFunction<LocalState>,\n  id: string | null,\n) {\n  if (promptData() === undefined || promptData.loading || promptData.error) {\n    return\n  }\n\n  const skip = promptData()?.chapterInfo?.skip ?? false\n  const savedStats = promptData()?.stats ?? {}\n  const isComplete = (promptData()?.chapterProgress ?? 0) === 1\n  const paragraphs = promptData()?.paragraphs ?? []\n\n  const original = paragraphs.map((paragraph) =>\n    paragraph\n      .split(\" \")\n      .map((word, i, words) => [\n        ...(word + (i === words.length - 1 ? \"\" : \" \")),\n      ]),\n  )\n\n  const length = promptData()!.chapterInfo?.length ?? 0\n  let lengthCompleted = isComplete ? length : 0\n\n  const typed = original.map((paragraph, i) => {\n    if (promptData()?.stats[i] && !isComplete) {\n      const stats = promptData()?.stats[i]\n      lengthCompleted += stats?.length ?? 0 // was wpm.weight!\n\n      if (stats?.type === \"typed\") {\n        return paragraph.map((word) => word.map((char) => char))\n      }\n    }\n\n    return paragraph.map((word) => word.map((_) => null))\n  })\n\n  const indicies = Object.keys(savedStats).map(Number)\n  const lastCompletedParagraphNum = Math.max(-1, ...indicies)\n\n  const paragraphNum = isComplete ? 0 : lastCompletedParagraphNum + 1\n\n  const stats = Array.from({ length: typed.length }, (_, i) => {\n    const statsEntry = savedStats[i]\n\n    const metrics =\n      statsEntry?.type === \"typed\"\n        ? {\n            wpm: statsEntry.wpm,\n            acc: statsEntry.acc,\n            con: statsEntry.con,\n            time: statsEntry.time ?? 0,\n          }\n        : {\n            wpm: null,\n            acc: null,\n            consistency: null,\n            time: 0,\n          }\n\n    return {\n      read: statsEntry?.type === \"read\",\n      wordCount: original[i].length,\n      charCount: original[i].flat().length,\n      ...metrics,\n      inputTimes: [],\n      typos: 0,\n      nonTypos: 0,\n      words: original[i].map(\n        (chars) =>\n          ({\n            length: chars.length,\n            typedLength: 0,\n            times: new Array(chars.length),\n            isCorrect: true,\n            hadTypos: false,\n            typosIndicies: [],\n          }) as WordStats,\n      ),\n    } as ParagraphStats\n  })\n\n  const incrementalLength = getIncrementalLength(original)\n  const screenSplits = getScreenSplits(paragraphs, config.MAX_CHARS_PER_SCREEN)\n  const splitOffsets = getScreenSplitOffsets(screenSplits, paragraphNum)\n\n  const state: LocalState = {\n    id,\n    skip,\n    length,\n    lengthCompleted,\n    charset: getCharset(promptData()!.bookInfo.language ?? \"??\"),\n    hideCursor: false,\n    done: false,\n    paused: true,\n    saved: false,\n    original,\n    typed,\n    paragraphsLengths: paragraphs.map((p) => p.length),\n    incrementalLength,\n    screenSplits,\n    splitStart: splitOffsets.start,\n    splitEnd: splitOffsets.end,\n    stats,\n    pageStats: { acc: null, wpm: null, inputTimes: [] },\n    paragraphNum,\n    wordNum: 0,\n    charNum: 0,\n    prev: \"\",\n    prevOk: true,\n  }\n\n  setLocal(state)\n}\n","import type { SetStoreFunction } from \"solid-js/store\"\nimport type { LocalState } from \"../types\"\n\nexport function updateProgress(\n  local: LocalState,\n  setLocal: SetStoreFunction<LocalState>,\n) {\n  return () => {\n    const lengthCompleted =\n      local.incrementalLength?.[local.paragraphNum]?.[local.wordNum] ?? 0\n\n    setLocal(\"lengthCompleted\", lengthCompleted)\n  }\n}\n","export function getFont(fontData: string) {\n  if (!fontData) {\n    return { font: undefined, size: undefined }\n  }\n\n  const [size, type, name] = fontData.split(\":\").reverse()\n  const font = `\"${name}\", ${type}`\n\n  return { font, size }\n}\n","import { Setter } from \"solid-js\"\n\nexport function showCantTypeAlert(setCantType: Setter<boolean>) {\n  let busy = false\n\n  return () => {\n    if (busy) {\n      return\n    }\n\n    busy = true\n    setCantType(true)\n    setTimeout(() => {\n      setCantType(false)\n      busy = false\n    }, 1000)\n  }\n}\n","export const layouts = {\n  qwerty: {\n    name: 'Qwerty',\n    template: 'type-a',\n    main: [\n      [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\"],\n      [\"q\", \"w\", \"e\", \"r\", \"t\", \"y\", \"u\", \"i\", \"o\", \"p\"],\n      [\"a\", \"s\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\"],\n      [\"shift\", \"z\", \"x\", \"c\", \"v\", \"b\", \"n\", \"m\", \"backspace\"],\n      [\"more\", \"'\", \",\", \"space\", \".\", '\"', \"enter\"],\n    ],\n    shift: [\n      [\"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\"],\n      [\"Q\", \"W\", \"E\", \"R\", \"T\", \"Y\", \"U\", \"I\", \"O\", \"P\"],\n      [\"A\", \"S\", \"D\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\"],\n      [\"shift\", \"Z\", \"X\", \"C\", \"V\", \"B\", \"N\", \"M\", \"delete\"],\n      [\"more\", \"?\", \";\", \"space\", \":\", \"-\", \"skip\"],\n    ],\n    more: [\n      [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\"],\n      [\"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\"],\n      [\"~\", \"<\", \">\", \"[\", \"]\", \"{\", \"}\", \"|\", \"\\\\\"],\n      [\"shift\", \"`\", \"/\", \"?\", \"-\", \"_\", \"+\", \"=\", \"tab\"],\n      [\"more\", \"'\", \",\", \"space\", \".\", '\"', \"enter\"],\n    ],\n  },\n  azerty: {\n    name: 'Azerty',\n    template: 'type-b',\n    main: [\n      [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\"],\n      [\"a\", \"z\", \"e\", \"r\", \"t\", \"y\", \"u\", \"i\", \"o\", \"p\"],\n      [\"q\", \"s\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\", \"m\"],\n      [\"shift\", \"w\", \"x\", \"c\", \"v\", \"b\", \"n\", \"backspace\"],\n      [\"more\", \"'\", \",\", \"space\", \".\", '\"', \"enter\"],\n    ],\n    shift: [\n      [\"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\"],\n      [\"A\", \"Z\", \"E\", \"R\", \"T\", \"Y\", \"U\", \"I\", \"O\", \"P\"],\n      [\"Q\", \"S\", \"D\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\", \"M\"],\n      [\"shift\", \"W\", \"X\", \"C\", \"V\", \"B\", \"N\", \"delete\"],\n      [\"more\", \"?\", \";\", \"space\", \":\", \"-\", \"skip\"],\n    ],\n    more: [\n      [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\"],\n      [\"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\"],\n      [\"`\", \"~\", \"<\", \">\", \"[\", \"]\", \"{\", \"}\", \"|\", \"\\\\\"],\n      [\"shift\", \"/\", \"?\", \"-\", \"_\", \"+\", \"=\", \"tab\"],\n      [\"more\", \"'\", \",\", \"space\", \".\", '\"', \"enter\"],\n    ],\n  },\n  qwertz: {\n    name: 'Qwertz',\n    template: 'type-a',\n    main: [\n      [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\"],\n      [\"q\", \"w\", \"e\", \"r\", \"t\", \"z\", \"u\", \"i\", \"o\", \"p\"],\n      [\"a\", \"s\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\"],\n      [\"shift\", \"y\", \"x\", \"c\", \"v\", \"b\", \"n\", \"m\", \"backspace\"],\n      [\"more\", \"'\", \",\", \"space\", \".\", '\"', \"enter\"],\n    ],\n    shift: [\n      [\"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\"],\n      [\"Q\", \"W\", \"E\", \"R\", \"T\", \"Z\", \"U\", \"I\", \"O\", \"P\"],\n      [\"A\", \"S\", \"D\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\"],\n      [\"shift\", \"Y\", \"X\", \"C\", \"V\", \"B\", \"N\", \"M\", \"delete\"],\n      [\"more\", \"?\", \";\", \"space\", \":\", \"-\", \"skip\"],\n    ],\n    more: [\n      [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\"],\n      [\"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\"],\n      [\"~\", \"<\", \">\", \"[\", \"]\", \"{\", \"}\", \"|\", \"\\\\\"],\n      [\"shift\", \"`\", \"/\", \"?\", \"-\", \"_\", \"+\", \"=\", \"tab\"],\n      [\"more\", \"'\", \",\", \"space\", \".\", '\"', \"enter\"],\n    ],\n  },\n  dvorak: {\n    name: 'Dvorak',\n    template: 'type-c',\n    main: [\n      [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\"],\n      [\"shift\", \"p\", \"y\", \"f\", \"g\", \"c\", \"r\", \"l\", \"backspace\"],\n      [\"a\", \"o\", \"e\", \"u\", \"i\", \"d\", \"h\", \"t\", \"n\", \"s\"],\n      [\"q\", \"j\", \"k\", \"x\", \"b\", \"m\", \"w\", \"v\", \"z\"],\n      [\"more\", \"'\", \",\", \"space\", \".\", '\"', \"enter\"],\n    ],\n    shift: [\n      [\"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\"],\n      [\"shift\", \"P\", \"Y\", \"F\", \"G\", \"C\", \"R\", \"L\", \"delete\"],\n      [\"A\", \"O\", \"E\", \"U\", \"I\", \"D\", \"H\", \"T\", \"N\", \"S\"],\n      [\"Q\", \"J\", \"K\", \"X\", \"B\", \"M\", \"W\", \"V\", \"Z\"],\n      [\"more\", \"?\", \";\", \"space\", \":\", \"-\", \"skip\"],\n    ],\n    more: [\n      [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\"],\n      [\"shift\", \"`\", \"/\", \"?\", \"-\", \"_\", \"+\", \"=\", \"tab\"],\n      [\"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\"],\n      [\"~\", \"<\", \">\", \"[\", \"]\", \"{\", \"}\", \"|\", \"\\\\\"],\n      [\"more\", \"'\", \",\", \"space\", \".\", '\"', \"enter\"],\n    ],\n  },\n}\n\nexport type MobileLayout = keyof typeof layouts\n","import { getFont } from \"../../../actions/getFont\"\nimport config from \"../../../config\"\nimport { layouts } from \"../../../data/mobileKeyboardLayouts\"\nimport state from \"../../../state/state\"\nimport \"./ScreenKeyboard.css\"\nimport { Component, For, Show, createMemo, createSignal } from \"solid-js\"\n\ntype SpecialKeys = {\n  [key: string]: {\n    size: number\n    value: string\n    label: string\n    accent: boolean\n    icon?: string\n    special?: boolean\n    mod?: boolean\n  }\n}\n\nfunction getSpecialKeys(template: string): SpecialKeys {\n  return {\n    shift: {\n      size: template === \"type-b\" ? 4 : 3,\n      value: \"Shift\",\n      label: \"shift\",\n      accent: true,\n      icon: \"shift\",\n      special: true,\n      mod: true,\n    },\n    backspace: {\n      size: template === \"type-b\" ? 4 : 3,\n      value: \"Backspace\",\n      label: \"backspace\",\n      accent: true,\n      icon: \"backspace\",\n      special: true,\n    },\n    delete: {\n      size: template === \"type-b\" ? 4 : 3,\n      value: \"Delete\",\n      label: \"Delete\",\n      accent: true,\n      icon: \"backspace-word\",\n      special: true,\n    },\n    skip: {\n      size: 3,\n      value: \"Skip\",\n      label: \"Skip\",\n      accent: true,\n      icon: \"skip\",\n      special: true,\n    },\n    space: { size: 6, value: \" \", label: \" \", accent: false },\n    tab: {\n      size: template === \"type-b\" ? 4 : 3,\n      value: \"Tab\",\n      label: \"Tab\",\n      accent: true,\n      icon: \"reset\",\n      special: true,\n    },\n    dash: { size: 3, value: \"-\", label: \"-\", accent: true },\n    more: {\n      size: 3,\n      value: \"More\",\n      label: \"more\",\n      accent: true,\n      icon: \"symbols\",\n      special: true,\n      mod: true,\n    },\n    enter: {\n      size: 3,\n      value: \"Enter\",\n      label: config.ENTER_SYMBOL,\n      accent: true,\n      icon: \"enter\",\n    },\n  }\n}\n\nfunction layoutToDetails(layout: string[][], template: string) {\n  const specialKeys = getSpecialKeys(template)\n\n  return layout.map((row, i) =>\n    row.map(\n      (key) =>\n        specialKeys[key] ?? {\n          size: 2,\n          value: key,\n          label: key,\n          accent: i === 0 || i === layout.length - 1,\n        },\n    ),\n  )\n}\n\ntype Props = {\n  handleTyping: (e: KeyboardEvent) => void\n  expectedChar?: string\n  prev: string\n  prevOk: boolean\n}\n\nconst ScreenKeyboard: Component<Props> = (props) => {\n  const [layer, setLayer] = createSignal<\"main\" | \"shift\" | \"more\">(\"main\")\n\n  const showNext = createMemo(\n    () =>\n      state.get.settings.typingPrompt.keyboardIndicator === \"next\" ||\n      state.get.settings.typingPrompt.keyboardIndicator === \"both\",\n  )\n\n  const showLast = createMemo(\n    () =>\n      state.get.settings.typingPrompt.keyboardIndicator === \"last\" ||\n      state.get.settings.typingPrompt.keyboardIndicator === \"both\",\n  )\n\n  const layout = createMemo(() => {\n    const layoutName = state.get.settings.typingPrompt.keyboardLayoutMobile\n    const layoutData = layouts[layoutName]\n    const main = layoutToDetails(layoutData.main, layoutData.template)\n    const shift = layoutToDetails(layoutData.shift, layoutData.template)\n    const more = layoutToDetails(layoutData.more, layoutData.template)\n\n    const chars = {\n      main: new Set(main.flat().map((key) => key.value)),\n      shift: new Set(shift.flat().map((key) => key.value)),\n      more: new Set(more.flat().map((key) => key.value)),\n    }\n\n    const getkeyLayer = (\n      key: string | undefined,\n      currentLayer: \"main\" | \"shift\" | \"more\",\n    ) => {\n      if (!key || chars[currentLayer].has(key)) {\n        return\n      }\n\n      if (chars.main.has(key)) {\n        return currentLayer\n      }\n\n      if (chars.shift.has(key)) {\n        return \"shift\"\n      }\n\n      if (chars.more.has(key)) {\n        return \"more\"\n      }\n\n      return chars.main.has(key)\n    }\n\n    return {\n      name: layoutName,\n      layers: { main, shift, more },\n      getkeyLayer,\n    }\n  })\n\n  const font = createMemo(() => {\n    return getFont(state.get.settings.typingPrompt.keyBoardFont)\n  })\n\n  const [last, setLast] = createSignal({ x: -1, y: -1 })\n\n  return (\n    <section\n      classList={{\n        \"screen-keyboard\": true,\n        [`keycaps-${state.get.settings.typingPrompt.keyboardKeycaps}`]: true,\n        error: !props.prevOk,\n        [layout().name]: true,\n      }}\n      style={{\n        \"--key-thickness\":\n          state.get.settings.typingPrompt.keyboardThickness ?? \"2px\",\n        \"--font\": font().font,\n        \"--font-scale\": font().size,\n      }}\n    >\n      <div classList={{ [layer()]: true }}>\n        <For each={layout().layers.main}>\n          {(row, y) => (\n            <div class=\"row\">\n              <For each={row}>\n                {(_, x) => {\n                  const key = createMemo(\n                    () => layout().layers[layer()][y()][x()],\n                  )\n\n                  return (\n                    <button\n                      classList={{\n                        accent: key().accent,\n                        [props.prevOk ? \"ok\" : \"error\"]:\n                          showLast() &&\n                          !key().special &&\n                          last().x === x() &&\n                          last().y === y(),\n                        warning: key().mod && layer() === key().label,\n                        next:\n                          showNext() &&\n                          (props.expectedChar === key().label ||\n                            layout().getkeyLayer(\n                              props.expectedChar,\n                              layer(),\n                            ) === key().label),\n                      }}\n                      style={{ \"grid-column-end\": `span ${key().size}` }}\n                      onPointerOut={() => {\n                        setLast({ x: -1, y: -1 })\n                      }}\n                      onPointerUp={() => {\n                        setLast({ x: -1, y: -1 })\n                      }}\n                      onPointerDown={() => {\n                        setLast({ x: x(), y: y() })\n\n                        switch (key().value) {\n                          case \"Shift\": {\n                            setLayer(layer() === \"shift\" ? \"main\" : \"shift\")\n                            break\n                          }\n                          case \"More\": {\n                            setLayer(layer() === \"more\" ? \"main\" : \"more\")\n                            break\n                          }\n                          case \"Delete\": {\n                            const event = new KeyboardEvent(\"keydown\", {\n                              key: \"Backspace\",\n                              ctrlKey: true,\n                            })\n                            if (layer() !== \"main\") {\n                              setLayer(\"main\")\n                            }\n                            props.handleTyping(event)\n                            break\n                          }\n                          case \"Skip\": {\n                            const event = new KeyboardEvent(\"keydown\", {\n                              key: \"Enter\",\n                              shiftKey: true,\n                            })\n                            if (layer() !== \"main\") {\n                              setLayer(\"main\")\n                            }\n                            props.handleTyping(event)\n                            break\n                          }\n                          default: {\n                            const event = new KeyboardEvent(\"keydown\", {\n                              key: key().value,\n                            })\n                            if (layer() !== \"main\") {\n                              setLayer(\"main\")\n                            }\n                            props.handleTyping(event)\n                            break\n                          }\n                        }\n\n                        const haptics =\n                          state.get.settings.typingPrompt.keyboardHaptics\n\n                        if (!config.IS_APPLE && haptics !== 0) {\n                          navigator?.vibrate(haptics)\n                        }\n                      }}\n                    >\n                      <div>\n                        <Show when={key().icon} fallback={key().label}>\n                          <i class={`icon-${key().icon}`} />\n                        </Show>\n                      </div>\n                    </button>\n                  )\n                }}\n              </For>\n            </div>\n          )}\n        </For>\n      </div>\n    </section>\n  )\n}\n\nexport default ScreenKeyboard\n","\nconst topUS = [\n  [\"`\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", '-', '=', 'Backspace'],\n  [\"Tab\", \"q\", \"w\", \"e\", \"r\", \"t\", \"y\", \"u\", \"i\", \"o\", \"p\", '[', ']', 'Backslash'],\n  [\"CapsLock\", \"a\", \"s\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\", ';', \"'\", 'Enter'],\n  [\"ShiftLeft\", \"z\", \"x\", \"c\", \"v\", \"b\", \"n\", \"m\", \",\", \".\", \"/\", \"ShiftRight\"],\n]\n\nconst topShiftUS = [\n  [\"~\", \"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\", '_', '+', 'Backspace'],\n  [\"Tab\", \"Q\", \"W\", \"E\", \"R\", \"T\", \"Y\", \"U\", \"I\", \"O\", \"P\", '{', '}', 'Pipe'],\n  [\"CapsLock\", \"A\", \"S\", \"D\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\", ':', '\"', 'Enter'],\n  [\"ShiftLeft\", \"Z\", \"X\", \"C\", \"V\", \"B\", \"N\", \"M\", \"<\", \">\", \"?\", \"ShiftRight\"],\n]\n\nconst rShiftUS = new Set('~!@#$%QWERTASDFGZXCVB')\n\nconst topISO = [\n  [\"`\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", '-', '=', 'Backspace'],\n  [\"Tab\", \"q\", \"w\", \"e\", \"r\", \"t\", \"y\", \"u\", \"i\", \"o\", \"p\", '[', ']', 'Enter1'],\n  [\"CapsLock\", \"a\", \"s\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\", ';', \"'\", '\\\\', 'Enter2'],\n  [\"ShiftLeft\", 'ISO', \"z\", \"x\", \"c\", \"v\", \"b\", \"n\", \"m\", \",\", \".\", \"/\", \"ShiftRight\"],\n]\n\nconst topShiftISO = [\n  [\"~\", \"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\", '_', '+', 'Backspace'],\n  [\"Tab\", \"Q\", \"W\", \"E\", \"R\", \"T\", \"Y\", \"U\", \"I\", \"O\", \"P\", '{', '}', 'Enter1'],\n  [\"CapsLock\", \"A\", \"S\", \"D\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\", ':', '\"', '|', 'Enter2'],\n  [\"ShiftLeft\", 'ISO', \"Z\", \"X\", \"C\", \"V\", \"B\", \"N\", \"M\", \"<\", \">\", \"?\", \"ShiftRight\"],\n]\n\nconst rShiftISO = new Set('~!@#$%QWERTASDFG|ZXCVB')\n\nconst topAltIsoPl = [\n  [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', '', 'Backspace'],\n  [\"Tab\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', '', 'Enter1'],\n  [\"CapsLock\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', \"\", '', 'Enter2'],\n  [\"ShiftLeft\", 'ISO', \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"ShiftRight\"],\n]\n\nconst topShiftAltIsoPl = [\n  [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', '', 'Backspace'],\n  [\"Tab\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', '', 'Enter1'],\n  [\"CapsLock\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', '', '', 'Enter2'],\n  [\"ShiftLeft\", 'ISO', \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"ShiftRight\"],\n]\n\nconst rShiftAltIsoPl = new Set('')\n\nconst topUK = [\n  [\"`\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", '-', '=', 'Backspace'],\n  [\"Tab\", \"q\", \"w\", \"e\", \"r\", \"t\", \"y\", \"u\", \"i\", \"o\", \"p\", '[', ']', 'Enter1'],\n  [\"CapsLock\", \"a\", \"s\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\", ';', \"'\", '#', 'Enter2'],\n  [\"ShiftLeft\", '\\\\', \"z\", \"x\", \"c\", \"v\", \"b\", \"n\", \"m\", \",\", \".\", \"/\", \"ShiftRight\"],\n]\n\nconst topShiftUK = [\n  [\"\", \"!\", '\"', \"\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\", '_', '+', 'Backspace'],\n  [\"Tab\", \"Q\", \"W\", \"E\", \"R\", \"T\", \"Y\", \"U\", \"I\", \"O\", \"P\", '{', '}', 'Enter1'],\n  [\"CapsLock\", \"A\", \"S\", \"D\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\", ':', '@', '~', 'Enter2'],\n  [\"ShiftLeft\", '|', \"Z\", \"X\", \"C\", \"V\", \"B\", \"N\", \"M\", \"<\", \">\", \"?\", \"ShiftRight\"],\n]\n\nconst rShiftUK = new Set('!@#$%QWERTASDFG|ZXCVB')\n\nconst topISOMac = [\n  [\"\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", '-', '=', 'Backspace'],\n  [\"Tab\", \"q\", \"w\", \"e\", \"r\", \"t\", \"y\", \"u\", \"i\", \"o\", \"p\", '[', ']', 'Enter1'],\n  [\"CapsLock\", \"a\", \"s\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\", ';', \"'\", '\\\\', 'Enter2'],\n  [\"ShiftLeft\", '`', \"z\", \"x\", \"c\", \"v\", \"b\", \"n\", \"m\", \",\", \".\", \"/\", \"ShiftRight\"],\n]\n\nconst topShiftISOMac = [\n  [\"\", \"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\", '_', '+', 'Backspace'],\n  [\"Tab\", \"Q\", \"W\", \"E\", \"R\", \"T\", \"Y\", \"U\", \"I\", \"O\", \"P\", '{', '}', 'Enter1'],\n  [\"CapsLock\", \"A\", \"S\", \"D\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\", ':', '\"', '|', 'Enter2'],\n  [\"ShiftLeft\", '~', \"Z\", \"X\", \"C\", \"V\", \"B\", \"N\", \"M\", \"<\", \">\", \"?\", \"ShiftRight\"],\n]\n\nconst rShiftISOMac = new Set('!@#$%QWERTASDFG~ZXCVB')\n\nconst topAltIsoPlMac = [\n  [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', '', 'Backspace'],\n  [\"Tab\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', '', 'Enter1'],\n  [\"CapsLock\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', \"\", '', 'Enter2'],\n  [\"ShiftLeft\", '', \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"ShiftRight\"],\n]\n\nconst topShiftAltIsoPlMac = [\n  [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', '', 'Backspace'],\n  [\"Tab\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', '', 'Enter1'],\n  [\"CapsLock\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', '', '', 'Enter2'],\n  [\"ShiftLeft\", '', \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"ShiftRight\"],\n]\n\nconst rShiftAltIsoPlMac = new Set('')\n\nconst topUKMac = [\n  [\"\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", '-', '=', 'Backspace'],\n  [\"Tab\", \"q\", \"w\", \"e\", \"r\", \"t\", \"y\", \"u\", \"i\", \"o\", \"p\", '[', ']', 'Enter1'],\n  [\"CapsLock\", \"a\", \"s\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\", ';', \"'\", '\\\\', 'Enter2'],\n  [\"ShiftLeft\", '`', \"z\", \"x\", \"c\", \"v\", \"b\", \"n\", \"m\", \",\", \".\", \"/\", \"ShiftRight\"],\n]\n\nconst topShiftUKMac = [\n  [\"\", \"!\", '@', \"\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\", '_', '+', 'Backspace'],\n  [\"Tab\", \"Q\", \"W\", \"E\", \"R\", \"T\", \"Y\", \"U\", \"I\", \"O\", \"P\", '{', '}', 'Enter1'],\n  [\"CapsLock\", \"A\", \"S\", \"D\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\", ':', '@', '~', 'Enter2'],\n  [\"ShiftLeft\", '~', \"Z\", \"X\", \"C\", \"V\", \"B\", \"N\", \"M\", \"<\", \">\", \"?\", \"ShiftRight\"],\n]\n\nconst topAltUKMac = [\n  [\"\", \"\", \"\", \"#\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', '', 'Backspace'],\n  [\"Tab\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', '', 'Enter1'],\n  [\"CapsLock\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', '', '', 'Enter2'],\n  [\"ShiftLeft\", '', \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"ShiftRight\"],\n]\n\nconst rShiftUKMac = new Set('!@$%QWERTASDFG~ZXCVB')\n\nconst topAzerty = [\n  [\"\", \"&\", \"\", '\"', \"'\", \"(\", \"-\", \"\", \"_\", \"\", \"\", ')', '=', 'Backspace'],\n  [\"Tab\", \"a\", \"z\", \"e\", \"r\", \"t\", \"y\", \"u\", \"i\", \"o\", \"p\", '^', '$', 'Enter1'],\n  [\"CapsLock\", \"q\", \"s\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\", 'm', \"\", \"*\", 'Enter2'],\n  [\"ShiftLeft\", '<', \"w\", \"x\", \"c\", \"v\", \"b\", \"n\", \",\", \";\", \":\", \"!\", \"ShiftRight\"],\n]\n\nconst topShiftAzerty = [\n  [\"\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", '', '+', 'Backspace'],\n  [\"Tab\", \"A\", \"Z\", \"E\", \"R\", \"T\", \"Y\", \"U\", \"I\", \"O\", \"P\", '', \"\", 'Enter1'],\n  [\"CapsLock\", \"Q\", \"S\", \"D\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\", 'M', \"%\", \"\", 'Enter2'],\n  [\"ShiftLeft\", '>', \"W\", \"X\", \"C\", \"V\", \"B\", \"N\", \"?\", \".\", \"/\", \"\", \"ShiftRight\"],\n]\n\nconst topAltAzerty = [\n  [\"\", \"\", \"~\", \"#\", \"{\", \"[\", \"|\", \"`\", \"\\\\\", \"^\", \"@\", ']', '}', 'Backspace'],\n  [\"Tab\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', '', 'Enter1'],\n  [\"CapsLock\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', \"\", \"\", 'Enter2'],\n  [\"ShiftLeft\", '', \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"ShiftRight\"],\n]\n\nconst rShiftAzerty = new Set('12345AZERTQSDFG>WXCVB')\n\nconst topQwertzDE = [\n  [\"^\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", '', '', 'Backspace'],\n  [\"Tab\", \"q\", \"w\", \"e\", \"r\", \"t\", \"z\", \"u\", \"i\", \"o\", \"p\", '', '+', 'Enter1'],\n  [\"CapsLock\", \"a\", \"s\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\", '', \"\", '#', 'Enter2'],\n  [\"ShiftLeft\", '<', \"y\", \"x\", \"c\", \"v\", \"b\", \"n\", \"m\", \",\", \".\", \"-\", \"ShiftRight\"],\n]\n\nconst topShiftQwertzDE = [\n  ['', \"!\", '\"', \"\", \"$\", \"%\", \"&\", \"/\", \"(\", \")\", \"=\", '?', '`', 'Backspace'],\n  [\"Tab\", \"Q\", \"W\", \"E\", \"R\", \"T\", \"Z\", \"U\", \"I\", \"O\", \"P\", '', '*', 'Enter1'],\n  [\"CapsLock\", \"A\", \"S\", \"D\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\", '', '', \"'\", 'Enter2'],\n  [\"ShiftLeft\", '>', \"Y\", \"X\", \"C\", \"V\", \"B\", \"N\", \"M\", \";\", \":\", \"_\", \"ShiftRight\"],\n]\n\nconst topAltQwertzDE = [\n  [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"{\", \"[\", \"]\", \"}\", '\\\\', '', 'Backspace'],\n  [\"Tab\", \"@\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', '~', 'Enter1'],\n  [\"CapsLock\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", '', \"\", \"\", 'Enter2'],\n  [\"ShiftLeft\", '|', \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"ShiftRight\"],\n]\n\nconst rShiftQuertzDE = new Set('~!@#$%QWERTASDFG|ZXCVB')\n\nconst topDvorak = [\n  [\"`\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", \"[\", \"]\", \"Backspace\"],\n  [\"Tab\", \"'\", \",\", \".\", \"p\", \"y\", \"f\", \"g\", \"c\", \"r\", \"l\", \"/\", \"=\", \"Backslash\"],\n  [\"CapsLock\", \"a\", \"o\", \"e\", \"u\", \"i\", \"d\", \"h\", \"t\", \"n\", \"s\", \"-\", \"Enter\"],\n  [\"ShiftLeft\", \";\", \"q\", \"j\", \"k\", \"x\", \"b\", \"m\", \"w\", \"v\", \"z\", \"ShiftRight\"],\n]\n\nconst topShiftDvorak = [\n  [\"~\", \"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\", \"{\", \"}\", \"Backspace\"],\n  [\"Tab\", '\"', \"<\", \">\", \"P\", \"Y\", \"F\", \"G\", \"C\", \"R\", \"L\", \"?\", \"+\", \"Pipe\"],\n  [\"CapsLock\", \"A\", \"O\", \"E\", \"U\", \"I\", \"D\", \"H\", \"T\", \"N\", \"S\", \"_\", \"Enter\"],\n  [\"ShiftLeft\", \":\", \"q\", \"j\", \"k\", \"x\", \"b\", \"m\", \"w\", \"v\", \"z\", \"ShiftRight\"],\n]\n\nconst rShiftDvorak = new Set('~!@#$%\"<>PYAOEUI:QJKX')\n\nconst topColemak = [\n  [\"`\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", '-', '=', 'Backspace'],\n  [\"Tab\", \"q\", \"w\", \"f\", \"p\", \"g\", \"j\", \"l\", \"u\", \"y\", \";\", '[', ']', 'Backslash'],\n  [\"CapsLock\", \"a\", \"r\", \"s\", \"t\", \"d\", \"h\", \"n\", \"e\", \"i\", 'o', \"'\", 'Enter'],\n  [\"ShiftLeft\", \"z\", \"x\", \"c\", \"v\", \"b\", \"k\", \"m\", \",\", \".\", \"/\", \"ShiftRight\"],\n]\n\nconst topShiftColemak = [\n  [\"~\", \"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\", '_', '+', 'Backspace'],\n  [\"Tab\", \"Q\", \"W\", \"F\", \"P\", \"G\", \"J\", \"L\", \"U\", \"Y\", \":\", '{', '}', 'Pipe'],\n  [\"CapsLock\", \"A\", \"R\", \"S\", \"T\", \"D\", \"H\", \"N\", \"E\", \"I\", 'O', '\"', 'Enter'],\n  [\"ShiftLeft\", \"Z\", \"X\", \"C\", \"V\", \"B\", \"K\", \"M\", \"<\", \">\", \"?\", \"ShiftRight\"],\n]\n\nconst rShiftColemak = new Set('~!@#$%QWFPGARSTDZXCVB')\n\nconst topColemakDH = [\n  [\"`\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", '-', '=', 'Backspace'],\n  [\"Tab\", \"q\", \"w\", \"f\", \"p\", \"b\", \"j\", \"l\", \"u\", \"y\", \";\", '[', ']', 'Backslash'],\n  [\"CapsLock\", \"a\", \"r\", \"s\", \"t\", \"g\", \"m\", \"n\", \"e\", \"i\", 'o', \"'\", 'Enter'],\n  [\"ShiftLeft\", \"x\", \"c\", \"d\", \"v\", \"z\", \"k\", \"h\", \",\", \".\", \"/\", \"ShiftRight\"],\n]\n\nconst topShiftColemakDH = [\n  [\"~\", \"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\", '_', '+', 'Backspace'],\n  [\"Tab\", \"Q\", \"W\", \"F\", \"P\", \"B\", \"J\", \"L\", \"U\", \"Y\", \":\", '{', '}', 'Pipe'],\n  [\"CapsLock\", \"A\", \"R\", \"S\", \"T\", \"G\", \"M\", \"N\", \"E\", \"I\", 'O', '\"', 'Enter'],\n  [\"ShiftLeft\", \"X\", \"C\", \"D\", \"V\", \"Z\", \"K\", \"H\", \"<\", \">\", \"?\", \"ShiftRight\"],\n]\n\nconst rShiftColemakDH = new Set('~!@#$%QWFPBARSTGXCDVZ')\n\nconst topColemakDHISO = [\n  [\"`\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", '-', '=', 'Backspace'],\n  [\"Tab\", \"q\", \"w\", \"f\", \"p\", \"b\", \"j\", \"l\", \"u\", \"y\", \";\", '[', ']', 'Enter1'],\n  [\"CapsLock\", \"a\", \"r\", \"s\", \"t\", \"g\", \"m\", \"n\", \"e\", \"i\", 'o', \"'\", \"\\\\\", 'Enter2'],\n  [\"ShiftLeft\", \"z\", \"x\", \"c\", \"d\", \"v\", 'ISO', \"k\", \"h\", \",\", \".\", \"/\", \"ShiftRight\"],\n]\n\nconst topShiftColemakDHISO = [\n  [\"~\", \"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\", '_', '+', 'Backspace'],\n  [\"Tab\", \"q\", \"w\", \"f\", \"p\", \"b\", \"j\", \"l\", \"u\", \"y\", \":\", '{', '}', 'Enter1'],\n  [\"CapsLock\", \"a\", \"r\", \"s\", \"t\", \"g\", \"m\", \"n\", \"e\", \"i\", 'o', '\"', \"|\", 'Enter2'],\n  [\"ShiftLeft\", \"Z\", \"X\", \"C\", \"D\", \"V\", 'ISO', \"K\", \"H\", \"<\", \">\", \"?\", \"ShiftRight\"],\n]\n\nconst rShiftColemakDHISO = new Set('~!@#$%QWERTASDFGZXCDV')\n\nconst topHalmak = [\n  [\"`\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", '-', '=', 'Backspace'],\n  [\"Tab\", \"w\", \"l\", \"r\", \"b\", \"z\", \";\", \"q\", \"u\", \"d\", \"j\", '[', ']', 'Backslash'],\n  [\"CapsLock\", \"s\", \"h\", \"n\", \"t\", \",\", \".\", \"a\", \"e\", \"o\", 'i', \"'\", 'Enter'],\n  [\"ShiftLeft\", \"f\", \"m\", \"v\", \"c\", \"/\", \"g\", \"p\", \"x\", \"k\", \"y\", \"ShiftRight\"],\n]\n\nconst topShiftHalmak = [\n  [\"~\", \"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\", '_', '+', 'Backspace'],\n  [\"Tab\", \"W\", \"L\", \"R\", \"B\", \"Z\", \":\", \"Q\", \"U\", \"D\", \"J\", '{', '}', 'Pipe'],\n  [\"CapsLock\", \"S\", \"H\", \"N\", \"T\", \"<\", \">\", \"A\", \"E\", \"O\", 'I', '\"', 'Enter'],\n  [\"ShiftLeft\", \"F\", \"M\", \"V\", \"C\", \"?\", \"G\", \"P\", \"X\", \"K\", \"Y\", \"ShiftRight\"],\n]\n\nconst rShiftHalmak = new Set('~!@#$%WLRBZSHNT<FMVC?')\n\nconst topWorkman = [\n  [\"`\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", '-', '=', 'Backspace'],\n  [\"Tab\", \"q\", \"d\", \"r\", \"w\", \"b\", \"j\", \"f\", \"u\", \"p\", \";\", '[', ']', 'Backslash'],\n  [\"CapsLock\", \"a\", \"s\", \"h\", \"t\", \"g\", \"y\", \"n\", \"e\", \"o\", 'i', \"'\", 'Enter'],\n  [\"ShiftLeft\", \"z\", \"x\", \"m\", \"c\", \"v\", \"k\", \"l\", \",\", \".\", \"/\", \"ShiftRight\"],\n]\n\nconst topShiftWorkman = [\n  [\"~\", \"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\", '_', '+', 'Backspace'],\n  [\"Tab\", \"Q\", \"D\", \"R\", \"W\", \"B\", \"J\", \"F\", \"U\", \"P\", \":\", '{', '}', 'Pipe'],\n  [\"CapsLock\", \"A\", \"S\", \"H\", \"T\", \"G\", \"Y\", \"N\", \"E\", \"O\", 'I', '\"', 'Enter'],\n  [\"ShiftLeft\", \"Z\", \"X\", \"M\", \"C\", \"V\", \"K\", \"L\", \"<\", \">\", \"?\", \"ShiftRight\"],\n]\n\nconst rShiftWorkman = new Set('~!@#$%QDRWBASHTGZXMCV')\n\n\nconst topABC = [\n  [\"`\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", '-', '=', 'Backspace'],\n  [\"Tab\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", '[', ']', 'Backslash'],\n  [\"CapsLock\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", ';', \"'\", 'Enter'],\n  [\"ShiftLeft\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\", \",\", \".\", \"/\", \"ShiftRight\"],\n]\n\nconst topShiftABC = [\n  [\"~\", \"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\", '_', '+', 'Backspace'],\n  [\"Tab\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", '{', '}', 'Pipe'],\n  [\"CapsLock\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", ':', '\"', 'Enter'],\n  [\"ShiftLeft\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\", \"<\", \">\", \"?\", \"ShiftRight\"],\n]\n\nconst rShiftABC = new Set('~!@#$%ABCDEKLMNOTUVWX')\n\nconst bottomPC = \n  [\"CtrlLeft\", 'Meta', \"Alt\", \"Space\", \"AltGraph\", \"CtrlRight\",  'ArrowLeft', 'ArrowUp', 'ArrowDown', 'ArrowRight']\n\nconst bottomMac = \n  [\"Fn\", \"CtrlLeft\", 'Alt', \"Meta\", \"Space\", \"Meta\", \"Alt\", 'ArrowLeft', 'ArrowUp', 'ArrowDown', 'ArrowRight']\n\nexport const layouts = {\n  pc: {\n    'qwerty-us': {\n      name: 'Qwerty',\n      template: 'type-a',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftUS,\n      rShiftAlt: rShiftUS,\n      main: [\n        ...topUS,\n        bottomPC,\n      ],\n      shift: [\n        ...topShiftUS,\n        bottomPC,\n      ],\n      alt: [\n        ...topUS,\n        bottomPC,\n      ],\n      shiftAlt: [\n        ...topUS,\n        bottomPC,\n      ],\n    },\n    'qwerty-iso': {\n      name: 'Qwerty ISO',\n      template: 'type-b',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftISO,\n      rShiftAlt: rShiftISO,\n      main: [\n        ...topISO,\n        bottomPC,\n      ],\n      shift: [\n        ...topShiftISO,\n        bottomPC,\n      ],\n      alt: [\n        ...topISO,\n        bottomPC,\n      ],\n      shiftAlt: [\n        ...topISO,\n        bottomPC,\n      ],\n    },\n    'qwerty-iso-pl': {\n      name: 'Qwerty PL',\n      template: 'type-b',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftISO,\n      rShiftAlt: rShiftAltIsoPl,\n      main: [\n        ...topISO,\n        bottomPC,\n      ],\n      shift: [\n        ...topShiftISO,\n        bottomPC,\n      ],\n      alt: [\n        ...topAltIsoPl,\n        bottomPC,\n      ],\n      shiftAlt: [\n        ...topShiftAltIsoPl,\n        bottomPC,\n      ],\n    },\n    'qwerty-uk': {\n      name: 'Qwerty UK',\n      template: 'type-b',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftUK,\n      rShiftAlt: rShiftUK,\n      main: [\n        ...topUK,\n        bottomPC,\n      ],\n      shift: [\n        ...topShiftUK,\n        bottomPC,\n      ],\n      alt: [\n        ...topUK,\n        bottomPC,\n      ],\n      shiftAlt: [\n        ...topUK,\n        bottomPC,\n      ],\n    },\n    'azerty': {\n      name: 'Azerty FR',\n      template: 'type-b',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftAzerty,\n      rShiftAlt: rShiftAzerty,\n      main: [\n        ...topAzerty,\n        bottomPC,\n      ],\n      shift: [\n        ...topShiftAzerty,\n        bottomPC,\n      ],\n      alt: [\n        ...topAltAzerty,\n        bottomPC,\n      ],\n      shiftAlt: [\n        ...topShiftAzerty,\n        bottomPC,\n      ],\n    },\n    'qwertz': {\n      name: 'Qwertz DE',\n      template: 'type-b',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftQuertzDE,\n      rShiftAlt: rShiftQuertzDE,\n      main: [\n        ...topQwertzDE,\n        bottomPC,\n      ],\n      shift: [\n        ...topShiftQwertzDE,\n        bottomPC,\n      ],\n      alt: [\n        ...topAltQwertzDE,\n        bottomPC,\n      ],\n      shiftAlt: [\n        ...topShiftQwertzDE,\n        bottomPC,\n      ],\n    },\n    'dvorak': {\n      name: 'Dvorak',\n      template: 'type-a',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftDvorak,\n      rShiftAlt: rShiftDvorak,\n      main: [\n        ...topDvorak,\n        bottomPC,\n      ],\n      shift: [\n        ...topShiftDvorak,\n        bottomPC,\n      ],\n      alt: [\n        ...topDvorak,\n        bottomPC,\n      ],\n      shiftAlt: [\n        ...topDvorak,\n        bottomPC,\n      ],\n    },\n    'colemak': {\n      name: 'Colemak',\n      template: 'type-a',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftColemak,\n      rShiftAlt: rShiftColemak,\n      main: [\n        ...topColemak,\n        bottomPC,\n      ],\n      shift: [\n        ...topShiftColemak,\n        bottomPC,\n      ],\n      alt: [\n        ...topColemak,\n        bottomPC,\n      ],\n      shiftAlt: [\n        ...topColemak,\n        bottomPC,\n      ],\n    },\n    'colemak-dh': {\n      name: 'Colemak DH',\n      template: 'type-a',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftColemakDH,\n      rShiftAlt: rShiftColemakDH,\n      main: [\n        ...topColemakDH,\n        bottomPC,\n      ],\n      shift: [\n        ...topShiftColemakDH,\n        bottomPC,\n      ],\n      alt: [\n        ...topColemakDH,\n        bottomPC,\n      ],\n      shiftAlt: [\n        ...topColemakDH,\n        bottomPC,\n      ],\n    },\n    'colemak-dh-iso': {\n      name: 'Colemak DH ISO',\n      template: 'type-b',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftColemakDHISO,\n      rShiftAlt: rShiftColemakDHISO,\n      main: [\n        ...topColemakDHISO,\n        bottomPC,\n      ],\n      shift: [\n        ...topShiftColemakDHISO,\n        bottomPC,\n      ],\n      alt: [\n        ...topColemakDHISO,\n        bottomPC,\n      ],\n      shiftAlt: [\n        ...topColemakDHISO,\n        bottomPC,\n      ],\n    },\n    'halmak': {\n      name: 'Halmak',\n      template: 'type-a',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftHalmak,\n      rShiftAlt: rShiftHalmak,\n      main: [\n        ...topHalmak,\n        bottomPC,\n      ],\n      shift: [\n        ...topShiftHalmak,\n        bottomPC,\n      ],\n      alt: [\n        ...topHalmak,\n        bottomPC,\n      ],\n      shiftAlt: [\n        ...topHalmak,\n        bottomPC,\n      ],\n    },\n    'workman': {\n      name: 'Workman',\n      template: 'type-a',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftWorkman,\n      rShiftAlt: rShiftWorkman,\n      main: [\n        ...topWorkman,\n        bottomPC,\n      ],\n      shift: [\n        ...topShiftWorkman,\n        bottomPC,\n      ],\n      alt: [\n        ...topWorkman,\n        bottomPC,\n      ],\n      shiftAlt: [\n        ...topWorkman,\n        bottomPC,\n      ],\n    },\n    'abc': {\n      hidden: true,\n      name: 'ABC',\n      template: 'type-a',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftABC,\n      rShiftAlt: rShiftABC,\n      main: [\n        ...topABC,\n        bottomPC,\n      ],\n      shift: [\n        ...topShiftABC,\n        bottomPC,\n      ],\n      alt: [\n        ...topABC,\n        bottomPC,\n      ],\n      shiftAlt: [\n        ...topABC,\n        bottomPC,\n      ],\n    },\n  },\n  mac: {\n    'qwerty-us': {\n      name: 'Qwerty',\n      template: 'type-a',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftUS,\n      rShiftAlt: rShiftUS,\n      main: [\n        ...topUS,\n        bottomMac,\n      ],\n      shift: [\n        ...topShiftUS,\n        bottomMac,\n      ],\n      alt: [\n        ...topUS,\n        bottomMac,\n      ],\n      shiftAlt: [\n        ...topUS,\n        bottomMac,\n      ],\n    },\n    'qwerty-iso': {\n      name: 'Qwerty ISO',\n      template: 'type-b',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftISOMac,\n      rShiftAlt: rShiftISOMac,\n      main: [\n        ...topISOMac,\n        bottomMac,\n      ],\n      shift: [\n        ...topShiftISOMac,\n        bottomMac,\n      ],\n      alt: [\n        ...topISOMac,\n        bottomMac,\n      ],\n      shiftAlt: [\n        ...topISOMac,\n        bottomMac,\n      ],\n    },\n    'qwerty-iso-pl': {\n      name: 'Qwerty PL',\n      template: 'type-b',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftISO,\n      rShiftAlt: rShiftAltIsoPlMac,\n      main: [\n        ...topISO,\n        bottomMac,\n      ],\n      shift: [\n        ...topShiftISO,\n        bottomMac,\n      ],\n      alt: [\n        ...topAltIsoPlMac,\n        bottomMac,\n      ],\n      shiftAlt: [\n        ...topShiftAltIsoPlMac,\n        bottomMac,\n      ],\n    },\n    'qwerty-uk': {\n      name: 'Qwerty UK',\n      template: 'type-b',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftUKMac,\n      rShiftAlt: rShiftUKMac,\n      main: [\n        ...topUKMac,\n        bottomMac,\n      ],\n      shift: [\n        ...topShiftUKMac,\n        bottomMac,\n      ],\n      alt: [\n        ...topAltUKMac,\n        bottomMac,\n      ],\n      shiftAlt: [\n        ...topAltUKMac,\n        bottomMac,\n      ],\n    },\n    'azerty': {\n      name: 'Azerty FR',\n      template: 'type-b',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftAzerty,\n      rShiftAlt: rShiftAzerty,\n      main: [\n        ...topAzerty,\n        bottomMac,\n      ],\n      shift: [\n        ...topShiftAzerty,\n        bottomMac,\n      ],\n      alt: [\n        ...topAltAzerty,\n        bottomMac,\n      ],\n      shiftAlt: [\n        ...topShiftAzerty,\n        bottomMac,\n      ],\n    },\n    'qwertz': {\n      name: 'Qwertz DE',\n      template: 'type-b',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftQuertzDE,\n      rShiftAlt: rShiftQuertzDE,\n      main: [\n        ...topQwertzDE,\n        bottomMac,\n      ],\n      shift: [\n        ...topShiftQwertzDE,\n        bottomMac,\n      ],\n      alt: [\n        ...topAltQwertzDE,\n        bottomMac,\n      ],\n      shiftAlt: [\n        ...topShiftQwertzDE,\n        bottomMac,\n      ],\n    },\n    'dvorak': {\n      name: 'Dvorak',\n      template: 'type-a',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftDvorak,\n      rShiftAlt: rShiftDvorak,\n      main: [\n        ...topDvorak,\n        bottomMac,\n      ],\n      shift: [\n        ...topShiftDvorak,\n        bottomMac,\n      ],\n      alt: [\n        ...topDvorak,\n        bottomMac,\n      ],\n      shiftAlt: [\n        ...topDvorak,\n        bottomMac,\n      ],\n    },\n    'colemak': {\n      name: 'Colemak',\n      template: 'type-a',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftColemak,\n      rShiftAlt: rShiftColemak,\n      main: [\n        ...topColemak,\n        bottomMac,\n      ],\n      shift: [\n        ...topShiftColemak,\n        bottomMac,\n      ],\n      alt: [\n        ...topColemak,\n        bottomMac,\n      ],\n      shiftAlt: [\n        ...topColemak,\n        bottomMac,\n      ],\n    },\n    'colemak-dh': {\n      name: 'Colemak DH',\n      template: 'type-a',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftColemakDH,\n      rShiftAlt: rShiftColemakDH,\n      main: [\n        ...topColemakDH,\n        bottomMac,\n      ],\n      shift: [\n        ...topShiftColemakDH,\n        bottomMac,\n      ],\n      alt: [\n        ...topColemakDH,\n        bottomMac,\n      ],\n      shiftAlt: [\n        ...topColemakDH,\n        bottomMac,\n      ],\n    },\n    'colemak-dh-iso': {\n      name: 'Colemak DH ISO',\n      template: 'type-b',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftColemakDHISO,\n      rShiftAlt: rShiftColemakDHISO,\n      main: [\n        ...topColemakDHISO,\n        bottomMac,\n      ],\n      shift: [\n        ...topShiftColemakDHISO,\n        bottomMac,\n      ],\n      alt: [\n        ...topColemakDHISO,\n        bottomMac,\n      ],\n      shiftAlt: [\n        ...topColemakDHISO,\n        bottomMac,\n      ],\n    },\n    'halmak': {\n      name: 'Halmak',\n      template: 'type-a',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftHalmak,\n      rShiftAlt: rShiftHalmak,\n      main: [\n        ...topHalmak,\n        bottomMac,\n      ],\n      shift: [\n        ...topShiftHalmak,\n        bottomMac,\n      ],\n      alt: [\n        ...topHalmak,\n        bottomMac,\n      ],\n      shiftAlt: [\n        ...topHalmak,\n        bottomMac,\n      ],\n    },\n    'workman': {\n      name: 'Workman',\n      template: 'type-a',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftWorkman,\n      rShiftAlt: rShiftWorkman,\n      main: [\n        ...topWorkman,\n        bottomMac,\n      ],\n      shift: [\n        ...topShiftWorkman,\n        bottomMac,\n      ],\n      alt: [\n        ...topWorkman,\n        bottomMac,\n      ],\n      shiftAlt: [\n        ...topWorkman,\n        bottomMac,\n      ],\n    },\n    'abc': {\n      hidden: true,\n      name: 'ABC',\n      template: 'type-a',\n      bumps: new Set(['2:4', '2:7']),\n      rShift: rShiftABC,\n      rShiftAlt: rShiftABC,\n      main: [\n        ...topABC,\n        bottomMac,\n      ],\n      shift: [\n        ...topShiftABC,\n        bottomMac,\n      ],\n      alt: [\n        ...topABC,\n        bottomMac,\n      ],\n      shiftAlt: [\n        ...topABC,\n        bottomMac,\n      ],\n    },\n  }\n}\n\n\nexport type DesktopLayout = keyof typeof layouts.pc\n","import { createStore } from \"solid-js/store\"\nimport { getFont } from \"../../../actions/getFont\"\nimport config from \"../../../config\"\nimport { layouts } from \"../../../data/desktopKeyboardLayouts\"\nimport state from \"../../../state/state\"\nimport \"./ScreenKeyboardDesktop.css\"\nimport {\n  Component,\n  For,\n  Show,\n  createMemo,\n  createSignal,\n  onCleanup,\n  onMount,\n} from \"solid-js\"\n\nconst MOD_NONE = new Set<string>()\nconst MOD_SHIFT = new Set([\"shift\"])\nconst MOD_RSHIFT = new Set([\"rshift\"])\nconst MOD_ALT = new Set([\"alt\"])\nconst MOD_RSHIFT_ALT = new Set([\"rshift\", \"alt\"])\nconst MOD_SHIFT_ALT = new Set([\"shift\", \"alt\"])\n\ntype KeyDetails = {\n  value: string\n  label: string\n  accent: boolean\n  code?: string\n  icon?: string\n  className?: string\n  special?: boolean\n  toRight?: boolean\n  holdable?: boolean\n  mod?: string\n  notChar?: boolean\n}\n\ntype KeysDetails = { [key: string]: KeyDetails }\n\nfunction getSpecialKeys(template: string): KeysDetails {\n  return {\n    ISO: {\n      code: \"\",\n      value: \"\",\n      label: \"ISO\",\n      accent: true,\n      className: \"iso\",\n      special: true,\n      notChar: true,\n    },\n    CapsLock: {\n      code: \"CapsLock\",\n      value: \"CapsLock\",\n      label: config.IS_APPLE ? \"caps lock\" : \"CapsLock\",\n      accent: true,\n      className: \"caps\",\n      special: true,\n      notChar: true,\n    },\n    ShiftLeft: {\n      code: \"ShiftLeft\",\n      value: \"Shift\",\n      label: config.IS_APPLE ? \"shift\" : \"Shift\",\n      accent: true,\n      className: \"shift-left\",\n      special: true,\n      holdable: true,\n      mod: \"shift\",\n      notChar: true,\n    },\n    ShiftRight: {\n      code: \"ShiftRight\",\n      value: \"Shift\",\n      label: config.IS_APPLE ? \"shift\" : \"Shift\",\n      accent: true,\n      className: \"shift-right\",\n      special: true,\n      toRight: config.IS_APPLE,\n      holdable: true,\n      mod: \"rshift\",\n      notChar: true,\n    },\n    Backspace: {\n      code: \"Backspace\",\n      value: \"Backspace\",\n      label: config.IS_APPLE ? \"delete\" : \"Backspace\",\n      accent: true,\n      className: \"backspace\",\n      special: true,\n      toRight: config.IS_APPLE,\n      notChar: true,\n    },\n    Space: {\n      value: \" \",\n      label: \" \",\n      accent: false,\n      className: \"space\",\n      special: true,\n    },\n    Tab: {\n      code: \"Tab\",\n      value: \"Tab\",\n      label: config.IS_APPLE ? \"tab\" : \"Tab\",\n      accent: true,\n      className: \"tab\",\n      special: true,\n      notChar: true,\n    },\n    Fn: {\n      value: \"Fn\",\n      label: config.IS_APPLE ? \"fn\" : \"Fn\",\n      accent: true,\n      className: \"fn\",\n      special: true,\n      holdable: true,\n      notChar: true,\n    },\n    Enter: {\n      value: \"Enter\",\n      label: config.IS_APPLE\n        ? template === \"type-b\"\n          ? \"ret\"\n          : \"return\"\n        : \"Enter\",\n      accent: true,\n      className: \"enter\",\n      special: true,\n      toRight: config.IS_APPLE,\n    },\n    Enter1: {\n      value: \"Enter\",\n      label: config.IS_APPLE\n        ? template === \"type-b\"\n          ? \"ret\"\n          : \"return\"\n        : \"Enter\",\n      accent: true,\n      className: \"enter-1\",\n      special: true,\n      toRight: config.IS_APPLE,\n    },\n    Enter2: {\n      value: \"Enter\",\n      label: \"\",\n      accent: true,\n      icon: \"none\",\n      className: \"enter-2\",\n      special: true,\n      toRight: config.IS_APPLE,\n    },\n    CtrlLeft: {\n      code: \"ControlLeft\",\n      value: \"Ctrl\",\n      label: \"Ctrl\",\n      accent: true,\n      className: \"ctrl-left\",\n      special: true,\n      holdable: true,\n      notChar: true,\n    },\n    CtrlRight: {\n      code: \"ControlRight\",\n      value: \"Ctrl\",\n      label: \"Ctrl\",\n      accent: true,\n      className: \"ctrl-right\",\n      special: true,\n      holdable: true,\n      notChar: true,\n    },\n    Alt: {\n      code: \"AltLeft\",\n      value: \"Alt\",\n      label: config.IS_APPLE ? \"option\" : \"Alt\",\n      accent: true,\n      className: \"alt\",\n      icon: config.IS_APPLE ? \"option\" : undefined,\n      special: !config.IS_APPLE,\n      holdable: true,\n      notChar: true,\n    },\n    AltGraph: {\n      code: \"AltRight\",\n      value: \"AltGraph\",\n      label: config.IS_APPLE ? \"option\" : \"Alt\",\n      accent: true,\n      className: \"alt-gr\",\n      icon: config.IS_APPLE ? \"option\" : undefined,\n      special: !config.IS_APPLE,\n      holdable: true,\n      mod: \"alt\",\n      notChar: true,\n    },\n    Meta: {\n      code: \"MetaLeft\",\n      value: \"Meta\",\n      label: config.IS_APPLE ? \"command\" : \"Super\",\n      accent: true,\n      icon: config.IS_APPLE\n        ? \"meta-macos\"\n        : config.OS === \"Windows\"\n          ? \"meta-windows\"\n          : undefined,\n      className: \"meta\",\n      special: !config.IS_APPLE && !(config.OS === \"Windows\"),\n      holdable: true,\n      notChar: true,\n    },\n    MetaRight: {\n      code: \"MetaRight\",\n      value: \"Meta\",\n      label: config.IS_APPLE ? \"command\" : \"Super\",\n      accent: true,\n      icon: config.IS_APPLE\n        ? \"meta-macos\"\n        : config.OS === \"Windows\"\n          ? \"meta-windows\"\n          : undefined,\n      className: \"meta-right\",\n      special: !config.IS_APPLE && !(config.OS === \"Windows\"),\n      holdable: true,\n      notChar: true,\n    },\n    Backslash: {\n      value: \"\\\\\",\n      label: \"\\\\\",\n      accent: false,\n      className: \"backslash\",\n    },\n    Pipe: {\n      value: \"|\",\n      label: \"|\",\n      accent: false,\n      className: \"backslash\",\n    },\n    ArrowLeft: {\n      code: \"ArrowLeft\",\n      value: \"ArrowLeft\",\n      label: \"\",\n      accent: true,\n      icon: \"arrow-left\",\n      className: \"arrow-left\",\n      notChar: true,\n    },\n    ArrowRight: {\n      code: \"ArrowRight\",\n      value: \"ArrowRight\",\n      label: \"\",\n      accent: true,\n      icon: \"arrow-right\",\n      className: \"arrow-right\",\n      notChar: true,\n    },\n    ArrowUp: {\n      code: \"ArrowUp\",\n      value: \"ArrowUp\",\n      label: \"\",\n      accent: true,\n      icon: \"arrow-up\",\n      className: \"arrow-up\",\n      notChar: true,\n    },\n    ArrowDown: {\n      code: \"ArrowDown\",\n      value: \"ArrowDown\",\n      label: \"\",\n      accent: true,\n      icon: \"arrow-down\",\n      className: \"arrow-down\",\n      notChar: true,\n    },\n  }\n}\n\nfunction layoutToDetails(layout: string[][], template: string) {\n  const specialKeys = getSpecialKeys(template)\n\n  return layout.map((row, i) =>\n    row.map((key): KeyDetails => {\n      if (key.startsWith(\"Blank\")) {\n        const span = Number(key.split(\":\")[1])\n\n        return {\n          value: \"\",\n          label: \"\",\n          accent: false,\n          className: `blank-${span}`,\n        }\n      }\n\n      return (\n        specialKeys[key] ?? {\n          value: key,\n          label: key,\n          accent: i === 0 || i === layout.length - 1,\n        }\n      )\n    }),\n  )\n}\n\ntype Props = {\n  handleTyping: (e: KeyboardEvent) => void\n  expectedChar?: string\n  prev: string\n  prevOk: boolean\n  charset: Set<string>\n}\n\nconst defaultLocal = {\n  CapsLock: false,\n  ShiftLeft: false,\n  ShiftRight: false,\n  AltLeft: false,\n  AltRight: false,\n  ControlLeft: false,\n  ControlRight: false,\n  MetaLeft: false,\n  MetaRight: false,\n  Backspace: false,\n  ArrowLeft: false,\n  ArrowRight: false,\n  ArrowUp: false,\n  ArrowDown: false,\n  Tab: false,\n  KeyH: false,\n}\n\nconst ScreenKeyboardDesktop: Component<Props> = (props) => {\n  const [caps, setCaps] = createSignal(false)\n  const [current, setCurrent] = createSignal<string | null>(null)\n  const [local, setLocal] = createStore({ ...defaultLocal })\n  const modKeys = new Set(Object.keys(local))\n\n  const handleMod = (isDown: boolean) => (e: KeyboardEvent) => {\n    if (modKeys.has(e.code)) {\n      setLocal(e.code as keyof typeof local, isDown)\n      return true\n    }\n    return false\n  }\n\n  const handleModPress = handleMod(true)\n  const handleModRelease = handleMod(false)\n\n  const handleKeyDown = (e: KeyboardEvent) => {\n    if (!handleModPress(e)) {\n      setCurrent(e.key)\n    }\n\n    const currentCaps = e.getModifierState && e.getModifierState(\"CapsLock\")\n\n    if (local.CapsLock) {\n      setCaps(!currentCaps)\n    } else if (currentCaps !== caps()) {\n      setCaps(currentCaps)\n    }\n  }\n\n  const handleKeyUp = (e: KeyboardEvent) => {\n    if (!handleModRelease(e)) {\n      setCurrent(null)\n    }\n  }\n\n  const handleBlur = () => {\n    setLocal({ ...defaultLocal })\n  }\n\n  onMount(() => {\n    document.addEventListener(\"keydown\", handleKeyDown)\n    document.addEventListener(\"keyup\", handleKeyUp)\n    window.addEventListener(\"blur\", handleBlur)\n  })\n\n  onCleanup(() => {\n    document.removeEventListener(\"keydown\", handleModPress)\n    document.removeEventListener(\"keyup\", handleModRelease)\n    window.removeEventListener(\"blur\", handleBlur)\n  })\n\n  const showNext = createMemo(\n    () =>\n      state.get.settings.typingPrompt.keyboardIndicator === \"next\" ||\n      state.get.settings.typingPrompt.keyboardIndicator === \"both\",\n  )\n\n  const showLast = createMemo(\n    () =>\n      state.get.settings.typingPrompt.keyboardIndicator === \"last\" ||\n      state.get.settings.typingPrompt.keyboardIndicator === \"both\",\n  )\n\n  const osType = config.IS_APPLE ? \"mac\" : \"pc\"\n\n  const layout = createMemo(() => {\n    const layoutData =\n      layouts[osType][state.get.settings.typingPrompt.keyboardLayout]\n    const main = layoutToDetails(layoutData.main, layoutData.template)\n    const shift = layoutToDetails(layoutData.shift, layoutData.template)\n    const alt = layoutToDetails(layoutData.alt, layoutData.template)\n    const shiftAlt = layoutToDetails(layoutData.shiftAlt, layoutData.template)\n    const template = layoutData.template\n\n    const chars = {\n      main: new Set(main.flat().map((key) => key.value)),\n      shift: new Set(shift.flat().map((key) => key.value)),\n      rShift: layoutData.rShift,\n      alt: new Set(alt.flat().map((key) => key.value)),\n      shiftAlt: new Set(shiftAlt.flat().map((key) => key.value)),\n      rShiftAlt: layoutData.rShiftAlt,\n    }\n\n    return {\n      template,\n      bumps: layoutData.bumps,\n      layers: { main, shift, alt, \"shift-alt\": shiftAlt },\n      chars,\n    }\n  })\n\n  const toggleCase = (char: string) => {\n    const isLowerCase = char.toLowerCase() === char\n    return isLowerCase ? char.toUpperCase() : char.toLowerCase()\n  }\n\n  const expectedChar = createMemo(() => {\n    if (!props.expectedChar) {\n      return { layer: \"null\", mods: MOD_NONE, val: \"\" }\n    }\n\n    if (!props.charset.has(props.expectedChar ?? \"\")) {\n      return { layer: \"any\", mods: MOD_NONE, val: \" \" }\n    }\n\n    const chars = layout().chars\n    const char = caps() ? toggleCase(props.expectedChar) : props.expectedChar\n\n    if (!char || chars.main.has(char)) {\n      return { layer: \"main\", mods: MOD_NONE, val: char }\n    }\n\n    if (chars.rShift.has(char)) {\n      return { layer: \"shift\", mods: MOD_RSHIFT, val: char }\n    }\n\n    if (chars.shift.has(char)) {\n      return { layer: \"shift\", mods: MOD_SHIFT, val: char }\n    }\n\n    if (chars.alt.has(char)) {\n      return { layer: \"alt\", mods: MOD_ALT, val: char }\n    }\n\n    if (chars.rShiftAlt.has(char)) {\n      return { layer: \"shift-alt\", mods: MOD_RSHIFT_ALT, val: char }\n    }\n\n    if (chars.shiftAlt.has(char)) {\n      return { layer: \"shift-alt\", mods: MOD_SHIFT_ALT, val: char }\n    }\n\n    return { layer: \"main\", mods: MOD_NONE, val: char }\n  })\n\n  const isNext = (key: KeyDetails) => {\n    if (expectedChar().layer === \"null\") {\n      return false\n    }\n\n    if (expectedChar().layer === \"any\") {\n      return key.label === expectedChar().val\n    }\n\n    if (expectedChar().layer === layer()) {\n      return expectedChar().val === key.label\n    }\n\n    if (key.mod !== undefined && expectedChar().mods.has(key.mod)) {\n      return true\n    }\n\n    return false\n  }\n\n  const font = createMemo(() => {\n    return getFont(state.get.settings.typingPrompt.keyBoardFont)\n  })\n\n  const layer = createMemo(() => {\n    if (local.AltRight && (local.ShiftLeft || local.ShiftRight)) {\n      return \"shift-alt\"\n    }\n\n    if (local.ShiftLeft || local.ShiftRight) {\n      return \"shift\"\n    }\n\n    if (local.AltRight) {\n      return \"alt\"\n    }\n\n    return \"main\"\n  })\n\n  return (\n    <section\n      classList={{\n        \"screen-keyboard-desktop\": true,\n        [`keycaps-${state.get.settings.typingPrompt.keyboardKeycaps}`]: true,\n        \"caps-active\": caps(),\n      }}\n      style={{\n        \"--key-thickness\":\n          state.get.settings.typingPrompt.keyboardThickness ?? \"2px\",\n        \"--font\": font().font,\n        \"--font-scale\": font().size,\n      }}\n    >\n      <div\n        classList={{\n          keys: true,\n          [layout().template]: true,\n          [layer()]: true,\n          mac: config.IS_APPLE,\n          lower: caps() && (local.ShiftLeft || local.ShiftRight),\n          upper: caps() && !(local.ShiftLeft || local.ShiftRight),\n        }}\n      >\n        <For each={layout().layers.main}>\n          {(row, y) => (\n            <For each={row}>\n              {(_, x) => {\n                const key = createMemo(() => layout().layers[layer()][y()][x()])\n                const className = key().className ?? \"\"\n\n                return (\n                  <button\n                    disabled={true}\n                    classList={{\n                      accent: key().accent,\n                      next: showNext() && isNext(key()),\n                      ok:\n                        showLast() &&\n                        current() !== null &&\n                        current() === key().label &&\n                        props.prevOk,\n                      error:\n                        showLast() &&\n                        current() !== null &&\n                        current() === key().label &&\n                        !props.prevOk,\n                      [className]: Boolean(key().className),\n                      special: key().special,\n                      bump: layout().bumps.has(`${y()}:${x()}`),\n                      \"to-right\": key().toRight,\n                      warning:\n                        key().code !== undefined &&\n                        local[key().code as keyof typeof local] === true,\n                    }}\n                  >\n                    <div>\n                      <Show when={key().icon} fallback={key().label}>\n                        <i class={`icon-${key().icon}`} />\n                      </Show>\n                    </div>\n                  </button>\n                )\n              }}\n            </For>\n          )}\n        </For>\n      </div>\n    </section>\n  )\n}\n\nexport default ScreenKeyboardDesktop\n","import { produce } from \"solid-js/store\"\nimport state from \"../state/state\"\n\nexport type ToastData = {\n  title: string\n  details?: string\n  type?: \"error\" | \"warning\" | \"ok\" | \"special\"\n  manualClose?: boolean\n  closeDelay?: number\n  important?: boolean\n}\n\nexport function notify(toastData: ToastData) {\n  const id = Symbol()\n\n  state.set(\n    \"session\",\n    \"notifications\",\n    produce((temp) => {\n      temp.unshift({\n        id,\n        ...toastData,\n        onClose: () => {\n          state.set(\"session\", \"notifications\", (prev) => {\n            return prev.filter((item) => item.id !== id)\n          })\n        },\n        important: Boolean(toastData.important),\n      })\n    }),\n  )\n\n  if (!toastData.manualClose) {\n    setTimeout(() => {\n      state.set(\"session\", \"notifications\", (prev) => {\n        return prev.filter((item) => item.id !== id)\n      })\n    }, toastData.closeDelay ?? 4000)\n  }\n}\n","import { useParams } from \"@solidjs/router\"\nimport {\n  For,\n  Show,\n  createEffect,\n  createMemo,\n  createResource,\n  createSignal,\n  on,\n  onCleanup,\n  onMount,\n} from \"solid-js\"\nimport { createStore, produce } from \"solid-js/store\"\nimport \"./Prompt.css\"\n\nimport config from \"../../../config.ts\"\nimport state from \"../../../state/state.ts\"\nimport { formatNum } from \"../../../utils/formatters.ts\"\nimport { getPromptData } from \"./prompt-actions/getPromptData.ts\"\nimport { EXTRA_KEYS } from \"./prompt-util/KEY_NAMES.ts\"\nimport { initScroll, scrollToWord } from \"./prompt-util/scrollToWord.ts\"\nimport type { LocalState } from \"./types.ts\"\n\nimport Statusbar from \"./Statusbar.tsx\"\nimport { handleBackspace } from \"./prompt-actions/handleBackspace.ts\"\nimport { handleParagraphReset } from \"./prompt-actions/handleParagraphReset.ts\"\nimport { handleStandardInput } from \"./prompt-actions/handleStandardInput.ts\"\nimport { loadPromptContent } from \"./prompt-actions/loadPromptContent.ts\"\nimport { updateAverageAccuracy } from \"./prompt-actions/updateAverageAccuracy.ts\"\nimport { updateAverageWpm } from \"./prompt-actions/updateAverageWpm.ts\"\nimport { updateProgress } from \"./prompt-actions/updateProgress.ts\"\nimport { getScreenSplitOffsets } from \"./prompt-util/getScreenSplitOffsets.ts\"\nimport { getFont } from \"../../../actions/getFont.ts\"\nimport { handleParagraphClick } from \"./prompt-actions/handleParagraphClick.ts\"\nimport { showCantTypeAlert } from \"./prompt-util/setCantTypeAlert.ts\"\n// import { simulateTyping } from \"./prompt-actions/simulateTyping.ts\"\nimport ScreenKeyboard from \"../../common/screen-keyboard/ScreenKeyboard.tsx\"\nimport Header from \"../../common/header/Header.tsx\"\nimport { getDailyProgress } from \"../../../actions/getDailyProgress.ts\"\nimport ScreenKeyboardDesktop from \"../../common/screen-keyboard/ScreenKeyboardDesktop.tsx\"\nimport { notify } from \"../../../actions/notify.ts\"\nimport Loading from \"../../common/loading/Loading.tsx\"\n\nfunction Prompt() {\n  const params = useParams()\n  let screenKeyboardPrompt: HTMLTextAreaElement | undefined\n  const [blur, setBlur] = createSignal(false)\n\n  const [local, setLocal] = createStore<LocalState>({\n    id: null,\n    skip: false,\n    length: 0,\n    lengthCompleted: 0,\n    charset: new Set(),\n    hideCursor: false,\n    done: false,\n    paused: true,\n    saved: true,\n    original: [],\n    typed: [],\n    paragraphsLengths: [],\n    incrementalLength: [],\n    screenSplits: [],\n    splitStart: 0,\n    splitEnd: 0,\n    stats: [],\n    pageStats: { acc: null, wpm: null, inputTimes: [] },\n    paragraphNum: 0,\n    wordNum: 0,\n    charNum: -1,\n    prev: \"\",\n    prevOk: true,\n  })\n  const [cantType, setCantType] = createSignal(false)\n  const [promptData] = createResource(params.id, getPromptData)\n\n  const [caret, setCaret] = createSignal({ x: 0, y: 0, h: 0, w: 0 })\n\n  const isParagraphChange = createMemo(() => {\n    return (\n      local.original.length === 0 ||\n      (local.wordNum === 0 && local.charNum === 0) ||\n      (local.wordNum === local.original[local.paragraphNum].length - 1 &&\n        local.charNum ===\n          local.original[local.paragraphNum][local.wordNum].length - 1)\n    )\n  })\n\n  const caretSpeed = createMemo(() =>\n    isParagraphChange()\n      ? \"instant\"\n      : state.get.settings.typingPrompt.caretSpeed,\n  )\n\n  const getCaretPosition = () => {\n    const current = document.querySelector(\".current\") as HTMLSpanElement | null\n    setCaret({\n      x: current?.offsetLeft ?? 0,\n      y: current?.offsetTop ?? 0,\n      h: current?.offsetHeight ?? 0,\n      w: current?.offsetWidth ?? 0,\n    })\n  }\n\n  const bootstrapCaret = (step: number = 0) => {\n    if (!state.get.settings.ui.readingMode && step <= 10) {\n      getCaretPosition()\n      setTimeout(bootstrapCaret, step * 100, step + 1)\n    }\n  }\n\n  createEffect(\n    on(\n      [() => local.charNum, () => local.wordNum, () => local.paragraphNum],\n      getCaretPosition,\n    ),\n  )\n\n  const paragraphNumPB = createMemo(() => {\n    const [bookId, chapterId, paragraphId] =\n      state.get.statsSummary.topParagraph.wpm.id.split(\"__\")\n\n    return `${bookId}__${chapterId}` === local.id ? Number(paragraphId) : -1\n  })\n\n  const showCantType = showCantTypeAlert(setCantType)\n\n  const setAutotypeText = () => {\n    const text = local.original\n      .slice(local.paragraphNum, local.splitEnd)\n      .map((p) => p.flat().join(\"\"))\n      .join(\"\\n\\n\")\n\n    return text\n  }\n\n  const wordLabel = createMemo(() => {\n    return `${local.paragraphNum}:${local.wordNum}`\n  })\n\n  createEffect(\n    on(promptData, () => {\n      loadPromptContent(promptData, setLocal, params.id)\n    }),\n  )\n\n  // createEffect(\n  //   on(\n  //     () => local.splitEnd,\n  //     () => {\n  //       if (!state.get.settings.ui.readingMode) {\n  //         const text = setAutotypeText()\n  //         simulateTyping(text, local, setLocal, {\n  //           wpm: 100,\n  //           randomize: true,\n  //           emitEvents: true,\n  //         })\n  //       }\n  //     },\n  //   ),\n  // )\n\n  createEffect(on(wordLabel, updateAverageWpm(local, setLocal)))\n  createEffect(on(wordLabel, updateAverageAccuracy(local, setLocal)))\n  createEffect(on(wordLabel, updateProgress(local, setLocal)))\n\n  createEffect(on(() => local.splitEnd, setAutotypeText))\n\n  createEffect(\n    on(\n      () => local.paragraphNum,\n      () => {\n        const splitOffsets = getScreenSplitOffsets(\n          local.screenSplits,\n          local.paragraphNum,\n        )\n\n        if (local.splitStart !== splitOffsets.start) {\n          setLocal(\n            produce((state) => {\n              state.splitStart = splitOffsets.start\n              state.splitEnd = splitOffsets.end\n            }),\n          )\n\n          if (\n            !state.get.settings.ui.readingMode &&\n            local.paragraphNum >= local.splitStart &&\n            local.paragraphNum < local.splitEnd\n          ) {\n            initScroll(screenKeyboardPrompt)\n          } else {\n            document\n              .querySelector(\".prompt-box\")\n              ?.scroll({ top: 0, behavior: \"instant\" })\n          }\n\n          bootstrapCaret()\n        }\n      },\n    ),\n  )\n\n  const prevPage = () => {\n    if (local.splitStart === local.screenSplits[0]) {\n      return\n    }\n\n    const splitOffsets = getScreenSplitOffsets(\n      local.screenSplits,\n      local.splitStart - 1,\n    )\n\n    setLocal(\n      produce((state) => {\n        state.splitStart = splitOffsets.start\n        state.splitEnd = splitOffsets.end\n      }),\n    )\n\n    document\n      .querySelector(\".prompt-box\")\n      ?.scroll({ top: 0, behavior: \"instant\" })\n  }\n\n  const nextPage = () => {\n    if (local.splitEnd === local.screenSplits.at(-1)) {\n      return\n    }\n\n    const splitOffsets = getScreenSplitOffsets(\n      local.screenSplits,\n      local.splitEnd,\n    )\n\n    setLocal(\n      produce((state) => {\n        state.splitStart = splitOffsets.start\n        state.splitEnd = splitOffsets.end\n      }),\n    )\n\n    document\n      .querySelector(\".prompt-box\")\n      ?.scroll({ top: 0, behavior: \"instant\" })\n  }\n\n  const handleTyping = (e: KeyboardEvent) => {\n    if (!e.key || e.key === \"Undefined\") {\n      return\n    }\n\n    const isParagraphEnd = () =>\n      local.original[local.paragraphNum][local.wordNum][local.charNum] ===\n      config.ENTER_SYMBOL\n\n    // Mark paragraph as read in typing mode, when the user types Shift+Enter\n    // (but not if it's an accidental Shift+Enter at the very end of a paragraph)\n    if (\n      (e.key === \"Enter\" && e.shiftKey && !isParagraphEnd()) ||\n      (e.key === \"Enter\" && state.get.settings.ui.readingMode)\n    ) {\n      e.preventDefault()\n      handleParagraphClick(local.paragraphNum, local, setLocal)\n\n      return\n    }\n\n    if (e.key === \"ArrowRight\") {\n      nextPage()\n      return\n    }\n\n    if (e.key === \"ArrowLeft\") {\n      prevPage()\n      return\n    }\n\n    if (\n      e.key !== \"Backspace\" &&\n      (EXTRA_KEYS.has(e.key) || e.metaKey || e.ctrlKey)\n    ) {\n      return\n    }\n\n    e.preventDefault()\n\n    if (state.get.settings.ui.readingMode) {\n      showCantType()\n      return\n    }\n\n    if (e.key === \"Tab\") {\n      handleParagraphReset(local, setLocal)\n      return\n    }\n\n    if (e.key === \"Backspace\") {\n      handleBackspace(e, local, setLocal)\n      getCaretPosition()\n      return\n    }\n\n    handleStandardInput(e, local, setLocal)\n  }\n\n  const handleMouseMove = () => setLocal(\"hideCursor\", false)\n\n  const handleBlur = () => {\n    if (state.get.settings.typingPrompt.focusWarning) {\n      setBlur(true)\n    }\n  }\n  const handleFocus = () => {\n    if (state.get.settings.typingPrompt.focusWarning) {\n      setBlur(false)\n    }\n  }\n\n  onMount(() => {\n    if (!config.IS_MOBILE) {\n      document.addEventListener(\"keydown\", handleTyping)\n      window.addEventListener(\"mousemove\", handleMouseMove)\n      window.addEventListener(\"resize\", getCaretPosition)\n      window.addEventListener(\"focus\", handleFocus)\n      window.addEventListener(\"blur\", handleBlur)\n    }\n    bootstrapCaret()\n  })\n\n  onCleanup(() => {\n    if (!config.IS_MOBILE) {\n      document.removeEventListener(\"keydown\", handleTyping)\n      window.removeEventListener(\"mousemove\", handleMouseMove)\n      window.removeEventListener(\"resize\", getCaretPosition)\n      window.removeEventListener(\"focus\", handleFocus)\n      window.removeEventListener(\"blur\", handleBlur)\n    }\n  })\n\n  // Scroll lines automatically\n  createEffect(\n    on(\n      [() => local.paragraphNum, () => local.wordNum],\n      (_, __, prev: number | undefined) => {\n        return scrollToWord(prev, screenKeyboardPrompt)\n      },\n    ),\n  )\n\n  createEffect(\n    on(\n      () => state.get.settings.ui.readingMode,\n      () => bootstrapCaret(),\n    ),\n  )\n\n  const pages = createMemo(() =>\n    Math.ceil(local.length / config.CHARACTERS_PER_PAGE),\n  )\n\n  const page = createMemo(\n    () => Math.floor(local.lengthCompleted / config.CHARACTERS_PER_PAGE) + 1,\n  )\n\n  const progress = createMemo(() => local.lengthCompleted / local.length)\n\n  const dailyProgress = createMemo(() => {\n    return getDailyProgress(state.get.session.daily)\n  })\n\n  createEffect(() => {\n    if (dailyProgress().progress >= 1 && !state.get.session.dailyDone) {\n      notify({\n        title: \"Daily goal completed!\",\n        details: \"Type for 15 minutes.\",\n        type: \"ok\",\n        important: true,\n      })\n      state.set(\"session\", \"dailyDone\", true)\n    }\n  })\n\n  const fontTyping = createMemo(() => {\n    return getFont(state.get.settings.typingPrompt.font)\n  })\n\n  const fontReading = createMemo(() => {\n    return getFont(state.get.settings.readingPrompt.font)\n  })\n\n  const width = createMemo(() => {\n    return state.get.settings.ui.readingMode\n      ? state.get.settings.readingPrompt.lineWidth\n      : state.get.settings.typingPrompt.lineWidth\n  })\n\n  const touch = { x: 0, y: 0, down: false }\n\n  return (\n    <Show when={promptData()} fallback={<Loading />}>\n      <div\n        classList={{\n          \"prompt-grid\": true,\n          nocursor: local.hideCursor,\n        }}\n      >\n        <Header zone={local.hideCursor} />\n        <Statusbar\n          bookId={promptData()!.bookInfo.id}\n          bookTitle={promptData()!.bookInfo.title}\n          chapterTitle={promptData()!.chapterInfo?.title ?? \"\"}\n          wpm={local.pageStats.wpm}\n          acc={local.pageStats.acc}\n          paused={local.paused}\n          page={page()}\n          pages={pages()}\n          progress={progress()}\n          dailyProgress={dailyProgress()}\n          saved={local.saved}\n          cantTypeAlert={cantType()}\n          scrollToActive={() => initScroll(screenKeyboardPrompt)}\n          resetUnfinishedParagraph={() => {\n            handleParagraphReset(local, setLocal)\n          }}\n          invisible={\n            state.get.settings.typingPrompt.zenMode && local.hideCursor\n          }\n        />\n        <div\n          classList={{ \"prompt-box\": true, error: !local.prevOk }}\n          onTouchStart={(e) => {\n            touch.x = e.touches[0].clientX\n            touch.y = e.touches[0].clientY\n            touch.down = true\n          }}\n          onTouchMove={(e) => {\n            const diffX = touch.x - e.touches[0].clientX\n            const diffY = touch.y - e.touches[0].clientY\n            if (\n              touch.down &&\n              Math.abs(diffX) / 2 > Math.abs(diffY) &&\n              Math.abs(diffX) > 50\n            ) {\n              if (diffX < 0) {\n                prevPage()\n              } else {\n                nextPage()\n              }\n              touch.down = false\n            }\n          }}\n        >\n          <nav>\n            <button\n              class=\"prev\"\n              disabled={local.splitStart === 0}\n              title=\"Previous page\"\n              onClick={prevPage}\n            >\n              <i class=\"icon-prev\" />\n            </button>\n            <button\n              class=\"next\"\n              disabled={local.splitEnd === local.screenSplits.at(-1)}\n              title=\"Next page\"\n              onClick={nextPage}\n            >\n              <i class=\"icon-next\" />\n            </button>\n          </nav>\n\n          <Show when={blur() && !state.get.settings.ui.readingMode}>\n            <div class=\"blur-info\">\n              <p>\n                The window is out of focus, click anywhere on the page to start\n                typing.\n              </p>\n            </div>\n          </Show>\n          <section\n            classList={{\n              prompt: true,\n              \"reading-mode\": state.get.settings.ui.readingMode,\n              indent: state.get.settings.ui.readingMode\n                ? state.get.settings.readingPrompt.indentParagraphs\n                : state.get.settings.typingPrompt.indentParagraphs,\n              justify:\n                (state.get.settings.ui.readingMode &&\n                  state.get.settings.readingPrompt.justify) ||\n                (!state.get.settings.ui.readingMode &&\n                  state.get.settings.typingPrompt.justify),\n              [`width-${width()}`]: true,\n              [`caret-${state.get.settings.typingPrompt.caret}`]:\n                !state.get.settings.ui.readingMode,\n              [`caret-${caretSpeed()}`]: true,\n              [`caret-${\n                state.get.settings.typingPrompt.caretEasing ?? \"swing\"\n              }`]: true,\n              paused: local.paused,\n              blur: blur(),\n            }}\n            style={{\n              \"--font-typing\": fontTyping().font,\n              \"--font-typing-size\": fontTyping().size,\n              \"--font-typing-scale\": state.get.settings.typingPrompt.fontScale,\n              \"--line-typing-height\":\n                state.get.settings.typingPrompt.lineHeight,\n              \"--paragraphs-typing-gap\":\n                state.get.settings.typingPrompt.paragraphsGap,\n              \"--font-reading\": fontReading().font,\n              \"--font-reading-size\": fontReading().size,\n              \"--font-reading-scale\":\n                state.get.settings.readingPrompt.fontScale,\n              \"--line-reading-height\":\n                state.get.settings.readingPrompt.lineHeight,\n              \"--paragraphs-reading-gap\":\n                state.get.settings.readingPrompt.paragraphsGap,\n              \"--caret-height\": `${caret().h}px`,\n            }}\n            onClick={() => {\n              if (\n                screenKeyboardPrompt &&\n                config.IS_MOBILE &&\n                !state.get.settings.ui.readingMode\n              ) {\n                if (\n                  !state.get.settings.ui.readingMode &&\n                  !state.get.settings.typingPrompt.screenKeyboard\n                ) {\n                  screenKeyboardPrompt.focus({ preventScroll: true })\n                }\n\n                if (config.IS_MOBILE && window.visualViewport) {\n                  window.visualViewport?.addEventListener(\n                    \"resize\",\n                    () => {\n                      initScroll(screenKeyboardPrompt)\n                    },\n                    { once: true },\n                  )\n                } else {\n                  initScroll(screenKeyboardPrompt)\n                }\n              }\n            }}\n          >\n            <textarea\n              spellcheck={false}\n              autocomplete=\"off\"\n              /* @ts-ignore */\n              autocorrect=\"off\"\n              autocapitalize=\"off\"\n              ref={screenKeyboardPrompt!}\n              onKeyUp={(e) => {\n                if (e.currentTarget.value === \"\") {\n                  const event = new KeyboardEvent(\"keydown\", {\n                    key: \"Backspace\",\n                  })\n                  handleTyping(event)\n                }\n              }}\n              onFocus={(e) => {\n                e.preventDefault()\n              }}\n              onInput={(e) => {\n                const val = e.target.value ?? \"\"\n\n                const char = val[val.length - 1]\n                let key\n\n                switch (char) {\n                  case undefined:\n                    return\n                  case \"\\n\":\n                  case \"\\r\":\n                    key = \"Enter\"\n                    break\n                  default:\n                    key = char\n                }\n\n                const event = new KeyboardEvent(\"keydown\", { key })\n                handleTyping(event)\n                e.target.value = \"_\"\n              }}\n            />\n            <div class=\"paragraphs\">\n              <Show\n                when={\n                  local.splitStart === 0 && promptData()!.chapterInfo?.title\n                }\n              >\n                <div class=\"p-box\">\n                  <h2>{promptData()!.chapterInfo?.title}</h2>\n                </div>\n              </Show>\n              <For\n                each={local.original.slice(local.splitStart, local.splitEnd)}\n              >\n                {(paragraph, paragraphNum) => {\n                  const offset = createMemo(\n                    () => paragraphNum() + local.splitStart,\n                  )\n\n                  const pStats = createMemo(() => {\n                    const wpm = local.stats?.[offset()]?.wpm\n                    const acc = local.stats?.[offset()]?.acc\n\n                    if (!wpm || !acc) {\n                      return null\n                    }\n\n                    return {\n                      wpm: formatNum(wpm.value),\n                      acc: formatNum(acc.value * 100),\n                    }\n                  })\n\n                  return (\n                    <div class=\"p-box\">\n                      <p\n                        classList={{\n                          read: local.stats?.[offset()]?.read === true,\n                          hr:\n                            state.get.settings.ui.readingMode &&\n                            paragraph.length === 1 &&\n                            paragraph[0].length === 4 &&\n                            paragraph[0].join(\"\").startsWith(\"***\"),\n                        }}\n                        onClick={async (e) => {\n                          if (!state.get.settings.ui.readingMode) {\n                            return\n                          }\n\n                          e.preventDefault()\n                          await handleParagraphClick(offset(), local, setLocal)\n                        }}\n                      >\n                        <Show\n                          when={\n                            !state.get.settings.ui.readingMode &&\n                            local.paragraphNum === offset()\n                          }\n                        >\n                          <i\n                            classList={{ caret: true }}\n                            style={{\n                              \"--left\": `${caret().x}px`,\n                              \"--top:\": `${caret().y}px`,\n                              \"--width:\": `${caret().w}px`,\n                            }}\n                          />\n                        </Show>\n                        <For each={paragraph}>\n                          {(word, wordNum) => {\n                            const currentWord = () =>\n                              local.typed[offset()][wordNum()]\n                            const expectedWord = () =>\n                              local.original[offset()][wordNum()]\n                            const isInaccurate = () =>\n                              !currentWord().includes(null) &&\n                              currentWord().join(\"\") !== expectedWord().join(\"\")\n\n                            const isActive = () =>\n                              offset() === local.paragraphNum &&\n                              wordNum() === local.wordNum\n\n                            return (\n                              <span\n                                classList={{\n                                  word: true,\n                                  inaccurate: isInaccurate(),\n                                  active: isActive(),\n                                }}\n                              >\n                                {\n                                  <For each={word}>\n                                    {(letter, charNum) => {\n                                      const currentChar = () =>\n                                        local.typed[offset()][wordNum()][\n                                          charNum()\n                                        ]\n                                      const expectedChar = () =>\n                                        local.original[offset()][wordNum()][\n                                          charNum()\n                                        ]\n                                      const isCorrect = () =>\n                                        currentChar() === expectedChar()\n\n                                      const getTypedChar = () => {\n                                        let typedChar =\n                                          local.typed[offset()][wordNum()][\n                                            charNum()\n                                          ]\n\n                                        if (\n                                          typedChar === \" \" &&\n                                          letter !== \" \"\n                                        ) {\n                                          typedChar = \"_\"\n                                        }\n\n                                        return typedChar ?? letter\n                                      }\n\n                                      return (\n                                        <span\n                                          classList={{\n                                            letter: true,\n                                            current:\n                                              offset() === local.paragraphNum &&\n                                              wordNum() === local.wordNum &&\n                                              charNum() === local.charNum,\n                                            ok: isCorrect(),\n                                            error:\n                                              currentChar() !== null &&\n                                              !isCorrect(),\n                                            special:\n                                              letter === config.ENTER_SYMBOL,\n                                          }}\n                                        >\n                                          {letter === config.ENTER_SYMBOL\n                                            ? \"\"\n                                            : state.get.settings.typingPrompt\n                                                  .showTypos\n                                              ? getTypedChar()\n                                              : letter}\n                                        </span>\n                                      )\n                                    }}\n                                  </For>\n                                }\n                              </span>\n                            )\n                          }}\n                        </For>\n                      </p>\n                      <Show when={!state.get.settings.ui.readingMode}>\n                        <div\n                          classList={{\n                            \"p-stats\": true,\n                            invisible:\n                              state.get.settings.typingPrompt.zenMode &&\n                              local.hideCursor,\n                          }}\n                        >\n                          <Show when={pStats()}>\n                            <span>\n                              <i class=\"icon-speed\" />\n                              {pStats()!.wpm}\n                            </span>\n                            <span>\n                              <i class=\"icon-accuracy\" />\n                              {pStats()!.acc}\n                            </span>\n                          </Show>\n                        </div>\n                        <div class=\"p-extra\">\n                          <div>\n                            <Show when={paragraphNumPB() === offset()}>\n                              <i\n                                class=\"icon-pb pb\"\n                                title=\"Fastest paragraph!\"\n                              />\n                            </Show>{\" \"}\n                            <i class=\"icon-extra more\" />\n                          </div>\n                        </div>\n                      </Show>\n                    </div>\n                  )\n                }}\n              </For>\n            </div>\n          </section>\n        </div>\n        <Show\n          when={\n            config.IS_MOBILE &&\n            state.get.settings.typingPrompt.screenKeyboard &&\n            !state.get.settings.ui.readingMode\n          }\n        >\n          <ScreenKeyboard\n            handleTyping={handleTyping}\n            expectedChar={\n              local.original[local.paragraphNum]?.[local.wordNum]?.[\n                local.charNum\n              ]\n            }\n            prev={local.prev}\n            prevOk={local.prevOk}\n          />\n        </Show>\n        <Show\n          when={\n            !config.IS_MOBILE &&\n            state.get.settings.typingPrompt.screenKeyboard &&\n            !state.get.settings.ui.readingMode\n          }\n        >\n          <ScreenKeyboardDesktop\n            handleTyping={handleTyping}\n            expectedChar={\n              local.original[local.paragraphNum]?.[local.wordNum]?.[\n                local.charNum\n              ]\n            }\n            prev={local.prev}\n            prevOk={local.prevOk}\n            charset={local.charset}\n          />\n        </Show>\n        <Show when={!state.get.settings.ui.readingMode}>\n          <button\n            classList={{\n              zen: true,\n              active: state.get.settings.typingPrompt.zenMode,\n              invisible: local.hideCursor,\n            }}\n            title=\"Click to toggle Zen Mode - hides all statistics during typing\"\n            onClick={() => {\n              state.set(\"settings\", \"typingPrompt\", \"zenMode\", (prev) => !prev)\n            }}\n          >\n            <i class=\"icon-zen\" />\n            <p>Zen {state.get.settings.typingPrompt.zenMode ? \"ON\" : \"OFF\"}</p>\n          </button>\n        </Show>\n      </div>\n    </Show>\n  )\n}\n\nexport default Prompt\n","import \"./Separator.css\"\n\nconst Separator = () => {\n  return <hr class=\"separator\" />\n}\n\nexport default Separator\n","/*!\n * @kurkle/color v0.3.2\n * https://github.com/kurkle/color#readme\n * (c) 2023 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction b2p(v) {\n  return lim(round(v / 2.55), 0, 100);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\n\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\n\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\n\nconst map = {\n  x: 'dark',\n  Z: 'light',\n  Y: 're',\n  X: 'blu',\n  W: 'gr',\n  V: 'medium',\n  U: 'slate',\n  A: 'ee',\n  T: 'ol',\n  S: 'or',\n  B: 'ra',\n  C: 'lateg',\n  D: 'ights',\n  R: 'in',\n  Q: 'turquois',\n  E: 'hi',\n  P: 'ro',\n  O: 'al',\n  N: 'le',\n  M: 'de',\n  L: 'yello',\n  F: 'en',\n  K: 'ch',\n  G: 'arks',\n  H: 'ea',\n  I: 'ightg',\n  J: 'wh'\n};\nconst names$1 = {\n  OiceXe: 'f0f8ff',\n  antiquewEte: 'faebd7',\n  aqua: 'ffff',\n  aquamarRe: '7fffd4',\n  azuY: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '0',\n  blanKedOmond: 'ffebcd',\n  Xe: 'ff',\n  XeviTet: '8a2be2',\n  bPwn: 'a52a2a',\n  burlywood: 'deb887',\n  caMtXe: '5f9ea0',\n  KartYuse: '7fff00',\n  KocTate: 'd2691e',\n  cSO: 'ff7f50',\n  cSnflowerXe: '6495ed',\n  cSnsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: 'ffff',\n  xXe: '8b',\n  xcyan: '8b8b',\n  xgTMnPd: 'b8860b',\n  xWay: 'a9a9a9',\n  xgYF: '6400',\n  xgYy: 'a9a9a9',\n  xkhaki: 'bdb76b',\n  xmagFta: '8b008b',\n  xTivegYF: '556b2f',\n  xSange: 'ff8c00',\n  xScEd: '9932cc',\n  xYd: '8b0000',\n  xsOmon: 'e9967a',\n  xsHgYF: '8fbc8f',\n  xUXe: '483d8b',\n  xUWay: '2f4f4f',\n  xUgYy: '2f4f4f',\n  xQe: 'ced1',\n  xviTet: '9400d3',\n  dAppRk: 'ff1493',\n  dApskyXe: 'bfff',\n  dimWay: '696969',\n  dimgYy: '696969',\n  dodgerXe: '1e90ff',\n  fiYbrick: 'b22222',\n  flSOwEte: 'fffaf0',\n  foYstWAn: '228b22',\n  fuKsia: 'ff00ff',\n  gaRsbSo: 'dcdcdc',\n  ghostwEte: 'f8f8ff',\n  gTd: 'ffd700',\n  gTMnPd: 'daa520',\n  Way: '808080',\n  gYF: '8000',\n  gYFLw: 'adff2f',\n  gYy: '808080',\n  honeyMw: 'f0fff0',\n  hotpRk: 'ff69b4',\n  RdianYd: 'cd5c5c',\n  Rdigo: '4b0082',\n  ivSy: 'fffff0',\n  khaki: 'f0e68c',\n  lavFMr: 'e6e6fa',\n  lavFMrXsh: 'fff0f5',\n  lawngYF: '7cfc00',\n  NmoncEffon: 'fffacd',\n  ZXe: 'add8e6',\n  ZcSO: 'f08080',\n  Zcyan: 'e0ffff',\n  ZgTMnPdLw: 'fafad2',\n  ZWay: 'd3d3d3',\n  ZgYF: '90ee90',\n  ZgYy: 'd3d3d3',\n  ZpRk: 'ffb6c1',\n  ZsOmon: 'ffa07a',\n  ZsHgYF: '20b2aa',\n  ZskyXe: '87cefa',\n  ZUWay: '778899',\n  ZUgYy: '778899',\n  ZstAlXe: 'b0c4de',\n  ZLw: 'ffffe0',\n  lime: 'ff00',\n  limegYF: '32cd32',\n  lRF: 'faf0e6',\n  magFta: 'ff00ff',\n  maPon: '800000',\n  VaquamarRe: '66cdaa',\n  VXe: 'cd',\n  VScEd: 'ba55d3',\n  VpurpN: '9370db',\n  VsHgYF: '3cb371',\n  VUXe: '7b68ee',\n  VsprRggYF: 'fa9a',\n  VQe: '48d1cc',\n  VviTetYd: 'c71585',\n  midnightXe: '191970',\n  mRtcYam: 'f5fffa',\n  mistyPse: 'ffe4e1',\n  moccasR: 'ffe4b5',\n  navajowEte: 'ffdead',\n  navy: '80',\n  Tdlace: 'fdf5e6',\n  Tive: '808000',\n  TivedBb: '6b8e23',\n  Sange: 'ffa500',\n  SangeYd: 'ff4500',\n  ScEd: 'da70d6',\n  pOegTMnPd: 'eee8aa',\n  pOegYF: '98fb98',\n  pOeQe: 'afeeee',\n  pOeviTetYd: 'db7093',\n  papayawEp: 'ffefd5',\n  pHKpuff: 'ffdab9',\n  peru: 'cd853f',\n  pRk: 'ffc0cb',\n  plum: 'dda0dd',\n  powMrXe: 'b0e0e6',\n  purpN: '800080',\n  YbeccapurpN: '663399',\n  Yd: 'ff0000',\n  Psybrown: 'bc8f8f',\n  PyOXe: '4169e1',\n  saddNbPwn: '8b4513',\n  sOmon: 'fa8072',\n  sandybPwn: 'f4a460',\n  sHgYF: '2e8b57',\n  sHshell: 'fff5ee',\n  siFna: 'a0522d',\n  silver: 'c0c0c0',\n  skyXe: '87ceeb',\n  UXe: '6a5acd',\n  UWay: '708090',\n  UgYy: '708090',\n  snow: 'fffafa',\n  sprRggYF: 'ff7f',\n  stAlXe: '4682b4',\n  tan: 'd2b48c',\n  teO: '8080',\n  tEstN: 'd8bfd8',\n  tomato: 'ff6347',\n  Qe: '40e0d0',\n  viTet: 'ee82ee',\n  JHt: 'f5deb3',\n  wEte: 'ffffff',\n  wEtesmoke: 'f5f5f5',\n  Lw: 'ffff00',\n  LwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\n\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\n\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\n\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\n\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\n\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nexport { Color, b2n, b2p, index_esm as default, hexParse, hexString, hsl2rgb, hslString, hsv2rgb, hueParse, hwb2rgb, lim, n2b, n2p, nameParse, p2b, rgb2hsl, rgbParse, rgbString, rotate, round };\n","/*!\n * Chart.js v4.4.2\n * https://www.chartjs.org\n * (c) 2024 Chart.js Contributors\n * Released under the MIT License\n */\nimport { Color } from '@kurkle/color';\n\n/**\n * @namespace Chart.helpers\n */ /**\n * An empty function that can be used, for example, for optional callback.\n */ function noop() {\n/* noop */ }\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */ const uid = (()=>{\n    let id = 0;\n    return ()=>id++;\n})();\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isNullOrUndef(value) {\n    return value === null || typeof value === 'undefined';\n}\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */ function isArray(value) {\n    if (Array.isArray && Array.isArray(value)) {\n        return true;\n    }\n    const type = Object.prototype.toString.call(value);\n    if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n        return true;\n    }\n    return false;\n}\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isObject(value) {\n    return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */ function isNumberFinite(value) {\n    return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */ function finiteOrDefault(value, defaultValue) {\n    return isNumberFinite(value) ? value : defaultValue;\n}\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */ function valueOrDefault(value, defaultValue) {\n    return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 : +value / dimension;\nconst toDimension = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 * dimension : +value;\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */ function callback(fn, args, thisArg) {\n    if (fn && typeof fn.call === 'function') {\n        return fn.apply(thisArg, args);\n    }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n    let i, len, keys;\n    if (isArray(loopable)) {\n        len = loopable.length;\n        if (reverse) {\n            for(i = len - 1; i >= 0; i--){\n                fn.call(thisArg, loopable[i], i);\n            }\n        } else {\n            for(i = 0; i < len; i++){\n                fn.call(thisArg, loopable[i], i);\n            }\n        }\n    } else if (isObject(loopable)) {\n        keys = Object.keys(loopable);\n        len = keys.length;\n        for(i = 0; i < len; i++){\n            fn.call(thisArg, loopable[keys[i]], keys[i]);\n        }\n    }\n}\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */ function _elementsEqual(a0, a1) {\n    let i, ilen, v0, v1;\n    if (!a0 || !a1 || a0.length !== a1.length) {\n        return false;\n    }\n    for(i = 0, ilen = a0.length; i < ilen; ++i){\n        v0 = a0[i];\n        v1 = a1[i];\n        if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */ function clone(source) {\n    if (isArray(source)) {\n        return source.map(clone);\n    }\n    if (isObject(source)) {\n        const target = Object.create(null);\n        const keys = Object.keys(source);\n        const klen = keys.length;\n        let k = 0;\n        for(; k < klen; ++k){\n            target[keys[k]] = clone(source[keys[k]]);\n        }\n        return target;\n    }\n    return source;\n}\nfunction isValidKey(key) {\n    return [\n        '__proto__',\n        'prototype',\n        'constructor'\n    ].indexOf(key) === -1;\n}\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */ function _merger(key, target, source, options) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        merge(tval, sval, options);\n    } else {\n        target[key] = clone(sval);\n    }\n}\nfunction merge(target, source, options) {\n    const sources = isArray(source) ? source : [\n        source\n    ];\n    const ilen = sources.length;\n    if (!isObject(target)) {\n        return target;\n    }\n    options = options || {};\n    const merger = options.merger || _merger;\n    let current;\n    for(let i = 0; i < ilen; ++i){\n        current = sources[i];\n        if (!isObject(current)) {\n            continue;\n        }\n        const keys = Object.keys(current);\n        for(let k = 0, klen = keys.length; k < klen; ++k){\n            merger(keys[k], target, current, options);\n        }\n    }\n    return target;\n}\nfunction mergeIf(target, source) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return merge(target, source, {\n        merger: _mergerIf\n    });\n}\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */ function _mergerIf(key, target, source) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        mergeIf(tval, sval);\n    } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n        target[key] = clone(sval);\n    }\n}\n/**\n * @private\n */ function _deprecated(scope, value, previous, current) {\n    if (value !== undefined) {\n        console.warn(scope + ': \"' + previous + '\" is deprecated. Please use \"' + current + '\" instead');\n    }\n}\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n    // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n    '': (v)=>v,\n    // default resolvers\n    x: (o)=>o.x,\n    y: (o)=>o.y\n};\n/**\n * @private\n */ function _splitKey(key) {\n    const parts = key.split('.');\n    const keys = [];\n    let tmp = '';\n    for (const part of parts){\n        tmp += part;\n        if (tmp.endsWith('\\\\')) {\n            tmp = tmp.slice(0, -1) + '.';\n        } else {\n            keys.push(tmp);\n            tmp = '';\n        }\n    }\n    return keys;\n}\nfunction _getKeyResolver(key) {\n    const keys = _splitKey(key);\n    return (obj)=>{\n        for (const k of keys){\n            if (k === '') {\n                break;\n            }\n            obj = obj && obj[k];\n        }\n        return obj;\n    };\n}\nfunction resolveObjectKey(obj, key) {\n    const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n    return resolver(obj);\n}\n/**\n * @private\n */ function _capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value)=>typeof value !== 'undefined';\nconst isFunction = (value)=>typeof value === 'function';\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nconst setsEqual = (a, b)=>{\n    if (a.size !== b.size) {\n        return false;\n    }\n    for (const item of a){\n        if (!b.has(item)) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * @param e - The event\n * @private\n */ function _isClickEvent(e) {\n    return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */ const PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction almostEquals(x, y, epsilon) {\n    return Math.abs(x - y) < epsilon;\n}\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */ function niceNum(range) {\n    const roundedRange = Math.round(range);\n    range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n    const niceRange = Math.pow(10, Math.floor(log10(range)));\n    const fraction = range / niceRange;\n    const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n    return niceFraction * niceRange;\n}\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */ function _factorize(value) {\n    const result = [];\n    const sqrt = Math.sqrt(value);\n    let i;\n    for(i = 1; i < sqrt; i++){\n        if (value % i === 0) {\n            result.push(i);\n            result.push(value / i);\n        }\n    }\n    if (sqrt === (sqrt | 0)) {\n        result.push(sqrt);\n    }\n    result.sort((a, b)=>a - b).pop();\n    return result;\n}\nfunction isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostWhole(x, epsilon) {\n    const rounded = Math.round(x);\n    return rounded - epsilon <= x && rounded + epsilon >= x;\n}\n/**\n * @private\n */ function _setMinAndMaxByKey(array, target, property) {\n    let i, ilen, value;\n    for(i = 0, ilen = array.length; i < ilen; i++){\n        value = array[i][property];\n        if (!isNaN(value)) {\n            target.min = Math.min(target.min, value);\n            target.max = Math.max(target.max, value);\n        }\n    }\n}\nfunction toRadians(degrees) {\n    return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n    return radians * (180 / PI);\n}\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */ function _decimalPlaces(x) {\n    if (!isNumberFinite(x)) {\n        return;\n    }\n    let e = 1;\n    let p = 0;\n    while(Math.round(x * e) / e !== x){\n        e *= 10;\n        p++;\n    }\n    return p;\n}\n// Gets the angle from vertical upright to the point about a centre.\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n    const distanceFromXCenter = anglePoint.x - centrePoint.x;\n    const distanceFromYCenter = anglePoint.y - centrePoint.y;\n    const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n    let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n    if (angle < -0.5 * PI) {\n        angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n    }\n    return {\n        angle,\n        distance: radialDistanceFromCenter\n    };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n    return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */ function _angleDiff(a, b) {\n    return (a - b + PITAU) % TAU - PI;\n}\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */ function _normalizeAngle(a) {\n    return (a % TAU + TAU) % TAU;\n}\n/**\n * @private\n */ function _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n    const a = _normalizeAngle(angle);\n    const s = _normalizeAngle(start);\n    const e = _normalizeAngle(end);\n    const angleToStart = _normalizeAngle(s - a);\n    const angleToEnd = _normalizeAngle(e - a);\n    const startToAngle = _normalizeAngle(a - s);\n    const endToAngle = _normalizeAngle(a - e);\n    return a === s || a === e || sameAngleIsFullCircle && s === e || angleToStart > angleToEnd && startToAngle < endToAngle;\n}\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */ function _limitValue(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n}\n/**\n * @param {number} value\n * @private\n */ function _int16Range(value) {\n    return _limitValue(value, -32768, 32767);\n}\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */ function _isBetween(value, start, end, epsilon = 1e-6) {\n    return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nfunction _lookup(table, value, cmp) {\n    cmp = cmp || ((index)=>table[index] < value);\n    let hi = table.length - 1;\n    let lo = 0;\n    let mid;\n    while(hi - lo > 1){\n        mid = lo + hi >> 1;\n        if (cmp(mid)) {\n            lo = mid;\n        } else {\n            hi = mid;\n        }\n    }\n    return {\n        lo,\n        hi\n    };\n}\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */ const _lookupByKey = (table, key, value, last)=>_lookup(table, value, last ? (index)=>{\n        const ti = table[index][key];\n        return ti < value || ti === value && table[index + 1][key] === value;\n    } : (index)=>table[index][key] < value);\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */ const _rlookupByKey = (table, key, value)=>_lookup(table, value, (index)=>table[index][key] >= value);\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */ function _filterBetween(values, min, max) {\n    let start = 0;\n    let end = values.length;\n    while(start < end && values[start] < min){\n        start++;\n    }\n    while(end > start && values[end - 1] > max){\n        end--;\n    }\n    return start > 0 || end < values.length ? values.slice(start, end) : values;\n}\nconst arrayEvents = [\n    'push',\n    'pop',\n    'shift',\n    'splice',\n    'unshift'\n];\nfunction listenArrayEvents(array, listener) {\n    if (array._chartjs) {\n        array._chartjs.listeners.push(listener);\n        return;\n    }\n    Object.defineProperty(array, '_chartjs', {\n        configurable: true,\n        enumerable: false,\n        value: {\n            listeners: [\n                listener\n            ]\n        }\n    });\n    arrayEvents.forEach((key)=>{\n        const method = '_onData' + _capitalize(key);\n        const base = array[key];\n        Object.defineProperty(array, key, {\n            configurable: true,\n            enumerable: false,\n            value (...args) {\n                const res = base.apply(this, args);\n                array._chartjs.listeners.forEach((object)=>{\n                    if (typeof object[method] === 'function') {\n                        object[method](...args);\n                    }\n                });\n                return res;\n            }\n        });\n    });\n}\nfunction unlistenArrayEvents(array, listener) {\n    const stub = array._chartjs;\n    if (!stub) {\n        return;\n    }\n    const listeners = stub.listeners;\n    const index = listeners.indexOf(listener);\n    if (index !== -1) {\n        listeners.splice(index, 1);\n    }\n    if (listeners.length > 0) {\n        return;\n    }\n    arrayEvents.forEach((key)=>{\n        delete array[key];\n    });\n    delete array._chartjs;\n}\n/**\n * @param items\n */ function _arrayUnique(items) {\n    const set = new Set(items);\n    if (set.size === items.length) {\n        return items;\n    }\n    return Array.from(set);\n}\n\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n    return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n/**\n* Request animation polyfill\n*/ const requestAnimFrame = function() {\n    if (typeof window === 'undefined') {\n        return function(callback) {\n            return callback();\n        };\n    }\n    return window.requestAnimationFrame;\n}();\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */ function throttled(fn, thisArg) {\n    let argsToUse = [];\n    let ticking = false;\n    return function(...args) {\n        // Save the args for use later\n        argsToUse = args;\n        if (!ticking) {\n            ticking = true;\n            requestAnimFrame.call(window, ()=>{\n                ticking = false;\n                fn.apply(thisArg, argsToUse);\n            });\n        }\n    };\n}\n/**\n * Debounces calling `fn` for `delay` ms\n */ function debounce(fn, delay) {\n    let timeout;\n    return function(...args) {\n        if (delay) {\n            clearTimeout(timeout);\n            timeout = setTimeout(fn, delay, args);\n        } else {\n            fn.apply(this, args);\n        }\n        return delay;\n    };\n}\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */ const _toLeftRightCenter = (align)=>align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */ const _alignStartEnd = (align, start, end)=>align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */ const _textX = (align, left, right, rtl)=>{\n    const check = rtl ? 'left' : 'right';\n    return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n/**\n * Return start and count of visible points.\n * @private\n */ function _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n    const pointCount = points.length;\n    let start = 0;\n    let count = pointCount;\n    if (meta._sorted) {\n        const { iScale , _parsed  } = meta;\n        const axis = iScale.axis;\n        const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n        if (minDefined) {\n            start = _limitValue(Math.min(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, axis, min).lo, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo), 0, pointCount - 1);\n        }\n        if (maxDefined) {\n            count = _limitValue(Math.max(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, iScale.axis, max, true).hi + 1, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1), start, pointCount) - start;\n        } else {\n            count = pointCount - start;\n        }\n    }\n    return {\n        start,\n        count\n    };\n}\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */ function _scaleRangesChanged(meta) {\n    const { xScale , yScale , _scaleRanges  } = meta;\n    const newRanges = {\n        xmin: xScale.min,\n        xmax: xScale.max,\n        ymin: yScale.min,\n        ymax: yScale.max\n    };\n    if (!_scaleRanges) {\n        meta._scaleRanges = newRanges;\n        return true;\n    }\n    const changed = _scaleRanges.xmin !== xScale.min || _scaleRanges.xmax !== xScale.max || _scaleRanges.ymin !== yScale.min || _scaleRanges.ymax !== yScale.max;\n    Object.assign(_scaleRanges, newRanges);\n    return changed;\n}\n\nconst atEdge = (t)=>t === 0 || t === 1;\nconst elasticIn = (t, s, p)=>-(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p)=>Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */ const effects = {\n    linear: (t)=>t,\n    easeInQuad: (t)=>t * t,\n    easeOutQuad: (t)=>-t * (t - 2),\n    easeInOutQuad: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1),\n    easeInCubic: (t)=>t * t * t,\n    easeOutCubic: (t)=>(t -= 1) * t * t + 1,\n    easeInOutCubic: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2),\n    easeInQuart: (t)=>t * t * t * t,\n    easeOutQuart: (t)=>-((t -= 1) * t * t * t - 1),\n    easeInOutQuart: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2),\n    easeInQuint: (t)=>t * t * t * t * t,\n    easeOutQuint: (t)=>(t -= 1) * t * t * t * t + 1,\n    easeInOutQuint: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2),\n    easeInSine: (t)=>-Math.cos(t * HALF_PI) + 1,\n    easeOutSine: (t)=>Math.sin(t * HALF_PI),\n    easeInOutSine: (t)=>-0.5 * (Math.cos(PI * t) - 1),\n    easeInExpo: (t)=>t === 0 ? 0 : Math.pow(2, 10 * (t - 1)),\n    easeOutExpo: (t)=>t === 1 ? 1 : -Math.pow(2, -10 * t) + 1,\n    easeInOutExpo: (t)=>atEdge(t) ? t : t < 0.5 ? 0.5 * Math.pow(2, 10 * (t * 2 - 1)) : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n    easeInCirc: (t)=>t >= 1 ? t : -(Math.sqrt(1 - t * t) - 1),\n    easeOutCirc: (t)=>Math.sqrt(1 - (t -= 1) * t),\n    easeInOutCirc: (t)=>(t /= 0.5) < 1 ? -0.5 * (Math.sqrt(1 - t * t) - 1) : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n    easeInElastic: (t)=>atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n    easeOutElastic: (t)=>atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n    easeInOutElastic (t) {\n        const s = 0.1125;\n        const p = 0.45;\n        return atEdge(t) ? t : t < 0.5 ? 0.5 * elasticIn(t * 2, s, p) : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n    },\n    easeInBack (t) {\n        const s = 1.70158;\n        return t * t * ((s + 1) * t - s);\n    },\n    easeOutBack (t) {\n        const s = 1.70158;\n        return (t -= 1) * t * ((s + 1) * t + s) + 1;\n    },\n    easeInOutBack (t) {\n        let s = 1.70158;\n        if ((t /= 0.5) < 1) {\n            return 0.5 * (t * t * (((s *= 1.525) + 1) * t - s));\n        }\n        return 0.5 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2);\n    },\n    easeInBounce: (t)=>1 - effects.easeOutBounce(1 - t),\n    easeOutBounce (t) {\n        const m = 7.5625;\n        const d = 2.75;\n        if (t < 1 / d) {\n            return m * t * t;\n        }\n        if (t < 2 / d) {\n            return m * (t -= 1.5 / d) * t + 0.75;\n        }\n        if (t < 2.5 / d) {\n            return m * (t -= 2.25 / d) * t + 0.9375;\n        }\n        return m * (t -= 2.625 / d) * t + 0.984375;\n    },\n    easeInOutBounce: (t)=>t < 0.5 ? effects.easeInBounce(t * 2) * 0.5 : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5\n};\n\nfunction isPatternOrGradient(value) {\n    if (value && typeof value === 'object') {\n        const type = value.toString();\n        return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n    }\n    return false;\n}\nfunction color(value) {\n    return isPatternOrGradient(value) ? value : new Color(value);\n}\nfunction getHoverColor(value) {\n    return isPatternOrGradient(value) ? value : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst numbers = [\n    'x',\n    'y',\n    'borderWidth',\n    'radius',\n    'tension'\n];\nconst colors = [\n    'color',\n    'borderColor',\n    'backgroundColor'\n];\nfunction applyAnimationsDefaults(defaults) {\n    defaults.set('animation', {\n        delay: undefined,\n        duration: 1000,\n        easing: 'easeOutQuart',\n        fn: undefined,\n        from: undefined,\n        loop: undefined,\n        to: undefined,\n        type: undefined\n    });\n    defaults.describe('animation', {\n        _fallback: false,\n        _indexable: false,\n        _scriptable: (name)=>name !== 'onProgress' && name !== 'onComplete' && name !== 'fn'\n    });\n    defaults.set('animations', {\n        colors: {\n            type: 'color',\n            properties: colors\n        },\n        numbers: {\n            type: 'number',\n            properties: numbers\n        }\n    });\n    defaults.describe('animations', {\n        _fallback: 'animation'\n    });\n    defaults.set('transitions', {\n        active: {\n            animation: {\n                duration: 400\n            }\n        },\n        resize: {\n            animation: {\n                duration: 0\n            }\n        },\n        show: {\n            animations: {\n                colors: {\n                    from: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    duration: 0\n                }\n            }\n        },\n        hide: {\n            animations: {\n                colors: {\n                    to: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    easing: 'linear',\n                    fn: (v)=>v | 0\n                }\n            }\n        }\n    });\n}\n\nfunction applyLayoutsDefaults(defaults) {\n    defaults.set('layout', {\n        autoPadding: true,\n        padding: {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        }\n    });\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n    options = options || {};\n    const cacheKey = locale + JSON.stringify(options);\n    let formatter = intlCache.get(cacheKey);\n    if (!formatter) {\n        formatter = new Intl.NumberFormat(locale, options);\n        intlCache.set(cacheKey, formatter);\n    }\n    return formatter;\n}\nfunction formatNumber(num, locale, options) {\n    return getNumberFormat(locale, options).format(num);\n}\n\nconst formatters = {\n values (value) {\n        return isArray(value) ?  value : '' + value;\n    },\n numeric (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const locale = this.chart.options.locale;\n        let notation;\n        let delta = tickValue;\n        if (ticks.length > 1) {\n            const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n            if (maxTick < 1e-4 || maxTick > 1e+15) {\n                notation = 'scientific';\n            }\n            delta = calculateDelta(tickValue, ticks);\n        }\n        const logDelta = log10(Math.abs(delta));\n        const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n        const options = {\n            notation,\n            minimumFractionDigits: numDecimal,\n            maximumFractionDigits: numDecimal\n        };\n        Object.assign(options, this.options.ticks.format);\n        return formatNumber(tickValue, locale, options);\n    },\n logarithmic (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const remain = ticks[index].significand || tickValue / Math.pow(10, Math.floor(log10(tickValue)));\n        if ([\n            1,\n            2,\n            3,\n            5,\n            10,\n            15\n        ].includes(remain) || index > 0.8 * ticks.length) {\n            return formatters.numeric.call(this, tickValue, index, ticks);\n        }\n        return '';\n    }\n};\nfunction calculateDelta(tickValue, ticks) {\n    let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n    if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n        delta = tickValue - Math.floor(tickValue);\n    }\n    return delta;\n}\n var Ticks = {\n    formatters\n};\n\nfunction applyScaleDefaults(defaults) {\n    defaults.set('scale', {\n        display: true,\n        offset: false,\n        reverse: false,\n        beginAtZero: false,\n bounds: 'ticks',\n        clip: true,\n grace: 0,\n        grid: {\n            display: true,\n            lineWidth: 1,\n            drawOnChartArea: true,\n            drawTicks: true,\n            tickLength: 8,\n            tickWidth: (_ctx, options)=>options.lineWidth,\n            tickColor: (_ctx, options)=>options.color,\n            offset: false\n        },\n        border: {\n            display: true,\n            dash: [],\n            dashOffset: 0.0,\n            width: 1\n        },\n        title: {\n            display: false,\n            text: '',\n            padding: {\n                top: 4,\n                bottom: 4\n            }\n        },\n        ticks: {\n            minRotation: 0,\n            maxRotation: 50,\n            mirror: false,\n            textStrokeWidth: 0,\n            textStrokeColor: '',\n            padding: 3,\n            display: true,\n            autoSkip: true,\n            autoSkipPadding: 3,\n            labelOffset: 0,\n            callback: Ticks.formatters.values,\n            minor: {},\n            major: {},\n            align: 'center',\n            crossAlign: 'near',\n            showLabelBackdrop: false,\n            backdropColor: 'rgba(255, 255, 255, 0.75)',\n            backdropPadding: 2\n        }\n    });\n    defaults.route('scale.ticks', 'color', '', 'color');\n    defaults.route('scale.grid', 'color', '', 'borderColor');\n    defaults.route('scale.border', 'color', '', 'borderColor');\n    defaults.route('scale.title', 'color', '', 'color');\n    defaults.describe('scale', {\n        _fallback: false,\n        _scriptable: (name)=>!name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n        _indexable: (name)=>name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash'\n    });\n    defaults.describe('scales', {\n        _fallback: 'scale'\n    });\n    defaults.describe('scale.ticks', {\n        _scriptable: (name)=>name !== 'backdropPadding' && name !== 'callback',\n        _indexable: (name)=>name !== 'backdropPadding'\n    });\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\n function getScope$1(node, key) {\n    if (!key) {\n        return node;\n    }\n    const keys = key.split('.');\n    for(let i = 0, n = keys.length; i < n; ++i){\n        const k = keys[i];\n        node = node[k] || (node[k] = Object.create(null));\n    }\n    return node;\n}\nfunction set(root, scope, values) {\n    if (typeof scope === 'string') {\n        return merge(getScope$1(root, scope), values);\n    }\n    return merge(getScope$1(root, ''), scope);\n}\n class Defaults {\n    constructor(_descriptors, _appliers){\n        this.animation = undefined;\n        this.backgroundColor = 'rgba(0,0,0,0.1)';\n        this.borderColor = 'rgba(0,0,0,0.1)';\n        this.color = '#666';\n        this.datasets = {};\n        this.devicePixelRatio = (context)=>context.chart.platform.getDevicePixelRatio();\n        this.elements = {};\n        this.events = [\n            'mousemove',\n            'mouseout',\n            'click',\n            'touchstart',\n            'touchmove'\n        ];\n        this.font = {\n            family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n            size: 12,\n            style: 'normal',\n            lineHeight: 1.2,\n            weight: null\n        };\n        this.hover = {};\n        this.hoverBackgroundColor = (ctx, options)=>getHoverColor(options.backgroundColor);\n        this.hoverBorderColor = (ctx, options)=>getHoverColor(options.borderColor);\n        this.hoverColor = (ctx, options)=>getHoverColor(options.color);\n        this.indexAxis = 'x';\n        this.interaction = {\n            mode: 'nearest',\n            intersect: true,\n            includeInvisible: false\n        };\n        this.maintainAspectRatio = true;\n        this.onHover = null;\n        this.onClick = null;\n        this.parsing = true;\n        this.plugins = {};\n        this.responsive = true;\n        this.scale = undefined;\n        this.scales = {};\n        this.showLine = true;\n        this.drawActiveElementsOnTop = true;\n        this.describe(_descriptors);\n        this.apply(_appliers);\n    }\n set(scope, values) {\n        return set(this, scope, values);\n    }\n get(scope) {\n        return getScope$1(this, scope);\n    }\n describe(scope, values) {\n        return set(descriptors, scope, values);\n    }\n    override(scope, values) {\n        return set(overrides, scope, values);\n    }\n route(scope, name, targetScope, targetName) {\n        const scopeObject = getScope$1(this, scope);\n        const targetScopeObject = getScope$1(this, targetScope);\n        const privateName = '_' + name;\n        Object.defineProperties(scopeObject, {\n            [privateName]: {\n                value: scopeObject[name],\n                writable: true\n            },\n            [name]: {\n                enumerable: true,\n                get () {\n                    const local = this[privateName];\n                    const target = targetScopeObject[targetName];\n                    if (isObject(local)) {\n                        return Object.assign({}, target, local);\n                    }\n                    return valueOrDefault(local, target);\n                },\n                set (value) {\n                    this[privateName] = value;\n                }\n            }\n        });\n    }\n    apply(appliers) {\n        appliers.forEach((apply)=>apply(this));\n    }\n}\nvar defaults = /* #__PURE__ */ new Defaults({\n    _scriptable: (name)=>!name.startsWith('on'),\n    _indexable: (name)=>name !== 'events',\n    hover: {\n        _fallback: 'interaction'\n    },\n    interaction: {\n        _scriptable: false,\n        _indexable: false\n    }\n}, [\n    applyAnimationsDefaults,\n    applyLayoutsDefaults,\n    applyScaleDefaults\n]);\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */ function toFontString(font) {\n    if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n        return null;\n    }\n    return (font.style ? font.style + ' ' : '') + (font.weight ? font.weight + ' ' : '') + font.size + 'px ' + font.family;\n}\n/**\n * @private\n */ function _measureText(ctx, data, gc, longest, string) {\n    let textWidth = data[string];\n    if (!textWidth) {\n        textWidth = data[string] = ctx.measureText(string).width;\n        gc.push(string);\n    }\n    if (textWidth > longest) {\n        longest = textWidth;\n    }\n    return longest;\n}\n/**\n * @private\n */ // eslint-disable-next-line complexity\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n    cache = cache || {};\n    let data = cache.data = cache.data || {};\n    let gc = cache.garbageCollect = cache.garbageCollect || [];\n    if (cache.font !== font) {\n        data = cache.data = {};\n        gc = cache.garbageCollect = [];\n        cache.font = font;\n    }\n    ctx.save();\n    ctx.font = font;\n    let longest = 0;\n    const ilen = arrayOfThings.length;\n    let i, j, jlen, thing, nestedThing;\n    for(i = 0; i < ilen; i++){\n        thing = arrayOfThings[i];\n        // Undefined strings and arrays should not be measured\n        if (thing !== undefined && thing !== null && !isArray(thing)) {\n            longest = _measureText(ctx, data, gc, longest, thing);\n        } else if (isArray(thing)) {\n            // if it is an array lets measure each element\n            // to do maybe simplify this function a bit so we can do this more recursively?\n            for(j = 0, jlen = thing.length; j < jlen; j++){\n                nestedThing = thing[j];\n                // Undefined strings and arrays should not be measured\n                if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n                    longest = _measureText(ctx, data, gc, longest, nestedThing);\n                }\n            }\n        }\n    }\n    ctx.restore();\n    const gcLen = gc.length / 2;\n    if (gcLen > arrayOfThings.length) {\n        for(i = 0; i < gcLen; i++){\n            delete data[gc[i]];\n        }\n        gc.splice(0, gcLen);\n    }\n    return longest;\n}\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */ function _alignPixel(chart, pixel, width) {\n    const devicePixelRatio = chart.currentDevicePixelRatio;\n    const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n    return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n/**\n * Clears the entire canvas.\n */ function clearCanvas(canvas, ctx) {\n    ctx = ctx || canvas.getContext('2d');\n    ctx.save();\n    // canvas.width and canvas.height do not consider the canvas transform,\n    // while clearRect does\n    ctx.resetTransform();\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    drawPointLegend(ctx, options, x, y, null);\n}\n// eslint-disable-next-line complexity\nfunction drawPointLegend(ctx, options, x, y, w) {\n    let type, xOffset, yOffset, size, cornerRadius, width, xOffsetW, yOffsetW;\n    const style = options.pointStyle;\n    const rotation = options.rotation;\n    const radius = options.radius;\n    let rad = (rotation || 0) * RAD_PER_DEG;\n    if (style && typeof style === 'object') {\n        type = style.toString();\n        if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n            ctx.save();\n            ctx.translate(x, y);\n            ctx.rotate(rad);\n            ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n            ctx.restore();\n            return;\n        }\n    }\n    if (isNaN(radius) || radius <= 0) {\n        return;\n    }\n    ctx.beginPath();\n    switch(style){\n        // Default includes circle\n        default:\n            if (w) {\n                ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n            } else {\n                ctx.arc(x, y, radius, 0, TAU);\n            }\n            ctx.closePath();\n            break;\n        case 'triangle':\n            width = w ? w / 2 : radius;\n            ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            ctx.closePath();\n            break;\n        case 'rectRounded':\n            // NOTE: the rounded rect implementation changed to use `arc` instead of\n            // `quadraticCurveTo` since it generates better results when rect is\n            // almost a circle. 0.516 (instead of 0.5) produces results with visually\n            // closer proportion to the previous impl and it is inscribed in the\n            // circle with `radius`. For more details, see the following PRs:\n            // https://github.com/chartjs/Chart.js/issues/5597\n            // https://github.com/chartjs/Chart.js/issues/5858\n            cornerRadius = radius * 0.516;\n            size = radius - cornerRadius;\n            xOffset = Math.cos(rad + QUARTER_PI) * size;\n            xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            yOffset = Math.sin(rad + QUARTER_PI) * size;\n            yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n            ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n            ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n            ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n            ctx.closePath();\n            break;\n        case 'rect':\n            if (!rotation) {\n                size = Math.SQRT1_2 * radius;\n                width = w ? w / 2 : size;\n                ctx.rect(x - width, y - size, 2 * width, 2 * size);\n                break;\n            }\n            rad += QUARTER_PI;\n        /* falls through */ case 'rectRot':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            ctx.closePath();\n            break;\n        case 'crossRot':\n            rad += QUARTER_PI;\n        /* falls through */ case 'cross':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'star':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            rad += QUARTER_PI;\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'line':\n            xOffset = w ? w / 2 : Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            ctx.moveTo(x - xOffset, y - yOffset);\n            ctx.lineTo(x + xOffset, y + yOffset);\n            break;\n        case 'dash':\n            ctx.moveTo(x, y);\n            ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n            break;\n        case false:\n            ctx.closePath();\n            break;\n    }\n    ctx.fill();\n    if (options.borderWidth > 0) {\n        ctx.stroke();\n    }\n}\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */ function _isPointInArea(point, area, margin) {\n    margin = margin || 0.5; // margin - default is to match rounded decimals\n    return !area || point && point.x > area.left - margin && point.x < area.right + margin && point.y > area.top - margin && point.y < area.bottom + margin;\n}\nfunction clipArea(ctx, area) {\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n    ctx.clip();\n}\nfunction unclipArea(ctx) {\n    ctx.restore();\n}\n/**\n * @private\n */ function _steppedLineTo(ctx, previous, target, flip, mode) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    if (mode === 'middle') {\n        const midpoint = (previous.x + target.x) / 2.0;\n        ctx.lineTo(midpoint, previous.y);\n        ctx.lineTo(midpoint, target.y);\n    } else if (mode === 'after' !== !!flip) {\n        ctx.lineTo(previous.x, target.y);\n    } else {\n        ctx.lineTo(target.x, previous.y);\n    }\n    ctx.lineTo(target.x, target.y);\n}\n/**\n * @private\n */ function _bezierCurveTo(ctx, previous, target, flip) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    ctx.bezierCurveTo(flip ? previous.cp1x : previous.cp2x, flip ? previous.cp1y : previous.cp2y, flip ? target.cp2x : target.cp1x, flip ? target.cp2y : target.cp1y, target.x, target.y);\n}\nfunction setRenderOpts(ctx, opts) {\n    if (opts.translation) {\n        ctx.translate(opts.translation[0], opts.translation[1]);\n    }\n    if (!isNullOrUndef(opts.rotation)) {\n        ctx.rotate(opts.rotation);\n    }\n    if (opts.color) {\n        ctx.fillStyle = opts.color;\n    }\n    if (opts.textAlign) {\n        ctx.textAlign = opts.textAlign;\n    }\n    if (opts.textBaseline) {\n        ctx.textBaseline = opts.textBaseline;\n    }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n    if (opts.strikethrough || opts.underline) {\n        /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */ const metrics = ctx.measureText(line);\n        const left = x - metrics.actualBoundingBoxLeft;\n        const right = x + metrics.actualBoundingBoxRight;\n        const top = y - metrics.actualBoundingBoxAscent;\n        const bottom = y + metrics.actualBoundingBoxDescent;\n        const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n        ctx.strokeStyle = ctx.fillStyle;\n        ctx.beginPath();\n        ctx.lineWidth = opts.decorationWidth || 2;\n        ctx.moveTo(left, yDecoration);\n        ctx.lineTo(right, yDecoration);\n        ctx.stroke();\n    }\n}\nfunction drawBackdrop(ctx, opts) {\n    const oldColor = ctx.fillStyle;\n    ctx.fillStyle = opts.color;\n    ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n    ctx.fillStyle = oldColor;\n}\n/**\n * Render text onto the canvas\n */ function renderText(ctx, text, x, y, font, opts = {}) {\n    const lines = isArray(text) ? text : [\n        text\n    ];\n    const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n    let i, line;\n    ctx.save();\n    ctx.font = font.string;\n    setRenderOpts(ctx, opts);\n    for(i = 0; i < lines.length; ++i){\n        line = lines[i];\n        if (opts.backdrop) {\n            drawBackdrop(ctx, opts.backdrop);\n        }\n        if (stroke) {\n            if (opts.strokeColor) {\n                ctx.strokeStyle = opts.strokeColor;\n            }\n            if (!isNullOrUndef(opts.strokeWidth)) {\n                ctx.lineWidth = opts.strokeWidth;\n            }\n            ctx.strokeText(line, x, y, opts.maxWidth);\n        }\n        ctx.fillText(line, x, y, opts.maxWidth);\n        decorateText(ctx, x, y, line, opts);\n        y += Number(font.lineHeight);\n    }\n    ctx.restore();\n}\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */ function addRoundedRectPath(ctx, rect) {\n    const { x , y , w , h , radius  } = rect;\n    // top left arc\n    ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n    // line from top left to bottom left\n    ctx.lineTo(x, y + h - radius.bottomLeft);\n    // bottom left arc\n    ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n    // line from bottom left to bottom right\n    ctx.lineTo(x + w - radius.bottomRight, y + h);\n    // bottom right arc\n    ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n    // line from bottom right to top right\n    ctx.lineTo(x + w, y + radius.topRight);\n    // top right arc\n    ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n    // line from top right to top left\n    ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n/**\n * @alias Chart.helpers.options\n * @namespace\n */ /**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */ function toLineHeight(value, size) {\n    const matches = ('' + value).match(LINE_HEIGHT);\n    if (!matches || matches[1] === 'normal') {\n        return size * 1.2;\n    }\n    value = +matches[2];\n    switch(matches[3]){\n        case 'px':\n            return value;\n        case '%':\n            value /= 100;\n            break;\n    }\n    return size * value;\n}\nconst numberOrZero = (v)=>+v || 0;\nfunction _readValueToProps(value, props) {\n    const ret = {};\n    const objProps = isObject(props);\n    const keys = objProps ? Object.keys(props) : props;\n    const read = isObject(value) ? objProps ? (prop)=>valueOrDefault(value[prop], value[props[prop]]) : (prop)=>value[prop] : ()=>value;\n    for (const prop of keys){\n        ret[prop] = numberOrZero(read(prop));\n    }\n    return ret;\n}\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */ function toTRBL(value) {\n    return _readValueToProps(value, {\n        top: 'y',\n        right: 'x',\n        bottom: 'y',\n        left: 'x'\n    });\n}\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */ function toTRBLCorners(value) {\n    return _readValueToProps(value, [\n        'topLeft',\n        'topRight',\n        'bottomLeft',\n        'bottomRight'\n    ]);\n}\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */ function toPadding(value) {\n    const obj = toTRBL(value);\n    obj.width = obj.left + obj.right;\n    obj.height = obj.top + obj.bottom;\n    return obj;\n}\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */ function toFont(options, fallback) {\n    options = options || {};\n    fallback = fallback || defaults.font;\n    let size = valueOrDefault(options.size, fallback.size);\n    if (typeof size === 'string') {\n        size = parseInt(size, 10);\n    }\n    let style = valueOrDefault(options.style, fallback.style);\n    if (style && !('' + style).match(FONT_STYLE)) {\n        console.warn('Invalid font style specified: \"' + style + '\"');\n        style = undefined;\n    }\n    const font = {\n        family: valueOrDefault(options.family, fallback.family),\n        lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n        size,\n        style,\n        weight: valueOrDefault(options.weight, fallback.weight),\n        string: ''\n    };\n    font.string = toFontString(font);\n    return font;\n}\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */ function resolve(inputs, context, index, info) {\n    let cacheable = true;\n    let i, ilen, value;\n    for(i = 0, ilen = inputs.length; i < ilen; ++i){\n        value = inputs[i];\n        if (value === undefined) {\n            continue;\n        }\n        if (context !== undefined && typeof value === 'function') {\n            value = value(context);\n            cacheable = false;\n        }\n        if (index !== undefined && isArray(value)) {\n            value = value[index % value.length];\n            cacheable = false;\n        }\n        if (value !== undefined) {\n            if (info && !cacheable) {\n                info.cacheable = false;\n            }\n            return value;\n        }\n    }\n}\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */ function _addGrace(minmax, grace, beginAtZero) {\n    const { min , max  } = minmax;\n    const change = toDimension(grace, (max - min) / 2);\n    const keepZero = (value, add)=>beginAtZero && value === 0 ? 0 : value + add;\n    return {\n        min: keepZero(min, -Math.abs(change)),\n        max: keepZero(max, change)\n    };\n}\nfunction createContext(parentContext, context) {\n    return Object.assign(Object.create(parentContext), context);\n}\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */ function _createResolver(scopes, prefixes = [\n    ''\n], rootScopes, fallback, getTarget = ()=>scopes[0]) {\n    const finalRootScopes = rootScopes || scopes;\n    if (typeof fallback === 'undefined') {\n        fallback = _resolve('_fallback', scopes);\n    }\n    const cache = {\n        [Symbol.toStringTag]: 'Object',\n        _cacheable: true,\n        _scopes: scopes,\n        _rootScopes: finalRootScopes,\n        _fallback: fallback,\n        _getTarget: getTarget,\n        override: (scope)=>_createResolver([\n                scope,\n                ...scopes\n            ], prefixes, finalRootScopes, fallback)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete target._keys; // remove cached keys\n            delete scopes[0][prop]; // remove from top level scope\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop) {\n            return _cached(target, prop, ()=>_resolveWithPrefixes(prop, prefixes, scopes, target));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(scopes[0]);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return getKeysFromAllScopes(target).includes(prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys (target) {\n            return getKeysFromAllScopes(target);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            const storage = target._storage || (target._storage = getTarget());\n            target[prop] = storage[prop] = value; // set to top level scope + cache\n            delete target._keys; // remove cached keys\n            return true;\n        }\n    });\n}\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */ function _attachContext(proxy, context, subProxy, descriptorDefaults) {\n    const cache = {\n        _cacheable: false,\n        _proxy: proxy,\n        _context: context,\n        _subProxy: subProxy,\n        _stack: new Set(),\n        _descriptors: _descriptors(proxy, descriptorDefaults),\n        setContext: (ctx)=>_attachContext(proxy, ctx, subProxy, descriptorDefaults),\n        override: (scope)=>_attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete proxy[prop]; // remove from proxy\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop, receiver) {\n            return _cached(target, prop, ()=>_resolveWithContext(target, prop, receiver));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return target._descriptors.allKeys ? Reflect.has(proxy, prop) ? {\n                enumerable: true,\n                configurable: true\n            } : undefined : Reflect.getOwnPropertyDescriptor(proxy, prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(proxy);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return Reflect.has(proxy, prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys () {\n            return Reflect.ownKeys(proxy);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            proxy[prop] = value; // set to proxy\n            delete target[prop]; // remove from cache\n            return true;\n        }\n    });\n}\n/**\n * @private\n */ function _descriptors(proxy, defaults = {\n    scriptable: true,\n    indexable: true\n}) {\n    const { _scriptable =defaults.scriptable , _indexable =defaults.indexable , _allKeys =defaults.allKeys  } = proxy;\n    return {\n        allKeys: _allKeys,\n        scriptable: _scriptable,\n        indexable: _indexable,\n        isScriptable: isFunction(_scriptable) ? _scriptable : ()=>_scriptable,\n        isIndexable: isFunction(_indexable) ? _indexable : ()=>_indexable\n    };\n}\nconst readKey = (prefix, name)=>prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value)=>isObject(value) && prop !== 'adapters' && (Object.getPrototypeOf(value) === null || value.constructor === Object);\nfunction _cached(target, prop, resolve) {\n    if (Object.prototype.hasOwnProperty.call(target, prop)) {\n        return target[prop];\n    }\n    const value = resolve();\n    // cache the resolved value\n    target[prop] = value;\n    return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    let value = _proxy[prop]; // resolve from proxy\n    // resolve with context\n    if (isFunction(value) && descriptors.isScriptable(prop)) {\n        value = _resolveScriptable(prop, value, target, receiver);\n    }\n    if (isArray(value) && value.length) {\n        value = _resolveArray(prop, value, target, descriptors.isIndexable);\n    }\n    if (needsSubResolver(prop, value)) {\n        // if the resolved value is an object, create a sub resolver for it\n        value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n    }\n    return value;\n}\nfunction _resolveScriptable(prop, getValue, target, receiver) {\n    const { _proxy , _context , _subProxy , _stack  } = target;\n    if (_stack.has(prop)) {\n        throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n    }\n    _stack.add(prop);\n    let value = getValue(_context, _subProxy || receiver);\n    _stack.delete(prop);\n    if (needsSubResolver(prop, value)) {\n        // When scriptable option returns an object, create a resolver on that.\n        value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n    }\n    return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n        return value[_context.index % value.length];\n    } else if (isObject(value[0])) {\n        // Array of objects, return array or resolvers\n        const arr = value;\n        const scopes = _proxy._scopes.filter((s)=>s !== arr);\n        value = [];\n        for (const item of arr){\n            const resolver = createSubResolver(scopes, _proxy, prop, item);\n            value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n        }\n    }\n    return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n    return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent)=>key === true ? parent : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n    for (const parent of parentScopes){\n        const scope = getScope(key, parent);\n        if (scope) {\n            set.add(scope);\n            const fallback = resolveFallback(scope._fallback, key, value);\n            if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n                // When we reach the descriptor that defines a new _fallback, return that.\n                // The fallback will resume to that new scope.\n                return fallback;\n            }\n        } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n            // Fallback to `false` results to `false`, when falling back to different key.\n            // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n            return null;\n        }\n    }\n    return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n    const rootScopes = resolver._rootScopes;\n    const fallback = resolveFallback(resolver._fallback, prop, value);\n    const allScopes = [\n        ...parentScopes,\n        ...rootScopes\n    ];\n    const set = new Set();\n    set.add(value);\n    let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n    if (key === null) {\n        return false;\n    }\n    if (typeof fallback !== 'undefined' && fallback !== prop) {\n        key = addScopesFromKey(set, allScopes, fallback, key, value);\n        if (key === null) {\n            return false;\n        }\n    }\n    return _createResolver(Array.from(set), [\n        ''\n    ], rootScopes, fallback, ()=>subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n    while(key){\n        key = addScopes(set, allScopes, key, fallback, item);\n    }\n    return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n    const parent = resolver._getTarget();\n    if (!(prop in parent)) {\n        parent[prop] = {};\n    }\n    const target = parent[prop];\n    if (isArray(target) && isObject(value)) {\n        // For array of objects, the object is used to store updated values\n        return value;\n    }\n    return target || {};\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n    let value;\n    for (const prefix of prefixes){\n        value = _resolve(readKey(prefix, prop), scopes);\n        if (typeof value !== 'undefined') {\n            return needsSubResolver(prop, value) ? createSubResolver(scopes, proxy, prop, value) : value;\n        }\n    }\n}\nfunction _resolve(key, scopes) {\n    for (const scope of scopes){\n        if (!scope) {\n            continue;\n        }\n        const value = scope[key];\n        if (typeof value !== 'undefined') {\n            return value;\n        }\n    }\n}\nfunction getKeysFromAllScopes(target) {\n    let keys = target._keys;\n    if (!keys) {\n        keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n    }\n    return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n    const set = new Set();\n    for (const scope of scopes){\n        for (const key of Object.keys(scope).filter((k)=>!k.startsWith('_'))){\n            set.add(key);\n        }\n    }\n    return Array.from(set);\n}\nfunction _parseObjectDataRadialScale(meta, data, start, count) {\n    const { iScale  } = meta;\n    const { key ='r'  } = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for(i = 0, ilen = count; i < ilen; ++i){\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n            r: iScale.parse(resolveObjectKey(item, key), index)\n        };\n    }\n    return parsed;\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i)=>i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis)=>indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n    // Props to Rob Spencer at scaled innovation for his post on splining between points\n    // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n    // This function must also respect \"skipped\" points\n    const previous = firstPoint.skip ? middlePoint : firstPoint;\n    const current = middlePoint;\n    const next = afterPoint.skip ? middlePoint : afterPoint;\n    const d01 = distanceBetweenPoints(current, previous);\n    const d12 = distanceBetweenPoints(next, current);\n    let s01 = d01 / (d01 + d12);\n    let s12 = d12 / (d01 + d12);\n    // If all points are the same, s01 & s02 will be inf\n    s01 = isNaN(s01) ? 0 : s01;\n    s12 = isNaN(s12) ? 0 : s12;\n    const fa = t * s01; // scaling factor for triangle Ta\n    const fb = t * s12;\n    return {\n        previous: {\n            x: current.x - fa * (next.x - previous.x),\n            y: current.y - fa * (next.y - previous.y)\n        },\n        next: {\n            x: current.x + fb * (next.x - previous.x),\n            y: current.y + fb * (next.y - previous.y)\n        }\n    };\n}\n/**\n * Adjust tangents to ensure monotonic properties\n */ function monotoneAdjust(points, deltaK, mK) {\n    const pointsLen = points.length;\n    let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen - 1; ++i){\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent || !pointAfter) {\n            continue;\n        }\n        if (almostEquals(deltaK[i], 0, EPSILON)) {\n            mK[i] = mK[i + 1] = 0;\n            continue;\n        }\n        alphaK = mK[i] / deltaK[i];\n        betaK = mK[i + 1] / deltaK[i];\n        squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n        if (squaredMagnitude <= 9) {\n            continue;\n        }\n        tauK = 3 / Math.sqrt(squaredMagnitude);\n        mK[i] = alphaK * tauK * deltaK[i];\n        mK[i + 1] = betaK * tauK * deltaK[i];\n    }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    let delta, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        const iPixel = pointCurrent[indexAxis];\n        const vPixel = pointCurrent[valueAxis];\n        if (pointBefore) {\n            delta = (iPixel - pointBefore[indexAxis]) / 3;\n            pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n            pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n        }\n        if (pointAfter) {\n            delta = (pointAfter[indexAxis] - iPixel) / 3;\n            pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n            pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n        }\n    }\n}\n/**\n * This function calculates Bzier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */ function splineCurveMonotone(points, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    const deltaK = Array(pointsLen).fill(0);\n    const mK = Array(pointsLen);\n    // Calculate slopes (deltaK) and initialize tangents (mK)\n    let i, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        if (pointAfter) {\n            const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n            // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n            deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n        }\n        mK[i] = !pointBefore ? deltaK[i] : !pointAfter ? deltaK[i - 1] : sign(deltaK[i - 1]) !== sign(deltaK[i]) ? 0 : (deltaK[i - 1] + deltaK[i]) / 2;\n    }\n    monotoneAdjust(points, deltaK, mK);\n    monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n    return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n    let i, ilen, point, inArea, inAreaPrev;\n    let inAreaNext = _isPointInArea(points[0], area);\n    for(i = 0, ilen = points.length; i < ilen; ++i){\n        inAreaPrev = inArea;\n        inArea = inAreaNext;\n        inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n        if (!inArea) {\n            continue;\n        }\n        point = points[i];\n        if (inAreaPrev) {\n            point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n            point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n        }\n        if (inAreaNext) {\n            point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n            point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n        }\n    }\n}\n/**\n * @private\n */ function _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n    let i, ilen, point, controlPoints;\n    // Only consider points that are drawn in case the spanGaps option is used\n    if (options.spanGaps) {\n        points = points.filter((pt)=>!pt.skip);\n    }\n    if (options.cubicInterpolationMode === 'monotone') {\n        splineCurveMonotone(points, indexAxis);\n    } else {\n        let prev = loop ? points[points.length - 1] : points[0];\n        for(i = 0, ilen = points.length; i < ilen; ++i){\n            point = points[i];\n            controlPoints = splineCurve(prev, point, points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen], options.tension);\n            point.cp1x = controlPoints.previous.x;\n            point.cp1y = controlPoints.previous.y;\n            point.cp2x = controlPoints.next.x;\n            point.cp2y = controlPoints.next.y;\n            prev = point;\n        }\n    }\n    if (options.capBezierPoints) {\n        capBezierPoints(points, area);\n    }\n}\n\n/**\n * Note: typedefs are auto-exported, so use a made-up `dom` namespace where\n * necessary to avoid duplicates with `export * from './helpers`; see\n * https://github.com/microsoft/TypeScript/issues/46011\n * @typedef { import('../core/core.controller.js').default } dom.Chart\n * @typedef { import('../../types').ChartEvent } ChartEvent\n */ /**\n * @private\n */ function _isDomSupported() {\n    return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n/**\n * @private\n */ function _getParentNode(domNode) {\n    let parent = domNode.parentNode;\n    if (parent && parent.toString() === '[object ShadowRoot]') {\n        parent = parent.host;\n    }\n    return parent;\n}\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */ function parseMaxStyle(styleValue, node, parentProperty) {\n    let valueInPixels;\n    if (typeof styleValue === 'string') {\n        valueInPixels = parseInt(styleValue, 10);\n        if (styleValue.indexOf('%') !== -1) {\n            // percentage * size in dimension\n            valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n        }\n    } else {\n        valueInPixels = styleValue;\n    }\n    return valueInPixels;\n}\nconst getComputedStyle = (element)=>element.ownerDocument.defaultView.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n    return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = [\n    'top',\n    'right',\n    'bottom',\n    'left'\n];\nfunction getPositionedStyle(styles, style, suffix) {\n    const result = {};\n    suffix = suffix ? '-' + suffix : '';\n    for(let i = 0; i < 4; i++){\n        const pos = positions[i];\n        result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n    }\n    result.width = result.left + result.right;\n    result.height = result.top + result.bottom;\n    return result;\n}\nconst useOffsetPos = (x, y, target)=>(x > 0 || y > 0) && (!target || !target.shadowRoot);\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */ function getCanvasPosition(e, canvas) {\n    const touches = e.touches;\n    const source = touches && touches.length ? touches[0] : e;\n    const { offsetX , offsetY  } = source;\n    let box = false;\n    let x, y;\n    if (useOffsetPos(offsetX, offsetY, e.target)) {\n        x = offsetX;\n        y = offsetY;\n    } else {\n        const rect = canvas.getBoundingClientRect();\n        x = source.clientX - rect.left;\n        y = source.clientY - rect.top;\n        box = true;\n    }\n    return {\n        x,\n        y,\n        box\n    };\n}\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */ function getRelativePosition(event, chart) {\n    if ('native' in event) {\n        return event;\n    }\n    const { canvas , currentDevicePixelRatio  } = chart;\n    const style = getComputedStyle(canvas);\n    const borderBox = style.boxSizing === 'border-box';\n    const paddings = getPositionedStyle(style, 'padding');\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const { x , y , box  } = getCanvasPosition(event, canvas);\n    const xOffset = paddings.left + (box && borders.left);\n    const yOffset = paddings.top + (box && borders.top);\n    let { width , height  } = chart;\n    if (borderBox) {\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    return {\n        x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n        y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n    };\n}\nfunction getContainerSize(canvas, width, height) {\n    let maxWidth, maxHeight;\n    if (width === undefined || height === undefined) {\n        const container = _getParentNode(canvas);\n        if (!container) {\n            width = canvas.clientWidth;\n            height = canvas.clientHeight;\n        } else {\n            const rect = container.getBoundingClientRect(); // this is the border box of the container\n            const containerStyle = getComputedStyle(container);\n            const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n            const containerPadding = getPositionedStyle(containerStyle, 'padding');\n            width = rect.width - containerPadding.width - containerBorder.width;\n            height = rect.height - containerPadding.height - containerBorder.height;\n            maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n            maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n        }\n    }\n    return {\n        width,\n        height,\n        maxWidth: maxWidth || INFINITY,\n        maxHeight: maxHeight || INFINITY\n    };\n}\nconst round1 = (v)=>Math.round(v * 10) / 10;\n// eslint-disable-next-line complexity\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n    const style = getComputedStyle(canvas);\n    const margins = getPositionedStyle(style, 'margin');\n    const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n    const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n    const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n    let { width , height  } = containerSize;\n    if (style.boxSizing === 'content-box') {\n        const borders = getPositionedStyle(style, 'border', 'width');\n        const paddings = getPositionedStyle(style, 'padding');\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    width = Math.max(0, width - margins.width);\n    height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n    width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n    height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n    if (width && !height) {\n        // https://github.com/chartjs/Chart.js/issues/4659\n        // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n        height = round1(width / 2);\n    }\n    const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n    if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n        height = containerSize.height;\n        width = round1(Math.floor(height * aspectRatio));\n    }\n    return {\n        width,\n        height\n    };\n}\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */ function retinaScale(chart, forceRatio, forceStyle) {\n    const pixelRatio = forceRatio || 1;\n    const deviceHeight = Math.floor(chart.height * pixelRatio);\n    const deviceWidth = Math.floor(chart.width * pixelRatio);\n    chart.height = Math.floor(chart.height);\n    chart.width = Math.floor(chart.width);\n    const canvas = chart.canvas;\n    // If no style has been set on the canvas, the render size is used as display size,\n    // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n    // See https://github.com/chartjs/Chart.js/issues/3575\n    if (canvas.style && (forceStyle || !canvas.style.height && !canvas.style.width)) {\n        canvas.style.height = `${chart.height}px`;\n        canvas.style.width = `${chart.width}px`;\n    }\n    if (chart.currentDevicePixelRatio !== pixelRatio || canvas.height !== deviceHeight || canvas.width !== deviceWidth) {\n        chart.currentDevicePixelRatio = pixelRatio;\n        canvas.height = deviceHeight;\n        canvas.width = deviceWidth;\n        chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n        return true;\n    }\n    return false;\n}\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */ const supportsEventListenerOptions = function() {\n    let passiveSupported = false;\n    try {\n        const options = {\n            get passive () {\n                passiveSupported = true;\n                return false;\n            }\n        };\n        if (_isDomSupported()) {\n            window.addEventListener('test', null, options);\n            window.removeEventListener('test', null, options);\n        }\n    } catch (e) {\n    // continue regardless of error\n    }\n    return passiveSupported;\n}();\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */ function readUsedSize(element, property) {\n    const value = getStyle(element, property);\n    const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n    return matches ? +matches[1] : undefined;\n}\n\n/**\n * @private\n */ function _pointInLine(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: p1.y + t * (p2.y - p1.y)\n    };\n}\n/**\n * @private\n */ function _steppedInterpolation(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y : mode === 'after' ? t < 1 ? p1.y : p2.y : t > 0 ? p2.y : p1.y\n    };\n}\n/**\n * @private\n */ function _bezierInterpolation(p1, p2, t, mode) {\n    const cp1 = {\n        x: p1.cp2x,\n        y: p1.cp2y\n    };\n    const cp2 = {\n        x: p2.cp1x,\n        y: p2.cp1y\n    };\n    const a = _pointInLine(p1, cp1, t);\n    const b = _pointInLine(cp1, cp2, t);\n    const c = _pointInLine(cp2, p2, t);\n    const d = _pointInLine(a, b, t);\n    const e = _pointInLine(b, c, t);\n    return _pointInLine(d, e, t);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n    return {\n        x (x) {\n            return rectX + rectX + width - x;\n        },\n        setWidth (w) {\n            width = w;\n        },\n        textAlign (align) {\n            if (align === 'center') {\n                return align;\n            }\n            return align === 'right' ? 'left' : 'right';\n        },\n        xPlus (x, value) {\n            return x - value;\n        },\n        leftForLtr (x, itemWidth) {\n            return x - itemWidth;\n        }\n    };\n};\nconst getLeftToRightAdapter = function() {\n    return {\n        x (x) {\n            return x;\n        },\n        setWidth (w) {},\n        textAlign (align) {\n            return align;\n        },\n        xPlus (x, value) {\n            return x + value;\n        },\n        leftForLtr (x, _itemWidth) {\n            return x;\n        }\n    };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n    return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n    let style, original;\n    if (direction === 'ltr' || direction === 'rtl') {\n        style = ctx.canvas.style;\n        original = [\n            style.getPropertyValue('direction'),\n            style.getPropertyPriority('direction')\n        ];\n        style.setProperty('direction', direction, 'important');\n        ctx.prevTextDirection = original;\n    }\n}\nfunction restoreTextDirection(ctx, original) {\n    if (original !== undefined) {\n        delete ctx.prevTextDirection;\n        ctx.canvas.style.setProperty('direction', original[0], original[1]);\n    }\n}\n\nfunction propertyFn(property) {\n    if (property === 'angle') {\n        return {\n            between: _angleBetween,\n            compare: _angleDiff,\n            normalize: _normalizeAngle\n        };\n    }\n    return {\n        between: _isBetween,\n        compare: (a, b)=>a - b,\n        normalize: (x)=>x\n    };\n}\nfunction normalizeSegment({ start , end , count , loop , style  }) {\n    return {\n        start: start % count,\n        end: end % count,\n        loop: loop && (end - start + 1) % count === 0,\n        style\n    };\n}\nfunction getSegment(segment, points, bounds) {\n    const { property , start: startBound , end: endBound  } = bounds;\n    const { between , normalize  } = propertyFn(property);\n    const count = points.length;\n    let { start , end , loop  } = segment;\n    let i, ilen;\n    if (loop) {\n        start += count;\n        end += count;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n                break;\n            }\n            start--;\n            end--;\n        }\n        start %= count;\n        end %= count;\n    }\n    if (end < start) {\n        end += count;\n    }\n    return {\n        start,\n        end,\n        loop,\n        style: segment.style\n    };\n}\n function _boundSegment(segment, points, bounds) {\n    if (!bounds) {\n        return [\n            segment\n        ];\n    }\n    const { property , start: startBound , end: endBound  } = bounds;\n    const count = points.length;\n    const { compare , between , normalize  } = propertyFn(property);\n    const { start , end , loop , style  } = getSegment(segment, points, bounds);\n    const result = [];\n    let inside = false;\n    let subStart = null;\n    let value, point, prevValue;\n    const startIsBefore = ()=>between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n    const endIsBefore = ()=>compare(endBound, value) === 0 || between(endBound, prevValue, value);\n    const shouldStart = ()=>inside || startIsBefore();\n    const shouldStop = ()=>!inside || endIsBefore();\n    for(let i = start, prev = start; i <= end; ++i){\n        point = points[i % count];\n        if (point.skip) {\n            continue;\n        }\n        value = normalize(point[property]);\n        if (value === prevValue) {\n            continue;\n        }\n        inside = between(value, startBound, endBound);\n        if (subStart === null && shouldStart()) {\n            subStart = compare(value, startBound) === 0 ? i : prev;\n        }\n        if (subStart !== null && shouldStop()) {\n            result.push(normalizeSegment({\n                start: subStart,\n                end: i,\n                loop,\n                count,\n                style\n            }));\n            subStart = null;\n        }\n        prev = i;\n        prevValue = value;\n    }\n    if (subStart !== null) {\n        result.push(normalizeSegment({\n            start: subStart,\n            end,\n            loop,\n            count,\n            style\n        }));\n    }\n    return result;\n}\n function _boundSegments(line, bounds) {\n    const result = [];\n    const segments = line.segments;\n    for(let i = 0; i < segments.length; i++){\n        const sub = _boundSegment(segments[i], line.points, bounds);\n        if (sub.length) {\n            result.push(...sub);\n        }\n    }\n    return result;\n}\n function findStartAndEnd(points, count, loop, spanGaps) {\n    let start = 0;\n    let end = count - 1;\n    if (loop && !spanGaps) {\n        while(start < count && !points[start].skip){\n            start++;\n        }\n    }\n    while(start < count && points[start].skip){\n        start++;\n    }\n    start %= count;\n    if (loop) {\n        end += start;\n    }\n    while(end > start && points[end % count].skip){\n        end--;\n    }\n    end %= count;\n    return {\n        start,\n        end\n    };\n}\n function solidSegments(points, start, max, loop) {\n    const count = points.length;\n    const result = [];\n    let last = start;\n    let prev = points[start];\n    let end;\n    for(end = start + 1; end <= max; ++end){\n        const cur = points[end % count];\n        if (cur.skip || cur.stop) {\n            if (!prev.skip) {\n                loop = false;\n                result.push({\n                    start: start % count,\n                    end: (end - 1) % count,\n                    loop\n                });\n                start = last = cur.stop ? end : null;\n            }\n        } else {\n            last = end;\n            if (prev.skip) {\n                start = end;\n            }\n        }\n        prev = cur;\n    }\n    if (last !== null) {\n        result.push({\n            start: start % count,\n            end: last % count,\n            loop\n        });\n    }\n    return result;\n}\n function _computeSegments(line, segmentOptions) {\n    const points = line.points;\n    const spanGaps = line.options.spanGaps;\n    const count = points.length;\n    if (!count) {\n        return [];\n    }\n    const loop = !!line._loop;\n    const { start , end  } = findStartAndEnd(points, count, loop, spanGaps);\n    if (spanGaps === true) {\n        return splitByStyles(line, [\n            {\n                start,\n                end,\n                loop\n            }\n        ], points, segmentOptions);\n    }\n    const max = end < start ? end + count : end;\n    const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n    return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n function splitByStyles(line, segments, points, segmentOptions) {\n    if (!segmentOptions || !segmentOptions.setContext || !points) {\n        return segments;\n    }\n    return doSplitByStyles(line, segments, points, segmentOptions);\n}\n function doSplitByStyles(line, segments, points, segmentOptions) {\n    const chartContext = line._chart.getContext();\n    const baseStyle = readStyle(line.options);\n    const { _datasetIndex: datasetIndex , options: { spanGaps  }  } = line;\n    const count = points.length;\n    const result = [];\n    let prevStyle = baseStyle;\n    let start = segments[0].start;\n    let i = start;\n    function addStyle(s, e, l, st) {\n        const dir = spanGaps ? -1 : 1;\n        if (s === e) {\n            return;\n        }\n        s += count;\n        while(points[s % count].skip){\n            s -= dir;\n        }\n        while(points[e % count].skip){\n            e += dir;\n        }\n        if (s % count !== e % count) {\n            result.push({\n                start: s % count,\n                end: e % count,\n                loop: l,\n                style: st\n            });\n            prevStyle = st;\n            start = e % count;\n        }\n    }\n    for (const segment of segments){\n        start = spanGaps ? start : segment.start;\n        let prev = points[start % count];\n        let style;\n        for(i = start + 1; i <= segment.end; i++){\n            const pt = points[i % count];\n            style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n                type: 'segment',\n                p0: prev,\n                p1: pt,\n                p0DataIndex: (i - 1) % count,\n                p1DataIndex: i % count,\n                datasetIndex\n            })));\n            if (styleChanged(style, prevStyle)) {\n                addStyle(start, i - 1, segment.loop, prevStyle);\n            }\n            prev = pt;\n            prevStyle = style;\n        }\n        if (start < i - 1) {\n            addStyle(start, i - 1, segment.loop, prevStyle);\n        }\n    }\n    return result;\n}\nfunction readStyle(options) {\n    return {\n        backgroundColor: options.backgroundColor,\n        borderCapStyle: options.borderCapStyle,\n        borderDash: options.borderDash,\n        borderDashOffset: options.borderDashOffset,\n        borderJoinStyle: options.borderJoinStyle,\n        borderWidth: options.borderWidth,\n        borderColor: options.borderColor\n    };\n}\nfunction styleChanged(style, prevStyle) {\n    if (!prevStyle) {\n        return false;\n    }\n    const cache = [];\n    const replacer = function(key, value) {\n        if (!isPatternOrGradient(value)) {\n            return value;\n        }\n        if (!cache.includes(value)) {\n            cache.push(value);\n        }\n        return cache.indexOf(value);\n    };\n    return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n\nexport { unclipArea as $, _rlookupByKey as A, _lookupByKey as B, _isPointInArea as C, getAngleFromPoint as D, toPadding as E, each as F, getMaximumSize as G, HALF_PI as H, _getParentNode as I, readUsedSize as J, supportsEventListenerOptions as K, throttled as L, _isDomSupported as M, _factorize as N, finiteOrDefault as O, PI as P, callback as Q, _addGrace as R, _limitValue as S, TAU as T, toDegrees as U, _measureText as V, _int16Range as W, _alignPixel as X, clipArea as Y, renderText as Z, _arrayUnique as _, resolve as a, fontString as a$, toFont as a0, _toLeftRightCenter as a1, _alignStartEnd as a2, overrides as a3, merge as a4, _capitalize as a5, descriptors as a6, isFunction as a7, _attachContext as a8, _createResolver as a9, overrideTextDirection as aA, _textX as aB, restoreTextDirection as aC, drawPointLegend as aD, distanceBetweenPoints as aE, noop as aF, _setMinAndMaxByKey as aG, niceNum as aH, almostWhole as aI, almostEquals as aJ, _decimalPlaces as aK, Ticks as aL, log10 as aM, _longestText as aN, _filterBetween as aO, _lookup as aP, isPatternOrGradient as aQ, getHoverColor as aR, clone as aS, _merger as aT, _mergerIf as aU, _deprecated as aV, _splitKey as aW, toFontString as aX, splineCurve as aY, splineCurveMonotone as aZ, getStyle as a_, _descriptors as aa, mergeIf as ab, uid as ac, debounce as ad, retinaScale as ae, clearCanvas as af, setsEqual as ag, _elementsEqual as ah, _isClickEvent as ai, _isBetween as aj, _readValueToProps as ak, _updateBezierControlPoints as al, _computeSegments as am, _boundSegments as an, _steppedInterpolation as ao, _bezierInterpolation as ap, _pointInLine as aq, _steppedLineTo as ar, _bezierCurveTo as as, drawPoint as at, addRoundedRectPath as au, toTRBL as av, toTRBLCorners as aw, _boundSegment as ax, _normalizeAngle as ay, getRtlAdapter as az, isArray as b, toLineHeight as b0, PITAU as b1, INFINITY as b2, RAD_PER_DEG as b3, QUARTER_PI as b4, TWO_THIRDS_PI as b5, _angleDiff as b6, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, defined as h, isObject as i, createContext as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, _getStartAndCountOfVisiblePoints as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _scaleRangesChanged as w, isNumber as x, _parseObjectDataRadialScale as y, getRelativePosition as z };\n//# sourceMappingURL=helpers.segment.js.map\n","/*!\n * Chart.js v4.4.2\n * https://www.chartjs.org\n * (c) 2024 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, i as isObject, d as defaults, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as defined, s as sign, j as createContext, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as _getStartAndCountOfVisiblePoints, w as _scaleRangesChanged, x as isNumber, y as _parseObjectDataRadialScale, z as getRelativePosition, A as _rlookupByKey, B as _lookupByKey, C as _isPointInArea, D as getAngleFromPoint, E as toPadding, F as each, G as getMaximumSize, I as _getParentNode, J as readUsedSize, K as supportsEventListenerOptions, L as throttled, M as _isDomSupported, N as _factorize, O as finiteOrDefault, Q as callback, R as _addGrace, S as _limitValue, U as toDegrees, V as _measureText, W as _int16Range, X as _alignPixel, Y as clipArea, Z as renderText, $ as unclipArea, a0 as toFont, a1 as _toLeftRightCenter, a2 as _alignStartEnd, a3 as overrides, a4 as merge, a5 as _capitalize, a6 as descriptors, a7 as isFunction, a8 as _attachContext, a9 as _createResolver, aa as _descriptors, ab as mergeIf, ac as uid, ad as debounce, ae as retinaScale, af as clearCanvas, ag as setsEqual, ah as _elementsEqual, ai as _isClickEvent, aj as _isBetween, ak as _readValueToProps, al as _updateBezierControlPoints, am as _computeSegments, an as _boundSegments, ao as _steppedInterpolation, ap as _bezierInterpolation, aq as _pointInLine, ar as _steppedLineTo, as as _bezierCurveTo, at as drawPoint, au as addRoundedRectPath, av as toTRBL, aw as toTRBLCorners, ax as _boundSegment, ay as _normalizeAngle, az as getRtlAdapter, aA as overrideTextDirection, aB as _textX, aC as restoreTextDirection, aD as drawPointLegend, aE as distanceBetweenPoints, aF as noop, aG as _setMinAndMaxByKey, aH as niceNum, aI as almostWhole, aJ as almostEquals, aK as _decimalPlaces, aL as Ticks, aM as log10, aN as _longestText, aO as _filterBetween, aP as _lookup } from './chunks/helpers.segment.js';\nimport '@kurkle/color';\n\nclass Animator {\n    constructor(){\n        this._request = null;\n        this._charts = new Map();\n        this._running = false;\n        this._lastDate = undefined;\n    }\n _notify(chart, anims, date, type) {\n        const callbacks = anims.listeners[type];\n        const numSteps = anims.duration;\n        callbacks.forEach((fn)=>fn({\n                chart,\n                initial: anims.initial,\n                numSteps,\n                currentStep: Math.min(date - anims.start, numSteps)\n            }));\n    }\n _refresh() {\n        if (this._request) {\n            return;\n        }\n        this._running = true;\n        this._request = requestAnimFrame.call(window, ()=>{\n            this._update();\n            this._request = null;\n            if (this._running) {\n                this._refresh();\n            }\n        });\n    }\n _update(date = Date.now()) {\n        let remaining = 0;\n        this._charts.forEach((anims, chart)=>{\n            if (!anims.running || !anims.items.length) {\n                return;\n            }\n            const items = anims.items;\n            let i = items.length - 1;\n            let draw = false;\n            let item;\n            for(; i >= 0; --i){\n                item = items[i];\n                if (item._active) {\n                    if (item._total > anims.duration) {\n                        anims.duration = item._total;\n                    }\n                    item.tick(date);\n                    draw = true;\n                } else {\n                    items[i] = items[items.length - 1];\n                    items.pop();\n                }\n            }\n            if (draw) {\n                chart.draw();\n                this._notify(chart, anims, date, 'progress');\n            }\n            if (!items.length) {\n                anims.running = false;\n                this._notify(chart, anims, date, 'complete');\n                anims.initial = false;\n            }\n            remaining += items.length;\n        });\n        this._lastDate = date;\n        if (remaining === 0) {\n            this._running = false;\n        }\n    }\n _getAnims(chart) {\n        const charts = this._charts;\n        let anims = charts.get(chart);\n        if (!anims) {\n            anims = {\n                running: false,\n                initial: true,\n                items: [],\n                listeners: {\n                    complete: [],\n                    progress: []\n                }\n            };\n            charts.set(chart, anims);\n        }\n        return anims;\n    }\n listen(chart, event, cb) {\n        this._getAnims(chart).listeners[event].push(cb);\n    }\n add(chart, items) {\n        if (!items || !items.length) {\n            return;\n        }\n        this._getAnims(chart).items.push(...items);\n    }\n has(chart) {\n        return this._getAnims(chart).items.length > 0;\n    }\n start(chart) {\n        const anims = this._charts.get(chart);\n        if (!anims) {\n            return;\n        }\n        anims.running = true;\n        anims.start = Date.now();\n        anims.duration = anims.items.reduce((acc, cur)=>Math.max(acc, cur._duration), 0);\n        this._refresh();\n    }\n    running(chart) {\n        if (!this._running) {\n            return false;\n        }\n        const anims = this._charts.get(chart);\n        if (!anims || !anims.running || !anims.items.length) {\n            return false;\n        }\n        return true;\n    }\n stop(chart) {\n        const anims = this._charts.get(chart);\n        if (!anims || !anims.items.length) {\n            return;\n        }\n        const items = anims.items;\n        let i = items.length - 1;\n        for(; i >= 0; --i){\n            items[i].cancel();\n        }\n        anims.items = [];\n        this._notify(chart, anims, Date.now(), 'complete');\n    }\n remove(chart) {\n        return this._charts.delete(chart);\n    }\n}\nvar animator = /* #__PURE__ */ new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n    boolean (from, to, factor) {\n        return factor > 0.5 ? to : from;\n    },\n color (from, to, factor) {\n        const c0 = color(from || transparent);\n        const c1 = c0.valid && color(to || transparent);\n        return c1 && c1.valid ? c1.mix(c0, factor).hexString() : to;\n    },\n    number (from, to, factor) {\n        return from + (to - from) * factor;\n    }\n};\nclass Animation {\n    constructor(cfg, target, prop, to){\n        const currentValue = target[prop];\n        to = resolve([\n            cfg.to,\n            to,\n            currentValue,\n            cfg.from\n        ]);\n        const from = resolve([\n            cfg.from,\n            currentValue,\n            to\n        ]);\n        this._active = true;\n        this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n        this._easing = effects[cfg.easing] || effects.linear;\n        this._start = Math.floor(Date.now() + (cfg.delay || 0));\n        this._duration = this._total = Math.floor(cfg.duration);\n        this._loop = !!cfg.loop;\n        this._target = target;\n        this._prop = prop;\n        this._from = from;\n        this._to = to;\n        this._promises = undefined;\n    }\n    active() {\n        return this._active;\n    }\n    update(cfg, to, date) {\n        if (this._active) {\n            this._notify(false);\n            const currentValue = this._target[this._prop];\n            const elapsed = date - this._start;\n            const remain = this._duration - elapsed;\n            this._start = date;\n            this._duration = Math.floor(Math.max(remain, cfg.duration));\n            this._total += elapsed;\n            this._loop = !!cfg.loop;\n            this._to = resolve([\n                cfg.to,\n                to,\n                currentValue,\n                cfg.from\n            ]);\n            this._from = resolve([\n                cfg.from,\n                currentValue,\n                to\n            ]);\n        }\n    }\n    cancel() {\n        if (this._active) {\n            this.tick(Date.now());\n            this._active = false;\n            this._notify(false);\n        }\n    }\n    tick(date) {\n        const elapsed = date - this._start;\n        const duration = this._duration;\n        const prop = this._prop;\n        const from = this._from;\n        const loop = this._loop;\n        const to = this._to;\n        let factor;\n        this._active = from !== to && (loop || elapsed < duration);\n        if (!this._active) {\n            this._target[prop] = to;\n            this._notify(true);\n            return;\n        }\n        if (elapsed < 0) {\n            this._target[prop] = from;\n            return;\n        }\n        factor = elapsed / duration % 2;\n        factor = loop && factor > 1 ? 2 - factor : factor;\n        factor = this._easing(Math.min(1, Math.max(0, factor)));\n        this._target[prop] = this._fn(from, to, factor);\n    }\n    wait() {\n        const promises = this._promises || (this._promises = []);\n        return new Promise((res, rej)=>{\n            promises.push({\n                res,\n                rej\n            });\n        });\n    }\n    _notify(resolved) {\n        const method = resolved ? 'res' : 'rej';\n        const promises = this._promises || [];\n        for(let i = 0; i < promises.length; i++){\n            promises[i][method]();\n        }\n    }\n}\n\nclass Animations {\n    constructor(chart, config){\n        this._chart = chart;\n        this._properties = new Map();\n        this.configure(config);\n    }\n    configure(config) {\n        if (!isObject(config)) {\n            return;\n        }\n        const animationOptions = Object.keys(defaults.animation);\n        const animatedProps = this._properties;\n        Object.getOwnPropertyNames(config).forEach((key)=>{\n            const cfg = config[key];\n            if (!isObject(cfg)) {\n                return;\n            }\n            const resolved = {};\n            for (const option of animationOptions){\n                resolved[option] = cfg[option];\n            }\n            (isArray(cfg.properties) && cfg.properties || [\n                key\n            ]).forEach((prop)=>{\n                if (prop === key || !animatedProps.has(prop)) {\n                    animatedProps.set(prop, resolved);\n                }\n            });\n        });\n    }\n _animateOptions(target, values) {\n        const newOptions = values.options;\n        const options = resolveTargetOptions(target, newOptions);\n        if (!options) {\n            return [];\n        }\n        const animations = this._createAnimations(options, newOptions);\n        if (newOptions.$shared) {\n            awaitAll(target.options.$animations, newOptions).then(()=>{\n                target.options = newOptions;\n            }, ()=>{\n            });\n        }\n        return animations;\n    }\n _createAnimations(target, values) {\n        const animatedProps = this._properties;\n        const animations = [];\n        const running = target.$animations || (target.$animations = {});\n        const props = Object.keys(values);\n        const date = Date.now();\n        let i;\n        for(i = props.length - 1; i >= 0; --i){\n            const prop = props[i];\n            if (prop.charAt(0) === '$') {\n                continue;\n            }\n            if (prop === 'options') {\n                animations.push(...this._animateOptions(target, values));\n                continue;\n            }\n            const value = values[prop];\n            let animation = running[prop];\n            const cfg = animatedProps.get(prop);\n            if (animation) {\n                if (cfg && animation.active()) {\n                    animation.update(cfg, value, date);\n                    continue;\n                } else {\n                    animation.cancel();\n                }\n            }\n            if (!cfg || !cfg.duration) {\n                target[prop] = value;\n                continue;\n            }\n            running[prop] = animation = new Animation(cfg, target, prop, value);\n            animations.push(animation);\n        }\n        return animations;\n    }\n update(target, values) {\n        if (this._properties.size === 0) {\n            Object.assign(target, values);\n            return;\n        }\n        const animations = this._createAnimations(target, values);\n        if (animations.length) {\n            animator.add(this._chart, animations);\n            return true;\n        }\n    }\n}\nfunction awaitAll(animations, properties) {\n    const running = [];\n    const keys = Object.keys(properties);\n    for(let i = 0; i < keys.length; i++){\n        const anim = animations[keys[i]];\n        if (anim && anim.active()) {\n            running.push(anim.wait());\n        }\n    }\n    return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n    if (!newOptions) {\n        return;\n    }\n    let options = target.options;\n    if (!options) {\n        target.options = newOptions;\n        return;\n    }\n    if (options.$shared) {\n        target.options = options = Object.assign({}, options, {\n            $shared: false,\n            $animations: {}\n        });\n    }\n    return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n    const opts = scale && scale.options || {};\n    const reverse = opts.reverse;\n    const min = opts.min === undefined ? allowedOverflow : 0;\n    const max = opts.max === undefined ? allowedOverflow : 0;\n    return {\n        start: reverse ? max : min,\n        end: reverse ? min : max\n    };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n    if (allowedOverflow === false) {\n        return false;\n    }\n    const x = scaleClip(xScale, allowedOverflow);\n    const y = scaleClip(yScale, allowedOverflow);\n    return {\n        top: y.end,\n        right: x.end,\n        bottom: y.start,\n        left: x.start\n    };\n}\nfunction toClip(value) {\n    let t, r, b, l;\n    if (isObject(value)) {\n        t = value.top;\n        r = value.right;\n        b = value.bottom;\n        l = value.left;\n    } else {\n        t = r = b = l = value;\n    }\n    return {\n        top: t,\n        right: r,\n        bottom: b,\n        left: l,\n        disabled: value === false\n    };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n    const keys = [];\n    const metasets = chart._getSortedDatasetMetas(filterVisible);\n    let i, ilen;\n    for(i = 0, ilen = metasets.length; i < ilen; ++i){\n        keys.push(metasets[i].index);\n    }\n    return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n    const keys = stack.keys;\n    const singleMode = options.mode === 'single';\n    let i, ilen, datasetIndex, otherValue;\n    if (value === null) {\n        return;\n    }\n    for(i = 0, ilen = keys.length; i < ilen; ++i){\n        datasetIndex = +keys[i];\n        if (datasetIndex === dsIndex) {\n            if (options.all) {\n                continue;\n            }\n            break;\n        }\n        otherValue = stack.values[datasetIndex];\n        if (isNumberFinite(otherValue) && (singleMode || value === 0 || sign(value) === sign(otherValue))) {\n            value += otherValue;\n        }\n    }\n    return value;\n}\nfunction convertObjectDataToArray(data) {\n    const keys = Object.keys(data);\n    const adata = new Array(keys.length);\n    let i, ilen, key;\n    for(i = 0, ilen = keys.length; i < ilen; ++i){\n        key = keys[i];\n        adata[i] = {\n            x: key,\n            y: data[key]\n        };\n    }\n    return adata;\n}\nfunction isStacked(scale, meta) {\n    const stacked = scale && scale.options.stacked;\n    return stacked || stacked === undefined && meta.stack !== undefined;\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n    return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n    const { min , max , minDefined , maxDefined  } = scale.getUserBounds();\n    return {\n        min: minDefined ? min : Number.NEGATIVE_INFINITY,\n        max: maxDefined ? max : Number.POSITIVE_INFINITY\n    };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n    const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n    return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n    for (const meta of vScale.getMatchingVisibleMetas(type).reverse()){\n        const value = stack[meta.index];\n        if (positive && value > 0 || !positive && value < 0) {\n            return meta.index;\n        }\n    }\n    return null;\n}\nfunction updateStacks(controller, parsed) {\n    const { chart , _cachedMeta: meta  } = controller;\n    const stacks = chart._stacks || (chart._stacks = {});\n    const { iScale , vScale , index: datasetIndex  } = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const key = getStackKey(iScale, vScale, meta);\n    const ilen = parsed.length;\n    let stack;\n    for(let i = 0; i < ilen; ++i){\n        const item = parsed[i];\n        const { [iAxis]: index , [vAxis]: value  } = item;\n        const itemStacks = item._stacks || (item._stacks = {});\n        stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n        stack[datasetIndex] = value;\n        stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n        stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n        const visualValues = stack._visualValues || (stack._visualValues = {});\n        visualValues[datasetIndex] = value;\n    }\n}\nfunction getFirstScaleId(chart, axis) {\n    const scales = chart.scales;\n    return Object.keys(scales).filter((key)=>scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n    return createContext(parent, {\n        active: false,\n        dataset: undefined,\n        datasetIndex: index,\n        index,\n        mode: 'default',\n        type: 'dataset'\n    });\n}\nfunction createDataContext(parent, index, element) {\n    return createContext(parent, {\n        active: false,\n        dataIndex: index,\n        parsed: undefined,\n        raw: undefined,\n        element,\n        index,\n        mode: 'default',\n        type: 'data'\n    });\n}\nfunction clearStacks(meta, items) {\n    const datasetIndex = meta.controller.index;\n    const axis = meta.vScale && meta.vScale.axis;\n    if (!axis) {\n        return;\n    }\n    items = items || meta._parsed;\n    for (const parsed of items){\n        const stacks = parsed._stacks;\n        if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n            return;\n        }\n        delete stacks[axis][datasetIndex];\n        if (stacks[axis]._visualValues !== undefined && stacks[axis]._visualValues[datasetIndex] !== undefined) {\n            delete stacks[axis]._visualValues[datasetIndex];\n        }\n    }\n}\nconst isDirectUpdateMode = (mode)=>mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared)=>shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart)=>canStack && !meta.hidden && meta._stacked && {\n        keys: getSortedDatasetIndices(chart, true),\n        values: null\n    };\nclass DatasetController {\n static defaults = {};\n static datasetElementType = null;\n static dataElementType = null;\n constructor(chart, datasetIndex){\n        this.chart = chart;\n        this._ctx = chart.ctx;\n        this.index = datasetIndex;\n        this._cachedDataOpts = {};\n        this._cachedMeta = this.getMeta();\n        this._type = this._cachedMeta.type;\n        this.options = undefined;\n         this._parsing = false;\n        this._data = undefined;\n        this._objectData = undefined;\n        this._sharedOptions = undefined;\n        this._drawStart = undefined;\n        this._drawCount = undefined;\n        this.enableOptionSharing = false;\n        this.supportsDecimation = false;\n        this.$context = undefined;\n        this._syncList = [];\n        this.datasetElementType = new.target.datasetElementType;\n        this.dataElementType = new.target.dataElementType;\n        this.initialize();\n    }\n    initialize() {\n        const meta = this._cachedMeta;\n        this.configure();\n        this.linkScales();\n        meta._stacked = isStacked(meta.vScale, meta);\n        this.addElements();\n        if (this.options.fill && !this.chart.isPluginEnabled('filler')) {\n            console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\");\n        }\n    }\n    updateIndex(datasetIndex) {\n        if (this.index !== datasetIndex) {\n            clearStacks(this._cachedMeta);\n        }\n        this.index = datasetIndex;\n    }\n    linkScales() {\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const dataset = this.getDataset();\n        const chooseId = (axis, x, y, r)=>axis === 'x' ? x : axis === 'r' ? r : y;\n        const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n        const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n        const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n        const indexAxis = meta.indexAxis;\n        const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n        const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n        meta.xScale = this.getScaleForId(xid);\n        meta.yScale = this.getScaleForId(yid);\n        meta.rScale = this.getScaleForId(rid);\n        meta.iScale = this.getScaleForId(iid);\n        meta.vScale = this.getScaleForId(vid);\n    }\n    getDataset() {\n        return this.chart.data.datasets[this.index];\n    }\n    getMeta() {\n        return this.chart.getDatasetMeta(this.index);\n    }\n getScaleForId(scaleID) {\n        return this.chart.scales[scaleID];\n    }\n _getOtherScale(scale) {\n        const meta = this._cachedMeta;\n        return scale === meta.iScale ? meta.vScale : meta.iScale;\n    }\n    reset() {\n        this._update('reset');\n    }\n _destroy() {\n        const meta = this._cachedMeta;\n        if (this._data) {\n            unlistenArrayEvents(this._data, this);\n        }\n        if (meta._stacked) {\n            clearStacks(meta);\n        }\n    }\n _dataCheck() {\n        const dataset = this.getDataset();\n        const data = dataset.data || (dataset.data = []);\n        const _data = this._data;\n        if (isObject(data)) {\n            this._data = convertObjectDataToArray(data);\n        } else if (_data !== data) {\n            if (_data) {\n                unlistenArrayEvents(_data, this);\n                const meta = this._cachedMeta;\n                clearStacks(meta);\n                meta._parsed = [];\n            }\n            if (data && Object.isExtensible(data)) {\n                listenArrayEvents(data, this);\n            }\n            this._syncList = [];\n            this._data = data;\n        }\n    }\n    addElements() {\n        const meta = this._cachedMeta;\n        this._dataCheck();\n        if (this.datasetElementType) {\n            meta.dataset = new this.datasetElementType();\n        }\n    }\n    buildOrUpdateElements(resetNewElements) {\n        const meta = this._cachedMeta;\n        const dataset = this.getDataset();\n        let stackChanged = false;\n        this._dataCheck();\n        const oldStacked = meta._stacked;\n        meta._stacked = isStacked(meta.vScale, meta);\n        if (meta.stack !== dataset.stack) {\n            stackChanged = true;\n            clearStacks(meta);\n            meta.stack = dataset.stack;\n        }\n        this._resyncElements(resetNewElements);\n        if (stackChanged || oldStacked !== meta._stacked) {\n            updateStacks(this, meta._parsed);\n        }\n    }\n configure() {\n        const config = this.chart.config;\n        const scopeKeys = config.datasetScopeKeys(this._type);\n        const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n        this.options = config.createResolver(scopes, this.getContext());\n        this._parsing = this.options.parsing;\n        this._cachedDataOpts = {};\n    }\n parse(start, count) {\n        const { _cachedMeta: meta , _data: data  } = this;\n        const { iScale , _stacked  } = meta;\n        const iAxis = iScale.axis;\n        let sorted = start === 0 && count === data.length ? true : meta._sorted;\n        let prev = start > 0 && meta._parsed[start - 1];\n        let i, cur, parsed;\n        if (this._parsing === false) {\n            meta._parsed = data;\n            meta._sorted = true;\n            parsed = data;\n        } else {\n            if (isArray(data[start])) {\n                parsed = this.parseArrayData(meta, data, start, count);\n            } else if (isObject(data[start])) {\n                parsed = this.parseObjectData(meta, data, start, count);\n            } else {\n                parsed = this.parsePrimitiveData(meta, data, start, count);\n            }\n            const isNotInOrderComparedToPrev = ()=>cur[iAxis] === null || prev && cur[iAxis] < prev[iAxis];\n            for(i = 0; i < count; ++i){\n                meta._parsed[i + start] = cur = parsed[i];\n                if (sorted) {\n                    if (isNotInOrderComparedToPrev()) {\n                        sorted = false;\n                    }\n                    prev = cur;\n                }\n            }\n            meta._sorted = sorted;\n        }\n        if (_stacked) {\n            updateStacks(this, parsed);\n        }\n    }\n parsePrimitiveData(meta, data, start, count) {\n        const { iScale , vScale  } = meta;\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const labels = iScale.getLabels();\n        const singleScale = iScale === vScale;\n        const parsed = new Array(count);\n        let i, ilen, index;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            parsed[i] = {\n                [iAxis]: singleScale || iScale.parse(labels[index], index),\n                [vAxis]: vScale.parse(data[index], index)\n            };\n        }\n        return parsed;\n    }\n parseArrayData(meta, data, start, count) {\n        const { xScale , yScale  } = meta;\n        const parsed = new Array(count);\n        let i, ilen, index, item;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            item = data[index];\n            parsed[i] = {\n                x: xScale.parse(item[0], index),\n                y: yScale.parse(item[1], index)\n            };\n        }\n        return parsed;\n    }\n parseObjectData(meta, data, start, count) {\n        const { xScale , yScale  } = meta;\n        const { xAxisKey ='x' , yAxisKey ='y'  } = this._parsing;\n        const parsed = new Array(count);\n        let i, ilen, index, item;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            item = data[index];\n            parsed[i] = {\n                x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n                y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n            };\n        }\n        return parsed;\n    }\n getParsed(index) {\n        return this._cachedMeta._parsed[index];\n    }\n getDataElement(index) {\n        return this._cachedMeta.data[index];\n    }\n applyStack(scale, parsed, mode) {\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const value = parsed[scale.axis];\n        const stack = {\n            keys: getSortedDatasetIndices(chart, true),\n            values: parsed._stacks[scale.axis]._visualValues\n        };\n        return applyStack(stack, value, meta.index, {\n            mode\n        });\n    }\n updateRangeFromParsed(range, scale, parsed, stack) {\n        const parsedValue = parsed[scale.axis];\n        let value = parsedValue === null ? NaN : parsedValue;\n        const values = stack && parsed._stacks[scale.axis];\n        if (stack && values) {\n            stack.values = values;\n            value = applyStack(stack, parsedValue, this._cachedMeta.index);\n        }\n        range.min = Math.min(range.min, value);\n        range.max = Math.max(range.max, value);\n    }\n getMinMax(scale, canStack) {\n        const meta = this._cachedMeta;\n        const _parsed = meta._parsed;\n        const sorted = meta._sorted && scale === meta.iScale;\n        const ilen = _parsed.length;\n        const otherScale = this._getOtherScale(scale);\n        const stack = createStack(canStack, meta, this.chart);\n        const range = {\n            min: Number.POSITIVE_INFINITY,\n            max: Number.NEGATIVE_INFINITY\n        };\n        const { min: otherMin , max: otherMax  } = getUserBounds(otherScale);\n        let i, parsed;\n        function _skip() {\n            parsed = _parsed[i];\n            const otherValue = parsed[otherScale.axis];\n            return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n        }\n        for(i = 0; i < ilen; ++i){\n            if (_skip()) {\n                continue;\n            }\n            this.updateRangeFromParsed(range, scale, parsed, stack);\n            if (sorted) {\n                break;\n            }\n        }\n        if (sorted) {\n            for(i = ilen - 1; i >= 0; --i){\n                if (_skip()) {\n                    continue;\n                }\n                this.updateRangeFromParsed(range, scale, parsed, stack);\n                break;\n            }\n        }\n        return range;\n    }\n    getAllParsedValues(scale) {\n        const parsed = this._cachedMeta._parsed;\n        const values = [];\n        let i, ilen, value;\n        for(i = 0, ilen = parsed.length; i < ilen; ++i){\n            value = parsed[i][scale.axis];\n            if (isNumberFinite(value)) {\n                values.push(value);\n            }\n        }\n        return values;\n    }\n getMaxOverflow() {\n        return false;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const iScale = meta.iScale;\n        const vScale = meta.vScale;\n        const parsed = this.getParsed(index);\n        return {\n            label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n            value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n        };\n    }\n _update(mode) {\n        const meta = this._cachedMeta;\n        this.update(mode || 'default');\n        meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n    }\n update(mode) {}\n    draw() {\n        const ctx = this._ctx;\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const elements = meta.data || [];\n        const area = chart.chartArea;\n        const active = [];\n        const start = this._drawStart || 0;\n        const count = this._drawCount || elements.length - start;\n        const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n        let i;\n        if (meta.dataset) {\n            meta.dataset.draw(ctx, area, start, count);\n        }\n        for(i = start; i < start + count; ++i){\n            const element = elements[i];\n            if (element.hidden) {\n                continue;\n            }\n            if (element.active && drawActiveElementsOnTop) {\n                active.push(element);\n            } else {\n                element.draw(ctx, area);\n            }\n        }\n        for(i = 0; i < active.length; ++i){\n            active[i].draw(ctx, area);\n        }\n    }\n getStyle(index, active) {\n        const mode = active ? 'active' : 'default';\n        return index === undefined && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(mode) : this.resolveDataElementOptions(index || 0, mode);\n    }\n getContext(index, active, mode) {\n        const dataset = this.getDataset();\n        let context;\n        if (index >= 0 && index < this._cachedMeta.data.length) {\n            const element = this._cachedMeta.data[index];\n            context = element.$context || (element.$context = createDataContext(this.getContext(), index, element));\n            context.parsed = this.getParsed(index);\n            context.raw = dataset.data[index];\n            context.index = context.dataIndex = index;\n        } else {\n            context = this.$context || (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n            context.dataset = dataset;\n            context.index = context.datasetIndex = this.index;\n        }\n        context.active = !!active;\n        context.mode = mode;\n        return context;\n    }\n resolveDatasetElementOptions(mode) {\n        return this._resolveElementOptions(this.datasetElementType.id, mode);\n    }\n resolveDataElementOptions(index, mode) {\n        return this._resolveElementOptions(this.dataElementType.id, mode, index);\n    }\n _resolveElementOptions(elementType, mode = 'default', index) {\n        const active = mode === 'active';\n        const cache = this._cachedDataOpts;\n        const cacheKey = elementType + '-' + mode;\n        const cached = cache[cacheKey];\n        const sharing = this.enableOptionSharing && defined(index);\n        if (cached) {\n            return cloneIfNotShared(cached, sharing);\n        }\n        const config = this.chart.config;\n        const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n        const prefixes = active ? [\n            `${elementType}Hover`,\n            'hover',\n            elementType,\n            ''\n        ] : [\n            elementType,\n            ''\n        ];\n        const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n        const names = Object.keys(defaults.elements[elementType]);\n        const context = ()=>this.getContext(index, active, mode);\n        const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n        if (values.$shared) {\n            values.$shared = sharing;\n            cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n        }\n        return values;\n    }\n _resolveAnimations(index, transition, active) {\n        const chart = this.chart;\n        const cache = this._cachedDataOpts;\n        const cacheKey = `animation-${transition}`;\n        const cached = cache[cacheKey];\n        if (cached) {\n            return cached;\n        }\n        let options;\n        if (chart.options.animation !== false) {\n            const config = this.chart.config;\n            const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n            const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n            options = config.createResolver(scopes, this.getContext(index, active, transition));\n        }\n        const animations = new Animations(chart, options && options.animations);\n        if (options && options._cacheable) {\n            cache[cacheKey] = Object.freeze(animations);\n        }\n        return animations;\n    }\n getSharedOptions(options) {\n        if (!options.$shared) {\n            return;\n        }\n        return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n    }\n includeOptions(mode, sharedOptions) {\n        return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n    }\n _getSharedOptions(start, mode) {\n        const firstOpts = this.resolveDataElementOptions(start, mode);\n        const previouslySharedOptions = this._sharedOptions;\n        const sharedOptions = this.getSharedOptions(firstOpts);\n        const includeOptions = this.includeOptions(mode, sharedOptions) || sharedOptions !== previouslySharedOptions;\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\n        return {\n            sharedOptions,\n            includeOptions\n        };\n    }\n updateElement(element, index, properties, mode) {\n        if (isDirectUpdateMode(mode)) {\n            Object.assign(element, properties);\n        } else {\n            this._resolveAnimations(index, mode).update(element, properties);\n        }\n    }\n updateSharedOptions(sharedOptions, mode, newOptions) {\n        if (sharedOptions && !isDirectUpdateMode(mode)) {\n            this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n        }\n    }\n _setStyle(element, index, mode, active) {\n        element.active = active;\n        const options = this.getStyle(index, active);\n        this._resolveAnimations(index, mode, active).update(element, {\n            options: !active && this.getSharedOptions(options) || options\n        });\n    }\n    removeHoverStyle(element, datasetIndex, index) {\n        this._setStyle(element, index, 'active', false);\n    }\n    setHoverStyle(element, datasetIndex, index) {\n        this._setStyle(element, index, 'active', true);\n    }\n _removeDatasetHoverStyle() {\n        const element = this._cachedMeta.dataset;\n        if (element) {\n            this._setStyle(element, undefined, 'active', false);\n        }\n    }\n _setDatasetHoverStyle() {\n        const element = this._cachedMeta.dataset;\n        if (element) {\n            this._setStyle(element, undefined, 'active', true);\n        }\n    }\n _resyncElements(resetNewElements) {\n        const data = this._data;\n        const elements = this._cachedMeta.data;\n        for (const [method, arg1, arg2] of this._syncList){\n            this[method](arg1, arg2);\n        }\n        this._syncList = [];\n        const numMeta = elements.length;\n        const numData = data.length;\n        const count = Math.min(numData, numMeta);\n        if (count) {\n            this.parse(0, count);\n        }\n        if (numData > numMeta) {\n            this._insertElements(numMeta, numData - numMeta, resetNewElements);\n        } else if (numData < numMeta) {\n            this._removeElements(numData, numMeta - numData);\n        }\n    }\n _insertElements(start, count, resetNewElements = true) {\n        const meta = this._cachedMeta;\n        const data = meta.data;\n        const end = start + count;\n        let i;\n        const move = (arr)=>{\n            arr.length += count;\n            for(i = arr.length - 1; i >= end; i--){\n                arr[i] = arr[i - count];\n            }\n        };\n        move(data);\n        for(i = start; i < end; ++i){\n            data[i] = new this.dataElementType();\n        }\n        if (this._parsing) {\n            move(meta._parsed);\n        }\n        this.parse(start, count);\n        if (resetNewElements) {\n            this.updateElements(data, start, count, 'reset');\n        }\n    }\n    updateElements(element, start, count, mode) {}\n _removeElements(start, count) {\n        const meta = this._cachedMeta;\n        if (this._parsing) {\n            const removed = meta._parsed.splice(start, count);\n            if (meta._stacked) {\n                clearStacks(meta, removed);\n            }\n        }\n        meta.data.splice(start, count);\n    }\n _sync(args) {\n        if (this._parsing) {\n            this._syncList.push(args);\n        } else {\n            const [method, arg1, arg2] = args;\n            this[method](arg1, arg2);\n        }\n        this.chart._dataChanges.push([\n            this.index,\n            ...args\n        ]);\n    }\n    _onDataPush() {\n        const count = arguments.length;\n        this._sync([\n            '_insertElements',\n            this.getDataset().data.length - count,\n            count\n        ]);\n    }\n    _onDataPop() {\n        this._sync([\n            '_removeElements',\n            this._cachedMeta.data.length - 1,\n            1\n        ]);\n    }\n    _onDataShift() {\n        this._sync([\n            '_removeElements',\n            0,\n            1\n        ]);\n    }\n    _onDataSplice(start, count) {\n        if (count) {\n            this._sync([\n                '_removeElements',\n                start,\n                count\n            ]);\n        }\n        const newCount = arguments.length - 2;\n        if (newCount) {\n            this._sync([\n                '_insertElements',\n                start,\n                newCount\n            ]);\n        }\n    }\n    _onDataUnshift() {\n        this._sync([\n            '_insertElements',\n            0,\n            arguments.length\n        ]);\n    }\n}\n\nfunction getAllScaleValues(scale, type) {\n    if (!scale._cache.$bar) {\n        const visibleMetas = scale.getMatchingVisibleMetas(type);\n        let values = [];\n        for(let i = 0, ilen = visibleMetas.length; i < ilen; i++){\n            values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n        }\n        scale._cache.$bar = _arrayUnique(values.sort((a, b)=>a - b));\n    }\n    return scale._cache.$bar;\n}\n function computeMinSampleSize(meta) {\n    const scale = meta.iScale;\n    const values = getAllScaleValues(scale, meta.type);\n    let min = scale._length;\n    let i, ilen, curr, prev;\n    const updateMinAndPrev = ()=>{\n        if (curr === 32767 || curr === -32768) {\n            return;\n        }\n        if (defined(prev)) {\n            min = Math.min(min, Math.abs(curr - prev) || min);\n        }\n        prev = curr;\n    };\n    for(i = 0, ilen = values.length; i < ilen; ++i){\n        curr = scale.getPixelForValue(values[i]);\n        updateMinAndPrev();\n    }\n    prev = undefined;\n    for(i = 0, ilen = scale.ticks.length; i < ilen; ++i){\n        curr = scale.getPixelForTick(i);\n        updateMinAndPrev();\n    }\n    return min;\n}\n function computeFitCategoryTraits(index, ruler, options, stackCount) {\n    const thickness = options.barThickness;\n    let size, ratio;\n    if (isNullOrUndef(thickness)) {\n        size = ruler.min * options.categoryPercentage;\n        ratio = options.barPercentage;\n    } else {\n        size = thickness * stackCount;\n        ratio = 1;\n    }\n    return {\n        chunk: size / stackCount,\n        ratio,\n        start: ruler.pixels[index] - size / 2\n    };\n}\n function computeFlexCategoryTraits(index, ruler, options, stackCount) {\n    const pixels = ruler.pixels;\n    const curr = pixels[index];\n    let prev = index > 0 ? pixels[index - 1] : null;\n    let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n    const percent = options.categoryPercentage;\n    if (prev === null) {\n        prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n    }\n    if (next === null) {\n        next = curr + curr - prev;\n    }\n    const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n    const size = Math.abs(next - prev) / 2 * percent;\n    return {\n        chunk: size / stackCount,\n        ratio: options.barPercentage,\n        start\n    };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n    const startValue = vScale.parse(entry[0], i);\n    const endValue = vScale.parse(entry[1], i);\n    const min = Math.min(startValue, endValue);\n    const max = Math.max(startValue, endValue);\n    let barStart = min;\n    let barEnd = max;\n    if (Math.abs(min) > Math.abs(max)) {\n        barStart = max;\n        barEnd = min;\n    }\n    item[vScale.axis] = barEnd;\n    item._custom = {\n        barStart,\n        barEnd,\n        start: startValue,\n        end: endValue,\n        min,\n        max\n    };\n}\nfunction parseValue(entry, item, vScale, i) {\n    if (isArray(entry)) {\n        parseFloatBar(entry, item, vScale, i);\n    } else {\n        item[vScale.axis] = vScale.parse(entry, i);\n    }\n    return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = [];\n    let i, ilen, item, entry;\n    for(i = start, ilen = start + count; i < ilen; ++i){\n        entry = data[i];\n        item = {};\n        item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n        parsed.push(parseValue(entry, item, vScale, i));\n    }\n    return parsed;\n}\nfunction isFloatBar(custom) {\n    return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n    if (size !== 0) {\n        return sign(size);\n    }\n    return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n    let reverse, start, end, top, bottom;\n    if (properties.horizontal) {\n        reverse = properties.base > properties.x;\n        start = 'left';\n        end = 'right';\n    } else {\n        reverse = properties.base < properties.y;\n        start = 'bottom';\n        end = 'top';\n    }\n    if (reverse) {\n        top = 'end';\n        bottom = 'start';\n    } else {\n        top = 'start';\n        bottom = 'end';\n    }\n    return {\n        start,\n        end,\n        reverse,\n        top,\n        bottom\n    };\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n    let edge = options.borderSkipped;\n    const res = {};\n    if (!edge) {\n        properties.borderSkipped = res;\n        return;\n    }\n    if (edge === true) {\n        properties.borderSkipped = {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true\n        };\n        return;\n    }\n    const { start , end , reverse , top , bottom  } = borderProps(properties);\n    if (edge === 'middle' && stack) {\n        properties.enableBorderRadius = true;\n        if ((stack._top || 0) === index) {\n            edge = top;\n        } else if ((stack._bottom || 0) === index) {\n            edge = bottom;\n        } else {\n            res[parseEdge(bottom, start, end, reverse)] = true;\n            edge = top;\n        }\n    }\n    res[parseEdge(edge, start, end, reverse)] = true;\n    properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n    if (reverse) {\n        edge = swap(edge, a, b);\n        edge = startEnd(edge, b, a);\n    } else {\n        edge = startEnd(edge, a, b);\n    }\n    return edge;\n}\nfunction swap(orig, v1, v2) {\n    return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n    return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, { inflateAmount  }, ratio) {\n    properties.inflateAmount = inflateAmount === 'auto' ? ratio === 1 ? 0.33 : 0 : inflateAmount;\n}\nclass BarController extends DatasetController {\n    static id = 'bar';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'bar',\n        categoryPercentage: 0.8,\n        barPercentage: 0.9,\n        grouped: true,\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'base',\n                    'width',\n                    'height'\n                ]\n            }\n        }\n    };\n static overrides = {\n        scales: {\n            _index_: {\n                type: 'category',\n                offset: true,\n                grid: {\n                    offset: true\n                }\n            },\n            _value_: {\n                type: 'linear',\n                beginAtZero: true\n            }\n        }\n    };\n parsePrimitiveData(meta, data, start, count) {\n        return parseArrayOrPrimitive(meta, data, start, count);\n    }\n parseArrayData(meta, data, start, count) {\n        return parseArrayOrPrimitive(meta, data, start, count);\n    }\n parseObjectData(meta, data, start, count) {\n        const { iScale , vScale  } = meta;\n        const { xAxisKey ='x' , yAxisKey ='y'  } = this._parsing;\n        const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n        const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n        const parsed = [];\n        let i, ilen, item, obj;\n        for(i = start, ilen = start + count; i < ilen; ++i){\n            obj = data[i];\n            item = {};\n            item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n            parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n        }\n        return parsed;\n    }\n updateRangeFromParsed(range, scale, parsed, stack) {\n        super.updateRangeFromParsed(range, scale, parsed, stack);\n        const custom = parsed._custom;\n        if (custom && scale === this._cachedMeta.vScale) {\n            range.min = Math.min(range.min, custom.min);\n            range.max = Math.max(range.max, custom.max);\n        }\n    }\n getMaxOverflow() {\n        return 0;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const { iScale , vScale  } = meta;\n        const parsed = this.getParsed(index);\n        const custom = parsed._custom;\n        const value = isFloatBar(custom) ? '[' + custom.start + ', ' + custom.end + ']' : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n        return {\n            label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n            value\n        };\n    }\n    initialize() {\n        this.enableOptionSharing = true;\n        super.initialize();\n        const meta = this._cachedMeta;\n        meta.stack = this.getDataset().stack;\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        this.updateElements(meta.data, 0, meta.data.length, mode);\n    }\n    updateElements(bars, start, count, mode) {\n        const reset = mode === 'reset';\n        const { index , _cachedMeta: { vScale  }  } = this;\n        const base = vScale.getBasePixel();\n        const horizontal = vScale.isHorizontal();\n        const ruler = this._getRuler();\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        for(let i = start; i < start + count; i++){\n            const parsed = this.getParsed(i);\n            const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {\n                base,\n                head: base\n            } : this._calculateBarValuePixels(i);\n            const ipixels = this._calculateBarIndexPixels(i, ruler);\n            const stack = (parsed._stacks || {})[vScale.axis];\n            const properties = {\n                horizontal,\n                base: vpixels.base,\n                enableBorderRadius: !stack || isFloatBar(parsed._custom) || index === stack._top || index === stack._bottom,\n                x: horizontal ? vpixels.head : ipixels.center,\n                y: horizontal ? ipixels.center : vpixels.head,\n                height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n                width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n            };\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n            }\n            const options = properties.options || bars[i].options;\n            setBorderSkipped(properties, options, stack, index);\n            setInflateAmount(properties, options, ruler.ratio);\n            this.updateElement(bars[i], i, properties, mode);\n        }\n    }\n _getStacks(last, dataIndex) {\n        const { iScale  } = this._cachedMeta;\n        const metasets = iScale.getMatchingVisibleMetas(this._type).filter((meta)=>meta.controller.options.grouped);\n        const stacked = iScale.options.stacked;\n        const stacks = [];\n        const skipNull = (meta)=>{\n            const parsed = meta.controller.getParsed(dataIndex);\n            const val = parsed && parsed[meta.vScale.axis];\n            if (isNullOrUndef(val) || isNaN(val)) {\n                return true;\n            }\n        };\n        for (const meta of metasets){\n            if (dataIndex !== undefined && skipNull(meta)) {\n                continue;\n            }\n            if (stacked === false || stacks.indexOf(meta.stack) === -1 || stacked === undefined && meta.stack === undefined) {\n                stacks.push(meta.stack);\n            }\n            if (meta.index === last) {\n                break;\n            }\n        }\n        if (!stacks.length) {\n            stacks.push(undefined);\n        }\n        return stacks;\n    }\n _getStackCount(index) {\n        return this._getStacks(undefined, index).length;\n    }\n _getStackIndex(datasetIndex, name, dataIndex) {\n        const stacks = this._getStacks(datasetIndex, dataIndex);\n        const index = name !== undefined ? stacks.indexOf(name) : -1;\n        return index === -1 ? stacks.length - 1 : index;\n    }\n _getRuler() {\n        const opts = this.options;\n        const meta = this._cachedMeta;\n        const iScale = meta.iScale;\n        const pixels = [];\n        let i, ilen;\n        for(i = 0, ilen = meta.data.length; i < ilen; ++i){\n            pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n        }\n        const barThickness = opts.barThickness;\n        const min = barThickness || computeMinSampleSize(meta);\n        return {\n            min,\n            pixels,\n            start: iScale._startPixel,\n            end: iScale._endPixel,\n            stackCount: this._getStackCount(),\n            scale: iScale,\n            grouped: opts.grouped,\n            ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n        };\n    }\n _calculateBarValuePixels(index) {\n        const { _cachedMeta: { vScale , _stacked , index: datasetIndex  } , options: { base: baseValue , minBarLength  }  } = this;\n        const actualBase = baseValue || 0;\n        const parsed = this.getParsed(index);\n        const custom = parsed._custom;\n        const floating = isFloatBar(custom);\n        let value = parsed[vScale.axis];\n        let start = 0;\n        let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n        let head, size;\n        if (length !== value) {\n            start = length - value;\n            length = value;\n        }\n        if (floating) {\n            value = custom.barStart;\n            length = custom.barEnd - custom.barStart;\n            if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n                start = 0;\n            }\n            start += value;\n        }\n        const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n        let base = vScale.getPixelForValue(startValue);\n        if (this.chart.getDataVisibility(index)) {\n            head = vScale.getPixelForValue(start + length);\n        } else {\n            head = base;\n        }\n        size = head - base;\n        if (Math.abs(size) < minBarLength) {\n            size = barSign(size, vScale, actualBase) * minBarLength;\n            if (value === actualBase) {\n                base -= size / 2;\n            }\n            const startPixel = vScale.getPixelForDecimal(0);\n            const endPixel = vScale.getPixelForDecimal(1);\n            const min = Math.min(startPixel, endPixel);\n            const max = Math.max(startPixel, endPixel);\n            base = Math.max(Math.min(base, max), min);\n            head = base + size;\n            if (_stacked && !floating) {\n                parsed._stacks[vScale.axis]._visualValues[datasetIndex] = vScale.getValueForPixel(head) - vScale.getValueForPixel(base);\n            }\n        }\n        if (base === vScale.getPixelForValue(actualBase)) {\n            const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n            base += halfGrid;\n            size -= halfGrid;\n        }\n        return {\n            size,\n            base,\n            head,\n            center: head + size / 2\n        };\n    }\n _calculateBarIndexPixels(index, ruler) {\n        const scale = ruler.scale;\n        const options = this.options;\n        const skipNull = options.skipNull;\n        const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n        let center, size;\n        if (ruler.grouped) {\n            const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n            const range = options.barThickness === 'flex' ? computeFlexCategoryTraits(index, ruler, options, stackCount) : computeFitCategoryTraits(index, ruler, options, stackCount);\n            const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n            center = range.start + range.chunk * stackIndex + range.chunk / 2;\n            size = Math.min(maxBarThickness, range.chunk * range.ratio);\n        } else {\n            center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n            size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n        }\n        return {\n            base: center - size / 2,\n            head: center + size / 2,\n            center,\n            size\n        };\n    }\n    draw() {\n        const meta = this._cachedMeta;\n        const vScale = meta.vScale;\n        const rects = meta.data;\n        const ilen = rects.length;\n        let i = 0;\n        for(; i < ilen; ++i){\n            if (this.getParsed(i)[vScale.axis] !== null) {\n                rects[i].draw(this._ctx);\n            }\n        }\n    }\n}\n\nclass BubbleController extends DatasetController {\n    static id = 'bubble';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'point',\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'borderWidth',\n                    'radius'\n                ]\n            }\n        }\n    };\n static overrides = {\n        scales: {\n            x: {\n                type: 'linear'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    };\n    initialize() {\n        this.enableOptionSharing = true;\n        super.initialize();\n    }\n parsePrimitiveData(meta, data, start, count) {\n        const parsed = super.parsePrimitiveData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n        }\n        return parsed;\n    }\n parseArrayData(meta, data, start, count) {\n        const parsed = super.parseArrayData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            const item = data[start + i];\n            parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n        }\n        return parsed;\n    }\n parseObjectData(meta, data, start, count) {\n        const parsed = super.parseObjectData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            const item = data[start + i];\n            parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n        }\n        return parsed;\n    }\n getMaxOverflow() {\n        const data = this._cachedMeta.data;\n        let max = 0;\n        for(let i = data.length - 1; i >= 0; --i){\n            max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n        }\n        return max > 0 && max;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const labels = this.chart.data.labels || [];\n        const { xScale , yScale  } = meta;\n        const parsed = this.getParsed(index);\n        const x = xScale.getLabelForValue(parsed.x);\n        const y = yScale.getLabelForValue(parsed.y);\n        const r = parsed._custom;\n        return {\n            label: labels[index] || '',\n            value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n        };\n    }\n    update(mode) {\n        const points = this._cachedMeta.data;\n        this.updateElements(points, 0, points.length, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale  } = this._cachedMeta;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        for(let i = start; i < start + count; i++){\n            const point = points[i];\n            const parsed = !reset && this.getParsed(i);\n            const properties = {};\n            const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n            const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel);\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n                if (reset) {\n                    properties.options.radius = 0;\n                }\n            }\n            this.updateElement(point, i, properties, mode);\n        }\n    }\n resolveDataElementOptions(index, mode) {\n        const parsed = this.getParsed(index);\n        let values = super.resolveDataElementOptions(index, mode);\n        if (values.$shared) {\n            values = Object.assign({}, values, {\n                $shared: false\n            });\n        }\n        const radius = values.radius;\n        if (mode !== 'active') {\n            values.radius = 0;\n        }\n        values.radius += valueOrDefault(parsed && parsed._custom, radius);\n        return values;\n    }\n}\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n    let ratioX = 1;\n    let ratioY = 1;\n    let offsetX = 0;\n    let offsetY = 0;\n    if (circumference < TAU) {\n        const startAngle = rotation;\n        const endAngle = startAngle + circumference;\n        const startX = Math.cos(startAngle);\n        const startY = Math.sin(startAngle);\n        const endX = Math.cos(endAngle);\n        const endY = Math.sin(endAngle);\n        const calcMax = (angle, a, b)=>_angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n        const calcMin = (angle, a, b)=>_angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n        const maxX = calcMax(0, startX, endX);\n        const maxY = calcMax(HALF_PI, startY, endY);\n        const minX = calcMin(PI, startX, endX);\n        const minY = calcMin(PI + HALF_PI, startY, endY);\n        ratioX = (maxX - minX) / 2;\n        ratioY = (maxY - minY) / 2;\n        offsetX = -(maxX + minX) / 2;\n        offsetY = -(maxY + minY) / 2;\n    }\n    return {\n        ratioX,\n        ratioY,\n        offsetX,\n        offsetY\n    };\n}\nclass DoughnutController extends DatasetController {\n    static id = 'doughnut';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'arc',\n        animation: {\n            animateRotate: true,\n            animateScale: false\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'circumference',\n                    'endAngle',\n                    'innerRadius',\n                    'outerRadius',\n                    'startAngle',\n                    'x',\n                    'y',\n                    'offset',\n                    'borderWidth',\n                    'spacing'\n                ]\n            }\n        },\n        cutout: '50%',\n        rotation: 0,\n        circumference: 360,\n        radius: '100%',\n        spacing: 0,\n        indexAxis: 'r'\n    };\n    static descriptors = {\n        _scriptable: (name)=>name !== 'spacing',\n        _indexable: (name)=>name !== 'spacing' && !name.startsWith('borderDash') && !name.startsWith('hoverBorderDash')\n    };\n static overrides = {\n        aspectRatio: 1,\n        plugins: {\n            legend: {\n                labels: {\n                    generateLabels (chart) {\n                        const data = chart.data;\n                        if (data.labels.length && data.datasets.length) {\n                            const { labels: { pointStyle , color  }  } = chart.legend.options;\n                            return data.labels.map((label, i)=>{\n                                const meta = chart.getDatasetMeta(0);\n                                const style = meta.controller.getStyle(i);\n                                return {\n                                    text: label,\n                                    fillStyle: style.backgroundColor,\n                                    strokeStyle: style.borderColor,\n                                    fontColor: color,\n                                    lineWidth: style.borderWidth,\n                                    pointStyle: pointStyle,\n                                    hidden: !chart.getDataVisibility(i),\n                                    index: i\n                                };\n                            });\n                        }\n                        return [];\n                    }\n                },\n                onClick (e, legendItem, legend) {\n                    legend.chart.toggleDataVisibility(legendItem.index);\n                    legend.chart.update();\n                }\n            }\n        }\n    };\n    constructor(chart, datasetIndex){\n        super(chart, datasetIndex);\n        this.enableOptionSharing = true;\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n        this.offsetX = undefined;\n        this.offsetY = undefined;\n    }\n    linkScales() {}\n parse(start, count) {\n        const data = this.getDataset().data;\n        const meta = this._cachedMeta;\n        if (this._parsing === false) {\n            meta._parsed = data;\n        } else {\n            let getter = (i)=>+data[i];\n            if (isObject(data[start])) {\n                const { key ='value'  } = this._parsing;\n                getter = (i)=>+resolveObjectKey(data[i], key);\n            }\n            let i, ilen;\n            for(i = start, ilen = start + count; i < ilen; ++i){\n                meta._parsed[i] = getter(i);\n            }\n        }\n    }\n _getRotation() {\n        return toRadians(this.options.rotation - 90);\n    }\n _getCircumference() {\n        return toRadians(this.options.circumference);\n    }\n _getRotationExtents() {\n        let min = TAU;\n        let max = -TAU;\n        for(let i = 0; i < this.chart.data.datasets.length; ++i){\n            if (this.chart.isDatasetVisible(i) && this.chart.getDatasetMeta(i).type === this._type) {\n                const controller = this.chart.getDatasetMeta(i).controller;\n                const rotation = controller._getRotation();\n                const circumference = controller._getCircumference();\n                min = Math.min(min, rotation);\n                max = Math.max(max, rotation + circumference);\n            }\n        }\n        return {\n            rotation: min,\n            circumference: max - min\n        };\n    }\n update(mode) {\n        const chart = this.chart;\n        const { chartArea  } = chart;\n        const meta = this._cachedMeta;\n        const arcs = meta.data;\n        const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n        const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n        const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n        const chartWeight = this._getRingWeight(this.index);\n        const { circumference , rotation  } = this._getRotationExtents();\n        const { ratioX , ratioY , offsetX , offsetY  } = getRatioAndOffset(rotation, circumference, cutout);\n        const maxWidth = (chartArea.width - spacing) / ratioX;\n        const maxHeight = (chartArea.height - spacing) / ratioY;\n        const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n        const outerRadius = toDimension(this.options.radius, maxRadius);\n        const innerRadius = Math.max(outerRadius * cutout, 0);\n        const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n        this.offsetX = offsetX * outerRadius;\n        this.offsetY = offsetY * outerRadius;\n        meta.total = this.calculateTotal();\n        this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n        this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n        this.updateElements(arcs, 0, arcs.length, mode);\n    }\n _circumference(i, reset) {\n        const opts = this.options;\n        const meta = this._cachedMeta;\n        const circumference = this._getCircumference();\n        if (reset && opts.animation.animateRotate || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n            return 0;\n        }\n        return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n    }\n    updateElements(arcs, start, count, mode) {\n        const reset = mode === 'reset';\n        const chart = this.chart;\n        const chartArea = chart.chartArea;\n        const opts = chart.options;\n        const animationOpts = opts.animation;\n        const centerX = (chartArea.left + chartArea.right) / 2;\n        const centerY = (chartArea.top + chartArea.bottom) / 2;\n        const animateScale = reset && animationOpts.animateScale;\n        const innerRadius = animateScale ? 0 : this.innerRadius;\n        const outerRadius = animateScale ? 0 : this.outerRadius;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        let startAngle = this._getRotation();\n        let i;\n        for(i = 0; i < start; ++i){\n            startAngle += this._circumference(i, reset);\n        }\n        for(i = start; i < start + count; ++i){\n            const circumference = this._circumference(i, reset);\n            const arc = arcs[i];\n            const properties = {\n                x: centerX + this.offsetX,\n                y: centerY + this.offsetY,\n                startAngle,\n                endAngle: startAngle + circumference,\n                circumference,\n                outerRadius,\n                innerRadius\n            };\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n            }\n            startAngle += circumference;\n            this.updateElement(arc, i, properties, mode);\n        }\n    }\n    calculateTotal() {\n        const meta = this._cachedMeta;\n        const metaData = meta.data;\n        let total = 0;\n        let i;\n        for(i = 0; i < metaData.length; i++){\n            const value = meta._parsed[i];\n            if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n                total += Math.abs(value);\n            }\n        }\n        return total;\n    }\n    calculateCircumference(value) {\n        const total = this._cachedMeta.total;\n        if (total > 0 && !isNaN(value)) {\n            return TAU * (Math.abs(value) / total);\n        }\n        return 0;\n    }\n    getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const chart = this.chart;\n        const labels = chart.data.labels || [];\n        const value = formatNumber(meta._parsed[index], chart.options.locale);\n        return {\n            label: labels[index] || '',\n            value\n        };\n    }\n    getMaxBorderWidth(arcs) {\n        let max = 0;\n        const chart = this.chart;\n        let i, ilen, meta, controller, options;\n        if (!arcs) {\n            for(i = 0, ilen = chart.data.datasets.length; i < ilen; ++i){\n                if (chart.isDatasetVisible(i)) {\n                    meta = chart.getDatasetMeta(i);\n                    arcs = meta.data;\n                    controller = meta.controller;\n                    break;\n                }\n            }\n        }\n        if (!arcs) {\n            return 0;\n        }\n        for(i = 0, ilen = arcs.length; i < ilen; ++i){\n            options = controller.resolveDataElementOptions(i);\n            if (options.borderAlign !== 'inner') {\n                max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n            }\n        }\n        return max;\n    }\n    getMaxOffset(arcs) {\n        let max = 0;\n        for(let i = 0, ilen = arcs.length; i < ilen; ++i){\n            const options = this.resolveDataElementOptions(i);\n            max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n        }\n        return max;\n    }\n _getRingWeightOffset(datasetIndex) {\n        let ringWeightOffset = 0;\n        for(let i = 0; i < datasetIndex; ++i){\n            if (this.chart.isDatasetVisible(i)) {\n                ringWeightOffset += this._getRingWeight(i);\n            }\n        }\n        return ringWeightOffset;\n    }\n _getRingWeight(datasetIndex) {\n        return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n    }\n _getVisibleDatasetWeightTotal() {\n        return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n    }\n}\n\nclass LineController extends DatasetController {\n    static id = 'line';\n static defaults = {\n        datasetElementType: 'line',\n        dataElementType: 'point',\n        showLine: true,\n        spanGaps: false\n    };\n static overrides = {\n        scales: {\n            _index_: {\n                type: 'category'\n            },\n            _value_: {\n                type: 'linear'\n            }\n        }\n    };\n    initialize() {\n        this.enableOptionSharing = true;\n        this.supportsDecimation = true;\n        super.initialize();\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const { dataset: line , data: points = [] , _dataset  } = meta;\n        const animationsDisabled = this.chart._animationsDisabled;\n        let { start , count  } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n        this._drawStart = start;\n        this._drawCount = count;\n        if (_scaleRangesChanged(meta)) {\n            start = 0;\n            count = points.length;\n        }\n        line._chart = this.chart;\n        line._datasetIndex = this.index;\n        line._decimated = !!_dataset._decimated;\n        line.points = points;\n        const options = this.resolveDatasetElementOptions(mode);\n        if (!this.options.showLine) {\n            options.borderWidth = 0;\n        }\n        options.segment = this.options.segment;\n        this.updateElement(line, undefined, {\n            animated: !animationsDisabled,\n            options\n        }, mode);\n        this.updateElements(points, start, count, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale , _stacked , _dataset  } = this._cachedMeta;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const { spanGaps , segment  } = this.options;\n        const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n        const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n        const end = start + count;\n        const pointsCount = points.length;\n        let prevParsed = start > 0 && this.getParsed(start - 1);\n        for(let i = 0; i < pointsCount; ++i){\n            const point = points[i];\n            const properties = directUpdate ? point : {};\n            if (i < start || i >= end) {\n                properties.skip = true;\n                continue;\n            }\n            const parsed = this.getParsed(i);\n            const nullData = isNullOrUndef(parsed[vAxis]);\n            const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n            const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n            properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n            if (segment) {\n                properties.parsed = parsed;\n                properties.raw = _dataset.data[i];\n            }\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            }\n            if (!directUpdate) {\n                this.updateElement(point, i, properties, mode);\n            }\n            prevParsed = parsed;\n        }\n    }\n getMaxOverflow() {\n        const meta = this._cachedMeta;\n        const dataset = meta.dataset;\n        const border = dataset.options && dataset.options.borderWidth || 0;\n        const data = meta.data || [];\n        if (!data.length) {\n            return border;\n        }\n        const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n        const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n        return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n    draw() {\n        const meta = this._cachedMeta;\n        meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n        super.draw();\n    }\n}\n\nclass PolarAreaController extends DatasetController {\n    static id = 'polarArea';\n static defaults = {\n        dataElementType: 'arc',\n        animation: {\n            animateRotate: true,\n            animateScale: true\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'startAngle',\n                    'endAngle',\n                    'innerRadius',\n                    'outerRadius'\n                ]\n            }\n        },\n        indexAxis: 'r',\n        startAngle: 0\n    };\n static overrides = {\n        aspectRatio: 1,\n        plugins: {\n            legend: {\n                labels: {\n                    generateLabels (chart) {\n                        const data = chart.data;\n                        if (data.labels.length && data.datasets.length) {\n                            const { labels: { pointStyle , color  }  } = chart.legend.options;\n                            return data.labels.map((label, i)=>{\n                                const meta = chart.getDatasetMeta(0);\n                                const style = meta.controller.getStyle(i);\n                                return {\n                                    text: label,\n                                    fillStyle: style.backgroundColor,\n                                    strokeStyle: style.borderColor,\n                                    fontColor: color,\n                                    lineWidth: style.borderWidth,\n                                    pointStyle: pointStyle,\n                                    hidden: !chart.getDataVisibility(i),\n                                    index: i\n                                };\n                            });\n                        }\n                        return [];\n                    }\n                },\n                onClick (e, legendItem, legend) {\n                    legend.chart.toggleDataVisibility(legendItem.index);\n                    legend.chart.update();\n                }\n            }\n        },\n        scales: {\n            r: {\n                type: 'radialLinear',\n                angleLines: {\n                    display: false\n                },\n                beginAtZero: true,\n                grid: {\n                    circular: true\n                },\n                pointLabels: {\n                    display: false\n                },\n                startAngle: 0\n            }\n        }\n    };\n    constructor(chart, datasetIndex){\n        super(chart, datasetIndex);\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n    }\n    getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const chart = this.chart;\n        const labels = chart.data.labels || [];\n        const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n        return {\n            label: labels[index] || '',\n            value\n        };\n    }\n    parseObjectData(meta, data, start, count) {\n        return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n    }\n    update(mode) {\n        const arcs = this._cachedMeta.data;\n        this._updateRadius();\n        this.updateElements(arcs, 0, arcs.length, mode);\n    }\n getMinMax() {\n        const meta = this._cachedMeta;\n        const range = {\n            min: Number.POSITIVE_INFINITY,\n            max: Number.NEGATIVE_INFINITY\n        };\n        meta.data.forEach((element, index)=>{\n            const parsed = this.getParsed(index).r;\n            if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n                if (parsed < range.min) {\n                    range.min = parsed;\n                }\n                if (parsed > range.max) {\n                    range.max = parsed;\n                }\n            }\n        });\n        return range;\n    }\n _updateRadius() {\n        const chart = this.chart;\n        const chartArea = chart.chartArea;\n        const opts = chart.options;\n        const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n        const outerRadius = Math.max(minSize / 2, 0);\n        const innerRadius = Math.max(opts.cutoutPercentage ? outerRadius / 100 * opts.cutoutPercentage : 1, 0);\n        const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n        this.outerRadius = outerRadius - radiusLength * this.index;\n        this.innerRadius = this.outerRadius - radiusLength;\n    }\n    updateElements(arcs, start, count, mode) {\n        const reset = mode === 'reset';\n        const chart = this.chart;\n        const opts = chart.options;\n        const animationOpts = opts.animation;\n        const scale = this._cachedMeta.rScale;\n        const centerX = scale.xCenter;\n        const centerY = scale.yCenter;\n        const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n        let angle = datasetStartAngle;\n        let i;\n        const defaultAngle = 360 / this.countVisibleElements();\n        for(i = 0; i < start; ++i){\n            angle += this._computeAngle(i, mode, defaultAngle);\n        }\n        for(i = start; i < start + count; i++){\n            const arc = arcs[i];\n            let startAngle = angle;\n            let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n            let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n            angle = endAngle;\n            if (reset) {\n                if (animationOpts.animateScale) {\n                    outerRadius = 0;\n                }\n                if (animationOpts.animateRotate) {\n                    startAngle = endAngle = datasetStartAngle;\n                }\n            }\n            const properties = {\n                x: centerX,\n                y: centerY,\n                innerRadius: 0,\n                outerRadius,\n                startAngle,\n                endAngle,\n                options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n            };\n            this.updateElement(arc, i, properties, mode);\n        }\n    }\n    countVisibleElements() {\n        const meta = this._cachedMeta;\n        let count = 0;\n        meta.data.forEach((element, index)=>{\n            if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n                count++;\n            }\n        });\n        return count;\n    }\n _computeAngle(index, mode, defaultAngle) {\n        return this.chart.getDataVisibility(index) ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle) : 0;\n    }\n}\n\nclass PieController extends DoughnutController {\n    static id = 'pie';\n static defaults = {\n        cutout: 0,\n        rotation: 0,\n        circumference: 360,\n        radius: '100%'\n    };\n}\n\nclass RadarController extends DatasetController {\n    static id = 'radar';\n static defaults = {\n        datasetElementType: 'line',\n        dataElementType: 'point',\n        indexAxis: 'r',\n        showLine: true,\n        elements: {\n            line: {\n                fill: 'start'\n            }\n        }\n    };\n static overrides = {\n        aspectRatio: 1,\n        scales: {\n            r: {\n                type: 'radialLinear'\n            }\n        }\n    };\n getLabelAndValue(index) {\n        const vScale = this._cachedMeta.vScale;\n        const parsed = this.getParsed(index);\n        return {\n            label: vScale.getLabels()[index],\n            value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n        };\n    }\n    parseObjectData(meta, data, start, count) {\n        return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const line = meta.dataset;\n        const points = meta.data || [];\n        const labels = meta.iScale.getLabels();\n        line.points = points;\n        if (mode !== 'resize') {\n            const options = this.resolveDatasetElementOptions(mode);\n            if (!this.options.showLine) {\n                options.borderWidth = 0;\n            }\n            const properties = {\n                _loop: true,\n                _fullLoop: labels.length === points.length,\n                options\n            };\n            this.updateElement(line, undefined, properties, mode);\n        }\n        this.updateElements(points, 0, points.length, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const scale = this._cachedMeta.rScale;\n        const reset = mode === 'reset';\n        for(let i = start; i < start + count; i++){\n            const point = points[i];\n            const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n            const x = reset ? scale.xCenter : pointPosition.x;\n            const y = reset ? scale.yCenter : pointPosition.y;\n            const properties = {\n                x,\n                y,\n                angle: pointPosition.angle,\n                skip: isNaN(x) || isNaN(y),\n                options\n            };\n            this.updateElement(point, i, properties, mode);\n        }\n    }\n}\n\nclass ScatterController extends DatasetController {\n    static id = 'scatter';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'point',\n        showLine: false,\n        fill: false\n    };\n static overrides = {\n        interaction: {\n            mode: 'point'\n        },\n        scales: {\n            x: {\n                type: 'linear'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    };\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const labels = this.chart.data.labels || [];\n        const { xScale , yScale  } = meta;\n        const parsed = this.getParsed(index);\n        const x = xScale.getLabelForValue(parsed.x);\n        const y = yScale.getLabelForValue(parsed.y);\n        return {\n            label: labels[index] || '',\n            value: '(' + x + ', ' + y + ')'\n        };\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const { data: points = []  } = meta;\n        const animationsDisabled = this.chart._animationsDisabled;\n        let { start , count  } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n        this._drawStart = start;\n        this._drawCount = count;\n        if (_scaleRangesChanged(meta)) {\n            start = 0;\n            count = points.length;\n        }\n        if (this.options.showLine) {\n            if (!this.datasetElementType) {\n                this.addElements();\n            }\n            const { dataset: line , _dataset  } = meta;\n            line._chart = this.chart;\n            line._datasetIndex = this.index;\n            line._decimated = !!_dataset._decimated;\n            line.points = points;\n            const options = this.resolveDatasetElementOptions(mode);\n            options.segment = this.options.segment;\n            this.updateElement(line, undefined, {\n                animated: !animationsDisabled,\n                options\n            }, mode);\n        } else if (this.datasetElementType) {\n            delete meta.dataset;\n            this.datasetElementType = false;\n        }\n        this.updateElements(points, start, count, mode);\n    }\n    addElements() {\n        const { showLine  } = this.options;\n        if (!this.datasetElementType && showLine) {\n            this.datasetElementType = this.chart.registry.getElement('line');\n        }\n        super.addElements();\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale , _stacked , _dataset  } = this._cachedMeta;\n        const firstOpts = this.resolveDataElementOptions(start, mode);\n        const sharedOptions = this.getSharedOptions(firstOpts);\n        const includeOptions = this.includeOptions(mode, sharedOptions);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const { spanGaps , segment  } = this.options;\n        const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n        const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n        let prevParsed = start > 0 && this.getParsed(start - 1);\n        for(let i = start; i < start + count; ++i){\n            const point = points[i];\n            const parsed = this.getParsed(i);\n            const properties = directUpdate ? point : {};\n            const nullData = isNullOrUndef(parsed[vAxis]);\n            const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n            const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n            properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n            if (segment) {\n                properties.parsed = parsed;\n                properties.raw = _dataset.data[i];\n            }\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            }\n            if (!directUpdate) {\n                this.updateElement(point, i, properties, mode);\n            }\n            prevParsed = parsed;\n        }\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n getMaxOverflow() {\n        const meta = this._cachedMeta;\n        const data = meta.data || [];\n        if (!this.options.showLine) {\n            let max = 0;\n            for(let i = data.length - 1; i >= 0; --i){\n                max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n            }\n            return max > 0 && max;\n        }\n        const dataset = meta.dataset;\n        const border = dataset.options && dataset.options.borderWidth || 0;\n        if (!data.length) {\n            return border;\n        }\n        const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n        const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n        return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n}\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPieController: PieController,\nPolarAreaController: PolarAreaController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\n/**\n * @namespace Chart._adapters\n * @since 2.8.0\n * @private\n */ function abstract() {\n    throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n/**\n * Date adapter (current used by the time scale)\n * @namespace Chart._adapters._date\n * @memberof Chart._adapters\n * @private\n */ class DateAdapterBase {\n    /**\n   * Override default date adapter methods.\n   * Accepts type parameter to define options type.\n   * @example\n   * Chart._adapters._date.override<{myAdapterOption: string}>({\n   *   init() {\n   *     console.log(this.options.myAdapterOption);\n   *   }\n   * })\n   */ static override(members) {\n        Object.assign(DateAdapterBase.prototype, members);\n    }\n    options;\n    constructor(options){\n        this.options = options || {};\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    init() {}\n    formats() {\n        return abstract();\n    }\n    parse() {\n        return abstract();\n    }\n    format() {\n        return abstract();\n    }\n    add() {\n        return abstract();\n    }\n    diff() {\n        return abstract();\n    }\n    startOf() {\n        return abstract();\n    }\n    endOf() {\n        return abstract();\n    }\n}\nvar adapters = {\n    _date: DateAdapterBase\n};\n\nfunction binarySearch(metaset, axis, value, intersect) {\n    const { controller , data , _sorted  } = metaset;\n    const iScale = controller._cachedMeta.iScale;\n    if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n        const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n        if (!intersect) {\n            return lookupMethod(data, axis, value);\n        } else if (controller._sharedOptions) {\n            const el = data[0];\n            const range = typeof el.getRange === 'function' && el.getRange(axis);\n            if (range) {\n                const start = lookupMethod(data, axis, value - range);\n                const end = lookupMethod(data, axis, value + range);\n                return {\n                    lo: start.lo,\n                    hi: end.hi\n                };\n            }\n        }\n    }\n    return {\n        lo: 0,\n        hi: data.length - 1\n    };\n}\n function evaluateInteractionItems(chart, axis, position, handler, intersect) {\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const value = position[axis];\n    for(let i = 0, ilen = metasets.length; i < ilen; ++i){\n        const { index , data  } = metasets[i];\n        const { lo , hi  } = binarySearch(metasets[i], axis, value, intersect);\n        for(let j = lo; j <= hi; ++j){\n            const element = data[j];\n            if (!element.skip) {\n                handler(element, index, j);\n            }\n        }\n    }\n}\n function getDistanceMetricForAxis(axis) {\n    const useX = axis.indexOf('x') !== -1;\n    const useY = axis.indexOf('y') !== -1;\n    return function(pt1, pt2) {\n        const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n        const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n        return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n    };\n}\n function getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n    const items = [];\n    if (!includeInvisible && !chart.isPointInArea(position)) {\n        return items;\n    }\n    const evaluationFunc = function(element, datasetIndex, index) {\n        if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n            return;\n        }\n        if (element.inRange(position.x, position.y, useFinalPosition)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    };\n    evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n    return items;\n}\n function getNearestRadialItems(chart, position, axis, useFinalPosition) {\n    let items = [];\n    function evaluationFunc(element, datasetIndex, index) {\n        const { startAngle , endAngle  } = element.getProps([\n            'startAngle',\n            'endAngle'\n        ], useFinalPosition);\n        const { angle  } = getAngleFromPoint(element, {\n            x: position.x,\n            y: position.y\n        });\n        if (_angleBetween(angle, startAngle, endAngle)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    }\n    evaluateInteractionItems(chart, axis, position, evaluationFunc);\n    return items;\n}\n function getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n    let items = [];\n    const distanceMetric = getDistanceMetricForAxis(axis);\n    let minDistance = Number.POSITIVE_INFINITY;\n    function evaluationFunc(element, datasetIndex, index) {\n        const inRange = element.inRange(position.x, position.y, useFinalPosition);\n        if (intersect && !inRange) {\n            return;\n        }\n        const center = element.getCenterPoint(useFinalPosition);\n        const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n        if (!pointInArea && !inRange) {\n            return;\n        }\n        const distance = distanceMetric(position, center);\n        if (distance < minDistance) {\n            items = [\n                {\n                    element,\n                    datasetIndex,\n                    index\n                }\n            ];\n            minDistance = distance;\n        } else if (distance === minDistance) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    }\n    evaluateInteractionItems(chart, axis, position, evaluationFunc);\n    return items;\n}\n function getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n    if (!includeInvisible && !chart.isPointInArea(position)) {\n        return [];\n    }\n    return axis === 'r' && !intersect ? getNearestRadialItems(chart, position, axis, useFinalPosition) : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\n function getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n    const items = [];\n    const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n    let intersectsItem = false;\n    evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index)=>{\n        if (element[rangeMethod](position[axis], useFinalPosition)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n            intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n        }\n    });\n    if (intersect && !intersectsItem) {\n        return [];\n    }\n    return items;\n}\n var Interaction = {\n    evaluateInteractionItems,\n    modes: {\n index (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'x';\n            const includeInvisible = options.includeInvisible || false;\n            const items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n            const elements = [];\n            if (!items.length) {\n                return [];\n            }\n            chart.getSortedVisibleDatasetMetas().forEach((meta)=>{\n                const index = items[0].index;\n                const element = meta.data[index];\n                if (element && !element.skip) {\n                    elements.push({\n                        element,\n                        datasetIndex: meta.index,\n                        index\n                    });\n                }\n            });\n            return elements;\n        },\n dataset (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            let items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n            if (items.length > 0) {\n                const datasetIndex = items[0].datasetIndex;\n                const data = chart.getDatasetMeta(datasetIndex).data;\n                items = [];\n                for(let i = 0; i < data.length; ++i){\n                    items.push({\n                        element: data[i],\n                        datasetIndex,\n                        index: i\n                    });\n                }\n            }\n            return items;\n        },\n point (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n        },\n nearest (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n        },\n x (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n        },\n y (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n        }\n    }\n};\n\nconst STATIC_POSITIONS = [\n    'left',\n    'top',\n    'right',\n    'bottom'\n];\nfunction filterByPosition(array, position) {\n    return array.filter((v)=>v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n    return array.filter((v)=>STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n    return array.sort((a, b)=>{\n        const v0 = reverse ? b : a;\n        const v1 = reverse ? a : b;\n        return v0.weight === v1.weight ? v0.index - v1.index : v0.weight - v1.weight;\n    });\n}\nfunction wrapBoxes(boxes) {\n    const layoutBoxes = [];\n    let i, ilen, box, pos, stack, stackWeight;\n    for(i = 0, ilen = (boxes || []).length; i < ilen; ++i){\n        box = boxes[i];\n        ({ position: pos , options: { stack , stackWeight =1  }  } = box);\n        layoutBoxes.push({\n            index: i,\n            box,\n            pos,\n            horizontal: box.isHorizontal(),\n            weight: box.weight,\n            stack: stack && pos + stack,\n            stackWeight\n        });\n    }\n    return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n    const stacks = {};\n    for (const wrap of layouts){\n        const { stack , pos , stackWeight  } = wrap;\n        if (!stack || !STATIC_POSITIONS.includes(pos)) {\n            continue;\n        }\n        const _stack = stacks[stack] || (stacks[stack] = {\n            count: 0,\n            placed: 0,\n            weight: 0,\n            size: 0\n        });\n        _stack.count++;\n        _stack.weight += stackWeight;\n    }\n    return stacks;\n}\n function setLayoutDims(layouts, params) {\n    const stacks = buildStacks(layouts);\n    const { vBoxMaxWidth , hBoxMaxHeight  } = params;\n    let i, ilen, layout;\n    for(i = 0, ilen = layouts.length; i < ilen; ++i){\n        layout = layouts[i];\n        const { fullSize  } = layout.box;\n        const stack = stacks[layout.stack];\n        const factor = stack && layout.stackWeight / stack.weight;\n        if (layout.horizontal) {\n            layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n            layout.height = hBoxMaxHeight;\n        } else {\n            layout.width = vBoxMaxWidth;\n            layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n        }\n    }\n    return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n    const layoutBoxes = wrapBoxes(boxes);\n    const fullSize = sortByWeight(layoutBoxes.filter((wrap)=>wrap.box.fullSize), true);\n    const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n    const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n    const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n    const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n    const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n    const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n    return {\n        fullSize,\n        leftAndTop: left.concat(top),\n        rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n        chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n        vertical: left.concat(right).concat(centerVertical),\n        horizontal: top.concat(bottom).concat(centerHorizontal)\n    };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n    return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n    maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n    maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n    maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n    maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n    const { pos , box  } = layout;\n    const maxPadding = chartArea.maxPadding;\n    if (!isObject(pos)) {\n        if (layout.size) {\n            chartArea[pos] -= layout.size;\n        }\n        const stack = stacks[layout.stack] || {\n            size: 0,\n            count: 1\n        };\n        stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n        layout.size = stack.size / stack.count;\n        chartArea[pos] += layout.size;\n    }\n    if (box.getPadding) {\n        updateMaxPadding(maxPadding, box.getPadding());\n    }\n    const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n    const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n    const widthChanged = newWidth !== chartArea.w;\n    const heightChanged = newHeight !== chartArea.h;\n    chartArea.w = newWidth;\n    chartArea.h = newHeight;\n    return layout.horizontal ? {\n        same: widthChanged,\n        other: heightChanged\n    } : {\n        same: heightChanged,\n        other: widthChanged\n    };\n}\nfunction handleMaxPadding(chartArea) {\n    const maxPadding = chartArea.maxPadding;\n    function updatePos(pos) {\n        const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n        chartArea[pos] += change;\n        return change;\n    }\n    chartArea.y += updatePos('top');\n    chartArea.x += updatePos('left');\n    updatePos('right');\n    updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n    const maxPadding = chartArea.maxPadding;\n    function marginForPositions(positions) {\n        const margin = {\n            left: 0,\n            top: 0,\n            right: 0,\n            bottom: 0\n        };\n        positions.forEach((pos)=>{\n            margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n        });\n        return margin;\n    }\n    return horizontal ? marginForPositions([\n        'left',\n        'right'\n    ]) : marginForPositions([\n        'top',\n        'bottom'\n    ]);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n    const refitBoxes = [];\n    let i, ilen, layout, box, refit, changed;\n    for(i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i){\n        layout = boxes[i];\n        box = layout.box;\n        box.update(layout.width || chartArea.w, layout.height || chartArea.h, getMargins(layout.horizontal, chartArea));\n        const { same , other  } = updateDims(chartArea, params, layout, stacks);\n        refit |= same && refitBoxes.length;\n        changed = changed || other;\n        if (!box.fullSize) {\n            refitBoxes.push(layout);\n        }\n    }\n    return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n    box.top = top;\n    box.left = left;\n    box.right = left + width;\n    box.bottom = top + height;\n    box.width = width;\n    box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n    const userPadding = params.padding;\n    let { x , y  } = chartArea;\n    for (const layout of boxes){\n        const box = layout.box;\n        const stack = stacks[layout.stack] || {\n            count: 1,\n            placed: 0,\n            weight: 1\n        };\n        const weight = layout.stackWeight / stack.weight || 1;\n        if (layout.horizontal) {\n            const width = chartArea.w * weight;\n            const height = stack.size || box.height;\n            if (defined(stack.start)) {\n                y = stack.start;\n            }\n            if (box.fullSize) {\n                setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n            } else {\n                setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n            }\n            stack.start = y;\n            stack.placed += width;\n            y = box.bottom;\n        } else {\n            const height = chartArea.h * weight;\n            const width = stack.size || box.width;\n            if (defined(stack.start)) {\n                x = stack.start;\n            }\n            if (box.fullSize) {\n                setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n            } else {\n                setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n            }\n            stack.start = x;\n            stack.placed += height;\n            x = box.right;\n        }\n    }\n    chartArea.x = x;\n    chartArea.y = y;\n}\nvar layouts = {\n addBox (chart, item) {\n        if (!chart.boxes) {\n            chart.boxes = [];\n        }\n        item.fullSize = item.fullSize || false;\n        item.position = item.position || 'top';\n        item.weight = item.weight || 0;\n        item._layers = item._layers || function() {\n            return [\n                {\n                    z: 0,\n                    draw (chartArea) {\n                        item.draw(chartArea);\n                    }\n                }\n            ];\n        };\n        chart.boxes.push(item);\n    },\n removeBox (chart, layoutItem) {\n        const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n        if (index !== -1) {\n            chart.boxes.splice(index, 1);\n        }\n    },\n configure (chart, item, options) {\n        item.fullSize = options.fullSize;\n        item.position = options.position;\n        item.weight = options.weight;\n    },\n update (chart, width, height, minPadding) {\n        if (!chart) {\n            return;\n        }\n        const padding = toPadding(chart.options.layout.padding);\n        const availableWidth = Math.max(width - padding.width, 0);\n        const availableHeight = Math.max(height - padding.height, 0);\n        const boxes = buildLayoutBoxes(chart.boxes);\n        const verticalBoxes = boxes.vertical;\n        const horizontalBoxes = boxes.horizontal;\n        each(chart.boxes, (box)=>{\n            if (typeof box.beforeLayout === 'function') {\n                box.beforeLayout();\n            }\n        });\n        const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap)=>wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n        const params = Object.freeze({\n            outerWidth: width,\n            outerHeight: height,\n            padding,\n            availableWidth,\n            availableHeight,\n            vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n            hBoxMaxHeight: availableHeight / 2\n        });\n        const maxPadding = Object.assign({}, padding);\n        updateMaxPadding(maxPadding, toPadding(minPadding));\n        const chartArea = Object.assign({\n            maxPadding,\n            w: availableWidth,\n            h: availableHeight,\n            x: padding.left,\n            y: padding.top\n        }, padding);\n        const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n        fitBoxes(boxes.fullSize, chartArea, params, stacks);\n        fitBoxes(verticalBoxes, chartArea, params, stacks);\n        if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n            fitBoxes(verticalBoxes, chartArea, params, stacks);\n        }\n        handleMaxPadding(chartArea);\n        placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n        chartArea.x += chartArea.w;\n        chartArea.y += chartArea.h;\n        placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n        chart.chartArea = {\n            left: chartArea.left,\n            top: chartArea.top,\n            right: chartArea.left + chartArea.w,\n            bottom: chartArea.top + chartArea.h,\n            height: chartArea.h,\n            width: chartArea.w\n        };\n        each(boxes.chartArea, (layout)=>{\n            const box = layout.box;\n            Object.assign(box, chart.chartArea);\n            box.update(chartArea.w, chartArea.h, {\n                left: 0,\n                top: 0,\n                right: 0,\n                bottom: 0\n            });\n        });\n    }\n};\n\nclass BasePlatform {\n acquireContext(canvas, aspectRatio) {}\n releaseContext(context) {\n        return false;\n    }\n addEventListener(chart, type, listener) {}\n removeEventListener(chart, type, listener) {}\n getDevicePixelRatio() {\n        return 1;\n    }\n getMaximumSize(element, width, height, aspectRatio) {\n        width = Math.max(0, width || element.width);\n        height = height || element.height;\n        return {\n            width,\n            height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n        };\n    }\n isAttached(canvas) {\n        return true;\n    }\n updateConfig(config) {\n    }\n}\n\nclass BasicPlatform extends BasePlatform {\n    acquireContext(item) {\n        return item && item.getContext && item.getContext('2d') || null;\n    }\n    updateConfig(config) {\n        config.options.animation = false;\n    }\n}\n\nconst EXPANDO_KEY = '$chartjs';\n const EVENT_TYPES = {\n    touchstart: 'mousedown',\n    touchmove: 'mousemove',\n    touchend: 'mouseup',\n    pointerenter: 'mouseenter',\n    pointerdown: 'mousedown',\n    pointermove: 'mousemove',\n    pointerup: 'mouseup',\n    pointerleave: 'mouseout',\n    pointerout: 'mouseout'\n};\nconst isNullOrEmpty = (value)=>value === null || value === '';\n function initCanvas(canvas, aspectRatio) {\n    const style = canvas.style;\n    const renderHeight = canvas.getAttribute('height');\n    const renderWidth = canvas.getAttribute('width');\n    canvas[EXPANDO_KEY] = {\n        initial: {\n            height: renderHeight,\n            width: renderWidth,\n            style: {\n                display: style.display,\n                height: style.height,\n                width: style.width\n            }\n        }\n    };\n    style.display = style.display || 'block';\n    style.boxSizing = style.boxSizing || 'border-box';\n    if (isNullOrEmpty(renderWidth)) {\n        const displayWidth = readUsedSize(canvas, 'width');\n        if (displayWidth !== undefined) {\n            canvas.width = displayWidth;\n        }\n    }\n    if (isNullOrEmpty(renderHeight)) {\n        if (canvas.style.height === '') {\n            canvas.height = canvas.width / (aspectRatio || 2);\n        } else {\n            const displayHeight = readUsedSize(canvas, 'height');\n            if (displayHeight !== undefined) {\n                canvas.height = displayHeight;\n            }\n        }\n    }\n    return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {\n    passive: true\n} : false;\nfunction addListener(node, type, listener) {\n    if (node) {\n        node.addEventListener(type, listener, eventListenerOptions);\n    }\n}\nfunction removeListener(chart, type, listener) {\n    if (chart && chart.canvas) {\n        chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n    }\n}\nfunction fromNativeEvent(event, chart) {\n    const type = EVENT_TYPES[event.type] || event.type;\n    const { x , y  } = getRelativePosition(event, chart);\n    return {\n        type,\n        chart,\n        native: event,\n        x: x !== undefined ? x : null,\n        y: y !== undefined ? y : null\n    };\n}\nfunction nodeListContains(nodeList, canvas) {\n    for (const node of nodeList){\n        if (node === canvas || node.contains(canvas)) {\n            return true;\n        }\n    }\n}\nfunction createAttachObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const observer = new MutationObserver((entries)=>{\n        let trigger = false;\n        for (const entry of entries){\n            trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n            trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n        }\n        if (trigger) {\n            listener();\n        }\n    });\n    observer.observe(document, {\n        childList: true,\n        subtree: true\n    });\n    return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const observer = new MutationObserver((entries)=>{\n        let trigger = false;\n        for (const entry of entries){\n            trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n            trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n        }\n        if (trigger) {\n            listener();\n        }\n    });\n    observer.observe(document, {\n        childList: true,\n        subtree: true\n    });\n    return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n    const dpr = window.devicePixelRatio;\n    if (dpr === oldDevicePixelRatio) {\n        return;\n    }\n    oldDevicePixelRatio = dpr;\n    drpListeningCharts.forEach((resize, chart)=>{\n        if (chart.currentDevicePixelRatio !== dpr) {\n            resize();\n        }\n    });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n    if (!drpListeningCharts.size) {\n        window.addEventListener('resize', onWindowResize);\n    }\n    drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n    drpListeningCharts.delete(chart);\n    if (!drpListeningCharts.size) {\n        window.removeEventListener('resize', onWindowResize);\n    }\n}\nfunction createResizeObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const container = canvas && _getParentNode(canvas);\n    if (!container) {\n        return;\n    }\n    const resize = throttled((width, height)=>{\n        const w = container.clientWidth;\n        listener(width, height);\n        if (w < container.clientWidth) {\n            listener();\n        }\n    }, window);\n    const observer = new ResizeObserver((entries)=>{\n        const entry = entries[0];\n        const width = entry.contentRect.width;\n        const height = entry.contentRect.height;\n        if (width === 0 && height === 0) {\n            return;\n        }\n        resize(width, height);\n    });\n    observer.observe(container);\n    listenDevicePixelRatioChanges(chart, resize);\n    return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n    if (observer) {\n        observer.disconnect();\n    }\n    if (type === 'resize') {\n        unlistenDevicePixelRatioChanges(chart);\n    }\n}\nfunction createProxyAndListen(chart, type, listener) {\n    const canvas = chart.canvas;\n    const proxy = throttled((event)=>{\n        if (chart.ctx !== null) {\n            listener(fromNativeEvent(event, chart));\n        }\n    }, chart);\n    addListener(canvas, type, proxy);\n    return proxy;\n}\n class DomPlatform extends BasePlatform {\n acquireContext(canvas, aspectRatio) {\n        const context = canvas && canvas.getContext && canvas.getContext('2d');\n        if (context && context.canvas === canvas) {\n            initCanvas(canvas, aspectRatio);\n            return context;\n        }\n        return null;\n    }\n releaseContext(context) {\n        const canvas = context.canvas;\n        if (!canvas[EXPANDO_KEY]) {\n            return false;\n        }\n        const initial = canvas[EXPANDO_KEY].initial;\n        [\n            'height',\n            'width'\n        ].forEach((prop)=>{\n            const value = initial[prop];\n            if (isNullOrUndef(value)) {\n                canvas.removeAttribute(prop);\n            } else {\n                canvas.setAttribute(prop, value);\n            }\n        });\n        const style = initial.style || {};\n        Object.keys(style).forEach((key)=>{\n            canvas.style[key] = style[key];\n        });\n        canvas.width = canvas.width;\n        delete canvas[EXPANDO_KEY];\n        return true;\n    }\n addEventListener(chart, type, listener) {\n        this.removeEventListener(chart, type);\n        const proxies = chart.$proxies || (chart.$proxies = {});\n        const handlers = {\n            attach: createAttachObserver,\n            detach: createDetachObserver,\n            resize: createResizeObserver\n        };\n        const handler = handlers[type] || createProxyAndListen;\n        proxies[type] = handler(chart, type, listener);\n    }\n removeEventListener(chart, type) {\n        const proxies = chart.$proxies || (chart.$proxies = {});\n        const proxy = proxies[type];\n        if (!proxy) {\n            return;\n        }\n        const handlers = {\n            attach: releaseObserver,\n            detach: releaseObserver,\n            resize: releaseObserver\n        };\n        const handler = handlers[type] || removeListener;\n        handler(chart, type, proxy);\n        proxies[type] = undefined;\n    }\n    getDevicePixelRatio() {\n        return window.devicePixelRatio;\n    }\n getMaximumSize(canvas, width, height, aspectRatio) {\n        return getMaximumSize(canvas, width, height, aspectRatio);\n    }\n isAttached(canvas) {\n        const container = _getParentNode(canvas);\n        return !!(container && container.isConnected);\n    }\n}\n\nfunction _detectPlatform(canvas) {\n    if (!_isDomSupported() || typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas) {\n        return BasicPlatform;\n    }\n    return DomPlatform;\n}\n\nclass Element {\n    static defaults = {};\n    static defaultRoutes = undefined;\n    x;\n    y;\n    active = false;\n    options;\n    $animations;\n    tooltipPosition(useFinalPosition) {\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return {\n            x,\n            y\n        };\n    }\n    hasValue() {\n        return isNumber(this.x) && isNumber(this.y);\n    }\n    getProps(props, final) {\n        const anims = this.$animations;\n        if (!final || !anims) {\n            // let's not create an object, if not needed\n            return this;\n        }\n        const ret = {};\n        props.forEach((prop)=>{\n            ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n        });\n        return ret;\n    }\n}\n\nfunction autoSkip(scale, ticks) {\n    const tickOpts = scale.options.ticks;\n    const determinedMaxTicks = determineMaxTicks(scale);\n    const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);\n    const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n    const numMajorIndices = majorIndices.length;\n    const first = majorIndices[0];\n    const last = majorIndices[numMajorIndices - 1];\n    const newTicks = [];\n    if (numMajorIndices > ticksLimit) {\n        skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n        return newTicks;\n    }\n    const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n    if (numMajorIndices > 0) {\n        let i, ilen;\n        const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n        skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n        for(i = 0, ilen = numMajorIndices - 1; i < ilen; i++){\n            skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n        }\n        skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n        return newTicks;\n    }\n    skip(ticks, newTicks, spacing);\n    return newTicks;\n}\nfunction determineMaxTicks(scale) {\n    const offset = scale.options.offset;\n    const tickLength = scale._tickSize();\n    const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n    const maxChart = scale._maxLength / tickLength;\n    return Math.floor(Math.min(maxScale, maxChart));\n}\n function calculateSpacing(majorIndices, ticks, ticksLimit) {\n    const evenMajorSpacing = getEvenSpacing(majorIndices);\n    const spacing = ticks.length / ticksLimit;\n    if (!evenMajorSpacing) {\n        return Math.max(spacing, 1);\n    }\n    const factors = _factorize(evenMajorSpacing);\n    for(let i = 0, ilen = factors.length - 1; i < ilen; i++){\n        const factor = factors[i];\n        if (factor > spacing) {\n            return factor;\n        }\n    }\n    return Math.max(spacing, 1);\n}\n function getMajorIndices(ticks) {\n    const result = [];\n    let i, ilen;\n    for(i = 0, ilen = ticks.length; i < ilen; i++){\n        if (ticks[i].major) {\n            result.push(i);\n        }\n    }\n    return result;\n}\n function skipMajors(ticks, newTicks, majorIndices, spacing) {\n    let count = 0;\n    let next = majorIndices[0];\n    let i;\n    spacing = Math.ceil(spacing);\n    for(i = 0; i < ticks.length; i++){\n        if (i === next) {\n            newTicks.push(ticks[i]);\n            count++;\n            next = majorIndices[count * spacing];\n        }\n    }\n}\n function skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n    const start = valueOrDefault(majorStart, 0);\n    const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n    let count = 0;\n    let length, i, next;\n    spacing = Math.ceil(spacing);\n    if (majorEnd) {\n        length = majorEnd - majorStart;\n        spacing = length / Math.floor(length / spacing);\n    }\n    next = start;\n    while(next < 0){\n        count++;\n        next = Math.round(start + count * spacing);\n    }\n    for(i = Math.max(start, 0); i < end; i++){\n        if (i === next) {\n            newTicks.push(ticks[i]);\n            count++;\n            next = Math.round(start + count * spacing);\n        }\n    }\n}\n function getEvenSpacing(arr) {\n    const len = arr.length;\n    let i, diff;\n    if (len < 2) {\n        return false;\n    }\n    for(diff = arr[0], i = 1; i < len; ++i){\n        if (arr[i] - arr[i - 1] !== diff) {\n            return false;\n        }\n    }\n    return diff;\n}\n\nconst reverseAlign = (align)=>align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset)=>edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nconst getTicksLimit = (ticksLength, maxTicksLimit)=>Math.min(maxTicksLimit || ticksLength, ticksLength);\n function sample(arr, numItems) {\n    const result = [];\n    const increment = arr.length / numItems;\n    const len = arr.length;\n    let i = 0;\n    for(; i < len; i += increment){\n        result.push(arr[Math.floor(i)]);\n    }\n    return result;\n}\n function getPixelForGridLine(scale, index, offsetGridLines) {\n    const length = scale.ticks.length;\n    const validIndex = Math.min(index, length - 1);\n    const start = scale._startPixel;\n    const end = scale._endPixel;\n    const epsilon = 1e-6;\n    let lineValue = scale.getPixelForTick(validIndex);\n    let offset;\n    if (offsetGridLines) {\n        if (length === 1) {\n            offset = Math.max(lineValue - start, end - lineValue);\n        } else if (index === 0) {\n            offset = (scale.getPixelForTick(1) - lineValue) / 2;\n        } else {\n            offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n        }\n        lineValue += validIndex < index ? offset : -offset;\n        if (lineValue < start - epsilon || lineValue > end + epsilon) {\n            return;\n        }\n    }\n    return lineValue;\n}\n function garbageCollect(caches, length) {\n    each(caches, (cache)=>{\n        const gc = cache.gc;\n        const gcLen = gc.length / 2;\n        let i;\n        if (gcLen > length) {\n            for(i = 0; i < gcLen; ++i){\n                delete cache.data[gc[i]];\n            }\n            gc.splice(0, gcLen);\n        }\n    });\n}\n function getTickMarkLength(options) {\n    return options.drawTicks ? options.tickLength : 0;\n}\n function getTitleHeight(options, fallback) {\n    if (!options.display) {\n        return 0;\n    }\n    const font = toFont(options.font, fallback);\n    const padding = toPadding(options.padding);\n    const lines = isArray(options.text) ? options.text.length : 1;\n    return lines * font.lineHeight + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n    return createContext(parent, {\n        scale,\n        type: 'scale'\n    });\n}\nfunction createTickContext(parent, index, tick) {\n    return createContext(parent, {\n        tick,\n        index,\n        type: 'tick'\n    });\n}\nfunction titleAlign(align, position, reverse) {\n     let ret = _toLeftRightCenter(align);\n    if (reverse && position !== 'right' || !reverse && position === 'right') {\n        ret = reverseAlign(ret);\n    }\n    return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n    const { top , left , bottom , right , chart  } = scale;\n    const { chartArea , scales  } = chart;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    const height = bottom - top;\n    const width = right - left;\n    if (scale.isHorizontal()) {\n        titleX = _alignStartEnd(align, left, right);\n        if (isObject(position)) {\n            const positionAxisID = Object.keys(position)[0];\n            const value = position[positionAxisID];\n            titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n        } else if (position === 'center') {\n            titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n        } else {\n            titleY = offsetFromEdge(scale, position, offset);\n        }\n        maxWidth = right - left;\n    } else {\n        if (isObject(position)) {\n            const positionAxisID = Object.keys(position)[0];\n            const value = position[positionAxisID];\n            titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n        } else if (position === 'center') {\n            titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n        } else {\n            titleX = offsetFromEdge(scale, position, offset);\n        }\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = position === 'left' ? -HALF_PI : HALF_PI;\n    }\n    return {\n        titleX,\n        titleY,\n        maxWidth,\n        rotation\n    };\n}\nclass Scale extends Element {\n    constructor(cfg){\n        super();\n         this.id = cfg.id;\n         this.type = cfg.type;\n         this.options = undefined;\n         this.ctx = cfg.ctx;\n         this.chart = cfg.chart;\n         this.top = undefined;\n         this.bottom = undefined;\n         this.left = undefined;\n         this.right = undefined;\n         this.width = undefined;\n         this.height = undefined;\n        this._margins = {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        };\n         this.maxWidth = undefined;\n         this.maxHeight = undefined;\n         this.paddingTop = undefined;\n         this.paddingBottom = undefined;\n         this.paddingLeft = undefined;\n         this.paddingRight = undefined;\n         this.axis = undefined;\n         this.labelRotation = undefined;\n        this.min = undefined;\n        this.max = undefined;\n        this._range = undefined;\n         this.ticks = [];\n         this._gridLineItems = null;\n         this._labelItems = null;\n         this._labelSizes = null;\n        this._length = 0;\n        this._maxLength = 0;\n        this._longestTextCache = {};\n         this._startPixel = undefined;\n         this._endPixel = undefined;\n        this._reversePixels = false;\n        this._userMax = undefined;\n        this._userMin = undefined;\n        this._suggestedMax = undefined;\n        this._suggestedMin = undefined;\n        this._ticksLength = 0;\n        this._borderValue = 0;\n        this._cache = {};\n        this._dataLimitsCached = false;\n        this.$context = undefined;\n    }\n init(options) {\n        this.options = options.setContext(this.getContext());\n        this.axis = options.axis;\n        this._userMin = this.parse(options.min);\n        this._userMax = this.parse(options.max);\n        this._suggestedMin = this.parse(options.suggestedMin);\n        this._suggestedMax = this.parse(options.suggestedMax);\n    }\n parse(raw, index) {\n        return raw;\n    }\n getUserBounds() {\n        let { _userMin , _userMax , _suggestedMin , _suggestedMax  } = this;\n        _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n        _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n        _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n        _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n        return {\n            min: finiteOrDefault(_userMin, _suggestedMin),\n            max: finiteOrDefault(_userMax, _suggestedMax),\n            minDefined: isNumberFinite(_userMin),\n            maxDefined: isNumberFinite(_userMax)\n        };\n    }\n getMinMax(canStack) {\n        let { min , max , minDefined , maxDefined  } = this.getUserBounds();\n        let range;\n        if (minDefined && maxDefined) {\n            return {\n                min,\n                max\n            };\n        }\n        const metas = this.getMatchingVisibleMetas();\n        for(let i = 0, ilen = metas.length; i < ilen; ++i){\n            range = metas[i].controller.getMinMax(this, canStack);\n            if (!minDefined) {\n                min = Math.min(min, range.min);\n            }\n            if (!maxDefined) {\n                max = Math.max(max, range.max);\n            }\n        }\n        min = maxDefined && min > max ? max : min;\n        max = minDefined && min > max ? min : max;\n        return {\n            min: finiteOrDefault(min, finiteOrDefault(max, min)),\n            max: finiteOrDefault(max, finiteOrDefault(min, max))\n        };\n    }\n getPadding() {\n        return {\n            left: this.paddingLeft || 0,\n            top: this.paddingTop || 0,\n            right: this.paddingRight || 0,\n            bottom: this.paddingBottom || 0\n        };\n    }\n getTicks() {\n        return this.ticks;\n    }\n getLabels() {\n        const data = this.chart.data;\n        return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n    }\n getLabelItems(chartArea = this.chart.chartArea) {\n        const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n        return items;\n    }\n    beforeLayout() {\n        this._cache = {};\n        this._dataLimitsCached = false;\n    }\n    beforeUpdate() {\n        callback(this.options.beforeUpdate, [\n            this\n        ]);\n    }\n update(maxWidth, maxHeight, margins) {\n        const { beginAtZero , grace , ticks: tickOpts  } = this.options;\n        const sampleSize = tickOpts.sampleSize;\n        this.beforeUpdate();\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this._margins = margins = Object.assign({\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        }, margins);\n        this.ticks = null;\n        this._labelSizes = null;\n        this._gridLineItems = null;\n        this._labelItems = null;\n        this.beforeSetDimensions();\n        this.setDimensions();\n        this.afterSetDimensions();\n        this._maxLength = this.isHorizontal() ? this.width + margins.left + margins.right : this.height + margins.top + margins.bottom;\n        if (!this._dataLimitsCached) {\n            this.beforeDataLimits();\n            this.determineDataLimits();\n            this.afterDataLimits();\n            this._range = _addGrace(this, grace, beginAtZero);\n            this._dataLimitsCached = true;\n        }\n        this.beforeBuildTicks();\n        this.ticks = this.buildTicks() || [];\n        this.afterBuildTicks();\n        const samplingEnabled = sampleSize < this.ticks.length;\n        this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n        this.configure();\n        this.beforeCalculateLabelRotation();\n        this.calculateLabelRotation();\n        this.afterCalculateLabelRotation();\n        if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n            this.ticks = autoSkip(this, this.ticks);\n            this._labelSizes = null;\n            this.afterAutoSkip();\n        }\n        if (samplingEnabled) {\n            this._convertTicksToLabels(this.ticks);\n        }\n        this.beforeFit();\n        this.fit();\n        this.afterFit();\n        this.afterUpdate();\n    }\n configure() {\n        let reversePixels = this.options.reverse;\n        let startPixel, endPixel;\n        if (this.isHorizontal()) {\n            startPixel = this.left;\n            endPixel = this.right;\n        } else {\n            startPixel = this.top;\n            endPixel = this.bottom;\n            reversePixels = !reversePixels;\n        }\n        this._startPixel = startPixel;\n        this._endPixel = endPixel;\n        this._reversePixels = reversePixels;\n        this._length = endPixel - startPixel;\n        this._alignToPixels = this.options.alignToPixels;\n    }\n    afterUpdate() {\n        callback(this.options.afterUpdate, [\n            this\n        ]);\n    }\n    beforeSetDimensions() {\n        callback(this.options.beforeSetDimensions, [\n            this\n        ]);\n    }\n    setDimensions() {\n        if (this.isHorizontal()) {\n            this.width = this.maxWidth;\n            this.left = 0;\n            this.right = this.width;\n        } else {\n            this.height = this.maxHeight;\n            this.top = 0;\n            this.bottom = this.height;\n        }\n        this.paddingLeft = 0;\n        this.paddingTop = 0;\n        this.paddingRight = 0;\n        this.paddingBottom = 0;\n    }\n    afterSetDimensions() {\n        callback(this.options.afterSetDimensions, [\n            this\n        ]);\n    }\n    _callHooks(name) {\n        this.chart.notifyPlugins(name, this.getContext());\n        callback(this.options[name], [\n            this\n        ]);\n    }\n    beforeDataLimits() {\n        this._callHooks('beforeDataLimits');\n    }\n    determineDataLimits() {}\n    afterDataLimits() {\n        this._callHooks('afterDataLimits');\n    }\n    beforeBuildTicks() {\n        this._callHooks('beforeBuildTicks');\n    }\n buildTicks() {\n        return [];\n    }\n    afterBuildTicks() {\n        this._callHooks('afterBuildTicks');\n    }\n    beforeTickToLabelConversion() {\n        callback(this.options.beforeTickToLabelConversion, [\n            this\n        ]);\n    }\n generateTickLabels(ticks) {\n        const tickOpts = this.options.ticks;\n        let i, ilen, tick;\n        for(i = 0, ilen = ticks.length; i < ilen; i++){\n            tick = ticks[i];\n            tick.label = callback(tickOpts.callback, [\n                tick.value,\n                i,\n                ticks\n            ], this);\n        }\n    }\n    afterTickToLabelConversion() {\n        callback(this.options.afterTickToLabelConversion, [\n            this\n        ]);\n    }\n    beforeCalculateLabelRotation() {\n        callback(this.options.beforeCalculateLabelRotation, [\n            this\n        ]);\n    }\n    calculateLabelRotation() {\n        const options = this.options;\n        const tickOpts = options.ticks;\n        const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);\n        const minRotation = tickOpts.minRotation || 0;\n        const maxRotation = tickOpts.maxRotation;\n        let labelRotation = minRotation;\n        let tickWidth, maxHeight, maxLabelDiagonal;\n        if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n            this.labelRotation = minRotation;\n            return;\n        }\n        const labelSizes = this._getLabelSizes();\n        const maxLabelWidth = labelSizes.widest.width;\n        const maxLabelHeight = labelSizes.highest.height;\n        const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n        tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n        if (maxLabelWidth + 6 > tickWidth) {\n            tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n            maxHeight = this.maxHeight - getTickMarkLength(options.grid) - tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n            maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n            labelRotation = toDegrees(Math.min(Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)), Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))));\n            labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n        }\n        this.labelRotation = labelRotation;\n    }\n    afterCalculateLabelRotation() {\n        callback(this.options.afterCalculateLabelRotation, [\n            this\n        ]);\n    }\n    afterAutoSkip() {}\n    beforeFit() {\n        callback(this.options.beforeFit, [\n            this\n        ]);\n    }\n    fit() {\n        const minSize = {\n            width: 0,\n            height: 0\n        };\n        const { chart , options: { ticks: tickOpts , title: titleOpts , grid: gridOpts  }  } = this;\n        const display = this._isVisible();\n        const isHorizontal = this.isHorizontal();\n        if (display) {\n            const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n            if (isHorizontal) {\n                minSize.width = this.maxWidth;\n                minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n            } else {\n                minSize.height = this.maxHeight;\n                minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n            }\n            if (tickOpts.display && this.ticks.length) {\n                const { first , last , widest , highest  } = this._getLabelSizes();\n                const tickPadding = tickOpts.padding * 2;\n                const angleRadians = toRadians(this.labelRotation);\n                const cos = Math.cos(angleRadians);\n                const sin = Math.sin(angleRadians);\n                if (isHorizontal) {\n                    const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n                    minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n                } else {\n                    const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n                    minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n                }\n                this._calculatePadding(first, last, sin, cos);\n            }\n        }\n        this._handleMargins();\n        if (isHorizontal) {\n            this.width = this._length = chart.width - this._margins.left - this._margins.right;\n            this.height = minSize.height;\n        } else {\n            this.width = minSize.width;\n            this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n        }\n    }\n    _calculatePadding(first, last, sin, cos) {\n        const { ticks: { align , padding  } , position  } = this.options;\n        const isRotated = this.labelRotation !== 0;\n        const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n        if (this.isHorizontal()) {\n            const offsetLeft = this.getPixelForTick(0) - this.left;\n            const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n            let paddingLeft = 0;\n            let paddingRight = 0;\n            if (isRotated) {\n                if (labelsBelowTicks) {\n                    paddingLeft = cos * first.width;\n                    paddingRight = sin * last.height;\n                } else {\n                    paddingLeft = sin * first.height;\n                    paddingRight = cos * last.width;\n                }\n            } else if (align === 'start') {\n                paddingRight = last.width;\n            } else if (align === 'end') {\n                paddingLeft = first.width;\n            } else if (align !== 'inner') {\n                paddingLeft = first.width / 2;\n                paddingRight = last.width / 2;\n            }\n            this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n            this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n        } else {\n            let paddingTop = last.height / 2;\n            let paddingBottom = first.height / 2;\n            if (align === 'start') {\n                paddingTop = 0;\n                paddingBottom = first.height;\n            } else if (align === 'end') {\n                paddingTop = last.height;\n                paddingBottom = 0;\n            }\n            this.paddingTop = paddingTop + padding;\n            this.paddingBottom = paddingBottom + padding;\n        }\n    }\n _handleMargins() {\n        if (this._margins) {\n            this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n            this._margins.top = Math.max(this.paddingTop, this._margins.top);\n            this._margins.right = Math.max(this.paddingRight, this._margins.right);\n            this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n        }\n    }\n    afterFit() {\n        callback(this.options.afterFit, [\n            this\n        ]);\n    }\n isHorizontal() {\n        const { axis , position  } = this.options;\n        return position === 'top' || position === 'bottom' || axis === 'x';\n    }\n isFullSize() {\n        return this.options.fullSize;\n    }\n _convertTicksToLabels(ticks) {\n        this.beforeTickToLabelConversion();\n        this.generateTickLabels(ticks);\n        let i, ilen;\n        for(i = 0, ilen = ticks.length; i < ilen; i++){\n            if (isNullOrUndef(ticks[i].label)) {\n                ticks.splice(i, 1);\n                ilen--;\n                i--;\n            }\n        }\n        this.afterTickToLabelConversion();\n    }\n _getLabelSizes() {\n        let labelSizes = this._labelSizes;\n        if (!labelSizes) {\n            const sampleSize = this.options.ticks.sampleSize;\n            let ticks = this.ticks;\n            if (sampleSize < ticks.length) {\n                ticks = sample(ticks, sampleSize);\n            }\n            this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);\n        }\n        return labelSizes;\n    }\n _computeLabelSizes(ticks, length, maxTicksLimit) {\n        const { ctx , _longestTextCache: caches  } = this;\n        const widths = [];\n        const heights = [];\n        const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));\n        let widestLabelSize = 0;\n        let highestLabelSize = 0;\n        let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n        for(i = 0; i < length; i += increment){\n            label = ticks[i].label;\n            tickFont = this._resolveTickFontOptions(i);\n            ctx.font = fontString = tickFont.string;\n            cache = caches[fontString] = caches[fontString] || {\n                data: {},\n                gc: []\n            };\n            lineHeight = tickFont.lineHeight;\n            width = height = 0;\n            if (!isNullOrUndef(label) && !isArray(label)) {\n                width = _measureText(ctx, cache.data, cache.gc, width, label);\n                height = lineHeight;\n            } else if (isArray(label)) {\n                for(j = 0, jlen = label.length; j < jlen; ++j){\n                    nestedLabel =  label[j];\n                    if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n                        width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n                        height += lineHeight;\n                    }\n                }\n            }\n            widths.push(width);\n            heights.push(height);\n            widestLabelSize = Math.max(width, widestLabelSize);\n            highestLabelSize = Math.max(height, highestLabelSize);\n        }\n        garbageCollect(caches, length);\n        const widest = widths.indexOf(widestLabelSize);\n        const highest = heights.indexOf(highestLabelSize);\n        const valueAt = (idx)=>({\n                width: widths[idx] || 0,\n                height: heights[idx] || 0\n            });\n        return {\n            first: valueAt(0),\n            last: valueAt(length - 1),\n            widest: valueAt(widest),\n            highest: valueAt(highest),\n            widths,\n            heights\n        };\n    }\n getLabelForValue(value) {\n        return value;\n    }\n getPixelForValue(value, index) {\n        return NaN;\n    }\n getValueForPixel(pixel) {}\n getPixelForTick(index) {\n        const ticks = this.ticks;\n        if (index < 0 || index > ticks.length - 1) {\n            return null;\n        }\n        return this.getPixelForValue(ticks[index].value);\n    }\n getPixelForDecimal(decimal) {\n        if (this._reversePixels) {\n            decimal = 1 - decimal;\n        }\n        const pixel = this._startPixel + decimal * this._length;\n        return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n    }\n getDecimalForPixel(pixel) {\n        const decimal = (pixel - this._startPixel) / this._length;\n        return this._reversePixels ? 1 - decimal : decimal;\n    }\n getBasePixel() {\n        return this.getPixelForValue(this.getBaseValue());\n    }\n getBaseValue() {\n        const { min , max  } = this;\n        return min < 0 && max < 0 ? max : min > 0 && max > 0 ? min : 0;\n    }\n getContext(index) {\n        const ticks = this.ticks || [];\n        if (index >= 0 && index < ticks.length) {\n            const tick = ticks[index];\n            return tick.$context || (tick.$context = createTickContext(this.getContext(), index, tick));\n        }\n        return this.$context || (this.$context = createScaleContext(this.chart.getContext(), this));\n    }\n _tickSize() {\n        const optionTicks = this.options.ticks;\n        const rot = toRadians(this.labelRotation);\n        const cos = Math.abs(Math.cos(rot));\n        const sin = Math.abs(Math.sin(rot));\n        const labelSizes = this._getLabelSizes();\n        const padding = optionTicks.autoSkipPadding || 0;\n        const w = labelSizes ? labelSizes.widest.width + padding : 0;\n        const h = labelSizes ? labelSizes.highest.height + padding : 0;\n        return this.isHorizontal() ? h * cos > w * sin ? w / cos : h / sin : h * sin < w * cos ? h / cos : w / sin;\n    }\n _isVisible() {\n        const display = this.options.display;\n        if (display !== 'auto') {\n            return !!display;\n        }\n        return this.getMatchingVisibleMetas().length > 0;\n    }\n _computeGridLineItems(chartArea) {\n        const axis = this.axis;\n        const chart = this.chart;\n        const options = this.options;\n        const { grid , position , border  } = options;\n        const offset = grid.offset;\n        const isHorizontal = this.isHorizontal();\n        const ticks = this.ticks;\n        const ticksLength = ticks.length + (offset ? 1 : 0);\n        const tl = getTickMarkLength(grid);\n        const items = [];\n        const borderOpts = border.setContext(this.getContext());\n        const axisWidth = borderOpts.display ? borderOpts.width : 0;\n        const axisHalfWidth = axisWidth / 2;\n        const alignBorderValue = function(pixel) {\n            return _alignPixel(chart, pixel, axisWidth);\n        };\n        let borderValue, i, lineValue, alignedLineValue;\n        let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n        if (position === 'top') {\n            borderValue = alignBorderValue(this.bottom);\n            ty1 = this.bottom - tl;\n            ty2 = borderValue - axisHalfWidth;\n            y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n            y2 = chartArea.bottom;\n        } else if (position === 'bottom') {\n            borderValue = alignBorderValue(this.top);\n            y1 = chartArea.top;\n            y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n            ty1 = borderValue + axisHalfWidth;\n            ty2 = this.top + tl;\n        } else if (position === 'left') {\n            borderValue = alignBorderValue(this.right);\n            tx1 = this.right - tl;\n            tx2 = borderValue - axisHalfWidth;\n            x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n            x2 = chartArea.right;\n        } else if (position === 'right') {\n            borderValue = alignBorderValue(this.left);\n            x1 = chartArea.left;\n            x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n            tx1 = borderValue + axisHalfWidth;\n            tx2 = this.left + tl;\n        } else if (axis === 'x') {\n            if (position === 'center') {\n                borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n            }\n            y1 = chartArea.top;\n            y2 = chartArea.bottom;\n            ty1 = borderValue + axisHalfWidth;\n            ty2 = ty1 + tl;\n        } else if (axis === 'y') {\n            if (position === 'center') {\n                borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n            }\n            tx1 = borderValue - axisHalfWidth;\n            tx2 = tx1 - tl;\n            x1 = chartArea.left;\n            x2 = chartArea.right;\n        }\n        const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n        const step = Math.max(1, Math.ceil(ticksLength / limit));\n        for(i = 0; i < ticksLength; i += step){\n            const context = this.getContext(i);\n            const optsAtIndex = grid.setContext(context);\n            const optsAtIndexBorder = border.setContext(context);\n            const lineWidth = optsAtIndex.lineWidth;\n            const lineColor = optsAtIndex.color;\n            const borderDash = optsAtIndexBorder.dash || [];\n            const borderDashOffset = optsAtIndexBorder.dashOffset;\n            const tickWidth = optsAtIndex.tickWidth;\n            const tickColor = optsAtIndex.tickColor;\n            const tickBorderDash = optsAtIndex.tickBorderDash || [];\n            const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n            lineValue = getPixelForGridLine(this, i, offset);\n            if (lineValue === undefined) {\n                continue;\n            }\n            alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n            if (isHorizontal) {\n                tx1 = tx2 = x1 = x2 = alignedLineValue;\n            } else {\n                ty1 = ty2 = y1 = y2 = alignedLineValue;\n            }\n            items.push({\n                tx1,\n                ty1,\n                tx2,\n                ty2,\n                x1,\n                y1,\n                x2,\n                y2,\n                width: lineWidth,\n                color: lineColor,\n                borderDash,\n                borderDashOffset,\n                tickWidth,\n                tickColor,\n                tickBorderDash,\n                tickBorderDashOffset\n            });\n        }\n        this._ticksLength = ticksLength;\n        this._borderValue = borderValue;\n        return items;\n    }\n _computeLabelItems(chartArea) {\n        const axis = this.axis;\n        const options = this.options;\n        const { position , ticks: optionTicks  } = options;\n        const isHorizontal = this.isHorizontal();\n        const ticks = this.ticks;\n        const { align , crossAlign , padding , mirror  } = optionTicks;\n        const tl = getTickMarkLength(options.grid);\n        const tickAndPadding = tl + padding;\n        const hTickAndPadding = mirror ? -padding : tickAndPadding;\n        const rotation = -toRadians(this.labelRotation);\n        const items = [];\n        let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n        let textBaseline = 'middle';\n        if (position === 'top') {\n            y = this.bottom - hTickAndPadding;\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (position === 'bottom') {\n            y = this.top + hTickAndPadding;\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (position === 'left') {\n            const ret = this._getYAxisLabelAlignment(tl);\n            textAlign = ret.textAlign;\n            x = ret.x;\n        } else if (position === 'right') {\n            const ret = this._getYAxisLabelAlignment(tl);\n            textAlign = ret.textAlign;\n            x = ret.x;\n        } else if (axis === 'x') {\n            if (position === 'center') {\n                y = (chartArea.top + chartArea.bottom) / 2 + tickAndPadding;\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n            }\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (axis === 'y') {\n            if (position === 'center') {\n                x = (chartArea.left + chartArea.right) / 2 - tickAndPadding;\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                x = this.chart.scales[positionAxisID].getPixelForValue(value);\n            }\n            textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n        }\n        if (axis === 'y') {\n            if (align === 'start') {\n                textBaseline = 'top';\n            } else if (align === 'end') {\n                textBaseline = 'bottom';\n            }\n        }\n        const labelSizes = this._getLabelSizes();\n        for(i = 0, ilen = ticks.length; i < ilen; ++i){\n            tick = ticks[i];\n            label = tick.label;\n            const optsAtIndex = optionTicks.setContext(this.getContext(i));\n            pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n            font = this._resolveTickFontOptions(i);\n            lineHeight = font.lineHeight;\n            lineCount = isArray(label) ? label.length : 1;\n            const halfCount = lineCount / 2;\n            const color = optsAtIndex.color;\n            const strokeColor = optsAtIndex.textStrokeColor;\n            const strokeWidth = optsAtIndex.textStrokeWidth;\n            let tickTextAlign = textAlign;\n            if (isHorizontal) {\n                x = pixel;\n                if (textAlign === 'inner') {\n                    if (i === ilen - 1) {\n                        tickTextAlign = !this.options.reverse ? 'right' : 'left';\n                    } else if (i === 0) {\n                        tickTextAlign = !this.options.reverse ? 'left' : 'right';\n                    } else {\n                        tickTextAlign = 'center';\n                    }\n                }\n                if (position === 'top') {\n                    if (crossAlign === 'near' || rotation !== 0) {\n                        textOffset = -lineCount * lineHeight + lineHeight / 2;\n                    } else if (crossAlign === 'center') {\n                        textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n                    } else {\n                        textOffset = -labelSizes.highest.height + lineHeight / 2;\n                    }\n                } else {\n                    if (crossAlign === 'near' || rotation !== 0) {\n                        textOffset = lineHeight / 2;\n                    } else if (crossAlign === 'center') {\n                        textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n                    } else {\n                        textOffset = labelSizes.highest.height - lineCount * lineHeight;\n                    }\n                }\n                if (mirror) {\n                    textOffset *= -1;\n                }\n                if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {\n                    x += lineHeight / 2 * Math.sin(rotation);\n                }\n            } else {\n                y = pixel;\n                textOffset = (1 - lineCount) * lineHeight / 2;\n            }\n            let backdrop;\n            if (optsAtIndex.showLabelBackdrop) {\n                const labelPadding = toPadding(optsAtIndex.backdropPadding);\n                const height = labelSizes.heights[i];\n                const width = labelSizes.widths[i];\n                let top = textOffset - labelPadding.top;\n                let left = 0 - labelPadding.left;\n                switch(textBaseline){\n                    case 'middle':\n                        top -= height / 2;\n                        break;\n                    case 'bottom':\n                        top -= height;\n                        break;\n                }\n                switch(textAlign){\n                    case 'center':\n                        left -= width / 2;\n                        break;\n                    case 'right':\n                        left -= width;\n                        break;\n                    case 'inner':\n                        if (i === ilen - 1) {\n                            left -= width;\n                        } else if (i > 0) {\n                            left -= width / 2;\n                        }\n                        break;\n                }\n                backdrop = {\n                    left,\n                    top,\n                    width: width + labelPadding.width,\n                    height: height + labelPadding.height,\n                    color: optsAtIndex.backdropColor\n                };\n            }\n            items.push({\n                label,\n                font,\n                textOffset,\n                options: {\n                    rotation,\n                    color,\n                    strokeColor,\n                    strokeWidth,\n                    textAlign: tickTextAlign,\n                    textBaseline,\n                    translation: [\n                        x,\n                        y\n                    ],\n                    backdrop\n                }\n            });\n        }\n        return items;\n    }\n    _getXAxisLabelAlignment() {\n        const { position , ticks  } = this.options;\n        const rotation = -toRadians(this.labelRotation);\n        if (rotation) {\n            return position === 'top' ? 'left' : 'right';\n        }\n        let align = 'center';\n        if (ticks.align === 'start') {\n            align = 'left';\n        } else if (ticks.align === 'end') {\n            align = 'right';\n        } else if (ticks.align === 'inner') {\n            align = 'inner';\n        }\n        return align;\n    }\n    _getYAxisLabelAlignment(tl) {\n        const { position , ticks: { crossAlign , mirror , padding  }  } = this.options;\n        const labelSizes = this._getLabelSizes();\n        const tickAndPadding = tl + padding;\n        const widest = labelSizes.widest.width;\n        let textAlign;\n        let x;\n        if (position === 'left') {\n            if (mirror) {\n                x = this.right + padding;\n                if (crossAlign === 'near') {\n                    textAlign = 'left';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x += widest / 2;\n                } else {\n                    textAlign = 'right';\n                    x += widest;\n                }\n            } else {\n                x = this.right - tickAndPadding;\n                if (crossAlign === 'near') {\n                    textAlign = 'right';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x -= widest / 2;\n                } else {\n                    textAlign = 'left';\n                    x = this.left;\n                }\n            }\n        } else if (position === 'right') {\n            if (mirror) {\n                x = this.left + padding;\n                if (crossAlign === 'near') {\n                    textAlign = 'right';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x -= widest / 2;\n                } else {\n                    textAlign = 'left';\n                    x -= widest;\n                }\n            } else {\n                x = this.left + tickAndPadding;\n                if (crossAlign === 'near') {\n                    textAlign = 'left';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x += widest / 2;\n                } else {\n                    textAlign = 'right';\n                    x = this.right;\n                }\n            }\n        } else {\n            textAlign = 'right';\n        }\n        return {\n            textAlign,\n            x\n        };\n    }\n _computeLabelArea() {\n        if (this.options.ticks.mirror) {\n            return;\n        }\n        const chart = this.chart;\n        const position = this.options.position;\n        if (position === 'left' || position === 'right') {\n            return {\n                top: 0,\n                left: this.left,\n                bottom: chart.height,\n                right: this.right\n            };\n        }\n        if (position === 'top' || position === 'bottom') {\n            return {\n                top: this.top,\n                left: 0,\n                bottom: this.bottom,\n                right: chart.width\n            };\n        }\n    }\n drawBackground() {\n        const { ctx , options: { backgroundColor  } , left , top , width , height  } = this;\n        if (backgroundColor) {\n            ctx.save();\n            ctx.fillStyle = backgroundColor;\n            ctx.fillRect(left, top, width, height);\n            ctx.restore();\n        }\n    }\n    getLineWidthForValue(value) {\n        const grid = this.options.grid;\n        if (!this._isVisible() || !grid.display) {\n            return 0;\n        }\n        const ticks = this.ticks;\n        const index = ticks.findIndex((t)=>t.value === value);\n        if (index >= 0) {\n            const opts = grid.setContext(this.getContext(index));\n            return opts.lineWidth;\n        }\n        return 0;\n    }\n drawGrid(chartArea) {\n        const grid = this.options.grid;\n        const ctx = this.ctx;\n        const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n        let i, ilen;\n        const drawLine = (p1, p2, style)=>{\n            if (!style.width || !style.color) {\n                return;\n            }\n            ctx.save();\n            ctx.lineWidth = style.width;\n            ctx.strokeStyle = style.color;\n            ctx.setLineDash(style.borderDash || []);\n            ctx.lineDashOffset = style.borderDashOffset;\n            ctx.beginPath();\n            ctx.moveTo(p1.x, p1.y);\n            ctx.lineTo(p2.x, p2.y);\n            ctx.stroke();\n            ctx.restore();\n        };\n        if (grid.display) {\n            for(i = 0, ilen = items.length; i < ilen; ++i){\n                const item = items[i];\n                if (grid.drawOnChartArea) {\n                    drawLine({\n                        x: item.x1,\n                        y: item.y1\n                    }, {\n                        x: item.x2,\n                        y: item.y2\n                    }, item);\n                }\n                if (grid.drawTicks) {\n                    drawLine({\n                        x: item.tx1,\n                        y: item.ty1\n                    }, {\n                        x: item.tx2,\n                        y: item.ty2\n                    }, {\n                        color: item.tickColor,\n                        width: item.tickWidth,\n                        borderDash: item.tickBorderDash,\n                        borderDashOffset: item.tickBorderDashOffset\n                    });\n                }\n            }\n        }\n    }\n drawBorder() {\n        const { chart , ctx , options: { border , grid  }  } = this;\n        const borderOpts = border.setContext(this.getContext());\n        const axisWidth = border.display ? borderOpts.width : 0;\n        if (!axisWidth) {\n            return;\n        }\n        const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n        const borderValue = this._borderValue;\n        let x1, x2, y1, y2;\n        if (this.isHorizontal()) {\n            x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n            x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n            y1 = y2 = borderValue;\n        } else {\n            y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n            y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n            x1 = x2 = borderValue;\n        }\n        ctx.save();\n        ctx.lineWidth = borderOpts.width;\n        ctx.strokeStyle = borderOpts.color;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n        ctx.restore();\n    }\n drawLabels(chartArea) {\n        const optionTicks = this.options.ticks;\n        if (!optionTicks.display) {\n            return;\n        }\n        const ctx = this.ctx;\n        const area = this._computeLabelArea();\n        if (area) {\n            clipArea(ctx, area);\n        }\n        const items = this.getLabelItems(chartArea);\n        for (const item of items){\n            const renderTextOptions = item.options;\n            const tickFont = item.font;\n            const label = item.label;\n            const y = item.textOffset;\n            renderText(ctx, label, 0, y, tickFont, renderTextOptions);\n        }\n        if (area) {\n            unclipArea(ctx);\n        }\n    }\n drawTitle() {\n        const { ctx , options: { position , title , reverse  }  } = this;\n        if (!title.display) {\n            return;\n        }\n        const font = toFont(title.font);\n        const padding = toPadding(title.padding);\n        const align = title.align;\n        let offset = font.lineHeight / 2;\n        if (position === 'bottom' || position === 'center' || isObject(position)) {\n            offset += padding.bottom;\n            if (isArray(title.text)) {\n                offset += font.lineHeight * (title.text.length - 1);\n            }\n        } else {\n            offset += padding.top;\n        }\n        const { titleX , titleY , maxWidth , rotation  } = titleArgs(this, offset, position, align);\n        renderText(ctx, title.text, 0, 0, font, {\n            color: title.color,\n            maxWidth,\n            rotation,\n            textAlign: titleAlign(align, position, reverse),\n            textBaseline: 'middle',\n            translation: [\n                titleX,\n                titleY\n            ]\n        });\n    }\n    draw(chartArea) {\n        if (!this._isVisible()) {\n            return;\n        }\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawBorder();\n        this.drawTitle();\n        this.drawLabels(chartArea);\n    }\n _layers() {\n        const opts = this.options;\n        const tz = opts.ticks && opts.ticks.z || 0;\n        const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n        const bz = valueOrDefault(opts.border && opts.border.z, 0);\n        if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n            return [\n                {\n                    z: tz,\n                    draw: (chartArea)=>{\n                        this.draw(chartArea);\n                    }\n                }\n            ];\n        }\n        return [\n            {\n                z: gz,\n                draw: (chartArea)=>{\n                    this.drawBackground();\n                    this.drawGrid(chartArea);\n                    this.drawTitle();\n                }\n            },\n            {\n                z: bz,\n                draw: ()=>{\n                    this.drawBorder();\n                }\n            },\n            {\n                z: tz,\n                draw: (chartArea)=>{\n                    this.drawLabels(chartArea);\n                }\n            }\n        ];\n    }\n getMatchingVisibleMetas(type) {\n        const metas = this.chart.getSortedVisibleDatasetMetas();\n        const axisID = this.axis + 'AxisID';\n        const result = [];\n        let i, ilen;\n        for(i = 0, ilen = metas.length; i < ilen; ++i){\n            const meta = metas[i];\n            if (meta[axisID] === this.id && (!type || meta.type === type)) {\n                result.push(meta);\n            }\n        }\n        return result;\n    }\n _resolveTickFontOptions(index) {\n        const opts = this.options.ticks.setContext(this.getContext(index));\n        return toFont(opts.font);\n    }\n _maxDigits() {\n        const fontSize = this._resolveTickFontOptions(0).lineHeight;\n        return (this.isHorizontal() ? this.width : this.height) / fontSize;\n    }\n}\n\nclass TypedRegistry {\n    constructor(type, scope, override){\n        this.type = type;\n        this.scope = scope;\n        this.override = override;\n        this.items = Object.create(null);\n    }\n    isForType(type) {\n        return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n    }\n register(item) {\n        const proto = Object.getPrototypeOf(item);\n        let parentScope;\n        if (isIChartComponent(proto)) {\n            parentScope = this.register(proto);\n        }\n        const items = this.items;\n        const id = item.id;\n        const scope = this.scope + '.' + id;\n        if (!id) {\n            throw new Error('class does not have id: ' + item);\n        }\n        if (id in items) {\n            return scope;\n        }\n        items[id] = item;\n        registerDefaults(item, scope, parentScope);\n        if (this.override) {\n            defaults.override(item.id, item.overrides);\n        }\n        return scope;\n    }\n get(id) {\n        return this.items[id];\n    }\n unregister(item) {\n        const items = this.items;\n        const id = item.id;\n        const scope = this.scope;\n        if (id in items) {\n            delete items[id];\n        }\n        if (scope && id in defaults[scope]) {\n            delete defaults[scope][id];\n            if (this.override) {\n                delete overrides[id];\n            }\n        }\n    }\n}\nfunction registerDefaults(item, scope, parentScope) {\n    const itemDefaults = merge(Object.create(null), [\n        parentScope ? defaults.get(parentScope) : {},\n        defaults.get(scope),\n        item.defaults\n    ]);\n    defaults.set(scope, itemDefaults);\n    if (item.defaultRoutes) {\n        routeDefaults(scope, item.defaultRoutes);\n    }\n    if (item.descriptors) {\n        defaults.describe(scope, item.descriptors);\n    }\n}\nfunction routeDefaults(scope, routes) {\n    Object.keys(routes).forEach((property)=>{\n        const propertyParts = property.split('.');\n        const sourceName = propertyParts.pop();\n        const sourceScope = [\n            scope\n        ].concat(propertyParts).join('.');\n        const parts = routes[property].split('.');\n        const targetName = parts.pop();\n        const targetScope = parts.join('.');\n        defaults.route(sourceScope, sourceName, targetScope, targetName);\n    });\n}\nfunction isIChartComponent(proto) {\n    return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n    constructor(){\n        this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n        this.elements = new TypedRegistry(Element, 'elements');\n        this.plugins = new TypedRegistry(Object, 'plugins');\n        this.scales = new TypedRegistry(Scale, 'scales');\n        this._typedRegistries = [\n            this.controllers,\n            this.scales,\n            this.elements\n        ];\n    }\n add(...args) {\n        this._each('register', args);\n    }\n    remove(...args) {\n        this._each('unregister', args);\n    }\n addControllers(...args) {\n        this._each('register', args, this.controllers);\n    }\n addElements(...args) {\n        this._each('register', args, this.elements);\n    }\n addPlugins(...args) {\n        this._each('register', args, this.plugins);\n    }\n addScales(...args) {\n        this._each('register', args, this.scales);\n    }\n getController(id) {\n        return this._get(id, this.controllers, 'controller');\n    }\n getElement(id) {\n        return this._get(id, this.elements, 'element');\n    }\n getPlugin(id) {\n        return this._get(id, this.plugins, 'plugin');\n    }\n getScale(id) {\n        return this._get(id, this.scales, 'scale');\n    }\n removeControllers(...args) {\n        this._each('unregister', args, this.controllers);\n    }\n removeElements(...args) {\n        this._each('unregister', args, this.elements);\n    }\n removePlugins(...args) {\n        this._each('unregister', args, this.plugins);\n    }\n removeScales(...args) {\n        this._each('unregister', args, this.scales);\n    }\n _each(method, args, typedRegistry) {\n        [\n            ...args\n        ].forEach((arg)=>{\n            const reg = typedRegistry || this._getRegistryForType(arg);\n            if (typedRegistry || reg.isForType(arg) || reg === this.plugins && arg.id) {\n                this._exec(method, reg, arg);\n            } else {\n                each(arg, (item)=>{\n                    const itemReg = typedRegistry || this._getRegistryForType(item);\n                    this._exec(method, itemReg, item);\n                });\n            }\n        });\n    }\n _exec(method, registry, component) {\n        const camelMethod = _capitalize(method);\n        callback(component['before' + camelMethod], [], component);\n        registry[method](component);\n        callback(component['after' + camelMethod], [], component);\n    }\n _getRegistryForType(type) {\n        for(let i = 0; i < this._typedRegistries.length; i++){\n            const reg = this._typedRegistries[i];\n            if (reg.isForType(type)) {\n                return reg;\n            }\n        }\n        return this.plugins;\n    }\n _get(id, typedRegistry, type) {\n        const item = typedRegistry.get(id);\n        if (item === undefined) {\n            throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n        }\n        return item;\n    }\n}\nvar registry = /* #__PURE__ */ new Registry();\n\nclass PluginService {\n    constructor(){\n        this._init = [];\n    }\n notify(chart, hook, args, filter) {\n        if (hook === 'beforeInit') {\n            this._init = this._createDescriptors(chart, true);\n            this._notify(this._init, chart, 'install');\n        }\n        const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n        const result = this._notify(descriptors, chart, hook, args);\n        if (hook === 'afterDestroy') {\n            this._notify(descriptors, chart, 'stop');\n            this._notify(this._init, chart, 'uninstall');\n        }\n        return result;\n    }\n _notify(descriptors, chart, hook, args) {\n        args = args || {};\n        for (const descriptor of descriptors){\n            const plugin = descriptor.plugin;\n            const method = plugin[hook];\n            const params = [\n                chart,\n                args,\n                descriptor.options\n            ];\n            if (callback(method, params, plugin) === false && args.cancelable) {\n                return false;\n            }\n        }\n        return true;\n    }\n    invalidate() {\n        if (!isNullOrUndef(this._cache)) {\n            this._oldCache = this._cache;\n            this._cache = undefined;\n        }\n    }\n _descriptors(chart) {\n        if (this._cache) {\n            return this._cache;\n        }\n        const descriptors = this._cache = this._createDescriptors(chart);\n        this._notifyStateChanges(chart);\n        return descriptors;\n    }\n    _createDescriptors(chart, all) {\n        const config = chart && chart.config;\n        const options = valueOrDefault(config.options && config.options.plugins, {});\n        const plugins = allPlugins(config);\n        return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n    }\n _notifyStateChanges(chart) {\n        const previousDescriptors = this._oldCache || [];\n        const descriptors = this._cache;\n        const diff = (a, b)=>a.filter((x)=>!b.some((y)=>x.plugin.id === y.plugin.id));\n        this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n        this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n    }\n}\n function allPlugins(config) {\n    const localIds = {};\n    const plugins = [];\n    const keys = Object.keys(registry.plugins.items);\n    for(let i = 0; i < keys.length; i++){\n        plugins.push(registry.getPlugin(keys[i]));\n    }\n    const local = config.plugins || [];\n    for(let i = 0; i < local.length; i++){\n        const plugin = local[i];\n        if (plugins.indexOf(plugin) === -1) {\n            plugins.push(plugin);\n            localIds[plugin.id] = true;\n        }\n    }\n    return {\n        plugins,\n        localIds\n    };\n}\nfunction getOpts(options, all) {\n    if (!all && options === false) {\n        return null;\n    }\n    if (options === true) {\n        return {};\n    }\n    return options;\n}\nfunction createDescriptors(chart, { plugins , localIds  }, options, all) {\n    const result = [];\n    const context = chart.getContext();\n    for (const plugin of plugins){\n        const id = plugin.id;\n        const opts = getOpts(options[id], all);\n        if (opts === null) {\n            continue;\n        }\n        result.push({\n            plugin,\n            options: pluginOpts(chart.config, {\n                plugin,\n                local: localIds[id]\n            }, opts, context)\n        });\n    }\n    return result;\n}\nfunction pluginOpts(config, { plugin , local  }, opts, context) {\n    const keys = config.pluginScopeKeys(plugin);\n    const scopes = config.getOptionScopes(opts, keys);\n    if (local && plugin.defaults) {\n        scopes.push(plugin.defaults);\n    }\n    return config.createResolver(scopes, context, [\n        ''\n    ], {\n        scriptable: false,\n        indexable: false,\n        allKeys: true\n    });\n}\n\nfunction getIndexAxis(type, options) {\n    const datasetDefaults = defaults.datasets[type] || {};\n    const datasetOptions = (options.datasets || {})[type] || {};\n    return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n    let axis = id;\n    if (id === '_index_') {\n        axis = indexAxis;\n    } else if (id === '_value_') {\n        axis = indexAxis === 'x' ? 'y' : 'x';\n    }\n    return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n    return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction idMatchesAxis(id) {\n    if (id === 'x' || id === 'y' || id === 'r') {\n        return id;\n    }\n}\nfunction axisFromPosition(position) {\n    if (position === 'top' || position === 'bottom') {\n        return 'x';\n    }\n    if (position === 'left' || position === 'right') {\n        return 'y';\n    }\n}\nfunction determineAxis(id, ...scaleOptions) {\n    if (idMatchesAxis(id)) {\n        return id;\n    }\n    for (const opts of scaleOptions){\n        const axis = opts.axis || axisFromPosition(opts.position) || id.length > 1 && idMatchesAxis(id[0].toLowerCase());\n        if (axis) {\n            return axis;\n        }\n    }\n    throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);\n}\nfunction getAxisFromDataset(id, axis, dataset) {\n    if (dataset[axis + 'AxisID'] === id) {\n        return {\n            axis\n        };\n    }\n}\nfunction retrieveAxisFromDatasets(id, config) {\n    if (config.data && config.data.datasets) {\n        const boundDs = config.data.datasets.filter((d)=>d.xAxisID === id || d.yAxisID === id);\n        if (boundDs.length) {\n            return getAxisFromDataset(id, 'x', boundDs[0]) || getAxisFromDataset(id, 'y', boundDs[0]);\n        }\n    }\n    return {};\n}\nfunction mergeScaleConfig(config, options) {\n    const chartDefaults = overrides[config.type] || {\n        scales: {}\n    };\n    const configScales = options.scales || {};\n    const chartIndexAxis = getIndexAxis(config.type, options);\n    const scales = Object.create(null);\n    Object.keys(configScales).forEach((id)=>{\n        const scaleConf = configScales[id];\n        if (!isObject(scaleConf)) {\n            return console.error(`Invalid scale configuration for scale: ${id}`);\n        }\n        if (scaleConf._proxy) {\n            return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n        }\n        const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults.scales[scaleConf.type]);\n        const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n        const defaultScaleOptions = chartDefaults.scales || {};\n        scales[id] = mergeIf(Object.create(null), [\n            {\n                axis\n            },\n            scaleConf,\n            defaultScaleOptions[axis],\n            defaultScaleOptions[defaultId]\n        ]);\n    });\n    config.data.datasets.forEach((dataset)=>{\n        const type = dataset.type || config.type;\n        const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n        const datasetDefaults = overrides[type] || {};\n        const defaultScaleOptions = datasetDefaults.scales || {};\n        Object.keys(defaultScaleOptions).forEach((defaultID)=>{\n            const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n            const id = dataset[axis + 'AxisID'] || axis;\n            scales[id] = scales[id] || Object.create(null);\n            mergeIf(scales[id], [\n                {\n                    axis\n                },\n                configScales[id],\n                defaultScaleOptions[defaultID]\n            ]);\n        });\n    });\n    Object.keys(scales).forEach((key)=>{\n        const scale = scales[key];\n        mergeIf(scale, [\n            defaults.scales[scale.type],\n            defaults.scale\n        ]);\n    });\n    return scales;\n}\nfunction initOptions(config) {\n    const options = config.options || (config.options = {});\n    options.plugins = valueOrDefault(options.plugins, {});\n    options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n    data = data || {};\n    data.datasets = data.datasets || [];\n    data.labels = data.labels || [];\n    return data;\n}\nfunction initConfig(config) {\n    config = config || {};\n    config.data = initData(config.data);\n    initOptions(config);\n    return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n    let keys = keyCache.get(cacheKey);\n    if (!keys) {\n        keys = generate();\n        keyCache.set(cacheKey, keys);\n        keysCached.add(keys);\n    }\n    return keys;\n}\nconst addIfFound = (set, obj, key)=>{\n    const opts = resolveObjectKey(obj, key);\n    if (opts !== undefined) {\n        set.add(opts);\n    }\n};\nclass Config {\n    constructor(config){\n        this._config = initConfig(config);\n        this._scopeCache = new Map();\n        this._resolverCache = new Map();\n    }\n    get platform() {\n        return this._config.platform;\n    }\n    get type() {\n        return this._config.type;\n    }\n    set type(type) {\n        this._config.type = type;\n    }\n    get data() {\n        return this._config.data;\n    }\n    set data(data) {\n        this._config.data = initData(data);\n    }\n    get options() {\n        return this._config.options;\n    }\n    set options(options) {\n        this._config.options = options;\n    }\n    get plugins() {\n        return this._config.plugins;\n    }\n    update() {\n        const config = this._config;\n        this.clearCache();\n        initOptions(config);\n    }\n    clearCache() {\n        this._scopeCache.clear();\n        this._resolverCache.clear();\n    }\n datasetScopeKeys(datasetType) {\n        return cachedKeys(datasetType, ()=>[\n                [\n                    `datasets.${datasetType}`,\n                    ''\n                ]\n            ]);\n    }\n datasetAnimationScopeKeys(datasetType, transition) {\n        return cachedKeys(`${datasetType}.transition.${transition}`, ()=>[\n                [\n                    `datasets.${datasetType}.transitions.${transition}`,\n                    `transitions.${transition}`\n                ],\n                [\n                    `datasets.${datasetType}`,\n                    ''\n                ]\n            ]);\n    }\n datasetElementScopeKeys(datasetType, elementType) {\n        return cachedKeys(`${datasetType}-${elementType}`, ()=>[\n                [\n                    `datasets.${datasetType}.elements.${elementType}`,\n                    `datasets.${datasetType}`,\n                    `elements.${elementType}`,\n                    ''\n                ]\n            ]);\n    }\n pluginScopeKeys(plugin) {\n        const id = plugin.id;\n        const type = this.type;\n        return cachedKeys(`${type}-plugin-${id}`, ()=>[\n                [\n                    `plugins.${id}`,\n                    ...plugin.additionalOptionScopes || []\n                ]\n            ]);\n    }\n _cachedScopes(mainScope, resetCache) {\n        const _scopeCache = this._scopeCache;\n        let cache = _scopeCache.get(mainScope);\n        if (!cache || resetCache) {\n            cache = new Map();\n            _scopeCache.set(mainScope, cache);\n        }\n        return cache;\n    }\n getOptionScopes(mainScope, keyLists, resetCache) {\n        const { options , type  } = this;\n        const cache = this._cachedScopes(mainScope, resetCache);\n        const cached = cache.get(keyLists);\n        if (cached) {\n            return cached;\n        }\n        const scopes = new Set();\n        keyLists.forEach((keys)=>{\n            if (mainScope) {\n                scopes.add(mainScope);\n                keys.forEach((key)=>addIfFound(scopes, mainScope, key));\n            }\n            keys.forEach((key)=>addIfFound(scopes, options, key));\n            keys.forEach((key)=>addIfFound(scopes, overrides[type] || {}, key));\n            keys.forEach((key)=>addIfFound(scopes, defaults, key));\n            keys.forEach((key)=>addIfFound(scopes, descriptors, key));\n        });\n        const array = Array.from(scopes);\n        if (array.length === 0) {\n            array.push(Object.create(null));\n        }\n        if (keysCached.has(keyLists)) {\n            cache.set(keyLists, array);\n        }\n        return array;\n    }\n chartOptionScopes() {\n        const { options , type  } = this;\n        return [\n            options,\n            overrides[type] || {},\n            defaults.datasets[type] || {},\n            {\n                type\n            },\n            defaults,\n            descriptors\n        ];\n    }\n resolveNamedOptions(scopes, names, context, prefixes = [\n        ''\n    ]) {\n        const result = {\n            $shared: true\n        };\n        const { resolver , subPrefixes  } = getResolver(this._resolverCache, scopes, prefixes);\n        let options = resolver;\n        if (needContext(resolver, names)) {\n            result.$shared = false;\n            context = isFunction(context) ? context() : context;\n            const subResolver = this.createResolver(scopes, context, subPrefixes);\n            options = _attachContext(resolver, context, subResolver);\n        }\n        for (const prop of names){\n            result[prop] = options[prop];\n        }\n        return result;\n    }\n createResolver(scopes, context, prefixes = [\n        ''\n    ], descriptorDefaults) {\n        const { resolver  } = getResolver(this._resolverCache, scopes, prefixes);\n        return isObject(context) ? _attachContext(resolver, context, undefined, descriptorDefaults) : resolver;\n    }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n    let cache = resolverCache.get(scopes);\n    if (!cache) {\n        cache = new Map();\n        resolverCache.set(scopes, cache);\n    }\n    const cacheKey = prefixes.join();\n    let cached = cache.get(cacheKey);\n    if (!cached) {\n        const resolver = _createResolver(scopes, prefixes);\n        cached = {\n            resolver,\n            subPrefixes: prefixes.filter((p)=>!p.toLowerCase().includes('hover'))\n        };\n        cache.set(cacheKey, cached);\n    }\n    return cached;\n}\nconst hasFunction = (value)=>isObject(value) && Object.getOwnPropertyNames(value).some((key)=>isFunction(value[key]));\nfunction needContext(proxy, names) {\n    const { isScriptable , isIndexable  } = _descriptors(proxy);\n    for (const prop of names){\n        const scriptable = isScriptable(prop);\n        const indexable = isIndexable(prop);\n        const value = (indexable || scriptable) && proxy[prop];\n        if (scriptable && (isFunction(value) || hasFunction(value)) || indexable && isArray(value)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar version = \"4.4.2\";\n\nconst KNOWN_POSITIONS = [\n    'top',\n    'bottom',\n    'left',\n    'right',\n    'chartArea'\n];\nfunction positionIsHorizontal(position, axis) {\n    return position === 'top' || position === 'bottom' || KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x';\n}\nfunction compare2Level(l1, l2) {\n    return function(a, b) {\n        return a[l1] === b[l1] ? a[l2] - b[l2] : a[l1] - b[l1];\n    };\n}\nfunction onAnimationsComplete(context) {\n    const chart = context.chart;\n    const animationOptions = chart.options.animation;\n    chart.notifyPlugins('afterRender');\n    callback(animationOptions && animationOptions.onComplete, [\n        context\n    ], chart);\n}\nfunction onAnimationProgress(context) {\n    const chart = context.chart;\n    const animationOptions = chart.options.animation;\n    callback(animationOptions && animationOptions.onProgress, [\n        context\n    ], chart);\n}\n function getCanvas(item) {\n    if (_isDomSupported() && typeof item === 'string') {\n        item = document.getElementById(item);\n    } else if (item && item.length) {\n        item = item[0];\n    }\n    if (item && item.canvas) {\n        item = item.canvas;\n    }\n    return item;\n}\nconst instances = {};\nconst getChart = (key)=>{\n    const canvas = getCanvas(key);\n    return Object.values(instances).filter((c)=>c.canvas === canvas).pop();\n};\nfunction moveNumericKeys(obj, start, move) {\n    const keys = Object.keys(obj);\n    for (const key of keys){\n        const intKey = +key;\n        if (intKey >= start) {\n            const value = obj[key];\n            delete obj[key];\n            if (move > 0 || intKey > start) {\n                obj[intKey + move] = value;\n            }\n        }\n    }\n}\n function determineLastEvent(e, lastEvent, inChartArea, isClick) {\n    if (!inChartArea || e.type === 'mouseout') {\n        return null;\n    }\n    if (isClick) {\n        return lastEvent;\n    }\n    return e;\n}\nfunction getSizeForArea(scale, chartArea, field) {\n    return scale.options.clip ? scale[field] : chartArea[field];\n}\nfunction getDatasetArea(meta, chartArea) {\n    const { xScale , yScale  } = meta;\n    if (xScale && yScale) {\n        return {\n            left: getSizeForArea(xScale, chartArea, 'left'),\n            right: getSizeForArea(xScale, chartArea, 'right'),\n            top: getSizeForArea(yScale, chartArea, 'top'),\n            bottom: getSizeForArea(yScale, chartArea, 'bottom')\n        };\n    }\n    return chartArea;\n}\nclass Chart {\n    static defaults = defaults;\n    static instances = instances;\n    static overrides = overrides;\n    static registry = registry;\n    static version = version;\n    static getChart = getChart;\n    static register(...items) {\n        registry.add(...items);\n        invalidatePlugins();\n    }\n    static unregister(...items) {\n        registry.remove(...items);\n        invalidatePlugins();\n    }\n    constructor(item, userConfig){\n        const config = this.config = new Config(userConfig);\n        const initialCanvas = getCanvas(item);\n        const existingChart = getChart(initialCanvas);\n        if (existingChart) {\n            throw new Error('Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' + ' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.');\n        }\n        const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n        this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n        this.platform.updateConfig(config);\n        const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n        const canvas = context && context.canvas;\n        const height = canvas && canvas.height;\n        const width = canvas && canvas.width;\n        this.id = uid();\n        this.ctx = context;\n        this.canvas = canvas;\n        this.width = width;\n        this.height = height;\n        this._options = options;\n        this._aspectRatio = this.aspectRatio;\n        this._layers = [];\n        this._metasets = [];\n        this._stacks = undefined;\n        this.boxes = [];\n        this.currentDevicePixelRatio = undefined;\n        this.chartArea = undefined;\n        this._active = [];\n        this._lastEvent = undefined;\n        this._listeners = {};\n         this._responsiveListeners = undefined;\n        this._sortedMetasets = [];\n        this.scales = {};\n        this._plugins = new PluginService();\n        this.$proxies = {};\n        this._hiddenIndices = {};\n        this.attached = false;\n        this._animationsDisabled = undefined;\n        this.$context = undefined;\n        this._doResize = debounce((mode)=>this.update(mode), options.resizeDelay || 0);\n        this._dataChanges = [];\n        instances[this.id] = this;\n        if (!context || !canvas) {\n            console.error(\"Failed to create chart: can't acquire context from the given item\");\n            return;\n        }\n        animator.listen(this, 'complete', onAnimationsComplete);\n        animator.listen(this, 'progress', onAnimationProgress);\n        this._initialize();\n        if (this.attached) {\n            this.update();\n        }\n    }\n    get aspectRatio() {\n        const { options: { aspectRatio , maintainAspectRatio  } , width , height , _aspectRatio  } = this;\n        if (!isNullOrUndef(aspectRatio)) {\n            return aspectRatio;\n        }\n        if (maintainAspectRatio && _aspectRatio) {\n            return _aspectRatio;\n        }\n        return height ? width / height : null;\n    }\n    get data() {\n        return this.config.data;\n    }\n    set data(data) {\n        this.config.data = data;\n    }\n    get options() {\n        return this._options;\n    }\n    set options(options) {\n        this.config.options = options;\n    }\n    get registry() {\n        return registry;\n    }\n _initialize() {\n        this.notifyPlugins('beforeInit');\n        if (this.options.responsive) {\n            this.resize();\n        } else {\n            retinaScale(this, this.options.devicePixelRatio);\n        }\n        this.bindEvents();\n        this.notifyPlugins('afterInit');\n        return this;\n    }\n    clear() {\n        clearCanvas(this.canvas, this.ctx);\n        return this;\n    }\n    stop() {\n        animator.stop(this);\n        return this;\n    }\n resize(width, height) {\n        if (!animator.running(this)) {\n            this._resize(width, height);\n        } else {\n            this._resizeBeforeDraw = {\n                width,\n                height\n            };\n        }\n    }\n    _resize(width, height) {\n        const options = this.options;\n        const canvas = this.canvas;\n        const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n        const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n        const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n        const mode = this.width ? 'resize' : 'attach';\n        this.width = newSize.width;\n        this.height = newSize.height;\n        this._aspectRatio = this.aspectRatio;\n        if (!retinaScale(this, newRatio, true)) {\n            return;\n        }\n        this.notifyPlugins('resize', {\n            size: newSize\n        });\n        callback(options.onResize, [\n            this,\n            newSize\n        ], this);\n        if (this.attached) {\n            if (this._doResize(mode)) {\n                this.render();\n            }\n        }\n    }\n    ensureScalesHaveIDs() {\n        const options = this.options;\n        const scalesOptions = options.scales || {};\n        each(scalesOptions, (axisOptions, axisID)=>{\n            axisOptions.id = axisID;\n        });\n    }\n buildOrUpdateScales() {\n        const options = this.options;\n        const scaleOpts = options.scales;\n        const scales = this.scales;\n        const updated = Object.keys(scales).reduce((obj, id)=>{\n            obj[id] = false;\n            return obj;\n        }, {});\n        let items = [];\n        if (scaleOpts) {\n            items = items.concat(Object.keys(scaleOpts).map((id)=>{\n                const scaleOptions = scaleOpts[id];\n                const axis = determineAxis(id, scaleOptions);\n                const isRadial = axis === 'r';\n                const isHorizontal = axis === 'x';\n                return {\n                    options: scaleOptions,\n                    dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n                    dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n                };\n            }));\n        }\n        each(items, (item)=>{\n            const scaleOptions = item.options;\n            const id = scaleOptions.id;\n            const axis = determineAxis(id, scaleOptions);\n            const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n            if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n                scaleOptions.position = item.dposition;\n            }\n            updated[id] = true;\n            let scale = null;\n            if (id in scales && scales[id].type === scaleType) {\n                scale = scales[id];\n            } else {\n                const scaleClass = registry.getScale(scaleType);\n                scale = new scaleClass({\n                    id,\n                    type: scaleType,\n                    ctx: this.ctx,\n                    chart: this\n                });\n                scales[scale.id] = scale;\n            }\n            scale.init(scaleOptions, options);\n        });\n        each(updated, (hasUpdated, id)=>{\n            if (!hasUpdated) {\n                delete scales[id];\n            }\n        });\n        each(scales, (scale)=>{\n            layouts.configure(this, scale, scale.options);\n            layouts.addBox(this, scale);\n        });\n    }\n _updateMetasets() {\n        const metasets = this._metasets;\n        const numData = this.data.datasets.length;\n        const numMeta = metasets.length;\n        metasets.sort((a, b)=>a.index - b.index);\n        if (numMeta > numData) {\n            for(let i = numData; i < numMeta; ++i){\n                this._destroyDatasetMeta(i);\n            }\n            metasets.splice(numData, numMeta - numData);\n        }\n        this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n    }\n _removeUnreferencedMetasets() {\n        const { _metasets: metasets , data: { datasets  }  } = this;\n        if (metasets.length > datasets.length) {\n            delete this._stacks;\n        }\n        metasets.forEach((meta, index)=>{\n            if (datasets.filter((x)=>x === meta._dataset).length === 0) {\n                this._destroyDatasetMeta(index);\n            }\n        });\n    }\n    buildOrUpdateControllers() {\n        const newControllers = [];\n        const datasets = this.data.datasets;\n        let i, ilen;\n        this._removeUnreferencedMetasets();\n        for(i = 0, ilen = datasets.length; i < ilen; i++){\n            const dataset = datasets[i];\n            let meta = this.getDatasetMeta(i);\n            const type = dataset.type || this.config.type;\n            if (meta.type && meta.type !== type) {\n                this._destroyDatasetMeta(i);\n                meta = this.getDatasetMeta(i);\n            }\n            meta.type = type;\n            meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n            meta.order = dataset.order || 0;\n            meta.index = i;\n            meta.label = '' + dataset.label;\n            meta.visible = this.isDatasetVisible(i);\n            if (meta.controller) {\n                meta.controller.updateIndex(i);\n                meta.controller.linkScales();\n            } else {\n                const ControllerClass = registry.getController(type);\n                const { datasetElementType , dataElementType  } = defaults.datasets[type];\n                Object.assign(ControllerClass, {\n                    dataElementType: registry.getElement(dataElementType),\n                    datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n                });\n                meta.controller = new ControllerClass(this, i);\n                newControllers.push(meta.controller);\n            }\n        }\n        this._updateMetasets();\n        return newControllers;\n    }\n _resetElements() {\n        each(this.data.datasets, (dataset, datasetIndex)=>{\n            this.getDatasetMeta(datasetIndex).controller.reset();\n        }, this);\n    }\n reset() {\n        this._resetElements();\n        this.notifyPlugins('reset');\n    }\n    update(mode) {\n        const config = this.config;\n        config.update();\n        const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n        const animsDisabled = this._animationsDisabled = !options.animation;\n        this._updateScales();\n        this._checkEventBindings();\n        this._updateHiddenIndices();\n        this._plugins.invalidate();\n        if (this.notifyPlugins('beforeUpdate', {\n            mode,\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const newControllers = this.buildOrUpdateControllers();\n        this.notifyPlugins('beforeElementsUpdate');\n        let minPadding = 0;\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; i++){\n            const { controller  } = this.getDatasetMeta(i);\n            const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n            controller.buildOrUpdateElements(reset);\n            minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n        }\n        minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n        this._updateLayout(minPadding);\n        if (!animsDisabled) {\n            each(newControllers, (controller)=>{\n                controller.reset();\n            });\n        }\n        this._updateDatasets(mode);\n        this.notifyPlugins('afterUpdate', {\n            mode\n        });\n        this._layers.sort(compare2Level('z', '_idx'));\n        const { _active , _lastEvent  } = this;\n        if (_lastEvent) {\n            this._eventHandler(_lastEvent, true);\n        } else if (_active.length) {\n            this._updateHoverStyles(_active, _active, true);\n        }\n        this.render();\n    }\n _updateScales() {\n        each(this.scales, (scale)=>{\n            layouts.removeBox(this, scale);\n        });\n        this.ensureScalesHaveIDs();\n        this.buildOrUpdateScales();\n    }\n _checkEventBindings() {\n        const options = this.options;\n        const existingEvents = new Set(Object.keys(this._listeners));\n        const newEvents = new Set(options.events);\n        if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n            this.unbindEvents();\n            this.bindEvents();\n        }\n    }\n _updateHiddenIndices() {\n        const { _hiddenIndices  } = this;\n        const changes = this._getUniformDataChanges() || [];\n        for (const { method , start , count  } of changes){\n            const move = method === '_removeElements' ? -count : count;\n            moveNumericKeys(_hiddenIndices, start, move);\n        }\n    }\n _getUniformDataChanges() {\n        const _dataChanges = this._dataChanges;\n        if (!_dataChanges || !_dataChanges.length) {\n            return;\n        }\n        this._dataChanges = [];\n        const datasetCount = this.data.datasets.length;\n        const makeSet = (idx)=>new Set(_dataChanges.filter((c)=>c[0] === idx).map((c, i)=>i + ',' + c.splice(1).join(',')));\n        const changeSet = makeSet(0);\n        for(let i = 1; i < datasetCount; i++){\n            if (!setsEqual(changeSet, makeSet(i))) {\n                return;\n            }\n        }\n        return Array.from(changeSet).map((c)=>c.split(',')).map((a)=>({\n                method: a[1],\n                start: +a[2],\n                count: +a[3]\n            }));\n    }\n _updateLayout(minPadding) {\n        if (this.notifyPlugins('beforeLayout', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        layouts.update(this, this.width, this.height, minPadding);\n        const area = this.chartArea;\n        const noArea = area.width <= 0 || area.height <= 0;\n        this._layers = [];\n        each(this.boxes, (box)=>{\n            if (noArea && box.position === 'chartArea') {\n                return;\n            }\n            if (box.configure) {\n                box.configure();\n            }\n            this._layers.push(...box._layers());\n        }, this);\n        this._layers.forEach((item, index)=>{\n            item._idx = index;\n        });\n        this.notifyPlugins('afterLayout');\n    }\n _updateDatasets(mode) {\n        if (this.notifyPlugins('beforeDatasetsUpdate', {\n            mode,\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this.getDatasetMeta(i).controller.configure();\n        }\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this._updateDataset(i, isFunction(mode) ? mode({\n                datasetIndex: i\n            }) : mode);\n        }\n        this.notifyPlugins('afterDatasetsUpdate', {\n            mode\n        });\n    }\n _updateDataset(index, mode) {\n        const meta = this.getDatasetMeta(index);\n        const args = {\n            meta,\n            index,\n            mode,\n            cancelable: true\n        };\n        if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n            return;\n        }\n        meta.controller._update(mode);\n        args.cancelable = false;\n        this.notifyPlugins('afterDatasetUpdate', args);\n    }\n    render() {\n        if (this.notifyPlugins('beforeRender', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        if (animator.has(this)) {\n            if (this.attached && !animator.running(this)) {\n                animator.start(this);\n            }\n        } else {\n            this.draw();\n            onAnimationsComplete({\n                chart: this\n            });\n        }\n    }\n    draw() {\n        let i;\n        if (this._resizeBeforeDraw) {\n            const { width , height  } = this._resizeBeforeDraw;\n            this._resize(width, height);\n            this._resizeBeforeDraw = null;\n        }\n        this.clear();\n        if (this.width <= 0 || this.height <= 0) {\n            return;\n        }\n        if (this.notifyPlugins('beforeDraw', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const layers = this._layers;\n        for(i = 0; i < layers.length && layers[i].z <= 0; ++i){\n            layers[i].draw(this.chartArea);\n        }\n        this._drawDatasets();\n        for(; i < layers.length; ++i){\n            layers[i].draw(this.chartArea);\n        }\n        this.notifyPlugins('afterDraw');\n    }\n _getSortedDatasetMetas(filterVisible) {\n        const metasets = this._sortedMetasets;\n        const result = [];\n        let i, ilen;\n        for(i = 0, ilen = metasets.length; i < ilen; ++i){\n            const meta = metasets[i];\n            if (!filterVisible || meta.visible) {\n                result.push(meta);\n            }\n        }\n        return result;\n    }\n getSortedVisibleDatasetMetas() {\n        return this._getSortedDatasetMetas(true);\n    }\n _drawDatasets() {\n        if (this.notifyPlugins('beforeDatasetsDraw', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const metasets = this.getSortedVisibleDatasetMetas();\n        for(let i = metasets.length - 1; i >= 0; --i){\n            this._drawDataset(metasets[i]);\n        }\n        this.notifyPlugins('afterDatasetsDraw');\n    }\n _drawDataset(meta) {\n        const ctx = this.ctx;\n        const clip = meta._clip;\n        const useClip = !clip.disabled;\n        const area = getDatasetArea(meta, this.chartArea);\n        const args = {\n            meta,\n            index: meta.index,\n            cancelable: true\n        };\n        if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n            return;\n        }\n        if (useClip) {\n            clipArea(ctx, {\n                left: clip.left === false ? 0 : area.left - clip.left,\n                right: clip.right === false ? this.width : area.right + clip.right,\n                top: clip.top === false ? 0 : area.top - clip.top,\n                bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n            });\n        }\n        meta.controller.draw();\n        if (useClip) {\n            unclipArea(ctx);\n        }\n        args.cancelable = false;\n        this.notifyPlugins('afterDatasetDraw', args);\n    }\n isPointInArea(point) {\n        return _isPointInArea(point, this.chartArea, this._minPadding);\n    }\n    getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n        const method = Interaction.modes[mode];\n        if (typeof method === 'function') {\n            return method(this, e, options, useFinalPosition);\n        }\n        return [];\n    }\n    getDatasetMeta(datasetIndex) {\n        const dataset = this.data.datasets[datasetIndex];\n        const metasets = this._metasets;\n        let meta = metasets.filter((x)=>x && x._dataset === dataset).pop();\n        if (!meta) {\n            meta = {\n                type: null,\n                data: [],\n                dataset: null,\n                controller: null,\n                hidden: null,\n                xAxisID: null,\n                yAxisID: null,\n                order: dataset && dataset.order || 0,\n                index: datasetIndex,\n                _dataset: dataset,\n                _parsed: [],\n                _sorted: false\n            };\n            metasets.push(meta);\n        }\n        return meta;\n    }\n    getContext() {\n        return this.$context || (this.$context = createContext(null, {\n            chart: this,\n            type: 'chart'\n        }));\n    }\n    getVisibleDatasetCount() {\n        return this.getSortedVisibleDatasetMetas().length;\n    }\n    isDatasetVisible(datasetIndex) {\n        const dataset = this.data.datasets[datasetIndex];\n        if (!dataset) {\n            return false;\n        }\n        const meta = this.getDatasetMeta(datasetIndex);\n        return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n    }\n    setDatasetVisibility(datasetIndex, visible) {\n        const meta = this.getDatasetMeta(datasetIndex);\n        meta.hidden = !visible;\n    }\n    toggleDataVisibility(index) {\n        this._hiddenIndices[index] = !this._hiddenIndices[index];\n    }\n    getDataVisibility(index) {\n        return !this._hiddenIndices[index];\n    }\n _updateVisibility(datasetIndex, dataIndex, visible) {\n        const mode = visible ? 'show' : 'hide';\n        const meta = this.getDatasetMeta(datasetIndex);\n        const anims = meta.controller._resolveAnimations(undefined, mode);\n        if (defined(dataIndex)) {\n            meta.data[dataIndex].hidden = !visible;\n            this.update();\n        } else {\n            this.setDatasetVisibility(datasetIndex, visible);\n            anims.update(meta, {\n                visible\n            });\n            this.update((ctx)=>ctx.datasetIndex === datasetIndex ? mode : undefined);\n        }\n    }\n    hide(datasetIndex, dataIndex) {\n        this._updateVisibility(datasetIndex, dataIndex, false);\n    }\n    show(datasetIndex, dataIndex) {\n        this._updateVisibility(datasetIndex, dataIndex, true);\n    }\n _destroyDatasetMeta(datasetIndex) {\n        const meta = this._metasets[datasetIndex];\n        if (meta && meta.controller) {\n            meta.controller._destroy();\n        }\n        delete this._metasets[datasetIndex];\n    }\n    _stop() {\n        let i, ilen;\n        this.stop();\n        animator.remove(this);\n        for(i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this._destroyDatasetMeta(i);\n        }\n    }\n    destroy() {\n        this.notifyPlugins('beforeDestroy');\n        const { canvas , ctx  } = this;\n        this._stop();\n        this.config.clearCache();\n        if (canvas) {\n            this.unbindEvents();\n            clearCanvas(canvas, ctx);\n            this.platform.releaseContext(ctx);\n            this.canvas = null;\n            this.ctx = null;\n        }\n        delete instances[this.id];\n        this.notifyPlugins('afterDestroy');\n    }\n    toBase64Image(...args) {\n        return this.canvas.toDataURL(...args);\n    }\n bindEvents() {\n        this.bindUserEvents();\n        if (this.options.responsive) {\n            this.bindResponsiveEvents();\n        } else {\n            this.attached = true;\n        }\n    }\n bindUserEvents() {\n        const listeners = this._listeners;\n        const platform = this.platform;\n        const _add = (type, listener)=>{\n            platform.addEventListener(this, type, listener);\n            listeners[type] = listener;\n        };\n        const listener = (e, x, y)=>{\n            e.offsetX = x;\n            e.offsetY = y;\n            this._eventHandler(e);\n        };\n        each(this.options.events, (type)=>_add(type, listener));\n    }\n bindResponsiveEvents() {\n        if (!this._responsiveListeners) {\n            this._responsiveListeners = {};\n        }\n        const listeners = this._responsiveListeners;\n        const platform = this.platform;\n        const _add = (type, listener)=>{\n            platform.addEventListener(this, type, listener);\n            listeners[type] = listener;\n        };\n        const _remove = (type, listener)=>{\n            if (listeners[type]) {\n                platform.removeEventListener(this, type, listener);\n                delete listeners[type];\n            }\n        };\n        const listener = (width, height)=>{\n            if (this.canvas) {\n                this.resize(width, height);\n            }\n        };\n        let detached;\n        const attached = ()=>{\n            _remove('attach', attached);\n            this.attached = true;\n            this.resize();\n            _add('resize', listener);\n            _add('detach', detached);\n        };\n        detached = ()=>{\n            this.attached = false;\n            _remove('resize', listener);\n            this._stop();\n            this._resize(0, 0);\n            _add('attach', attached);\n        };\n        if (platform.isAttached(this.canvas)) {\n            attached();\n        } else {\n            detached();\n        }\n    }\n unbindEvents() {\n        each(this._listeners, (listener, type)=>{\n            this.platform.removeEventListener(this, type, listener);\n        });\n        this._listeners = {};\n        each(this._responsiveListeners, (listener, type)=>{\n            this.platform.removeEventListener(this, type, listener);\n        });\n        this._responsiveListeners = undefined;\n    }\n    updateHoverStyle(items, mode, enabled) {\n        const prefix = enabled ? 'set' : 'remove';\n        let meta, item, i, ilen;\n        if (mode === 'dataset') {\n            meta = this.getDatasetMeta(items[0].datasetIndex);\n            meta.controller['_' + prefix + 'DatasetHoverStyle']();\n        }\n        for(i = 0, ilen = items.length; i < ilen; ++i){\n            item = items[i];\n            const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n            if (controller) {\n                controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n            }\n        }\n    }\n getActiveElements() {\n        return this._active || [];\n    }\n setActiveElements(activeElements) {\n        const lastActive = this._active || [];\n        const active = activeElements.map(({ datasetIndex , index  })=>{\n            const meta = this.getDatasetMeta(datasetIndex);\n            if (!meta) {\n                throw new Error('No dataset found at index ' + datasetIndex);\n            }\n            return {\n                datasetIndex,\n                element: meta.data[index],\n                index\n            };\n        });\n        const changed = !_elementsEqual(active, lastActive);\n        if (changed) {\n            this._active = active;\n            this._lastEvent = null;\n            this._updateHoverStyles(active, lastActive);\n        }\n    }\n notifyPlugins(hook, args, filter) {\n        return this._plugins.notify(this, hook, args, filter);\n    }\n isPluginEnabled(pluginId) {\n        return this._plugins._cache.filter((p)=>p.plugin.id === pluginId).length === 1;\n    }\n _updateHoverStyles(active, lastActive, replay) {\n        const hoverOptions = this.options.hover;\n        const diff = (a, b)=>a.filter((x)=>!b.some((y)=>x.datasetIndex === y.datasetIndex && x.index === y.index));\n        const deactivated = diff(lastActive, active);\n        const activated = replay ? active : diff(active, lastActive);\n        if (deactivated.length) {\n            this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n        }\n        if (activated.length && hoverOptions.mode) {\n            this.updateHoverStyle(activated, hoverOptions.mode, true);\n        }\n    }\n _eventHandler(e, replay) {\n        const args = {\n            event: e,\n            replay,\n            cancelable: true,\n            inChartArea: this.isPointInArea(e)\n        };\n        const eventFilter = (plugin)=>(plugin.options.events || this.options.events).includes(e.native.type);\n        if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n            return;\n        }\n        const changed = this._handleEvent(e, replay, args.inChartArea);\n        args.cancelable = false;\n        this.notifyPlugins('afterEvent', args, eventFilter);\n        if (changed || args.changed) {\n            this.render();\n        }\n        return this;\n    }\n _handleEvent(e, replay, inChartArea) {\n        const { _active: lastActive = [] , options  } = this;\n        const useFinalPosition = replay;\n        const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n        const isClick = _isClickEvent(e);\n        const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n        if (inChartArea) {\n            this._lastEvent = null;\n            callback(options.onHover, [\n                e,\n                active,\n                this\n            ], this);\n            if (isClick) {\n                callback(options.onClick, [\n                    e,\n                    active,\n                    this\n                ], this);\n            }\n        }\n        const changed = !_elementsEqual(active, lastActive);\n        if (changed || replay) {\n            this._active = active;\n            this._updateHoverStyles(active, lastActive, replay);\n        }\n        this._lastEvent = lastEvent;\n        return changed;\n    }\n _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n        if (e.type === 'mouseout') {\n            return [];\n        }\n        if (!inChartArea) {\n            return lastActive;\n        }\n        const hoverOptions = this.options.hover;\n        return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n    }\n}\nfunction invalidatePlugins() {\n    return each(Chart.instances, (chart)=>chart._plugins.invalidate());\n}\n\nfunction clipArc(ctx, element, endAngle) {\n    const { startAngle , pixelMargin , x , y , outerRadius , innerRadius  } = element;\n    let angleMargin = pixelMargin / outerRadius;\n    // Draw an inner border by clipping the arc and drawing a double-width border\n    // Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\n    ctx.beginPath();\n    ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n    if (innerRadius > pixelMargin) {\n        angleMargin = pixelMargin / innerRadius;\n        ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n    } else {\n        ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n    }\n    ctx.closePath();\n    ctx.clip();\n}\nfunction toRadiusCorners(value) {\n    return _readValueToProps(value, [\n        'outerStart',\n        'outerEnd',\n        'innerStart',\n        'innerEnd'\n    ]);\n}\n/**\n * Parse border radius from the provided options\n */ function parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n    const o = toRadiusCorners(arc.options.borderRadius);\n    const halfThickness = (outerRadius - innerRadius) / 2;\n    const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n    // Outer limits are complicated. We want to compute the available angular distance at\n    // a radius of outerRadius - borderRadius because for small angular distances, this term limits.\n    // We compute at r = outerRadius - borderRadius because this circle defines the center of the border corners.\n    //\n    // If the borderRadius is large, that value can become negative.\n    // This causes the outer borders to lose their radius entirely, which is rather unexpected. To solve that, if borderRadius > outerRadius\n    // we know that the thickness term will dominate and compute the limits at that point\n    const computeOuterLimit = (val)=>{\n        const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n        return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n    };\n    return {\n        outerStart: computeOuterLimit(o.outerStart),\n        outerEnd: computeOuterLimit(o.outerEnd),\n        innerStart: _limitValue(o.innerStart, 0, innerLimit),\n        innerEnd: _limitValue(o.innerEnd, 0, innerLimit)\n    };\n}\n/**\n * Convert (r, ) to (x, y)\n */ function rThetaToXY(r, theta, x, y) {\n    return {\n        x: x + r * Math.cos(theta),\n        y: y + r * Math.sin(theta)\n    };\n}\n/**\n * Path the arc, respecting border radius by separating into left and right halves.\n *\n *   Start      End\n *\n *    1--->a--->2    Outer\n *   /           \\\n *   8           3\n *   |           |\n *   |           |\n *   7           4\n *   \\           /\n *    6<---b<---5    Inner\n */ function pathArc(ctx, element, offset, spacing, end, circular) {\n    const { x , y , startAngle: start , pixelMargin , innerRadius: innerR  } = element;\n    const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n    const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n    let spacingOffset = 0;\n    const alpha = end - start;\n    if (spacing) {\n        // When spacing is present, it is the same for all items\n        // So we adjust the start and end angle of the arc such that\n        // the distance is the same as it would be without the spacing\n        const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n        const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n        const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n        const adjustedAngle = avNogSpacingRadius !== 0 ? alpha * avNogSpacingRadius / (avNogSpacingRadius + spacing) : alpha;\n        spacingOffset = (alpha - adjustedAngle) / 2;\n    }\n    const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n    const angleOffset = (alpha - beta) / 2;\n    const startAngle = start + angleOffset + spacingOffset;\n    const endAngle = end - angleOffset - spacingOffset;\n    const { outerStart , outerEnd , innerStart , innerEnd  } = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n    const outerStartAdjustedRadius = outerRadius - outerStart;\n    const outerEndAdjustedRadius = outerRadius - outerEnd;\n    const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n    const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n    const innerStartAdjustedRadius = innerRadius + innerStart;\n    const innerEndAdjustedRadius = innerRadius + innerEnd;\n    const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n    const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n    ctx.beginPath();\n    if (circular) {\n        // The first arc segments from point 1 to point a to point 2\n        const outerMidAdjustedAngle = (outerStartAdjustedAngle + outerEndAdjustedAngle) / 2;\n        ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerMidAdjustedAngle);\n        ctx.arc(x, y, outerRadius, outerMidAdjustedAngle, outerEndAdjustedAngle);\n        // The corner segment from point 2 to point 3\n        if (outerEnd > 0) {\n            const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n        }\n        // The line from point 3 to point 4\n        const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n        ctx.lineTo(p4.x, p4.y);\n        // The corner segment from point 4 to point 5\n        if (innerEnd > 0) {\n            const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n        }\n        // The inner arc from point 5 to point b to point 6\n        const innerMidAdjustedAngle = (endAngle - innerEnd / innerRadius + (startAngle + innerStart / innerRadius)) / 2;\n        ctx.arc(x, y, innerRadius, endAngle - innerEnd / innerRadius, innerMidAdjustedAngle, true);\n        ctx.arc(x, y, innerRadius, innerMidAdjustedAngle, startAngle + innerStart / innerRadius, true);\n        // The corner segment from point 6 to point 7\n        if (innerStart > 0) {\n            const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n        }\n        // The line from point 7 to point 8\n        const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n        ctx.lineTo(p8.x, p8.y);\n        // The corner segment from point 8 to point 1\n        if (outerStart > 0) {\n            const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n        }\n    } else {\n        ctx.moveTo(x, y);\n        const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n        const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n        ctx.lineTo(outerStartX, outerStartY);\n        const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n        const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n        ctx.lineTo(outerEndX, outerEndY);\n    }\n    ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing, circular) {\n    const { fullCircles , startAngle , circumference  } = element;\n    let endAngle = element.endAngle;\n    if (fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        for(let i = 0; i < fullCircles; ++i){\n            ctx.fill();\n        }\n        if (!isNaN(circumference)) {\n            endAngle = startAngle + (circumference % TAU || TAU);\n        }\n    }\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    ctx.fill();\n    return endAngle;\n}\nfunction drawBorder(ctx, element, offset, spacing, circular) {\n    const { fullCircles , startAngle , circumference , options  } = element;\n    const { borderWidth , borderJoinStyle , borderDash , borderDashOffset  } = options;\n    const inner = options.borderAlign === 'inner';\n    if (!borderWidth) {\n        return;\n    }\n    ctx.setLineDash(borderDash || []);\n    ctx.lineDashOffset = borderDashOffset;\n    if (inner) {\n        ctx.lineWidth = borderWidth * 2;\n        ctx.lineJoin = borderJoinStyle || 'round';\n    } else {\n        ctx.lineWidth = borderWidth;\n        ctx.lineJoin = borderJoinStyle || 'bevel';\n    }\n    let endAngle = element.endAngle;\n    if (fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        for(let i = 0; i < fullCircles; ++i){\n            ctx.stroke();\n        }\n        if (!isNaN(circumference)) {\n            endAngle = startAngle + (circumference % TAU || TAU);\n        }\n    }\n    if (inner) {\n        clipArc(ctx, element, endAngle);\n    }\n    if (!fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        ctx.stroke();\n    }\n}\nclass ArcElement extends Element {\n    static id = 'arc';\n    static defaults = {\n        borderAlign: 'center',\n        borderColor: '#fff',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: undefined,\n        borderRadius: 0,\n        borderWidth: 2,\n        offset: 0,\n        spacing: 0,\n        angle: undefined,\n        circular: true\n    };\n    static defaultRoutes = {\n        backgroundColor: 'backgroundColor'\n    };\n    static descriptors = {\n        _scriptable: true,\n        _indexable: (name)=>name !== 'borderDash'\n    };\n    circumference;\n    endAngle;\n    fullCircles;\n    innerRadius;\n    outerRadius;\n    pixelMargin;\n    startAngle;\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.circumference = undefined;\n        this.startAngle = undefined;\n        this.endAngle = undefined;\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n        this.pixelMargin = 0;\n        this.fullCircles = 0;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    inRange(chartX, chartY, useFinalPosition) {\n        const point = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        const { angle , distance  } = getAngleFromPoint(point, {\n            x: chartX,\n            y: chartY\n        });\n        const { startAngle , endAngle , innerRadius , outerRadius , circumference  } = this.getProps([\n            'startAngle',\n            'endAngle',\n            'innerRadius',\n            'outerRadius',\n            'circumference'\n        ], useFinalPosition);\n        const rAdjust = (this.options.spacing + this.options.borderWidth) / 2;\n        const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n        const betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n        const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n        return betweenAngles && withinRadius;\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y , startAngle , endAngle , innerRadius , outerRadius  } = this.getProps([\n            'x',\n            'y',\n            'startAngle',\n            'endAngle',\n            'innerRadius',\n            'outerRadius'\n        ], useFinalPosition);\n        const { offset , spacing  } = this.options;\n        const halfAngle = (startAngle + endAngle) / 2;\n        const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n        return {\n            x: x + Math.cos(halfAngle) * halfRadius,\n            y: y + Math.sin(halfAngle) * halfRadius\n        };\n    }\n    tooltipPosition(useFinalPosition) {\n        return this.getCenterPoint(useFinalPosition);\n    }\n    draw(ctx) {\n        const { options , circumference  } = this;\n        const offset = (options.offset || 0) / 4;\n        const spacing = (options.spacing || 0) / 2;\n        const circular = options.circular;\n        this.pixelMargin = options.borderAlign === 'inner' ? 0.33 : 0;\n        this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n        if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n            return;\n        }\n        ctx.save();\n        const halfAngle = (this.startAngle + this.endAngle) / 2;\n        ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n        const fix = 1 - Math.sin(Math.min(PI, circumference || 0));\n        const radiusOffset = offset * fix;\n        ctx.fillStyle = options.backgroundColor;\n        ctx.strokeStyle = options.borderColor;\n        drawArc(ctx, this, radiusOffset, spacing, circular);\n        drawBorder(ctx, this, radiusOffset, spacing, circular);\n        ctx.restore();\n    }\n}\n\nfunction setStyle(ctx, options, style = options) {\n    ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n    ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n    ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n    ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n    ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n    ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n    ctx.lineTo(target.x, target.y);\n}\n function getLineMethod(options) {\n    if (options.stepped) {\n        return _steppedLineTo;\n    }\n    if (options.tension || options.cubicInterpolationMode === 'monotone') {\n        return _bezierCurveTo;\n    }\n    return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n    const count = points.length;\n    const { start: paramsStart = 0 , end: paramsEnd = count - 1  } = params;\n    const { start: segmentStart , end: segmentEnd  } = segment;\n    const start = Math.max(paramsStart, segmentStart);\n    const end = Math.min(paramsEnd, segmentEnd);\n    const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n    return {\n        count,\n        start,\n        loop: segment.loop,\n        ilen: end < start && !outside ? count + end - start : end - start\n    };\n}\n function pathSegment(ctx, line, segment, params) {\n    const { points , options  } = line;\n    const { count , start , loop , ilen  } = pathVars(points, segment, params);\n    const lineMethod = getLineMethod(options);\n    let { move =true , reverse  } = params || {};\n    let i, point, prev;\n    for(i = 0; i <= ilen; ++i){\n        point = points[(start + (reverse ? ilen - i : i)) % count];\n        if (point.skip) {\n            continue;\n        } else if (move) {\n            ctx.moveTo(point.x, point.y);\n            move = false;\n        } else {\n            lineMethod(ctx, prev, point, reverse, options.stepped);\n        }\n        prev = point;\n    }\n    if (loop) {\n        point = points[(start + (reverse ? ilen : 0)) % count];\n        lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    return !!loop;\n}\n function fastPathSegment(ctx, line, segment, params) {\n    const points = line.points;\n    const { count , start , ilen  } = pathVars(points, segment, params);\n    const { move =true , reverse  } = params || {};\n    let avgX = 0;\n    let countX = 0;\n    let i, point, prevX, minY, maxY, lastY;\n    const pointIndex = (index)=>(start + (reverse ? ilen - index : index)) % count;\n    const drawX = ()=>{\n        if (minY !== maxY) {\n            ctx.lineTo(avgX, maxY);\n            ctx.lineTo(avgX, minY);\n            ctx.lineTo(avgX, lastY);\n        }\n    };\n    if (move) {\n        point = points[pointIndex(0)];\n        ctx.moveTo(point.x, point.y);\n    }\n    for(i = 0; i <= ilen; ++i){\n        point = points[pointIndex(i)];\n        if (point.skip) {\n            continue;\n        }\n        const x = point.x;\n        const y = point.y;\n        const truncX = x | 0;\n        if (truncX === prevX) {\n            if (y < minY) {\n                minY = y;\n            } else if (y > maxY) {\n                maxY = y;\n            }\n            avgX = (countX * avgX + x) / ++countX;\n        } else {\n            drawX();\n            ctx.lineTo(x, y);\n            prevX = truncX;\n            countX = 0;\n            minY = maxY = y;\n        }\n        lastY = y;\n    }\n    drawX();\n}\n function _getSegmentMethod(line) {\n    const opts = line.options;\n    const borderDash = opts.borderDash && opts.borderDash.length;\n    const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n    return useFastPath ? fastPathSegment : pathSegment;\n}\n function _getInterpolationMethod(options) {\n    if (options.stepped) {\n        return _steppedInterpolation;\n    }\n    if (options.tension || options.cubicInterpolationMode === 'monotone') {\n        return _bezierInterpolation;\n    }\n    return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n    let path = line._path;\n    if (!path) {\n        path = line._path = new Path2D();\n        if (line.path(path, start, count)) {\n            path.closePath();\n        }\n    }\n    setStyle(ctx, line.options);\n    ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n    const { segments , options  } = line;\n    const segmentMethod = _getSegmentMethod(line);\n    for (const segment of segments){\n        setStyle(ctx, options, segment.style);\n        ctx.beginPath();\n        if (segmentMethod(ctx, line, segment, {\n            start,\n            end: start + count - 1\n        })) {\n            ctx.closePath();\n        }\n        ctx.stroke();\n    }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n    if (usePath2D && !line.options.segment) {\n        strokePathWithCache(ctx, line, start, count);\n    } else {\n        strokePathDirect(ctx, line, start, count);\n    }\n}\nclass LineElement extends Element {\n    static id = 'line';\n static defaults = {\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: 'miter',\n        borderWidth: 3,\n        capBezierPoints: true,\n        cubicInterpolationMode: 'default',\n        fill: false,\n        spanGaps: false,\n        stepped: false,\n        tension: 0\n    };\n static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    static descriptors = {\n        _scriptable: true,\n        _indexable: (name)=>name !== 'borderDash' && name !== 'fill'\n    };\n    constructor(cfg){\n        super();\n        this.animated = true;\n        this.options = undefined;\n        this._chart = undefined;\n        this._loop = undefined;\n        this._fullLoop = undefined;\n        this._path = undefined;\n        this._points = undefined;\n        this._segments = undefined;\n        this._decimated = false;\n        this._pointsUpdated = false;\n        this._datasetIndex = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    updateControlPoints(chartArea, indexAxis) {\n        const options = this.options;\n        if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n            const loop = options.spanGaps ? this._loop : this._fullLoop;\n            _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n            this._pointsUpdated = true;\n        }\n    }\n    set points(points) {\n        this._points = points;\n        delete this._segments;\n        delete this._path;\n        this._pointsUpdated = false;\n    }\n    get points() {\n        return this._points;\n    }\n    get segments() {\n        return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n    }\n first() {\n        const segments = this.segments;\n        const points = this.points;\n        return segments.length && points[segments[0].start];\n    }\n last() {\n        const segments = this.segments;\n        const points = this.points;\n        const count = segments.length;\n        return count && points[segments[count - 1].end];\n    }\n interpolate(point, property) {\n        const options = this.options;\n        const value = point[property];\n        const points = this.points;\n        const segments = _boundSegments(this, {\n            property,\n            start: value,\n            end: value\n        });\n        if (!segments.length) {\n            return;\n        }\n        const result = [];\n        const _interpolate = _getInterpolationMethod(options);\n        let i, ilen;\n        for(i = 0, ilen = segments.length; i < ilen; ++i){\n            const { start , end  } = segments[i];\n            const p1 = points[start];\n            const p2 = points[end];\n            if (p1 === p2) {\n                result.push(p1);\n                continue;\n            }\n            const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n            const interpolated = _interpolate(p1, p2, t, options.stepped);\n            interpolated[property] = point[property];\n            result.push(interpolated);\n        }\n        return result.length === 1 ? result[0] : result;\n    }\n pathSegment(ctx, segment, params) {\n        const segmentMethod = _getSegmentMethod(this);\n        return segmentMethod(ctx, this, segment, params);\n    }\n path(ctx, start, count) {\n        const segments = this.segments;\n        const segmentMethod = _getSegmentMethod(this);\n        let loop = this._loop;\n        start = start || 0;\n        count = count || this.points.length - start;\n        for (const segment of segments){\n            loop &= segmentMethod(ctx, this, segment, {\n                start,\n                end: start + count - 1\n            });\n        }\n        return !!loop;\n    }\n draw(ctx, chartArea, start, count) {\n        const options = this.options || {};\n        const points = this.points || [];\n        if (points.length && options.borderWidth) {\n            ctx.save();\n            draw(ctx, this, start, count);\n            ctx.restore();\n        }\n        if (this.animated) {\n            this._pointsUpdated = false;\n            this._path = undefined;\n        }\n    }\n}\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n    const options = el.options;\n    const { [axis]: value  } = el.getProps([\n        axis\n    ], useFinalPosition);\n    return Math.abs(pos - value) < options.radius + options.hitRadius;\n}\nclass PointElement extends Element {\n    static id = 'point';\n    parsed;\n    skip;\n    stop;\n    /**\n   * @type {any}\n   */ static defaults = {\n        borderWidth: 1,\n        hitRadius: 1,\n        hoverBorderWidth: 1,\n        hoverRadius: 4,\n        pointStyle: 'circle',\n        radius: 3,\n        rotation: 0\n    };\n    /**\n   * @type {any}\n   */ static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.parsed = undefined;\n        this.skip = undefined;\n        this.stop = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    inRange(mouseX, mouseY, useFinalPosition) {\n        const options = this.options;\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2) < Math.pow(options.hitRadius + options.radius, 2);\n    }\n    inXRange(mouseX, useFinalPosition) {\n        return inRange$1(this, mouseX, 'x', useFinalPosition);\n    }\n    inYRange(mouseY, useFinalPosition) {\n        return inRange$1(this, mouseY, 'y', useFinalPosition);\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return {\n            x,\n            y\n        };\n    }\n    size(options) {\n        options = options || this.options || {};\n        let radius = options.radius || 0;\n        radius = Math.max(radius, radius && options.hoverRadius || 0);\n        const borderWidth = radius && options.borderWidth || 0;\n        return (radius + borderWidth) * 2;\n    }\n    draw(ctx, area) {\n        const options = this.options;\n        if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n            return;\n        }\n        ctx.strokeStyle = options.borderColor;\n        ctx.lineWidth = options.borderWidth;\n        ctx.fillStyle = options.backgroundColor;\n        drawPoint(ctx, options, this.x, this.y);\n    }\n    getRange() {\n        const options = this.options || {};\n        // @ts-expect-error Fallbacks should never be hit in practice\n        return options.radius + options.hitRadius;\n    }\n}\n\nfunction getBarBounds(bar, useFinalPosition) {\n    const { x , y , base , width , height  } =  bar.getProps([\n        'x',\n        'y',\n        'base',\n        'width',\n        'height'\n    ], useFinalPosition);\n    let left, right, top, bottom, half;\n    if (bar.horizontal) {\n        half = height / 2;\n        left = Math.min(x, base);\n        right = Math.max(x, base);\n        top = y - half;\n        bottom = y + half;\n    } else {\n        half = width / 2;\n        left = x - half;\n        right = x + half;\n        top = Math.min(y, base);\n        bottom = Math.max(y, base);\n    }\n    return {\n        left,\n        top,\n        right,\n        bottom\n    };\n}\nfunction skipOrLimit(skip, value, min, max) {\n    return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n    const value = bar.options.borderWidth;\n    const skip = bar.borderSkipped;\n    const o = toTRBL(value);\n    return {\n        t: skipOrLimit(skip.top, o.top, 0, maxH),\n        r: skipOrLimit(skip.right, o.right, 0, maxW),\n        b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n        l: skipOrLimit(skip.left, o.left, 0, maxW)\n    };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n    const { enableBorderRadius  } = bar.getProps([\n        'enableBorderRadius'\n    ]);\n    const value = bar.options.borderRadius;\n    const o = toTRBLCorners(value);\n    const maxR = Math.min(maxW, maxH);\n    const skip = bar.borderSkipped;\n    const enableBorder = enableBorderRadius || isObject(value);\n    return {\n        topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n        topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n        bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n        bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n    };\n}\nfunction boundingRects(bar) {\n    const bounds = getBarBounds(bar);\n    const width = bounds.right - bounds.left;\n    const height = bounds.bottom - bounds.top;\n    const border = parseBorderWidth(bar, width / 2, height / 2);\n    const radius = parseBorderRadius(bar, width / 2, height / 2);\n    return {\n        outer: {\n            x: bounds.left,\n            y: bounds.top,\n            w: width,\n            h: height,\n            radius\n        },\n        inner: {\n            x: bounds.left + border.l,\n            y: bounds.top + border.t,\n            w: width - border.l - border.r,\n            h: height - border.t - border.b,\n            radius: {\n                topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n                topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n                bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n                bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r))\n            }\n        }\n    };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n    const skipX = x === null;\n    const skipY = y === null;\n    const skipBoth = skipX && skipY;\n    const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n    return bounds && (skipX || _isBetween(x, bounds.left, bounds.right)) && (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\nfunction hasRadius(radius) {\n    return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n function addNormalRectPath(ctx, rect) {\n    ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n    const x = rect.x !== refRect.x ? -amount : 0;\n    const y = rect.y !== refRect.y ? -amount : 0;\n    const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n    const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n    return {\n        x: rect.x + x,\n        y: rect.y + y,\n        w: rect.w + w,\n        h: rect.h + h,\n        radius: rect.radius\n    };\n}\nclass BarElement extends Element {\n    static id = 'bar';\n static defaults = {\n        borderSkipped: 'start',\n        borderWidth: 0,\n        borderRadius: 0,\n        inflateAmount: 'auto',\n        pointStyle: undefined\n    };\n static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.horizontal = undefined;\n        this.base = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.inflateAmount = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    draw(ctx) {\n        const { inflateAmount , options: { borderColor , backgroundColor  }  } = this;\n        const { inner , outer  } = boundingRects(this);\n        const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n        ctx.save();\n        if (outer.w !== inner.w || outer.h !== inner.h) {\n            ctx.beginPath();\n            addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n            ctx.clip();\n            addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n            ctx.fillStyle = borderColor;\n            ctx.fill('evenodd');\n        }\n        ctx.beginPath();\n        addRectPath(ctx, inflateRect(inner, inflateAmount));\n        ctx.fillStyle = backgroundColor;\n        ctx.fill();\n        ctx.restore();\n    }\n    inRange(mouseX, mouseY, useFinalPosition) {\n        return inRange(this, mouseX, mouseY, useFinalPosition);\n    }\n    inXRange(mouseX, useFinalPosition) {\n        return inRange(this, mouseX, null, useFinalPosition);\n    }\n    inYRange(mouseY, useFinalPosition) {\n        return inRange(this, null, mouseY, useFinalPosition);\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y , base , horizontal  } =  this.getProps([\n            'x',\n            'y',\n            'base',\n            'horizontal'\n        ], useFinalPosition);\n        return {\n            x: horizontal ? (x + base) / 2 : x,\n            y: horizontal ? y : (y + base) / 2\n        };\n    }\n    getRange(axis) {\n        return axis === 'x' ? this.width / 2 : this.height / 2;\n    }\n}\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nBarElement: BarElement,\nLineElement: LineElement,\nPointElement: PointElement\n});\n\nconst BORDER_COLORS = [\n    'rgb(54, 162, 235)',\n    'rgb(255, 99, 132)',\n    'rgb(255, 159, 64)',\n    'rgb(255, 205, 86)',\n    'rgb(75, 192, 192)',\n    'rgb(153, 102, 255)',\n    'rgb(201, 203, 207)' // grey\n];\n// Border colors with 50% transparency\nconst BACKGROUND_COLORS = /* #__PURE__ */ BORDER_COLORS.map((color)=>color.replace('rgb(', 'rgba(').replace(')', ', 0.5)'));\nfunction getBorderColor(i) {\n    return BORDER_COLORS[i % BORDER_COLORS.length];\n}\nfunction getBackgroundColor(i) {\n    return BACKGROUND_COLORS[i % BACKGROUND_COLORS.length];\n}\nfunction colorizeDefaultDataset(dataset, i) {\n    dataset.borderColor = getBorderColor(i);\n    dataset.backgroundColor = getBackgroundColor(i);\n    return ++i;\n}\nfunction colorizeDoughnutDataset(dataset, i) {\n    dataset.backgroundColor = dataset.data.map(()=>getBorderColor(i++));\n    return i;\n}\nfunction colorizePolarAreaDataset(dataset, i) {\n    dataset.backgroundColor = dataset.data.map(()=>getBackgroundColor(i++));\n    return i;\n}\nfunction getColorizer(chart) {\n    let i = 0;\n    return (dataset, datasetIndex)=>{\n        const controller = chart.getDatasetMeta(datasetIndex).controller;\n        if (controller instanceof DoughnutController) {\n            i = colorizeDoughnutDataset(dataset, i);\n        } else if (controller instanceof PolarAreaController) {\n            i = colorizePolarAreaDataset(dataset, i);\n        } else if (controller) {\n            i = colorizeDefaultDataset(dataset, i);\n        }\n    };\n}\nfunction containsColorsDefinitions(descriptors) {\n    let k;\n    for(k in descriptors){\n        if (descriptors[k].borderColor || descriptors[k].backgroundColor) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction containsColorsDefinition(descriptor) {\n    return descriptor && (descriptor.borderColor || descriptor.backgroundColor);\n}\nvar plugin_colors = {\n    id: 'colors',\n    defaults: {\n        enabled: true,\n        forceOverride: false\n    },\n    beforeLayout (chart, _args, options) {\n        if (!options.enabled) {\n            return;\n        }\n        const { data: { datasets  } , options: chartOptions  } = chart.config;\n        const { elements  } = chartOptions;\n        if (!options.forceOverride && (containsColorsDefinitions(datasets) || containsColorsDefinition(chartOptions) || elements && containsColorsDefinitions(elements))) {\n            return;\n        }\n        const colorizer = getColorizer(chart);\n        datasets.forEach(colorizer);\n    }\n};\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n const samples = options.samples || availableWidth;\n    if (samples >= count) {\n        return data.slice(start, start + count);\n    }\n    const decimated = [];\n    const bucketWidth = (count - 2) / (samples - 2);\n    let sampledIndex = 0;\n    const endIndex = start + count - 1;\n    let a = start;\n    let i, maxAreaPoint, maxArea, area, nextA;\n    decimated[sampledIndex++] = data[a];\n    for(i = 0; i < samples - 2; i++){\n        let avgX = 0;\n        let avgY = 0;\n        let j;\n        const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n        const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n        const avgRangeLength = avgRangeEnd - avgRangeStart;\n        for(j = avgRangeStart; j < avgRangeEnd; j++){\n            avgX += data[j].x;\n            avgY += data[j].y;\n        }\n        avgX /= avgRangeLength;\n        avgY /= avgRangeLength;\n        const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n        const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n        const { x: pointAx , y: pointAy  } = data[a];\n        maxArea = area = -1;\n        for(j = rangeOffs; j < rangeTo; j++){\n            area = 0.5 * Math.abs((pointAx - avgX) * (data[j].y - pointAy) - (pointAx - data[j].x) * (avgY - pointAy));\n            if (area > maxArea) {\n                maxArea = area;\n                maxAreaPoint = data[j];\n                nextA = j;\n            }\n        }\n        decimated[sampledIndex++] = maxAreaPoint;\n        a = nextA;\n    }\n    decimated[sampledIndex++] = data[endIndex];\n    return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n    let avgX = 0;\n    let countX = 0;\n    let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n    const decimated = [];\n    const endIndex = start + count - 1;\n    const xMin = data[start].x;\n    const xMax = data[endIndex].x;\n    const dx = xMax - xMin;\n    for(i = start; i < start + count; ++i){\n        point = data[i];\n        x = (point.x - xMin) / dx * availableWidth;\n        y = point.y;\n        const truncX = x | 0;\n        if (truncX === prevX) {\n            if (y < minY) {\n                minY = y;\n                minIndex = i;\n            } else if (y > maxY) {\n                maxY = y;\n                maxIndex = i;\n            }\n            avgX = (countX * avgX + point.x) / ++countX;\n        } else {\n            const lastIndex = i - 1;\n            if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n                const intermediateIndex1 = Math.min(minIndex, maxIndex);\n                const intermediateIndex2 = Math.max(minIndex, maxIndex);\n                if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n                    decimated.push({\n                        ...data[intermediateIndex1],\n                        x: avgX\n                    });\n                }\n                if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n                    decimated.push({\n                        ...data[intermediateIndex2],\n                        x: avgX\n                    });\n                }\n            }\n            if (i > 0 && lastIndex !== startIndex) {\n                decimated.push(data[lastIndex]);\n            }\n            decimated.push(point);\n            prevX = truncX;\n            countX = 0;\n            minY = maxY = y;\n            minIndex = maxIndex = startIndex = i;\n        }\n    }\n    return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n    if (dataset._decimated) {\n        const data = dataset._data;\n        delete dataset._decimated;\n        delete dataset._data;\n        Object.defineProperty(dataset, 'data', {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            value: data\n        });\n    }\n}\nfunction cleanDecimatedData(chart) {\n    chart.data.datasets.forEach((dataset)=>{\n        cleanDecimatedDataset(dataset);\n    });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n    const pointCount = points.length;\n    let start = 0;\n    let count;\n    const { iScale  } = meta;\n    const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n    if (minDefined) {\n        start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n    }\n    if (maxDefined) {\n        count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n    } else {\n        count = pointCount - start;\n    }\n    return {\n        start,\n        count\n    };\n}\nvar plugin_decimation = {\n    id: 'decimation',\n    defaults: {\n        algorithm: 'min-max',\n        enabled: false\n    },\n    beforeElementsUpdate: (chart, args, options)=>{\n        if (!options.enabled) {\n            cleanDecimatedData(chart);\n            return;\n        }\n        const availableWidth = chart.width;\n        chart.data.datasets.forEach((dataset, datasetIndex)=>{\n            const { _data , indexAxis  } = dataset;\n            const meta = chart.getDatasetMeta(datasetIndex);\n            const data = _data || dataset.data;\n            if (resolve([\n                indexAxis,\n                chart.options.indexAxis\n            ]) === 'y') {\n                return;\n            }\n            if (!meta.controller.supportsDecimation) {\n                return;\n            }\n            const xAxis = chart.scales[meta.xAxisID];\n            if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n                return;\n            }\n            if (chart.options.parsing) {\n                return;\n            }\n            let { start , count  } = getStartAndCountOfVisiblePointsSimplified(meta, data);\n            const threshold = options.threshold || 4 * availableWidth;\n            if (count <= threshold) {\n                cleanDecimatedDataset(dataset);\n                return;\n            }\n            if (isNullOrUndef(_data)) {\n                dataset._data = data;\n                delete dataset.data;\n                Object.defineProperty(dataset, 'data', {\n                    configurable: true,\n                    enumerable: true,\n                    get: function() {\n                        return this._decimated;\n                    },\n                    set: function(d) {\n                        this._data = d;\n                    }\n                });\n            }\n            let decimated;\n            switch(options.algorithm){\n                case 'lttb':\n                    decimated = lttbDecimation(data, start, count, availableWidth, options);\n                    break;\n                case 'min-max':\n                    decimated = minMaxDecimation(data, start, count, availableWidth);\n                    break;\n                default:\n                    throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n            }\n            dataset._decimated = decimated;\n        });\n    },\n    destroy (chart) {\n        cleanDecimatedData(chart);\n    }\n};\n\nfunction _segments(line, target, property) {\n    const segments = line.segments;\n    const points = line.points;\n    const tpoints = target.points;\n    const parts = [];\n    for (const segment of segments){\n        let { start , end  } = segment;\n        end = _findSegmentEnd(start, end, points);\n        const bounds = _getBounds(property, points[start], points[end], segment.loop);\n        if (!target.segments) {\n            parts.push({\n                source: segment,\n                target: bounds,\n                start: points[start],\n                end: points[end]\n            });\n            continue;\n        }\n        const targetSegments = _boundSegments(target, bounds);\n        for (const tgt of targetSegments){\n            const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n            const fillSources = _boundSegment(segment, points, subBounds);\n            for (const fillSource of fillSources){\n                parts.push({\n                    source: fillSource,\n                    target: tgt,\n                    start: {\n                        [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n                    },\n                    end: {\n                        [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n                    }\n                });\n            }\n        }\n    }\n    return parts;\n}\nfunction _getBounds(property, first, last, loop) {\n    if (loop) {\n        return;\n    }\n    let start = first[property];\n    let end = last[property];\n    if (property === 'angle') {\n        start = _normalizeAngle(start);\n        end = _normalizeAngle(end);\n    }\n    return {\n        property,\n        start,\n        end\n    };\n}\nfunction _pointsFromSegments(boundary, line) {\n    const { x =null , y =null  } = boundary || {};\n    const linePoints = line.points;\n    const points = [];\n    line.segments.forEach(({ start , end  })=>{\n        end = _findSegmentEnd(start, end, linePoints);\n        const first = linePoints[start];\n        const last = linePoints[end];\n        if (y !== null) {\n            points.push({\n                x: first.x,\n                y\n            });\n            points.push({\n                x: last.x,\n                y\n            });\n        } else if (x !== null) {\n            points.push({\n                x,\n                y: first.y\n            });\n            points.push({\n                x,\n                y: last.y\n            });\n        }\n    });\n    return points;\n}\nfunction _findSegmentEnd(start, end, points) {\n    for(; end > start; end--){\n        const point = points[end];\n        if (!isNaN(point.x) && !isNaN(point.y)) {\n            break;\n        }\n    }\n    return end;\n}\nfunction _getEdge(a, b, prop, fn) {\n    if (a && b) {\n        return fn(a[prop], b[prop]);\n    }\n    return a ? a[prop] : b ? b[prop] : 0;\n}\n\nfunction _createBoundaryLine(boundary, line) {\n    let points = [];\n    let _loop = false;\n    if (isArray(boundary)) {\n        _loop = true;\n        points = boundary;\n    } else {\n        points = _pointsFromSegments(boundary, line);\n    }\n    return points.length ? new LineElement({\n        points,\n        options: {\n            tension: 0\n        },\n        _loop,\n        _fullLoop: _loop\n    }) : null;\n}\nfunction _shouldApplyFill(source) {\n    return source && source.fill !== false;\n}\n\nfunction _resolveTarget(sources, index, propagate) {\n    const source = sources[index];\n    let fill = source.fill;\n    const visited = [\n        index\n    ];\n    let target;\n    if (!propagate) {\n        return fill;\n    }\n    while(fill !== false && visited.indexOf(fill) === -1){\n        if (!isNumberFinite(fill)) {\n            return fill;\n        }\n        target = sources[fill];\n        if (!target) {\n            return false;\n        }\n        if (target.visible) {\n            return fill;\n        }\n        visited.push(fill);\n        fill = target.fill;\n    }\n    return false;\n}\n function _decodeFill(line, index, count) {\n     const fill = parseFillOption(line);\n    if (isObject(fill)) {\n        return isNaN(fill.value) ? false : fill;\n    }\n    let target = parseFloat(fill);\n    if (isNumberFinite(target) && Math.floor(target) === target) {\n        return decodeTargetIndex(fill[0], index, target, count);\n    }\n    return [\n        'origin',\n        'start',\n        'end',\n        'stack',\n        'shape'\n    ].indexOf(fill) >= 0 && fill;\n}\nfunction decodeTargetIndex(firstCh, index, target, count) {\n    if (firstCh === '-' || firstCh === '+') {\n        target = index + target;\n    }\n    if (target === index || target < 0 || target >= count) {\n        return false;\n    }\n    return target;\n}\n function _getTargetPixel(fill, scale) {\n    let pixel = null;\n    if (fill === 'start') {\n        pixel = scale.bottom;\n    } else if (fill === 'end') {\n        pixel = scale.top;\n    } else if (isObject(fill)) {\n        pixel = scale.getPixelForValue(fill.value);\n    } else if (scale.getBasePixel) {\n        pixel = scale.getBasePixel();\n    }\n    return pixel;\n}\n function _getTargetValue(fill, scale, startValue) {\n    let value;\n    if (fill === 'start') {\n        value = startValue;\n    } else if (fill === 'end') {\n        value = scale.options.reverse ? scale.min : scale.max;\n    } else if (isObject(fill)) {\n        value = fill.value;\n    } else {\n        value = scale.getBaseValue();\n    }\n    return value;\n}\n function parseFillOption(line) {\n    const options = line.options;\n    const fillOption = options.fill;\n    let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n    if (fill === undefined) {\n        fill = !!options.backgroundColor;\n    }\n    if (fill === false || fill === null) {\n        return false;\n    }\n    if (fill === true) {\n        return 'origin';\n    }\n    return fill;\n}\n\nfunction _buildStackLine(source) {\n    const { scale , index , line  } = source;\n    const points = [];\n    const segments = line.segments;\n    const sourcePoints = line.points;\n    const linesBelow = getLinesBelow(scale, index);\n    linesBelow.push(_createBoundaryLine({\n        x: null,\n        y: scale.bottom\n    }, line));\n    for(let i = 0; i < segments.length; i++){\n        const segment = segments[i];\n        for(let j = segment.start; j <= segment.end; j++){\n            addPointsBelow(points, sourcePoints[j], linesBelow);\n        }\n    }\n    return new LineElement({\n        points,\n        options: {}\n    });\n}\n function getLinesBelow(scale, index) {\n    const below = [];\n    const metas = scale.getMatchingVisibleMetas('line');\n    for(let i = 0; i < metas.length; i++){\n        const meta = metas[i];\n        if (meta.index === index) {\n            break;\n        }\n        if (!meta.hidden) {\n            below.unshift(meta.dataset);\n        }\n    }\n    return below;\n}\n function addPointsBelow(points, sourcePoint, linesBelow) {\n    const postponed = [];\n    for(let j = 0; j < linesBelow.length; j++){\n        const line = linesBelow[j];\n        const { first , last , point  } = findPoint(line, sourcePoint, 'x');\n        if (!point || first && last) {\n            continue;\n        }\n        if (first) {\n            postponed.unshift(point);\n        } else {\n            points.push(point);\n            if (!last) {\n                break;\n            }\n        }\n    }\n    points.push(...postponed);\n}\n function findPoint(line, sourcePoint, property) {\n    const point = line.interpolate(sourcePoint, property);\n    if (!point) {\n        return {};\n    }\n    const pointValue = point[property];\n    const segments = line.segments;\n    const linePoints = line.points;\n    let first = false;\n    let last = false;\n    for(let i = 0; i < segments.length; i++){\n        const segment = segments[i];\n        const firstValue = linePoints[segment.start][property];\n        const lastValue = linePoints[segment.end][property];\n        if (_isBetween(pointValue, firstValue, lastValue)) {\n            first = pointValue === firstValue;\n            last = pointValue === lastValue;\n            break;\n        }\n    }\n    return {\n        first,\n        last,\n        point\n    };\n}\n\nclass simpleArc {\n    constructor(opts){\n        this.x = opts.x;\n        this.y = opts.y;\n        this.radius = opts.radius;\n    }\n    pathSegment(ctx, bounds, opts) {\n        const { x , y , radius  } = this;\n        bounds = bounds || {\n            start: 0,\n            end: TAU\n        };\n        ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n        return !opts.bounds;\n    }\n    interpolate(point) {\n        const { x , y , radius  } = this;\n        const angle = point.angle;\n        return {\n            x: x + Math.cos(angle) * radius,\n            y: y + Math.sin(angle) * radius,\n            angle\n        };\n    }\n}\n\nfunction _getTarget(source) {\n    const { chart , fill , line  } = source;\n    if (isNumberFinite(fill)) {\n        return getLineByIndex(chart, fill);\n    }\n    if (fill === 'stack') {\n        return _buildStackLine(source);\n    }\n    if (fill === 'shape') {\n        return true;\n    }\n    const boundary = computeBoundary(source);\n    if (boundary instanceof simpleArc) {\n        return boundary;\n    }\n    return _createBoundaryLine(boundary, line);\n}\n function getLineByIndex(chart, index) {\n    const meta = chart.getDatasetMeta(index);\n    const visible = meta && chart.isDatasetVisible(index);\n    return visible ? meta.dataset : null;\n}\nfunction computeBoundary(source) {\n    const scale = source.scale || {};\n    if (scale.getPointPositionForValue) {\n        return computeCircularBoundary(source);\n    }\n    return computeLinearBoundary(source);\n}\nfunction computeLinearBoundary(source) {\n    const { scale ={} , fill  } = source;\n    const pixel = _getTargetPixel(fill, scale);\n    if (isNumberFinite(pixel)) {\n        const horizontal = scale.isHorizontal();\n        return {\n            x: horizontal ? pixel : null,\n            y: horizontal ? null : pixel\n        };\n    }\n    return null;\n}\nfunction computeCircularBoundary(source) {\n    const { scale , fill  } = source;\n    const options = scale.options;\n    const length = scale.getLabels().length;\n    const start = options.reverse ? scale.max : scale.min;\n    const value = _getTargetValue(fill, scale, start);\n    const target = [];\n    if (options.grid.circular) {\n        const center = scale.getPointPositionForValue(0, start);\n        return new simpleArc({\n            x: center.x,\n            y: center.y,\n            radius: scale.getDistanceFromCenterForValue(value)\n        });\n    }\n    for(let i = 0; i < length; ++i){\n        target.push(scale.getPointPositionForValue(i, value));\n    }\n    return target;\n}\n\nfunction _drawfill(ctx, source, area) {\n    const target = _getTarget(source);\n    const { line , scale , axis  } = source;\n    const lineOpts = line.options;\n    const fillOption = lineOpts.fill;\n    const color = lineOpts.backgroundColor;\n    const { above =color , below =color  } = fillOption || {};\n    if (target && line.points.length) {\n        clipArea(ctx, area);\n        doFill(ctx, {\n            line,\n            target,\n            above,\n            below,\n            area,\n            scale,\n            axis\n        });\n        unclipArea(ctx);\n    }\n}\nfunction doFill(ctx, cfg) {\n    const { line , target , above , below , area , scale  } = cfg;\n    const property = line._loop ? 'angle' : cfg.axis;\n    ctx.save();\n    if (property === 'x' && below !== above) {\n        clipVertical(ctx, target, area.top);\n        fill(ctx, {\n            line,\n            target,\n            color: above,\n            scale,\n            property\n        });\n        ctx.restore();\n        ctx.save();\n        clipVertical(ctx, target, area.bottom);\n    }\n    fill(ctx, {\n        line,\n        target,\n        color: below,\n        scale,\n        property\n    });\n    ctx.restore();\n}\nfunction clipVertical(ctx, target, clipY) {\n    const { segments , points  } = target;\n    let first = true;\n    let lineLoop = false;\n    ctx.beginPath();\n    for (const segment of segments){\n        const { start , end  } = segment;\n        const firstPoint = points[start];\n        const lastPoint = points[_findSegmentEnd(start, end, points)];\n        if (first) {\n            ctx.moveTo(firstPoint.x, firstPoint.y);\n            first = false;\n        } else {\n            ctx.lineTo(firstPoint.x, clipY);\n            ctx.lineTo(firstPoint.x, firstPoint.y);\n        }\n        lineLoop = !!target.pathSegment(ctx, segment, {\n            move: lineLoop\n        });\n        if (lineLoop) {\n            ctx.closePath();\n        } else {\n            ctx.lineTo(lastPoint.x, clipY);\n        }\n    }\n    ctx.lineTo(target.first().x, clipY);\n    ctx.closePath();\n    ctx.clip();\n}\nfunction fill(ctx, cfg) {\n    const { line , target , property , color , scale  } = cfg;\n    const segments = _segments(line, target, property);\n    for (const { source: src , target: tgt , start , end  } of segments){\n        const { style: { backgroundColor =color  } = {}  } = src;\n        const notShape = target !== true;\n        ctx.save();\n        ctx.fillStyle = backgroundColor;\n        clipBounds(ctx, scale, notShape && _getBounds(property, start, end));\n        ctx.beginPath();\n        const lineLoop = !!line.pathSegment(ctx, src);\n        let loop;\n        if (notShape) {\n            if (lineLoop) {\n                ctx.closePath();\n            } else {\n                interpolatedLineTo(ctx, target, end, property);\n            }\n            const targetLoop = !!target.pathSegment(ctx, tgt, {\n                move: lineLoop,\n                reverse: true\n            });\n            loop = lineLoop && targetLoop;\n            if (!loop) {\n                interpolatedLineTo(ctx, target, start, property);\n            }\n        }\n        ctx.closePath();\n        ctx.fill(loop ? 'evenodd' : 'nonzero');\n        ctx.restore();\n    }\n}\nfunction clipBounds(ctx, scale, bounds) {\n    const { top , bottom  } = scale.chart.chartArea;\n    const { property , start , end  } = bounds || {};\n    if (property === 'x') {\n        ctx.beginPath();\n        ctx.rect(start, top, end - start, bottom - top);\n        ctx.clip();\n    }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n    const interpolatedPoint = target.interpolate(point, property);\n    if (interpolatedPoint) {\n        ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n    }\n}\n\nvar index = {\n    id: 'filler',\n    afterDatasetsUpdate (chart, _args, options) {\n        const count = (chart.data.datasets || []).length;\n        const sources = [];\n        let meta, i, line, source;\n        for(i = 0; i < count; ++i){\n            meta = chart.getDatasetMeta(i);\n            line = meta.dataset;\n            source = null;\n            if (line && line.options && line instanceof LineElement) {\n                source = {\n                    visible: chart.isDatasetVisible(i),\n                    index: i,\n                    fill: _decodeFill(line, i, count),\n                    chart,\n                    axis: meta.controller.options.indexAxis,\n                    scale: meta.vScale,\n                    line\n                };\n            }\n            meta.$filler = source;\n            sources.push(source);\n        }\n        for(i = 0; i < count; ++i){\n            source = sources[i];\n            if (!source || source.fill === false) {\n                continue;\n            }\n            source.fill = _resolveTarget(sources, i, options.propagate);\n        }\n    },\n    beforeDraw (chart, _args, options) {\n        const draw = options.drawTime === 'beforeDraw';\n        const metasets = chart.getSortedVisibleDatasetMetas();\n        const area = chart.chartArea;\n        for(let i = metasets.length - 1; i >= 0; --i){\n            const source = metasets[i].$filler;\n            if (!source) {\n                continue;\n            }\n            source.line.updateControlPoints(area, source.axis);\n            if (draw && source.fill) {\n                _drawfill(chart.ctx, source, area);\n            }\n        }\n    },\n    beforeDatasetsDraw (chart, _args, options) {\n        if (options.drawTime !== 'beforeDatasetsDraw') {\n            return;\n        }\n        const metasets = chart.getSortedVisibleDatasetMetas();\n        for(let i = metasets.length - 1; i >= 0; --i){\n            const source = metasets[i].$filler;\n            if (_shouldApplyFill(source)) {\n                _drawfill(chart.ctx, source, chart.chartArea);\n            }\n        }\n    },\n    beforeDatasetDraw (chart, args, options) {\n        const source = args.meta.$filler;\n        if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {\n            return;\n        }\n        _drawfill(chart.ctx, source, chart.chartArea);\n    },\n    defaults: {\n        propagate: true,\n        drawTime: 'beforeDatasetDraw'\n    }\n};\n\nconst getBoxSize = (labelOpts, fontSize)=>{\n    let { boxHeight =fontSize , boxWidth =fontSize  } = labelOpts;\n    if (labelOpts.usePointStyle) {\n        boxHeight = Math.min(boxHeight, fontSize);\n        boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n    }\n    return {\n        boxWidth,\n        boxHeight,\n        itemHeight: Math.max(fontSize, boxHeight)\n    };\n};\nconst itemsEqual = (a, b)=>a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n constructor(config){\n        super();\n        this._added = false;\n        this.legendHitBoxes = [];\n this._hoveredItem = null;\n        this.doughnutMode = false;\n        this.chart = config.chart;\n        this.options = config.options;\n        this.ctx = config.ctx;\n        this.legendItems = undefined;\n        this.columnSizes = undefined;\n        this.lineWidths = undefined;\n        this.maxHeight = undefined;\n        this.maxWidth = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n        this.left = undefined;\n        this.right = undefined;\n        this.height = undefined;\n        this.width = undefined;\n        this._margins = undefined;\n        this.position = undefined;\n        this.weight = undefined;\n        this.fullSize = undefined;\n    }\n    update(maxWidth, maxHeight, margins) {\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this._margins = margins;\n        this.setDimensions();\n        this.buildLabels();\n        this.fit();\n    }\n    setDimensions() {\n        if (this.isHorizontal()) {\n            this.width = this.maxWidth;\n            this.left = this._margins.left;\n            this.right = this.width;\n        } else {\n            this.height = this.maxHeight;\n            this.top = this._margins.top;\n            this.bottom = this.height;\n        }\n    }\n    buildLabels() {\n        const labelOpts = this.options.labels || {};\n        let legendItems = callback(labelOpts.generateLabels, [\n            this.chart\n        ], this) || [];\n        if (labelOpts.filter) {\n            legendItems = legendItems.filter((item)=>labelOpts.filter(item, this.chart.data));\n        }\n        if (labelOpts.sort) {\n            legendItems = legendItems.sort((a, b)=>labelOpts.sort(a, b, this.chart.data));\n        }\n        if (this.options.reverse) {\n            legendItems.reverse();\n        }\n        this.legendItems = legendItems;\n    }\n    fit() {\n        const { options , ctx  } = this;\n        if (!options.display) {\n            this.width = this.height = 0;\n            return;\n        }\n        const labelOpts = options.labels;\n        const labelFont = toFont(labelOpts.font);\n        const fontSize = labelFont.size;\n        const titleHeight = this._computeTitleHeight();\n        const { boxWidth , itemHeight  } = getBoxSize(labelOpts, fontSize);\n        let width, height;\n        ctx.font = labelFont.string;\n        if (this.isHorizontal()) {\n            width = this.maxWidth;\n            height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n        } else {\n            height = this.maxHeight;\n            width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;\n        }\n        this.width = Math.min(width, options.maxWidth || this.maxWidth);\n        this.height = Math.min(height, options.maxHeight || this.maxHeight);\n    }\n _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n        const { ctx , maxWidth , options: { labels: { padding  }  }  } = this;\n        const hitboxes = this.legendHitBoxes = [];\n        const lineWidths = this.lineWidths = [\n            0\n        ];\n        const lineHeight = itemHeight + padding;\n        let totalHeight = titleHeight;\n        ctx.textAlign = 'left';\n        ctx.textBaseline = 'middle';\n        let row = -1;\n        let top = -lineHeight;\n        this.legendItems.forEach((legendItem, i)=>{\n            const itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;\n            if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n                totalHeight += lineHeight;\n                lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n                top += lineHeight;\n                row++;\n            }\n            hitboxes[i] = {\n                left: 0,\n                top,\n                row,\n                width: itemWidth,\n                height: itemHeight\n            };\n            lineWidths[lineWidths.length - 1] += itemWidth + padding;\n        });\n        return totalHeight;\n    }\n    _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {\n        const { ctx , maxHeight , options: { labels: { padding  }  }  } = this;\n        const hitboxes = this.legendHitBoxes = [];\n        const columnSizes = this.columnSizes = [];\n        const heightLimit = maxHeight - titleHeight;\n        let totalWidth = padding;\n        let currentColWidth = 0;\n        let currentColHeight = 0;\n        let left = 0;\n        let col = 0;\n        this.legendItems.forEach((legendItem, i)=>{\n            const { itemWidth , itemHeight  } = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);\n            if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n                totalWidth += currentColWidth + padding;\n                columnSizes.push({\n                    width: currentColWidth,\n                    height: currentColHeight\n                });\n                left += currentColWidth + padding;\n                col++;\n                currentColWidth = currentColHeight = 0;\n            }\n            hitboxes[i] = {\n                left,\n                top: currentColHeight,\n                col,\n                width: itemWidth,\n                height: itemHeight\n            };\n            currentColWidth = Math.max(currentColWidth, itemWidth);\n            currentColHeight += itemHeight + padding;\n        });\n        totalWidth += currentColWidth;\n        columnSizes.push({\n            width: currentColWidth,\n            height: currentColHeight\n        });\n        return totalWidth;\n    }\n    adjustHitBoxes() {\n        if (!this.options.display) {\n            return;\n        }\n        const titleHeight = this._computeTitleHeight();\n        const { legendHitBoxes: hitboxes , options: { align , labels: { padding  } , rtl  }  } = this;\n        const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n        if (this.isHorizontal()) {\n            let row = 0;\n            let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n            for (const hitbox of hitboxes){\n                if (row !== hitbox.row) {\n                    row = hitbox.row;\n                    left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n                }\n                hitbox.top += this.top + titleHeight + padding;\n                hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n                left += hitbox.width + padding;\n            }\n        } else {\n            let col = 0;\n            let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n            for (const hitbox of hitboxes){\n                if (hitbox.col !== col) {\n                    col = hitbox.col;\n                    top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n                }\n                hitbox.top = top;\n                hitbox.left += this.left + padding;\n                hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n                top += hitbox.height + padding;\n            }\n        }\n    }\n    isHorizontal() {\n        return this.options.position === 'top' || this.options.position === 'bottom';\n    }\n    draw() {\n        if (this.options.display) {\n            const ctx = this.ctx;\n            clipArea(ctx, this);\n            this._draw();\n            unclipArea(ctx);\n        }\n    }\n _draw() {\n        const { options: opts , columnSizes , lineWidths , ctx  } = this;\n        const { align , labels: labelOpts  } = opts;\n        const defaultColor = defaults.color;\n        const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n        const labelFont = toFont(labelOpts.font);\n        const { padding  } = labelOpts;\n        const fontSize = labelFont.size;\n        const halfFontSize = fontSize / 2;\n        let cursor;\n        this.drawTitle();\n        ctx.textAlign = rtlHelper.textAlign('left');\n        ctx.textBaseline = 'middle';\n        ctx.lineWidth = 0.5;\n        ctx.font = labelFont.string;\n        const { boxWidth , boxHeight , itemHeight  } = getBoxSize(labelOpts, fontSize);\n        const drawLegendBox = function(x, y, legendItem) {\n            if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n                return;\n            }\n            ctx.save();\n            const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n            ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n            ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n            ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n            ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n            ctx.lineWidth = lineWidth;\n            ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n            ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n            if (labelOpts.usePointStyle) {\n                const drawOptions = {\n                    radius: boxHeight * Math.SQRT2 / 2,\n                    pointStyle: legendItem.pointStyle,\n                    rotation: legendItem.rotation,\n                    borderWidth: lineWidth\n                };\n                const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n                const centerY = y + halfFontSize;\n                drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n            } else {\n                const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n                const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n                const borderRadius = toTRBLCorners(legendItem.borderRadius);\n                ctx.beginPath();\n                if (Object.values(borderRadius).some((v)=>v !== 0)) {\n                    addRoundedRectPath(ctx, {\n                        x: xBoxLeft,\n                        y: yBoxTop,\n                        w: boxWidth,\n                        h: boxHeight,\n                        radius: borderRadius\n                    });\n                } else {\n                    ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n                }\n                ctx.fill();\n                if (lineWidth !== 0) {\n                    ctx.stroke();\n                }\n            }\n            ctx.restore();\n        };\n        const fillText = function(x, y, legendItem) {\n            renderText(ctx, legendItem.text, x, y + itemHeight / 2, labelFont, {\n                strikethrough: legendItem.hidden,\n                textAlign: rtlHelper.textAlign(legendItem.textAlign)\n            });\n        };\n        const isHorizontal = this.isHorizontal();\n        const titleHeight = this._computeTitleHeight();\n        if (isHorizontal) {\n            cursor = {\n                x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n                y: this.top + padding + titleHeight,\n                line: 0\n            };\n        } else {\n            cursor = {\n                x: this.left + padding,\n                y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n                line: 0\n            };\n        }\n        overrideTextDirection(this.ctx, opts.textDirection);\n        const lineHeight = itemHeight + padding;\n        this.legendItems.forEach((legendItem, i)=>{\n            ctx.strokeStyle = legendItem.fontColor;\n            ctx.fillStyle = legendItem.fontColor;\n            const textWidth = ctx.measureText(legendItem.text).width;\n            const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n            const width = boxWidth + halfFontSize + textWidth;\n            let x = cursor.x;\n            let y = cursor.y;\n            rtlHelper.setWidth(this.width);\n            if (isHorizontal) {\n                if (i > 0 && x + width + padding > this.right) {\n                    y = cursor.y += lineHeight;\n                    cursor.line++;\n                    x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n                }\n            } else if (i > 0 && y + lineHeight > this.bottom) {\n                x = cursor.x = x + columnSizes[cursor.line].width + padding;\n                cursor.line++;\n                y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n            }\n            const realX = rtlHelper.x(x);\n            drawLegendBox(realX, y, legendItem);\n            x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n            fillText(rtlHelper.x(x), y, legendItem);\n            if (isHorizontal) {\n                cursor.x += width + padding;\n            } else if (typeof legendItem.text !== 'string') {\n                const fontLineHeight = labelFont.lineHeight;\n                cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight) + padding;\n            } else {\n                cursor.y += lineHeight;\n            }\n        });\n        restoreTextDirection(this.ctx, opts.textDirection);\n    }\n drawTitle() {\n        const opts = this.options;\n        const titleOpts = opts.title;\n        const titleFont = toFont(titleOpts.font);\n        const titlePadding = toPadding(titleOpts.padding);\n        if (!titleOpts.display) {\n            return;\n        }\n        const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n        const ctx = this.ctx;\n        const position = titleOpts.position;\n        const halfFontSize = titleFont.size / 2;\n        const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n        let y;\n        let left = this.left;\n        let maxWidth = this.width;\n        if (this.isHorizontal()) {\n            maxWidth = Math.max(...this.lineWidths);\n            y = this.top + topPaddingPlusHalfFontSize;\n            left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n        } else {\n            const maxHeight = this.columnSizes.reduce((acc, size)=>Math.max(acc, size.height), 0);\n            y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n        }\n        const x = _alignStartEnd(position, left, left + maxWidth);\n        ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n        ctx.textBaseline = 'middle';\n        ctx.strokeStyle = titleOpts.color;\n        ctx.fillStyle = titleOpts.color;\n        ctx.font = titleFont.string;\n        renderText(ctx, titleOpts.text, x, y, titleFont);\n    }\n _computeTitleHeight() {\n        const titleOpts = this.options.title;\n        const titleFont = toFont(titleOpts.font);\n        const titlePadding = toPadding(titleOpts.padding);\n        return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n    }\n _getLegendItemAt(x, y) {\n        let i, hitBox, lh;\n        if (_isBetween(x, this.left, this.right) && _isBetween(y, this.top, this.bottom)) {\n            lh = this.legendHitBoxes;\n            for(i = 0; i < lh.length; ++i){\n                hitBox = lh[i];\n                if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width) && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n                    return this.legendItems[i];\n                }\n            }\n        }\n        return null;\n    }\n handleEvent(e) {\n        const opts = this.options;\n        if (!isListened(e.type, opts)) {\n            return;\n        }\n        const hoveredItem = this._getLegendItemAt(e.x, e.y);\n        if (e.type === 'mousemove' || e.type === 'mouseout') {\n            const previous = this._hoveredItem;\n            const sameItem = itemsEqual(previous, hoveredItem);\n            if (previous && !sameItem) {\n                callback(opts.onLeave, [\n                    e,\n                    previous,\n                    this\n                ], this);\n            }\n            this._hoveredItem = hoveredItem;\n            if (hoveredItem && !sameItem) {\n                callback(opts.onHover, [\n                    e,\n                    hoveredItem,\n                    this\n                ], this);\n            }\n        } else if (hoveredItem) {\n            callback(opts.onClick, [\n                e,\n                hoveredItem,\n                this\n            ], this);\n        }\n    }\n}\nfunction calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {\n    const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);\n    const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);\n    return {\n        itemWidth,\n        itemHeight\n    };\n}\nfunction calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {\n    let legendItemText = legendItem.text;\n    if (legendItemText && typeof legendItemText !== 'string') {\n        legendItemText = legendItemText.reduce((a, b)=>a.length > b.length ? a : b);\n    }\n    return boxWidth + labelFont.size / 2 + ctx.measureText(legendItemText).width;\n}\nfunction calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {\n    let itemHeight = _itemHeight;\n    if (typeof legendItem.text !== 'string') {\n        itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);\n    }\n    return itemHeight;\n}\nfunction calculateLegendItemHeight(legendItem, fontLineHeight) {\n    const labelHeight = legendItem.text ? legendItem.text.length : 0;\n    return fontLineHeight * labelHeight;\n}\nfunction isListened(type, opts) {\n    if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n        return true;\n    }\n    if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n        return true;\n    }\n    return false;\n}\nvar plugin_legend = {\n    id: 'legend',\n _element: Legend,\n    start (chart, _args, options) {\n        const legend = chart.legend = new Legend({\n            ctx: chart.ctx,\n            options,\n            chart\n        });\n        layouts.configure(chart, legend, options);\n        layouts.addBox(chart, legend);\n    },\n    stop (chart) {\n        layouts.removeBox(chart, chart.legend);\n        delete chart.legend;\n    },\n    beforeUpdate (chart, _args, options) {\n        const legend = chart.legend;\n        layouts.configure(chart, legend, options);\n        legend.options = options;\n    },\n    afterUpdate (chart) {\n        const legend = chart.legend;\n        legend.buildLabels();\n        legend.adjustHitBoxes();\n    },\n    afterEvent (chart, args) {\n        if (!args.replay) {\n            chart.legend.handleEvent(args.event);\n        }\n    },\n    defaults: {\n        display: true,\n        position: 'top',\n        align: 'center',\n        fullSize: true,\n        reverse: false,\n        weight: 1000,\n        onClick (e, legendItem, legend) {\n            const index = legendItem.datasetIndex;\n            const ci = legend.chart;\n            if (ci.isDatasetVisible(index)) {\n                ci.hide(index);\n                legendItem.hidden = true;\n            } else {\n                ci.show(index);\n                legendItem.hidden = false;\n            }\n        },\n        onHover: null,\n        onLeave: null,\n        labels: {\n            color: (ctx)=>ctx.chart.options.color,\n            boxWidth: 40,\n            padding: 10,\n            generateLabels (chart) {\n                const datasets = chart.data.datasets;\n                const { labels: { usePointStyle , pointStyle , textAlign , color , useBorderRadius , borderRadius  }  } = chart.legend.options;\n                return chart._getSortedDatasetMetas().map((meta)=>{\n                    const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n                    const borderWidth = toPadding(style.borderWidth);\n                    return {\n                        text: datasets[meta.index].label,\n                        fillStyle: style.backgroundColor,\n                        fontColor: color,\n                        hidden: !meta.visible,\n                        lineCap: style.borderCapStyle,\n                        lineDash: style.borderDash,\n                        lineDashOffset: style.borderDashOffset,\n                        lineJoin: style.borderJoinStyle,\n                        lineWidth: (borderWidth.width + borderWidth.height) / 4,\n                        strokeStyle: style.borderColor,\n                        pointStyle: pointStyle || style.pointStyle,\n                        rotation: style.rotation,\n                        textAlign: textAlign || style.textAlign,\n                        borderRadius: useBorderRadius && (borderRadius || style.borderRadius),\n                        datasetIndex: meta.index\n                    };\n                }, this);\n            }\n        },\n        title: {\n            color: (ctx)=>ctx.chart.options.color,\n            display: false,\n            position: 'center',\n            text: ''\n        }\n    },\n    descriptors: {\n        _scriptable: (name)=>!name.startsWith('on'),\n        labels: {\n            _scriptable: (name)=>![\n                    'generateLabels',\n                    'filter',\n                    'sort'\n                ].includes(name)\n        }\n    }\n};\n\nclass Title extends Element {\n constructor(config){\n        super();\n        this.chart = config.chart;\n        this.options = config.options;\n        this.ctx = config.ctx;\n        this._padding = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n        this.left = undefined;\n        this.right = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.position = undefined;\n        this.weight = undefined;\n        this.fullSize = undefined;\n    }\n    update(maxWidth, maxHeight) {\n        const opts = this.options;\n        this.left = 0;\n        this.top = 0;\n        if (!opts.display) {\n            this.width = this.height = this.right = this.bottom = 0;\n            return;\n        }\n        this.width = this.right = maxWidth;\n        this.height = this.bottom = maxHeight;\n        const lineCount = isArray(opts.text) ? opts.text.length : 1;\n        this._padding = toPadding(opts.padding);\n        const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n        if (this.isHorizontal()) {\n            this.height = textSize;\n        } else {\n            this.width = textSize;\n        }\n    }\n    isHorizontal() {\n        const pos = this.options.position;\n        return pos === 'top' || pos === 'bottom';\n    }\n    _drawArgs(offset) {\n        const { top , left , bottom , right , options  } = this;\n        const align = options.align;\n        let rotation = 0;\n        let maxWidth, titleX, titleY;\n        if (this.isHorizontal()) {\n            titleX = _alignStartEnd(align, left, right);\n            titleY = top + offset;\n            maxWidth = right - left;\n        } else {\n            if (options.position === 'left') {\n                titleX = left + offset;\n                titleY = _alignStartEnd(align, bottom, top);\n                rotation = PI * -0.5;\n            } else {\n                titleX = right - offset;\n                titleY = _alignStartEnd(align, top, bottom);\n                rotation = PI * 0.5;\n            }\n            maxWidth = bottom - top;\n        }\n        return {\n            titleX,\n            titleY,\n            maxWidth,\n            rotation\n        };\n    }\n    draw() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        if (!opts.display) {\n            return;\n        }\n        const fontOpts = toFont(opts.font);\n        const lineHeight = fontOpts.lineHeight;\n        const offset = lineHeight / 2 + this._padding.top;\n        const { titleX , titleY , maxWidth , rotation  } = this._drawArgs(offset);\n        renderText(ctx, opts.text, 0, 0, fontOpts, {\n            color: opts.color,\n            maxWidth,\n            rotation,\n            textAlign: _toLeftRightCenter(opts.align),\n            textBaseline: 'middle',\n            translation: [\n                titleX,\n                titleY\n            ]\n        });\n    }\n}\nfunction createTitle(chart, titleOpts) {\n    const title = new Title({\n        ctx: chart.ctx,\n        options: titleOpts,\n        chart\n    });\n    layouts.configure(chart, title, titleOpts);\n    layouts.addBox(chart, title);\n    chart.titleBlock = title;\n}\nvar plugin_title = {\n    id: 'title',\n _element: Title,\n    start (chart, _args, options) {\n        createTitle(chart, options);\n    },\n    stop (chart) {\n        const titleBlock = chart.titleBlock;\n        layouts.removeBox(chart, titleBlock);\n        delete chart.titleBlock;\n    },\n    beforeUpdate (chart, _args, options) {\n        const title = chart.titleBlock;\n        layouts.configure(chart, title, options);\n        title.options = options;\n    },\n    defaults: {\n        align: 'center',\n        display: false,\n        font: {\n            weight: 'bold'\n        },\n        fullSize: true,\n        padding: 10,\n        position: 'top',\n        text: '',\n        weight: 2000\n    },\n    defaultRoutes: {\n        color: 'color'\n    },\n    descriptors: {\n        _scriptable: true,\n        _indexable: false\n    }\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n    id: 'subtitle',\n    start (chart, _args, options) {\n        const title = new Title({\n            ctx: chart.ctx,\n            options,\n            chart\n        });\n        layouts.configure(chart, title, options);\n        layouts.addBox(chart, title);\n        map.set(chart, title);\n    },\n    stop (chart) {\n        layouts.removeBox(chart, map.get(chart));\n        map.delete(chart);\n    },\n    beforeUpdate (chart, _args, options) {\n        const title = map.get(chart);\n        layouts.configure(chart, title, options);\n        title.options = options;\n    },\n    defaults: {\n        align: 'center',\n        display: false,\n        font: {\n            weight: 'normal'\n        },\n        fullSize: true,\n        padding: 0,\n        position: 'top',\n        text: '',\n        weight: 1500\n    },\n    defaultRoutes: {\n        color: 'color'\n    },\n    descriptors: {\n        _scriptable: true,\n        _indexable: false\n    }\n};\n\nconst positioners = {\n average (items) {\n        if (!items.length) {\n            return false;\n        }\n        let i, len;\n        let xSet = new Set();\n        let y = 0;\n        let count = 0;\n        for(i = 0, len = items.length; i < len; ++i){\n            const el = items[i].element;\n            if (el && el.hasValue()) {\n                const pos = el.tooltipPosition();\n                xSet.add(pos.x);\n                y += pos.y;\n                ++count;\n            }\n        }\n        const xAverage = [\n            ...xSet\n        ].reduce((a, b)=>a + b) / xSet.size;\n        return {\n            x: xAverage,\n            y: y / count\n        };\n    },\n nearest (items, eventPosition) {\n        if (!items.length) {\n            return false;\n        }\n        let x = eventPosition.x;\n        let y = eventPosition.y;\n        let minDistance = Number.POSITIVE_INFINITY;\n        let i, len, nearestElement;\n        for(i = 0, len = items.length; i < len; ++i){\n            const el = items[i].element;\n            if (el && el.hasValue()) {\n                const center = el.getCenterPoint();\n                const d = distanceBetweenPoints(eventPosition, center);\n                if (d < minDistance) {\n                    minDistance = d;\n                    nearestElement = el;\n                }\n            }\n        }\n        if (nearestElement) {\n            const tp = nearestElement.tooltipPosition();\n            x = tp.x;\n            y = tp.y;\n        }\n        return {\n            x,\n            y\n        };\n    }\n};\nfunction pushOrConcat(base, toPush) {\n    if (toPush) {\n        if (isArray(toPush)) {\n            Array.prototype.push.apply(base, toPush);\n        } else {\n            base.push(toPush);\n        }\n    }\n    return base;\n}\n function splitNewlines(str) {\n    if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n        return str.split('\\n');\n    }\n    return str;\n}\n function createTooltipItem(chart, item) {\n    const { element , datasetIndex , index  } = item;\n    const controller = chart.getDatasetMeta(datasetIndex).controller;\n    const { label , value  } = controller.getLabelAndValue(index);\n    return {\n        chart,\n        label,\n        parsed: controller.getParsed(index),\n        raw: chart.data.datasets[datasetIndex].data[index],\n        formattedValue: value,\n        dataset: controller.getDataset(),\n        dataIndex: index,\n        datasetIndex,\n        element\n    };\n}\n function getTooltipSize(tooltip, options) {\n    const ctx = tooltip.chart.ctx;\n    const { body , footer , title  } = tooltip;\n    const { boxWidth , boxHeight  } = options;\n    const bodyFont = toFont(options.bodyFont);\n    const titleFont = toFont(options.titleFont);\n    const footerFont = toFont(options.footerFont);\n    const titleLineCount = title.length;\n    const footerLineCount = footer.length;\n    const bodyLineItemCount = body.length;\n    const padding = toPadding(options.padding);\n    let height = padding.height;\n    let width = 0;\n    let combinedBodyLength = body.reduce((count, bodyItem)=>count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n    combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n    if (titleLineCount) {\n        height += titleLineCount * titleFont.lineHeight + (titleLineCount - 1) * options.titleSpacing + options.titleMarginBottom;\n    }\n    if (combinedBodyLength) {\n        const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n        height += bodyLineItemCount * bodyLineHeight + (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight + (combinedBodyLength - 1) * options.bodySpacing;\n    }\n    if (footerLineCount) {\n        height += options.footerMarginTop + footerLineCount * footerFont.lineHeight + (footerLineCount - 1) * options.footerSpacing;\n    }\n    let widthPadding = 0;\n    const maxLineWidth = function(line) {\n        width = Math.max(width, ctx.measureText(line).width + widthPadding);\n    };\n    ctx.save();\n    ctx.font = titleFont.string;\n    each(tooltip.title, maxLineWidth);\n    ctx.font = bodyFont.string;\n    each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n    widthPadding = options.displayColors ? boxWidth + 2 + options.boxPadding : 0;\n    each(body, (bodyItem)=>{\n        each(bodyItem.before, maxLineWidth);\n        each(bodyItem.lines, maxLineWidth);\n        each(bodyItem.after, maxLineWidth);\n    });\n    widthPadding = 0;\n    ctx.font = footerFont.string;\n    each(tooltip.footer, maxLineWidth);\n    ctx.restore();\n    width += padding.width;\n    return {\n        width,\n        height\n    };\n}\nfunction determineYAlign(chart, size) {\n    const { y , height  } = size;\n    if (y < height / 2) {\n        return 'top';\n    } else if (y > chart.height - height / 2) {\n        return 'bottom';\n    }\n    return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n    const { x , width  } = size;\n    const caret = options.caretSize + options.caretPadding;\n    if (xAlign === 'left' && x + width + caret > chart.width) {\n        return true;\n    }\n    if (xAlign === 'right' && x - width - caret < 0) {\n        return true;\n    }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n    const { x , width  } = size;\n    const { width: chartWidth , chartArea: { left , right  }  } = chart;\n    let xAlign = 'center';\n    if (yAlign === 'center') {\n        xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n    } else if (x <= width / 2) {\n        xAlign = 'left';\n    } else if (x >= chartWidth - width / 2) {\n        xAlign = 'right';\n    }\n    if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n        xAlign = 'center';\n    }\n    return xAlign;\n}\n function determineAlignment(chart, options, size) {\n    const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n    return {\n        xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n        yAlign\n    };\n}\nfunction alignX(size, xAlign) {\n    let { x , width  } = size;\n    if (xAlign === 'right') {\n        x -= width;\n    } else if (xAlign === 'center') {\n        x -= width / 2;\n    }\n    return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n    let { y , height  } = size;\n    if (yAlign === 'top') {\n        y += paddingAndSize;\n    } else if (yAlign === 'bottom') {\n        y -= height + paddingAndSize;\n    } else {\n        y -= height / 2;\n    }\n    return y;\n}\n function getBackgroundPoint(options, size, alignment, chart) {\n    const { caretSize , caretPadding , cornerRadius  } = options;\n    const { xAlign , yAlign  } = alignment;\n    const paddingAndSize = caretSize + caretPadding;\n    const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(cornerRadius);\n    let x = alignX(size, xAlign);\n    const y = alignY(size, yAlign, paddingAndSize);\n    if (yAlign === 'center') {\n        if (xAlign === 'left') {\n            x += paddingAndSize;\n        } else if (xAlign === 'right') {\n            x -= paddingAndSize;\n        }\n    } else if (xAlign === 'left') {\n        x -= Math.max(topLeft, bottomLeft) + caretSize;\n    } else if (xAlign === 'right') {\n        x += Math.max(topRight, bottomRight) + caretSize;\n    }\n    return {\n        x: _limitValue(x, 0, chart.width - size.width),\n        y: _limitValue(y, 0, chart.height - size.height)\n    };\n}\nfunction getAlignedX(tooltip, align, options) {\n    const padding = toPadding(options.padding);\n    return align === 'center' ? tooltip.x + tooltip.width / 2 : align === 'right' ? tooltip.x + tooltip.width - padding.right : tooltip.x + padding.left;\n}\n function getBeforeAfterBodyLines(callback) {\n    return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n    return createContext(parent, {\n        tooltip,\n        tooltipItems,\n        type: 'tooltip'\n    });\n}\nfunction overrideCallbacks(callbacks, context) {\n    const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n    return override ? callbacks.override(override) : callbacks;\n}\nconst defaultCallbacks = {\n    beforeTitle: noop,\n    title (tooltipItems) {\n        if (tooltipItems.length > 0) {\n            const item = tooltipItems[0];\n            const labels = item.chart.data.labels;\n            const labelCount = labels ? labels.length : 0;\n            if (this && this.options && this.options.mode === 'dataset') {\n                return item.dataset.label || '';\n            } else if (item.label) {\n                return item.label;\n            } else if (labelCount > 0 && item.dataIndex < labelCount) {\n                return labels[item.dataIndex];\n            }\n        }\n        return '';\n    },\n    afterTitle: noop,\n    beforeBody: noop,\n    beforeLabel: noop,\n    label (tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n            return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n            label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n            label += value;\n        }\n        return label;\n    },\n    labelColor (tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n            borderColor: options.borderColor,\n            backgroundColor: options.backgroundColor,\n            borderWidth: options.borderWidth,\n            borderDash: options.borderDash,\n            borderDashOffset: options.borderDashOffset,\n            borderRadius: 0\n        };\n    },\n    labelTextColor () {\n        return this.options.bodyColor;\n    },\n    labelPointStyle (tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n            pointStyle: options.pointStyle,\n            rotation: options.rotation\n        };\n    },\n    afterLabel: noop,\n    afterBody: noop,\n    beforeFooter: noop,\n    footer: noop,\n    afterFooter: noop\n};\n function invokeCallbackWithFallback(callbacks, name, ctx, arg) {\n    const result = callbacks[name].call(ctx, arg);\n    if (typeof result === 'undefined') {\n        return defaultCallbacks[name].call(ctx, arg);\n    }\n    return result;\n}\nclass Tooltip extends Element {\n static positioners = positioners;\n    constructor(config){\n        super();\n        this.opacity = 0;\n        this._active = [];\n        this._eventPosition = undefined;\n        this._size = undefined;\n        this._cachedAnimations = undefined;\n        this._tooltipItems = [];\n        this.$animations = undefined;\n        this.$context = undefined;\n        this.chart = config.chart;\n        this.options = config.options;\n        this.dataPoints = undefined;\n        this.title = undefined;\n        this.beforeBody = undefined;\n        this.body = undefined;\n        this.afterBody = undefined;\n        this.footer = undefined;\n        this.xAlign = undefined;\n        this.yAlign = undefined;\n        this.x = undefined;\n        this.y = undefined;\n        this.height = undefined;\n        this.width = undefined;\n        this.caretX = undefined;\n        this.caretY = undefined;\n        this.labelColors = undefined;\n        this.labelPointStyles = undefined;\n        this.labelTextColors = undefined;\n    }\n    initialize(options) {\n        this.options = options;\n        this._cachedAnimations = undefined;\n        this.$context = undefined;\n    }\n _resolveAnimations() {\n        const cached = this._cachedAnimations;\n        if (cached) {\n            return cached;\n        }\n        const chart = this.chart;\n        const options = this.options.setContext(this.getContext());\n        const opts = options.enabled && chart.options.animation && options.animations;\n        const animations = new Animations(this.chart, opts);\n        if (opts._cacheable) {\n            this._cachedAnimations = Object.freeze(animations);\n        }\n        return animations;\n    }\n getContext() {\n        return this.$context || (this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n    }\n    getTitle(context, options) {\n        const { callbacks  } = options;\n        const beforeTitle = invokeCallbackWithFallback(callbacks, 'beforeTitle', this, context);\n        const title = invokeCallbackWithFallback(callbacks, 'title', this, context);\n        const afterTitle = invokeCallbackWithFallback(callbacks, 'afterTitle', this, context);\n        let lines = [];\n        lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n        lines = pushOrConcat(lines, splitNewlines(title));\n        lines = pushOrConcat(lines, splitNewlines(afterTitle));\n        return lines;\n    }\n    getBeforeBody(tooltipItems, options) {\n        return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, 'beforeBody', this, tooltipItems));\n    }\n    getBody(tooltipItems, options) {\n        const { callbacks  } = options;\n        const bodyItems = [];\n        each(tooltipItems, (context)=>{\n            const bodyItem = {\n                before: [],\n                lines: [],\n                after: []\n            };\n            const scoped = overrideCallbacks(callbacks, context);\n            pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, 'beforeLabel', this, context)));\n            pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, 'label', this, context));\n            pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, 'afterLabel', this, context)));\n            bodyItems.push(bodyItem);\n        });\n        return bodyItems;\n    }\n    getAfterBody(tooltipItems, options) {\n        return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, 'afterBody', this, tooltipItems));\n    }\n    getFooter(tooltipItems, options) {\n        const { callbacks  } = options;\n        const beforeFooter = invokeCallbackWithFallback(callbacks, 'beforeFooter', this, tooltipItems);\n        const footer = invokeCallbackWithFallback(callbacks, 'footer', this, tooltipItems);\n        const afterFooter = invokeCallbackWithFallback(callbacks, 'afterFooter', this, tooltipItems);\n        let lines = [];\n        lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n        lines = pushOrConcat(lines, splitNewlines(footer));\n        lines = pushOrConcat(lines, splitNewlines(afterFooter));\n        return lines;\n    }\n _createItems(options) {\n        const active = this._active;\n        const data = this.chart.data;\n        const labelColors = [];\n        const labelPointStyles = [];\n        const labelTextColors = [];\n        let tooltipItems = [];\n        let i, len;\n        for(i = 0, len = active.length; i < len; ++i){\n            tooltipItems.push(createTooltipItem(this.chart, active[i]));\n        }\n        if (options.filter) {\n            tooltipItems = tooltipItems.filter((element, index, array)=>options.filter(element, index, array, data));\n        }\n        if (options.itemSort) {\n            tooltipItems = tooltipItems.sort((a, b)=>options.itemSort(a, b, data));\n        }\n        each(tooltipItems, (context)=>{\n            const scoped = overrideCallbacks(options.callbacks, context);\n            labelColors.push(invokeCallbackWithFallback(scoped, 'labelColor', this, context));\n            labelPointStyles.push(invokeCallbackWithFallback(scoped, 'labelPointStyle', this, context));\n            labelTextColors.push(invokeCallbackWithFallback(scoped, 'labelTextColor', this, context));\n        });\n        this.labelColors = labelColors;\n        this.labelPointStyles = labelPointStyles;\n        this.labelTextColors = labelTextColors;\n        this.dataPoints = tooltipItems;\n        return tooltipItems;\n    }\n    update(changed, replay) {\n        const options = this.options.setContext(this.getContext());\n        const active = this._active;\n        let properties;\n        let tooltipItems = [];\n        if (!active.length) {\n            if (this.opacity !== 0) {\n                properties = {\n                    opacity: 0\n                };\n            }\n        } else {\n            const position = positioners[options.position].call(this, active, this._eventPosition);\n            tooltipItems = this._createItems(options);\n            this.title = this.getTitle(tooltipItems, options);\n            this.beforeBody = this.getBeforeBody(tooltipItems, options);\n            this.body = this.getBody(tooltipItems, options);\n            this.afterBody = this.getAfterBody(tooltipItems, options);\n            this.footer = this.getFooter(tooltipItems, options);\n            const size = this._size = getTooltipSize(this, options);\n            const positionAndSize = Object.assign({}, position, size);\n            const alignment = determineAlignment(this.chart, options, positionAndSize);\n            const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n            this.xAlign = alignment.xAlign;\n            this.yAlign = alignment.yAlign;\n            properties = {\n                opacity: 1,\n                x: backgroundPoint.x,\n                y: backgroundPoint.y,\n                width: size.width,\n                height: size.height,\n                caretX: position.x,\n                caretY: position.y\n            };\n        }\n        this._tooltipItems = tooltipItems;\n        this.$context = undefined;\n        if (properties) {\n            this._resolveAnimations().update(this, properties);\n        }\n        if (changed && options.external) {\n            options.external.call(this, {\n                chart: this.chart,\n                tooltip: this,\n                replay\n            });\n        }\n    }\n    drawCaret(tooltipPoint, ctx, size, options) {\n        const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n        ctx.lineTo(caretPosition.x1, caretPosition.y1);\n        ctx.lineTo(caretPosition.x2, caretPosition.y2);\n        ctx.lineTo(caretPosition.x3, caretPosition.y3);\n    }\n    getCaretPosition(tooltipPoint, size, options) {\n        const { xAlign , yAlign  } = this;\n        const { caretSize , cornerRadius  } = options;\n        const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(cornerRadius);\n        const { x: ptX , y: ptY  } = tooltipPoint;\n        const { width , height  } = size;\n        let x1, x2, x3, y1, y2, y3;\n        if (yAlign === 'center') {\n            y2 = ptY + height / 2;\n            if (xAlign === 'left') {\n                x1 = ptX;\n                x2 = x1 - caretSize;\n                y1 = y2 + caretSize;\n                y3 = y2 - caretSize;\n            } else {\n                x1 = ptX + width;\n                x2 = x1 + caretSize;\n                y1 = y2 - caretSize;\n                y3 = y2 + caretSize;\n            }\n            x3 = x1;\n        } else {\n            if (xAlign === 'left') {\n                x2 = ptX + Math.max(topLeft, bottomLeft) + caretSize;\n            } else if (xAlign === 'right') {\n                x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n            } else {\n                x2 = this.caretX;\n            }\n            if (yAlign === 'top') {\n                y1 = ptY;\n                y2 = y1 - caretSize;\n                x1 = x2 - caretSize;\n                x3 = x2 + caretSize;\n            } else {\n                y1 = ptY + height;\n                y2 = y1 + caretSize;\n                x1 = x2 + caretSize;\n                x3 = x2 - caretSize;\n            }\n            y3 = y1;\n        }\n        return {\n            x1,\n            x2,\n            x3,\n            y1,\n            y2,\n            y3\n        };\n    }\n    drawTitle(pt, ctx, options) {\n        const title = this.title;\n        const length = title.length;\n        let titleFont, titleSpacing, i;\n        if (length) {\n            const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n            pt.x = getAlignedX(this, options.titleAlign, options);\n            ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n            ctx.textBaseline = 'middle';\n            titleFont = toFont(options.titleFont);\n            titleSpacing = options.titleSpacing;\n            ctx.fillStyle = options.titleColor;\n            ctx.font = titleFont.string;\n            for(i = 0; i < length; ++i){\n                ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n                pt.y += titleFont.lineHeight + titleSpacing;\n                if (i + 1 === length) {\n                    pt.y += options.titleMarginBottom - titleSpacing;\n                }\n            }\n        }\n    }\n _drawColorBox(ctx, pt, i, rtlHelper, options) {\n        const labelColor = this.labelColors[i];\n        const labelPointStyle = this.labelPointStyles[i];\n        const { boxHeight , boxWidth  } = options;\n        const bodyFont = toFont(options.bodyFont);\n        const colorX = getAlignedX(this, 'left', options);\n        const rtlColorX = rtlHelper.x(colorX);\n        const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n        const colorY = pt.y + yOffSet;\n        if (options.usePointStyle) {\n            const drawOptions = {\n                radius: Math.min(boxWidth, boxHeight) / 2,\n                pointStyle: labelPointStyle.pointStyle,\n                rotation: labelPointStyle.rotation,\n                borderWidth: 1\n            };\n            const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n            const centerY = colorY + boxHeight / 2;\n            ctx.strokeStyle = options.multiKeyBackground;\n            ctx.fillStyle = options.multiKeyBackground;\n            drawPoint(ctx, drawOptions, centerX, centerY);\n            ctx.strokeStyle = labelColor.borderColor;\n            ctx.fillStyle = labelColor.backgroundColor;\n            drawPoint(ctx, drawOptions, centerX, centerY);\n        } else {\n            ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : labelColor.borderWidth || 1;\n            ctx.strokeStyle = labelColor.borderColor;\n            ctx.setLineDash(labelColor.borderDash || []);\n            ctx.lineDashOffset = labelColor.borderDashOffset || 0;\n            const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n            const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n            const borderRadius = toTRBLCorners(labelColor.borderRadius);\n            if (Object.values(borderRadius).some((v)=>v !== 0)) {\n                ctx.beginPath();\n                ctx.fillStyle = options.multiKeyBackground;\n                addRoundedRectPath(ctx, {\n                    x: outerX,\n                    y: colorY,\n                    w: boxWidth,\n                    h: boxHeight,\n                    radius: borderRadius\n                });\n                ctx.fill();\n                ctx.stroke();\n                ctx.fillStyle = labelColor.backgroundColor;\n                ctx.beginPath();\n                addRoundedRectPath(ctx, {\n                    x: innerX,\n                    y: colorY + 1,\n                    w: boxWidth - 2,\n                    h: boxHeight - 2,\n                    radius: borderRadius\n                });\n                ctx.fill();\n            } else {\n                ctx.fillStyle = options.multiKeyBackground;\n                ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n                ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n                ctx.fillStyle = labelColor.backgroundColor;\n                ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n            }\n        }\n        ctx.fillStyle = this.labelTextColors[i];\n    }\n    drawBody(pt, ctx, options) {\n        const { body  } = this;\n        const { bodySpacing , bodyAlign , displayColors , boxHeight , boxWidth , boxPadding  } = options;\n        const bodyFont = toFont(options.bodyFont);\n        let bodyLineHeight = bodyFont.lineHeight;\n        let xLinePadding = 0;\n        const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n        const fillLineOfText = function(line) {\n            ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n            pt.y += bodyLineHeight + bodySpacing;\n        };\n        const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n        let bodyItem, textColor, lines, i, j, ilen, jlen;\n        ctx.textAlign = bodyAlign;\n        ctx.textBaseline = 'middle';\n        ctx.font = bodyFont.string;\n        pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n        ctx.fillStyle = options.bodyColor;\n        each(this.beforeBody, fillLineOfText);\n        xLinePadding = displayColors && bodyAlignForCalculation !== 'right' ? bodyAlign === 'center' ? boxWidth / 2 + boxPadding : boxWidth + 2 + boxPadding : 0;\n        for(i = 0, ilen = body.length; i < ilen; ++i){\n            bodyItem = body[i];\n            textColor = this.labelTextColors[i];\n            ctx.fillStyle = textColor;\n            each(bodyItem.before, fillLineOfText);\n            lines = bodyItem.lines;\n            if (displayColors && lines.length) {\n                this._drawColorBox(ctx, pt, i, rtlHelper, options);\n                bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n            }\n            for(j = 0, jlen = lines.length; j < jlen; ++j){\n                fillLineOfText(lines[j]);\n                bodyLineHeight = bodyFont.lineHeight;\n            }\n            each(bodyItem.after, fillLineOfText);\n        }\n        xLinePadding = 0;\n        bodyLineHeight = bodyFont.lineHeight;\n        each(this.afterBody, fillLineOfText);\n        pt.y -= bodySpacing;\n    }\n    drawFooter(pt, ctx, options) {\n        const footer = this.footer;\n        const length = footer.length;\n        let footerFont, i;\n        if (length) {\n            const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n            pt.x = getAlignedX(this, options.footerAlign, options);\n            pt.y += options.footerMarginTop;\n            ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n            ctx.textBaseline = 'middle';\n            footerFont = toFont(options.footerFont);\n            ctx.fillStyle = options.footerColor;\n            ctx.font = footerFont.string;\n            for(i = 0; i < length; ++i){\n                ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n                pt.y += footerFont.lineHeight + options.footerSpacing;\n            }\n        }\n    }\n    drawBackground(pt, ctx, tooltipSize, options) {\n        const { xAlign , yAlign  } = this;\n        const { x , y  } = pt;\n        const { width , height  } = tooltipSize;\n        const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(options.cornerRadius);\n        ctx.fillStyle = options.backgroundColor;\n        ctx.strokeStyle = options.borderColor;\n        ctx.lineWidth = options.borderWidth;\n        ctx.beginPath();\n        ctx.moveTo(x + topLeft, y);\n        if (yAlign === 'top') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + width - topRight, y);\n        ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n        if (yAlign === 'center' && xAlign === 'right') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + width, y + height - bottomRight);\n        ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n        if (yAlign === 'bottom') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + bottomLeft, y + height);\n        ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n        if (yAlign === 'center' && xAlign === 'left') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x, y + topLeft);\n        ctx.quadraticCurveTo(x, y, x + topLeft, y);\n        ctx.closePath();\n        ctx.fill();\n        if (options.borderWidth > 0) {\n            ctx.stroke();\n        }\n    }\n _updateAnimationTarget(options) {\n        const chart = this.chart;\n        const anims = this.$animations;\n        const animX = anims && anims.x;\n        const animY = anims && anims.y;\n        if (animX || animY) {\n            const position = positioners[options.position].call(this, this._active, this._eventPosition);\n            if (!position) {\n                return;\n            }\n            const size = this._size = getTooltipSize(this, options);\n            const positionAndSize = Object.assign({}, position, this._size);\n            const alignment = determineAlignment(chart, options, positionAndSize);\n            const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n            if (animX._to !== point.x || animY._to !== point.y) {\n                this.xAlign = alignment.xAlign;\n                this.yAlign = alignment.yAlign;\n                this.width = size.width;\n                this.height = size.height;\n                this.caretX = position.x;\n                this.caretY = position.y;\n                this._resolveAnimations().update(this, point);\n            }\n        }\n    }\n _willRender() {\n        return !!this.opacity;\n    }\n    draw(ctx) {\n        const options = this.options.setContext(this.getContext());\n        let opacity = this.opacity;\n        if (!opacity) {\n            return;\n        }\n        this._updateAnimationTarget(options);\n        const tooltipSize = {\n            width: this.width,\n            height: this.height\n        };\n        const pt = {\n            x: this.x,\n            y: this.y\n        };\n        opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n        const padding = toPadding(options.padding);\n        const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n        if (options.enabled && hasTooltipContent) {\n            ctx.save();\n            ctx.globalAlpha = opacity;\n            this.drawBackground(pt, ctx, tooltipSize, options);\n            overrideTextDirection(ctx, options.textDirection);\n            pt.y += padding.top;\n            this.drawTitle(pt, ctx, options);\n            this.drawBody(pt, ctx, options);\n            this.drawFooter(pt, ctx, options);\n            restoreTextDirection(ctx, options.textDirection);\n            ctx.restore();\n        }\n    }\n getActiveElements() {\n        return this._active || [];\n    }\n setActiveElements(activeElements, eventPosition) {\n        const lastActive = this._active;\n        const active = activeElements.map(({ datasetIndex , index  })=>{\n            const meta = this.chart.getDatasetMeta(datasetIndex);\n            if (!meta) {\n                throw new Error('Cannot find a dataset at index ' + datasetIndex);\n            }\n            return {\n                datasetIndex,\n                element: meta.data[index],\n                index\n            };\n        });\n        const changed = !_elementsEqual(lastActive, active);\n        const positionChanged = this._positionChanged(active, eventPosition);\n        if (changed || positionChanged) {\n            this._active = active;\n            this._eventPosition = eventPosition;\n            this._ignoreReplayEvents = true;\n            this.update(true);\n        }\n    }\n handleEvent(e, replay, inChartArea = true) {\n        if (replay && this._ignoreReplayEvents) {\n            return false;\n        }\n        this._ignoreReplayEvents = false;\n        const options = this.options;\n        const lastActive = this._active || [];\n        const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n        const positionChanged = this._positionChanged(active, e);\n        const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n        if (changed) {\n            this._active = active;\n            if (options.enabled || options.external) {\n                this._eventPosition = {\n                    x: e.x,\n                    y: e.y\n                };\n                this.update(true, replay);\n            }\n        }\n        return changed;\n    }\n _getActiveElements(e, lastActive, replay, inChartArea) {\n        const options = this.options;\n        if (e.type === 'mouseout') {\n            return [];\n        }\n        if (!inChartArea) {\n            return lastActive.filter((i)=>this.chart.data.datasets[i.datasetIndex] && this.chart.getDatasetMeta(i.datasetIndex).controller.getParsed(i.index) !== undefined);\n        }\n        const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n        if (options.reverse) {\n            active.reverse();\n        }\n        return active;\n    }\n _positionChanged(active, e) {\n        const { caretX , caretY , options  } = this;\n        const position = positioners[options.position].call(this, active, e);\n        return position !== false && (caretX !== position.x || caretY !== position.y);\n    }\n}\nvar plugin_tooltip = {\n    id: 'tooltip',\n    _element: Tooltip,\n    positioners,\n    afterInit (chart, _args, options) {\n        if (options) {\n            chart.tooltip = new Tooltip({\n                chart,\n                options\n            });\n        }\n    },\n    beforeUpdate (chart, _args, options) {\n        if (chart.tooltip) {\n            chart.tooltip.initialize(options);\n        }\n    },\n    reset (chart, _args, options) {\n        if (chart.tooltip) {\n            chart.tooltip.initialize(options);\n        }\n    },\n    afterDraw (chart) {\n        const tooltip = chart.tooltip;\n        if (tooltip && tooltip._willRender()) {\n            const args = {\n                tooltip\n            };\n            if (chart.notifyPlugins('beforeTooltipDraw', {\n                ...args,\n                cancelable: true\n            }) === false) {\n                return;\n            }\n            tooltip.draw(chart.ctx);\n            chart.notifyPlugins('afterTooltipDraw', args);\n        }\n    },\n    afterEvent (chart, args) {\n        if (chart.tooltip) {\n            const useFinalPosition = args.replay;\n            if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n                args.changed = true;\n            }\n        }\n    },\n    defaults: {\n        enabled: true,\n        external: null,\n        position: 'average',\n        backgroundColor: 'rgba(0,0,0,0.8)',\n        titleColor: '#fff',\n        titleFont: {\n            weight: 'bold'\n        },\n        titleSpacing: 2,\n        titleMarginBottom: 6,\n        titleAlign: 'left',\n        bodyColor: '#fff',\n        bodySpacing: 2,\n        bodyFont: {},\n        bodyAlign: 'left',\n        footerColor: '#fff',\n        footerSpacing: 2,\n        footerMarginTop: 6,\n        footerFont: {\n            weight: 'bold'\n        },\n        footerAlign: 'left',\n        padding: 6,\n        caretPadding: 2,\n        caretSize: 5,\n        cornerRadius: 6,\n        boxHeight: (ctx, opts)=>opts.bodyFont.size,\n        boxWidth: (ctx, opts)=>opts.bodyFont.size,\n        multiKeyBackground: '#fff',\n        displayColors: true,\n        boxPadding: 0,\n        borderColor: 'rgba(0,0,0,0)',\n        borderWidth: 0,\n        animation: {\n            duration: 400,\n            easing: 'easeOutQuart'\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'width',\n                    'height',\n                    'caretX',\n                    'caretY'\n                ]\n            },\n            opacity: {\n                easing: 'linear',\n                duration: 200\n            }\n        },\n        callbacks: defaultCallbacks\n    },\n    defaultRoutes: {\n        bodyFont: 'font',\n        footerFont: 'font',\n        titleFont: 'font'\n    },\n    descriptors: {\n        _scriptable: (name)=>name !== 'filter' && name !== 'itemSort' && name !== 'external',\n        _indexable: false,\n        callbacks: {\n            _scriptable: false,\n            _indexable: false\n        },\n        animation: {\n            _fallback: false\n        },\n        animations: {\n            _fallback: 'animation'\n        }\n    },\n    additionalOptionScopes: [\n        'interaction'\n    ]\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nColors: plugin_colors,\nDecimation: plugin_decimation,\nFiller: index,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index, addedLabels)=>{\n    if (typeof raw === 'string') {\n        index = labels.push(raw) - 1;\n        addedLabels.unshift({\n            index,\n            label: raw\n        });\n    } else if (isNaN(raw)) {\n        index = null;\n    }\n    return index;\n};\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n    const first = labels.indexOf(raw);\n    if (first === -1) {\n        return addIfString(labels, raw, index, addedLabels);\n    }\n    const last = labels.lastIndexOf(raw);\n    return first !== last ? index : first;\n}\nconst validIndex = (index, max)=>index === null ? null : _limitValue(Math.round(index), 0, max);\nfunction _getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n        return labels[value];\n    }\n    return value;\n}\nclass CategoryScale extends Scale {\n    static id = 'category';\n static defaults = {\n        ticks: {\n            callback: _getLabelForValue\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this._startValue = undefined;\n        this._valueRange = 0;\n        this._addedLabels = [];\n    }\n    init(scaleOptions) {\n        const added = this._addedLabels;\n        if (added.length) {\n            const labels = this.getLabels();\n            for (const { index , label  } of added){\n                if (labels[index] === label) {\n                    labels.splice(index, 1);\n                }\n            }\n            this._addedLabels = [];\n        }\n        super.init(scaleOptions);\n    }\n    parse(raw, index) {\n        if (isNullOrUndef(raw)) {\n            return null;\n        }\n        const labels = this.getLabels();\n        index = isFinite(index) && labels[index] === raw ? index : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n        return validIndex(index, labels.length - 1);\n    }\n    determineDataLimits() {\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let { min , max  } = this.getMinMax(true);\n        if (this.options.bounds === 'ticks') {\n            if (!minDefined) {\n                min = 0;\n            }\n            if (!maxDefined) {\n                max = this.getLabels().length - 1;\n            }\n        }\n        this.min = min;\n        this.max = max;\n    }\n    buildTicks() {\n        const min = this.min;\n        const max = this.max;\n        const offset = this.options.offset;\n        const ticks = [];\n        let labels = this.getLabels();\n        labels = min === 0 && max === labels.length - 1 ? labels : labels.slice(min, max + 1);\n        this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n        this._startValue = this.min - (offset ? 0.5 : 0);\n        for(let value = min; value <= max; value++){\n            ticks.push({\n                value\n            });\n        }\n        return ticks;\n    }\n    getLabelForValue(value) {\n        return _getLabelForValue.call(this, value);\n    }\n configure() {\n        super.configure();\n        if (!this.isHorizontal()) {\n            this._reversePixels = !this._reversePixels;\n        }\n    }\n    getPixelForValue(value) {\n        if (typeof value !== 'number') {\n            value = this.parse(value);\n        }\n        return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n    getPixelForTick(index) {\n        const ticks = this.ticks;\n        if (index < 0 || index > ticks.length - 1) {\n            return null;\n        }\n        return this.getPixelForValue(ticks[index].value);\n    }\n    getValueForPixel(pixel) {\n        return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n    }\n    getBasePixel() {\n        return this.bottom;\n    }\n}\n\nfunction generateTicks$1(generationOptions, dataRange) {\n    const ticks = [];\n    const MIN_SPACING = 1e-14;\n    const { bounds , step , min , max , precision , count , maxTicks , maxDigits , includeBounds  } = generationOptions;\n    const unit = step || 1;\n    const maxSpaces = maxTicks - 1;\n    const { min: rmin , max: rmax  } = dataRange;\n    const minDefined = !isNullOrUndef(min);\n    const maxDefined = !isNullOrUndef(max);\n    const countDefined = !isNullOrUndef(count);\n    const minSpacing = (rmax - rmin) / (maxDigits + 1);\n    let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n    let factor, niceMin, niceMax, numSpaces;\n    if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n        return [\n            {\n                value: rmin\n            },\n            {\n                value: rmax\n            }\n        ];\n    }\n    numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n    if (numSpaces > maxSpaces) {\n        spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n    }\n    if (!isNullOrUndef(precision)) {\n        factor = Math.pow(10, precision);\n        spacing = Math.ceil(spacing * factor) / factor;\n    }\n    if (bounds === 'ticks') {\n        niceMin = Math.floor(rmin / spacing) * spacing;\n        niceMax = Math.ceil(rmax / spacing) * spacing;\n    } else {\n        niceMin = rmin;\n        niceMax = rmax;\n    }\n    if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n        numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n        spacing = (max - min) / numSpaces;\n        niceMin = min;\n        niceMax = max;\n    } else if (countDefined) {\n        niceMin = minDefined ? min : niceMin;\n        niceMax = maxDefined ? max : niceMax;\n        numSpaces = count - 1;\n        spacing = (niceMax - niceMin) / numSpaces;\n    } else {\n        numSpaces = (niceMax - niceMin) / spacing;\n        if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n            numSpaces = Math.round(numSpaces);\n        } else {\n            numSpaces = Math.ceil(numSpaces);\n        }\n    }\n    const decimalPlaces = Math.max(_decimalPlaces(spacing), _decimalPlaces(niceMin));\n    factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n    niceMin = Math.round(niceMin * factor) / factor;\n    niceMax = Math.round(niceMax * factor) / factor;\n    let j = 0;\n    if (minDefined) {\n        if (includeBounds && niceMin !== min) {\n            ticks.push({\n                value: min\n            });\n            if (niceMin < min) {\n                j++;\n            }\n            if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n                j++;\n            }\n        } else if (niceMin < min) {\n            j++;\n        }\n    }\n    for(; j < numSpaces; ++j){\n        const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;\n        if (maxDefined && tickValue > max) {\n            break;\n        }\n        ticks.push({\n            value: tickValue\n        });\n    }\n    if (maxDefined && includeBounds && niceMax !== max) {\n        if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n            ticks[ticks.length - 1].value = max;\n        } else {\n            ticks.push({\n                value: max\n            });\n        }\n    } else if (!maxDefined || niceMax === max) {\n        ticks.push({\n            value: niceMax\n        });\n    }\n    return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, { horizontal , minRotation  }) {\n    const rad = toRadians(minRotation);\n    const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n    const length = 0.75 * minSpacing * ('' + value).length;\n    return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n    constructor(cfg){\n        super(cfg);\n         this.start = undefined;\n         this.end = undefined;\n         this._startValue = undefined;\n         this._endValue = undefined;\n        this._valueRange = 0;\n    }\n    parse(raw, index) {\n        if (isNullOrUndef(raw)) {\n            return null;\n        }\n        if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n            return null;\n        }\n        return +raw;\n    }\n    handleTickRangeOptions() {\n        const { beginAtZero  } = this.options;\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let { min , max  } = this;\n        const setMin = (v)=>min = minDefined ? min : v;\n        const setMax = (v)=>max = maxDefined ? max : v;\n        if (beginAtZero) {\n            const minSign = sign(min);\n            const maxSign = sign(max);\n            if (minSign < 0 && maxSign < 0) {\n                setMax(0);\n            } else if (minSign > 0 && maxSign > 0) {\n                setMin(0);\n            }\n        }\n        if (min === max) {\n            let offset = max === 0 ? 1 : Math.abs(max * 0.05);\n            setMax(max + offset);\n            if (!beginAtZero) {\n                setMin(min - offset);\n            }\n        }\n        this.min = min;\n        this.max = max;\n    }\n    getTickLimit() {\n        const tickOpts = this.options.ticks;\n        let { maxTicksLimit , stepSize  } = tickOpts;\n        let maxTicks;\n        if (stepSize) {\n            maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n            if (maxTicks > 1000) {\n                console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n                maxTicks = 1000;\n            }\n        } else {\n            maxTicks = this.computeTickLimit();\n            maxTicksLimit = maxTicksLimit || 11;\n        }\n        if (maxTicksLimit) {\n            maxTicks = Math.min(maxTicksLimit, maxTicks);\n        }\n        return maxTicks;\n    }\n computeTickLimit() {\n        return Number.POSITIVE_INFINITY;\n    }\n    buildTicks() {\n        const opts = this.options;\n        const tickOpts = opts.ticks;\n        let maxTicks = this.getTickLimit();\n        maxTicks = Math.max(2, maxTicks);\n        const numericGeneratorOptions = {\n            maxTicks,\n            bounds: opts.bounds,\n            min: opts.min,\n            max: opts.max,\n            precision: tickOpts.precision,\n            step: tickOpts.stepSize,\n            count: tickOpts.count,\n            maxDigits: this._maxDigits(),\n            horizontal: this.isHorizontal(),\n            minRotation: tickOpts.minRotation || 0,\n            includeBounds: tickOpts.includeBounds !== false\n        };\n        const dataRange = this._range || this;\n        const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n        if (opts.bounds === 'ticks') {\n            _setMinAndMaxByKey(ticks, this, 'value');\n        }\n        if (opts.reverse) {\n            ticks.reverse();\n            this.start = this.max;\n            this.end = this.min;\n        } else {\n            this.start = this.min;\n            this.end = this.max;\n        }\n        return ticks;\n    }\n configure() {\n        const ticks = this.ticks;\n        let start = this.min;\n        let end = this.max;\n        super.configure();\n        if (this.options.offset && ticks.length) {\n            const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n            start -= offset;\n            end += offset;\n        }\n        this._startValue = start;\n        this._endValue = end;\n        this._valueRange = end - start;\n    }\n    getLabelForValue(value) {\n        return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n}\n\nclass LinearScale extends LinearScaleBase {\n    static id = 'linear';\n static defaults = {\n        ticks: {\n            callback: Ticks.formatters.numeric\n        }\n    };\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(true);\n        this.min = isNumberFinite(min) ? min : 0;\n        this.max = isNumberFinite(max) ? max : 1;\n        this.handleTickRangeOptions();\n    }\n computeTickLimit() {\n        const horizontal = this.isHorizontal();\n        const length = horizontal ? this.width : this.height;\n        const minRotation = toRadians(this.options.ticks.minRotation);\n        const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n        const tickFont = this._resolveTickFontOptions(0);\n        return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n    }\n    getPixelForValue(value) {\n        return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n    getValueForPixel(pixel) {\n        return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n    }\n}\n\nconst log10Floor = (v)=>Math.floor(log10(v));\nconst changeExponent = (v, m)=>Math.pow(10, log10Floor(v) + m);\nfunction isMajor(tickVal) {\n    const remain = tickVal / Math.pow(10, log10Floor(tickVal));\n    return remain === 1;\n}\nfunction steps(min, max, rangeExp) {\n    const rangeStep = Math.pow(10, rangeExp);\n    const start = Math.floor(min / rangeStep);\n    const end = Math.ceil(max / rangeStep);\n    return end - start;\n}\nfunction startExp(min, max) {\n    const range = max - min;\n    let rangeExp = log10Floor(range);\n    while(steps(min, max, rangeExp) > 10){\n        rangeExp++;\n    }\n    while(steps(min, max, rangeExp) < 10){\n        rangeExp--;\n    }\n    return Math.min(rangeExp, log10Floor(min));\n}\n function generateTicks(generationOptions, { min , max  }) {\n    min = finiteOrDefault(generationOptions.min, min);\n    const ticks = [];\n    const minExp = log10Floor(min);\n    let exp = startExp(min, max);\n    let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n    const stepSize = Math.pow(10, exp);\n    const base = minExp > exp ? Math.pow(10, minExp) : 0;\n    const start = Math.round((min - base) * precision) / precision;\n    const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;\n    let significand = Math.floor((start - offset) / Math.pow(10, exp));\n    let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);\n    while(value < max){\n        ticks.push({\n            value,\n            major: isMajor(value),\n            significand\n        });\n        if (significand >= 10) {\n            significand = significand < 15 ? 15 : 20;\n        } else {\n            significand++;\n        }\n        if (significand >= 20) {\n            exp++;\n            significand = 2;\n            precision = exp >= 0 ? 1 : precision;\n        }\n        value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;\n    }\n    const lastTick = finiteOrDefault(generationOptions.max, value);\n    ticks.push({\n        value: lastTick,\n        major: isMajor(lastTick),\n        significand\n    });\n    return ticks;\n}\nclass LogarithmicScale extends Scale {\n    static id = 'logarithmic';\n static defaults = {\n        ticks: {\n            callback: Ticks.formatters.logarithmic,\n            major: {\n                enabled: true\n            }\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this.start = undefined;\n         this.end = undefined;\n         this._startValue = undefined;\n        this._valueRange = 0;\n    }\n    parse(raw, index) {\n        const value = LinearScaleBase.prototype.parse.apply(this, [\n            raw,\n            index\n        ]);\n        if (value === 0) {\n            this._zero = true;\n            return undefined;\n        }\n        return isNumberFinite(value) && value > 0 ? value : null;\n    }\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(true);\n        this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n        this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n        if (this.options.beginAtZero) {\n            this._zero = true;\n        }\n        if (this._zero && this.min !== this._suggestedMin && !isNumberFinite(this._userMin)) {\n            this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);\n        }\n        this.handleTickRangeOptions();\n    }\n    handleTickRangeOptions() {\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let min = this.min;\n        let max = this.max;\n        const setMin = (v)=>min = minDefined ? min : v;\n        const setMax = (v)=>max = maxDefined ? max : v;\n        if (min === max) {\n            if (min <= 0) {\n                setMin(1);\n                setMax(10);\n            } else {\n                setMin(changeExponent(min, -1));\n                setMax(changeExponent(max, +1));\n            }\n        }\n        if (min <= 0) {\n            setMin(changeExponent(max, -1));\n        }\n        if (max <= 0) {\n            setMax(changeExponent(min, +1));\n        }\n        this.min = min;\n        this.max = max;\n    }\n    buildTicks() {\n        const opts = this.options;\n        const generationOptions = {\n            min: this._userMin,\n            max: this._userMax\n        };\n        const ticks = generateTicks(generationOptions, this);\n        if (opts.bounds === 'ticks') {\n            _setMinAndMaxByKey(ticks, this, 'value');\n        }\n        if (opts.reverse) {\n            ticks.reverse();\n            this.start = this.max;\n            this.end = this.min;\n        } else {\n            this.start = this.min;\n            this.end = this.max;\n        }\n        return ticks;\n    }\n getLabelForValue(value) {\n        return value === undefined ? '0' : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n configure() {\n        const start = this.min;\n        super.configure();\n        this._startValue = log10(start);\n        this._valueRange = log10(this.max) - log10(start);\n    }\n    getPixelForValue(value) {\n        if (value === undefined || value === 0) {\n            value = this.min;\n        }\n        if (value === null || isNaN(value)) {\n            return NaN;\n        }\n        return this.getPixelForDecimal(value === this.min ? 0 : (log10(value) - this._startValue) / this._valueRange);\n    }\n    getValueForPixel(pixel) {\n        const decimal = this.getDecimalForPixel(pixel);\n        return Math.pow(10, this._startValue + decimal * this._valueRange);\n    }\n}\n\nfunction getTickBackdropHeight(opts) {\n    const tickOpts = opts.ticks;\n    if (tickOpts.display && opts.display) {\n        const padding = toPadding(tickOpts.backdropPadding);\n        return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n    }\n    return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n    label = isArray(label) ? label : [\n        label\n    ];\n    return {\n        w: _longestText(ctx, font.string, label),\n        h: label.length * font.lineHeight\n    };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n    if (angle === min || angle === max) {\n        return {\n            start: pos - size / 2,\n            end: pos + size / 2\n        };\n    } else if (angle < min || angle > max) {\n        return {\n            start: pos - size,\n            end: pos\n        };\n    }\n    return {\n        start: pos,\n        end: pos + size\n    };\n}\n function fitWithPointLabels(scale) {\n    const orig = {\n        l: scale.left + scale._padding.left,\n        r: scale.right - scale._padding.right,\n        t: scale.top + scale._padding.top,\n        b: scale.bottom - scale._padding.bottom\n    };\n    const limits = Object.assign({}, orig);\n    const labelSizes = [];\n    const padding = [];\n    const valueCount = scale._pointLabels.length;\n    const pointLabelOpts = scale.options.pointLabels;\n    const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n    for(let i = 0; i < valueCount; i++){\n        const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n        padding[i] = opts.padding;\n        const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n        const plFont = toFont(opts.font);\n        const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n        labelSizes[i] = textSize;\n        const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n        const angle = Math.round(toDegrees(angleRadians));\n        const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n        const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n        updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n    }\n    scale.setCenterPoint(orig.l - limits.l, limits.r - orig.r, orig.t - limits.t, limits.b - orig.b);\n    scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n    const sin = Math.abs(Math.sin(angle));\n    const cos = Math.abs(Math.cos(angle));\n    let x = 0;\n    let y = 0;\n    if (hLimits.start < orig.l) {\n        x = (orig.l - hLimits.start) / sin;\n        limits.l = Math.min(limits.l, orig.l - x);\n    } else if (hLimits.end > orig.r) {\n        x = (hLimits.end - orig.r) / sin;\n        limits.r = Math.max(limits.r, orig.r + x);\n    }\n    if (vLimits.start < orig.t) {\n        y = (orig.t - vLimits.start) / cos;\n        limits.t = Math.min(limits.t, orig.t - y);\n    } else if (vLimits.end > orig.b) {\n        y = (vLimits.end - orig.b) / cos;\n        limits.b = Math.max(limits.b, orig.b + y);\n    }\n}\nfunction createPointLabelItem(scale, index, itemOpts) {\n    const outerDistance = scale.drawingArea;\n    const { extra , additionalAngle , padding , size  } = itemOpts;\n    const pointLabelPosition = scale.getPointPosition(index, outerDistance + extra + padding, additionalAngle);\n    const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    return {\n        visible: true,\n        x: pointLabelPosition.x,\n        y,\n        textAlign,\n        left,\n        top: y,\n        right: left + size.w,\n        bottom: y + size.h\n    };\n}\nfunction isNotOverlapped(item, area) {\n    if (!area) {\n        return true;\n    }\n    const { left , top , right , bottom  } = item;\n    const apexesInArea = _isPointInArea({\n        x: left,\n        y: top\n    }, area) || _isPointInArea({\n        x: left,\n        y: bottom\n    }, area) || _isPointInArea({\n        x: right,\n        y: top\n    }, area) || _isPointInArea({\n        x: right,\n        y: bottom\n    }, area);\n    return !apexesInArea;\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n    const items = [];\n    const valueCount = scale._pointLabels.length;\n    const opts = scale.options;\n    const { centerPointLabels , display  } = opts.pointLabels;\n    const itemOpts = {\n        extra: getTickBackdropHeight(opts) / 2,\n        additionalAngle: centerPointLabels ? PI / valueCount : 0\n    };\n    let area;\n    for(let i = 0; i < valueCount; i++){\n        itemOpts.padding = padding[i];\n        itemOpts.size = labelSizes[i];\n        const item = createPointLabelItem(scale, i, itemOpts);\n        items.push(item);\n        if (display === 'auto') {\n            item.visible = isNotOverlapped(item, area);\n            if (item.visible) {\n                area = item;\n            }\n        }\n    }\n    return items;\n}\nfunction getTextAlignForAngle(angle) {\n    if (angle === 0 || angle === 180) {\n        return 'center';\n    } else if (angle < 180) {\n        return 'left';\n    }\n    return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n    if (align === 'right') {\n        x -= w;\n    } else if (align === 'center') {\n        x -= w / 2;\n    }\n    return x;\n}\nfunction yForAngle(y, h, angle) {\n    if (angle === 90 || angle === 270) {\n        y -= h / 2;\n    } else if (angle > 270 || angle < 90) {\n        y -= h;\n    }\n    return y;\n}\nfunction drawPointLabelBox(ctx, opts, item) {\n    const { left , top , right , bottom  } = item;\n    const { backdropColor  } = opts;\n    if (!isNullOrUndef(backdropColor)) {\n        const borderRadius = toTRBLCorners(opts.borderRadius);\n        const padding = toPadding(opts.backdropPadding);\n        ctx.fillStyle = backdropColor;\n        const backdropLeft = left - padding.left;\n        const backdropTop = top - padding.top;\n        const backdropWidth = right - left + padding.width;\n        const backdropHeight = bottom - top + padding.height;\n        if (Object.values(borderRadius).some((v)=>v !== 0)) {\n            ctx.beginPath();\n            addRoundedRectPath(ctx, {\n                x: backdropLeft,\n                y: backdropTop,\n                w: backdropWidth,\n                h: backdropHeight,\n                radius: borderRadius\n            });\n            ctx.fill();\n        } else {\n            ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n        }\n    }\n}\nfunction drawPointLabels(scale, labelCount) {\n    const { ctx , options: { pointLabels  }  } = scale;\n    for(let i = labelCount - 1; i >= 0; i--){\n        const item = scale._pointLabelItems[i];\n        if (!item.visible) {\n            continue;\n        }\n        const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n        drawPointLabelBox(ctx, optsAtIndex, item);\n        const plFont = toFont(optsAtIndex.font);\n        const { x , y , textAlign  } = item;\n        renderText(ctx, scale._pointLabels[i], x, y + plFont.lineHeight / 2, plFont, {\n            color: optsAtIndex.color,\n            textAlign: textAlign,\n            textBaseline: 'middle'\n        });\n    }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n    const { ctx  } = scale;\n    if (circular) {\n        ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n    } else {\n        let pointPosition = scale.getPointPosition(0, radius);\n        ctx.moveTo(pointPosition.x, pointPosition.y);\n        for(let i = 1; i < labelCount; i++){\n            pointPosition = scale.getPointPosition(i, radius);\n            ctx.lineTo(pointPosition.x, pointPosition.y);\n        }\n    }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {\n    const ctx = scale.ctx;\n    const circular = gridLineOpts.circular;\n    const { color , lineWidth  } = gridLineOpts;\n    if (!circular && !labelCount || !color || !lineWidth || radius < 0) {\n        return;\n    }\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = lineWidth;\n    ctx.setLineDash(borderOpts.dash);\n    ctx.lineDashOffset = borderOpts.dashOffset;\n    ctx.beginPath();\n    pathRadiusLine(scale, radius, circular, labelCount);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.restore();\n}\nfunction createPointLabelContext(parent, index, label) {\n    return createContext(parent, {\n        label,\n        index,\n        type: 'pointLabel'\n    });\n}\nclass RadialLinearScale extends LinearScaleBase {\n    static id = 'radialLinear';\n static defaults = {\n        display: true,\n        animate: true,\n        position: 'chartArea',\n        angleLines: {\n            display: true,\n            lineWidth: 1,\n            borderDash: [],\n            borderDashOffset: 0.0\n        },\n        grid: {\n            circular: false\n        },\n        startAngle: 0,\n        ticks: {\n            showLabelBackdrop: true,\n            callback: Ticks.formatters.numeric\n        },\n        pointLabels: {\n            backdropColor: undefined,\n            backdropPadding: 2,\n            display: true,\n            font: {\n                size: 10\n            },\n            callback (label) {\n                return label;\n            },\n            padding: 5,\n            centerPointLabels: false\n        }\n    };\n    static defaultRoutes = {\n        'angleLines.color': 'borderColor',\n        'pointLabels.color': 'color',\n        'ticks.color': 'color'\n    };\n    static descriptors = {\n        angleLines: {\n            _fallback: 'grid'\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this.xCenter = undefined;\n         this.yCenter = undefined;\n         this.drawingArea = undefined;\n         this._pointLabels = [];\n        this._pointLabelItems = [];\n    }\n    setDimensions() {\n        const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n        const w = this.width = this.maxWidth - padding.width;\n        const h = this.height = this.maxHeight - padding.height;\n        this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n        this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n        this.drawingArea = Math.floor(Math.min(w, h) / 2);\n    }\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(false);\n        this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n        this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n        this.handleTickRangeOptions();\n    }\n computeTickLimit() {\n        return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n    }\n    generateTickLabels(ticks) {\n        LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n        this._pointLabels = this.getLabels().map((value, index)=>{\n            const label = callback(this.options.pointLabels.callback, [\n                value,\n                index\n            ], this);\n            return label || label === 0 ? label : '';\n        }).filter((v, i)=>this.chart.getDataVisibility(i));\n    }\n    fit() {\n        const opts = this.options;\n        if (opts.display && opts.pointLabels.display) {\n            fitWithPointLabels(this);\n        } else {\n            this.setCenterPoint(0, 0, 0, 0);\n        }\n    }\n    setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n        this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n        this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n        this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n    }\n    getIndexAngle(index) {\n        const angleMultiplier = TAU / (this._pointLabels.length || 1);\n        const startAngle = this.options.startAngle || 0;\n        return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n    }\n    getDistanceFromCenterForValue(value) {\n        if (isNullOrUndef(value)) {\n            return NaN;\n        }\n        const scalingFactor = this.drawingArea / (this.max - this.min);\n        if (this.options.reverse) {\n            return (this.max - value) * scalingFactor;\n        }\n        return (value - this.min) * scalingFactor;\n    }\n    getValueForDistanceFromCenter(distance) {\n        if (isNullOrUndef(distance)) {\n            return NaN;\n        }\n        const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n        return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n    }\n    getPointLabelContext(index) {\n        const pointLabels = this._pointLabels || [];\n        if (index >= 0 && index < pointLabels.length) {\n            const pointLabel = pointLabels[index];\n            return createPointLabelContext(this.getContext(), index, pointLabel);\n        }\n    }\n    getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n        const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n        return {\n            x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n            y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n            angle\n        };\n    }\n    getPointPositionForValue(index, value) {\n        return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n    }\n    getBasePosition(index) {\n        return this.getPointPositionForValue(index || 0, this.getBaseValue());\n    }\n    getPointLabelPosition(index) {\n        const { left , top , right , bottom  } = this._pointLabelItems[index];\n        return {\n            left,\n            top,\n            right,\n            bottom\n        };\n    }\n drawBackground() {\n        const { backgroundColor , grid: { circular  }  } = this.options;\n        if (backgroundColor) {\n            const ctx = this.ctx;\n            ctx.save();\n            ctx.beginPath();\n            pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n            ctx.closePath();\n            ctx.fillStyle = backgroundColor;\n            ctx.fill();\n            ctx.restore();\n        }\n    }\n drawGrid() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        const { angleLines , grid , border  } = opts;\n        const labelCount = this._pointLabels.length;\n        let i, offset, position;\n        if (opts.pointLabels.display) {\n            drawPointLabels(this, labelCount);\n        }\n        if (grid.display) {\n            this.ticks.forEach((tick, index)=>{\n                if (index !== 0 || index === 0 && this.min < 0) {\n                    offset = this.getDistanceFromCenterForValue(tick.value);\n                    const context = this.getContext(index);\n                    const optsAtIndex = grid.setContext(context);\n                    const optsAtIndexBorder = border.setContext(context);\n                    drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);\n                }\n            });\n        }\n        if (angleLines.display) {\n            ctx.save();\n            for(i = labelCount - 1; i >= 0; i--){\n                const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n                const { color , lineWidth  } = optsAtIndex;\n                if (!lineWidth || !color) {\n                    continue;\n                }\n                ctx.lineWidth = lineWidth;\n                ctx.strokeStyle = color;\n                ctx.setLineDash(optsAtIndex.borderDash);\n                ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n                offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n                position = this.getPointPosition(i, offset);\n                ctx.beginPath();\n                ctx.moveTo(this.xCenter, this.yCenter);\n                ctx.lineTo(position.x, position.y);\n                ctx.stroke();\n            }\n            ctx.restore();\n        }\n    }\n drawBorder() {}\n drawLabels() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        const tickOpts = opts.ticks;\n        if (!tickOpts.display) {\n            return;\n        }\n        const startAngle = this.getIndexAngle(0);\n        let offset, width;\n        ctx.save();\n        ctx.translate(this.xCenter, this.yCenter);\n        ctx.rotate(startAngle);\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        this.ticks.forEach((tick, index)=>{\n            if (index === 0 && this.min >= 0 && !opts.reverse) {\n                return;\n            }\n            const optsAtIndex = tickOpts.setContext(this.getContext(index));\n            const tickFont = toFont(optsAtIndex.font);\n            offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n            if (optsAtIndex.showLabelBackdrop) {\n                ctx.font = tickFont.string;\n                width = ctx.measureText(tick.label).width;\n                ctx.fillStyle = optsAtIndex.backdropColor;\n                const padding = toPadding(optsAtIndex.backdropPadding);\n                ctx.fillRect(-width / 2 - padding.left, -offset - tickFont.size / 2 - padding.top, width + padding.width, tickFont.size + padding.height);\n            }\n            renderText(ctx, tick.label, 0, -offset, tickFont, {\n                color: optsAtIndex.color,\n                strokeColor: optsAtIndex.textStrokeColor,\n                strokeWidth: optsAtIndex.textStrokeWidth\n            });\n        });\n        ctx.restore();\n    }\n drawTitle() {}\n}\n\nconst INTERVALS = {\n    millisecond: {\n        common: true,\n        size: 1,\n        steps: 1000\n    },\n    second: {\n        common: true,\n        size: 1000,\n        steps: 60\n    },\n    minute: {\n        common: true,\n        size: 60000,\n        steps: 60\n    },\n    hour: {\n        common: true,\n        size: 3600000,\n        steps: 24\n    },\n    day: {\n        common: true,\n        size: 86400000,\n        steps: 30\n    },\n    week: {\n        common: false,\n        size: 604800000,\n        steps: 4\n    },\n    month: {\n        common: true,\n        size: 2.628e9,\n        steps: 12\n    },\n    quarter: {\n        common: false,\n        size: 7.884e9,\n        steps: 4\n    },\n    year: {\n        common: true,\n        size: 3.154e10\n    }\n};\n const UNITS =  /* #__PURE__ */ Object.keys(INTERVALS);\n function sorter(a, b) {\n    return a - b;\n}\n function parse(scale, input) {\n    if (isNullOrUndef(input)) {\n        return null;\n    }\n    const adapter = scale._adapter;\n    const { parser , round , isoWeekday  } = scale._parseOpts;\n    let value = input;\n    if (typeof parser === 'function') {\n        value = parser(value);\n    }\n    if (!isNumberFinite(value)) {\n        value = typeof parser === 'string' ? adapter.parse(value,  parser) : adapter.parse(value);\n    }\n    if (value === null) {\n        return null;\n    }\n    if (round) {\n        value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true) ? adapter.startOf(value, 'isoWeek', isoWeekday) : adapter.startOf(value, round);\n    }\n    return +value;\n}\n function determineUnitForAutoTicks(minUnit, min, max, capacity) {\n    const ilen = UNITS.length;\n    for(let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i){\n        const interval = INTERVALS[UNITS[i]];\n        const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n        if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n            return UNITS[i];\n        }\n    }\n    return UNITS[ilen - 1];\n}\n function determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n    for(let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--){\n        const unit = UNITS[i];\n        if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n            return unit;\n        }\n    }\n    return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n function determineMajorUnit(unit) {\n    for(let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i){\n        if (INTERVALS[UNITS[i]].common) {\n            return UNITS[i];\n        }\n    }\n}\n function addTick(ticks, time, timestamps) {\n    if (!timestamps) {\n        ticks[time] = true;\n    } else if (timestamps.length) {\n        const { lo , hi  } = _lookup(timestamps, time);\n        const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n        ticks[timestamp] = true;\n    }\n}\n function setMajorTicks(scale, ticks, map, majorUnit) {\n    const adapter = scale._adapter;\n    const first = +adapter.startOf(ticks[0].value, majorUnit);\n    const last = ticks[ticks.length - 1].value;\n    let major, index;\n    for(major = first; major <= last; major = +adapter.add(major, 1, majorUnit)){\n        index = map[major];\n        if (index >= 0) {\n            ticks[index].major = true;\n        }\n    }\n    return ticks;\n}\n function ticksFromTimestamps(scale, values, majorUnit) {\n    const ticks = [];\n     const map = {};\n    const ilen = values.length;\n    let i, value;\n    for(i = 0; i < ilen; ++i){\n        value = values[i];\n        map[value] = i;\n        ticks.push({\n            value,\n            major: false\n        });\n    }\n    return ilen === 0 || !majorUnit ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n    static id = 'time';\n static defaults = {\n bounds: 'data',\n        adapters: {},\n        time: {\n            parser: false,\n            unit: false,\n            round: false,\n            isoWeekday: false,\n            minUnit: 'millisecond',\n            displayFormats: {}\n        },\n        ticks: {\n source: 'auto',\n            callback: false,\n            major: {\n                enabled: false\n            }\n        }\n    };\n constructor(props){\n        super(props);\n         this._cache = {\n            data: [],\n            labels: [],\n            all: []\n        };\n         this._unit = 'day';\n         this._majorUnit = undefined;\n        this._offsets = {};\n        this._normalized = false;\n        this._parseOpts = undefined;\n    }\n    init(scaleOpts, opts = {}) {\n        const time = scaleOpts.time || (scaleOpts.time = {});\n         const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n        adapter.init(opts);\n        mergeIf(time.displayFormats, adapter.formats());\n        this._parseOpts = {\n            parser: time.parser,\n            round: time.round,\n            isoWeekday: time.isoWeekday\n        };\n        super.init(scaleOpts);\n        this._normalized = opts.normalized;\n    }\n parse(raw, index) {\n        if (raw === undefined) {\n            return null;\n        }\n        return parse(this, raw);\n    }\n    beforeLayout() {\n        super.beforeLayout();\n        this._cache = {\n            data: [],\n            labels: [],\n            all: []\n        };\n    }\n    determineDataLimits() {\n        const options = this.options;\n        const adapter = this._adapter;\n        const unit = options.time.unit || 'day';\n        let { min , max , minDefined , maxDefined  } = this.getUserBounds();\n function _applyBounds(bounds) {\n            if (!minDefined && !isNaN(bounds.min)) {\n                min = Math.min(min, bounds.min);\n            }\n            if (!maxDefined && !isNaN(bounds.max)) {\n                max = Math.max(max, bounds.max);\n            }\n        }\n        if (!minDefined || !maxDefined) {\n            _applyBounds(this._getLabelBounds());\n            if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n                _applyBounds(this.getMinMax(false));\n            }\n        }\n        min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n        max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n        this.min = Math.min(min, max - 1);\n        this.max = Math.max(min + 1, max);\n    }\n _getLabelBounds() {\n        const arr = this.getLabelTimestamps();\n        let min = Number.POSITIVE_INFINITY;\n        let max = Number.NEGATIVE_INFINITY;\n        if (arr.length) {\n            min = arr[0];\n            max = arr[arr.length - 1];\n        }\n        return {\n            min,\n            max\n        };\n    }\n buildTicks() {\n        const options = this.options;\n        const timeOpts = options.time;\n        const tickOpts = options.ticks;\n        const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n        if (options.bounds === 'ticks' && timestamps.length) {\n            this.min = this._userMin || timestamps[0];\n            this.max = this._userMax || timestamps[timestamps.length - 1];\n        }\n        const min = this.min;\n        const max = this.max;\n        const ticks = _filterBetween(timestamps, min, max);\n        this._unit = timeOpts.unit || (tickOpts.autoSkip ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min)) : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n        this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined : determineMajorUnit(this._unit);\n        this.initOffsets(timestamps);\n        if (options.reverse) {\n            ticks.reverse();\n        }\n        return ticksFromTimestamps(this, ticks, this._majorUnit);\n    }\n    afterAutoSkip() {\n        if (this.options.offsetAfterAutoskip) {\n            this.initOffsets(this.ticks.map((tick)=>+tick.value));\n        }\n    }\n initOffsets(timestamps = []) {\n        let start = 0;\n        let end = 0;\n        let first, last;\n        if (this.options.offset && timestamps.length) {\n            first = this.getDecimalForValue(timestamps[0]);\n            if (timestamps.length === 1) {\n                start = 1 - first;\n            } else {\n                start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n            }\n            last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n            if (timestamps.length === 1) {\n                end = last;\n            } else {\n                end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n            }\n        }\n        const limit = timestamps.length < 3 ? 0.5 : 0.25;\n        start = _limitValue(start, 0, limit);\n        end = _limitValue(end, 0, limit);\n        this._offsets = {\n            start,\n            end,\n            factor: 1 / (start + 1 + end)\n        };\n    }\n _generate() {\n        const adapter = this._adapter;\n        const min = this.min;\n        const max = this.max;\n        const options = this.options;\n        const timeOpts = options.time;\n        const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n        const stepSize = valueOrDefault(options.ticks.stepSize, 1);\n        const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n        const hasWeekday = isNumber(weekday) || weekday === true;\n        const ticks = {};\n        let first = min;\n        let time, count;\n        if (hasWeekday) {\n            first = +adapter.startOf(first, 'isoWeek', weekday);\n        }\n        first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n        if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n            throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n        }\n        const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n        for(time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++){\n            addTick(ticks, time, timestamps);\n        }\n        if (time === max || options.bounds === 'ticks' || count === 1) {\n            addTick(ticks, time, timestamps);\n        }\n        return Object.keys(ticks).sort(sorter).map((x)=>+x);\n    }\n getLabelForValue(value) {\n        const adapter = this._adapter;\n        const timeOpts = this.options.time;\n        if (timeOpts.tooltipFormat) {\n            return adapter.format(value, timeOpts.tooltipFormat);\n        }\n        return adapter.format(value, timeOpts.displayFormats.datetime);\n    }\n format(value, format) {\n        const options = this.options;\n        const formats = options.time.displayFormats;\n        const unit = this._unit;\n        const fmt = format || formats[unit];\n        return this._adapter.format(value, fmt);\n    }\n _tickFormatFunction(time, index, ticks, format) {\n        const options = this.options;\n        const formatter = options.ticks.callback;\n        if (formatter) {\n            return callback(formatter, [\n                time,\n                index,\n                ticks\n            ], this);\n        }\n        const formats = options.time.displayFormats;\n        const unit = this._unit;\n        const majorUnit = this._majorUnit;\n        const minorFormat = unit && formats[unit];\n        const majorFormat = majorUnit && formats[majorUnit];\n        const tick = ticks[index];\n        const major = majorUnit && majorFormat && tick && tick.major;\n        return this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    }\n generateTickLabels(ticks) {\n        let i, ilen, tick;\n        for(i = 0, ilen = ticks.length; i < ilen; ++i){\n            tick = ticks[i];\n            tick.label = this._tickFormatFunction(tick.value, i, ticks);\n        }\n    }\n getDecimalForValue(value) {\n        return value === null ? NaN : (value - this.min) / (this.max - this.min);\n    }\n getPixelForValue(value) {\n        const offsets = this._offsets;\n        const pos = this.getDecimalForValue(value);\n        return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n    }\n getValueForPixel(pixel) {\n        const offsets = this._offsets;\n        const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n        return this.min + pos * (this.max - this.min);\n    }\n _getLabelSize(label) {\n        const ticksOpts = this.options.ticks;\n        const tickLabelWidth = this.ctx.measureText(label).width;\n        const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n        const cosRotation = Math.cos(angle);\n        const sinRotation = Math.sin(angle);\n        const tickFontSize = this._resolveTickFontOptions(0).size;\n        return {\n            w: tickLabelWidth * cosRotation + tickFontSize * sinRotation,\n            h: tickLabelWidth * sinRotation + tickFontSize * cosRotation\n        };\n    }\n _getLabelCapacity(exampleTime) {\n        const timeOpts = this.options.time;\n        const displayFormats = timeOpts.displayFormats;\n        const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n        const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [\n            exampleTime\n        ], this._majorUnit), format);\n        const size = this._getLabelSize(exampleLabel);\n        const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n        return capacity > 0 ? capacity : 1;\n    }\n getDataTimestamps() {\n        let timestamps = this._cache.data || [];\n        let i, ilen;\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const metas = this.getMatchingVisibleMetas();\n        if (this._normalized && metas.length) {\n            return this._cache.data = metas[0].controller.getAllParsedValues(this);\n        }\n        for(i = 0, ilen = metas.length; i < ilen; ++i){\n            timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n        }\n        return this._cache.data = this.normalize(timestamps);\n    }\n getLabelTimestamps() {\n        const timestamps = this._cache.labels || [];\n        let i, ilen;\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const labels = this.getLabels();\n        for(i = 0, ilen = labels.length; i < ilen; ++i){\n            timestamps.push(parse(this, labels[i]));\n        }\n        return this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps);\n    }\n normalize(values) {\n        return _arrayUnique(values.sort(sorter));\n    }\n}\n\nfunction interpolate(table, val, reverse) {\n    let lo = 0;\n    let hi = table.length - 1;\n    let prevSource, nextSource, prevTarget, nextTarget;\n    if (reverse) {\n        if (val >= table[lo].pos && val <= table[hi].pos) {\n            ({ lo , hi  } = _lookupByKey(table, 'pos', val));\n        }\n        ({ pos: prevSource , time: prevTarget  } = table[lo]);\n        ({ pos: nextSource , time: nextTarget  } = table[hi]);\n    } else {\n        if (val >= table[lo].time && val <= table[hi].time) {\n            ({ lo , hi  } = _lookupByKey(table, 'time', val));\n        }\n        ({ time: prevSource , pos: prevTarget  } = table[lo]);\n        ({ time: nextSource , pos: nextTarget  } = table[hi]);\n    }\n    const span = nextSource - prevSource;\n    return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n    static id = 'timeseries';\n static defaults = TimeScale.defaults;\n constructor(props){\n        super(props);\n         this._table = [];\n         this._minPos = undefined;\n         this._tableRange = undefined;\n    }\n initOffsets() {\n        const timestamps = this._getTimestampsForTable();\n        const table = this._table = this.buildLookupTable(timestamps);\n        this._minPos = interpolate(table, this.min);\n        this._tableRange = interpolate(table, this.max) - this._minPos;\n        super.initOffsets(timestamps);\n    }\n buildLookupTable(timestamps) {\n        const { min , max  } = this;\n        const items = [];\n        const table = [];\n        let i, ilen, prev, curr, next;\n        for(i = 0, ilen = timestamps.length; i < ilen; ++i){\n            curr = timestamps[i];\n            if (curr >= min && curr <= max) {\n                items.push(curr);\n            }\n        }\n        if (items.length < 2) {\n            return [\n                {\n                    time: min,\n                    pos: 0\n                },\n                {\n                    time: max,\n                    pos: 1\n                }\n            ];\n        }\n        for(i = 0, ilen = items.length; i < ilen; ++i){\n            next = items[i + 1];\n            prev = items[i - 1];\n            curr = items[i];\n            if (Math.round((next + prev) / 2) !== curr) {\n                table.push({\n                    time: curr,\n                    pos: i / (ilen - 1)\n                });\n            }\n        }\n        return table;\n    }\n _generate() {\n        const min = this.min;\n        const max = this.max;\n        let timestamps = super.getDataTimestamps();\n        if (!timestamps.includes(min) || !timestamps.length) {\n            timestamps.splice(0, 0, min);\n        }\n        if (!timestamps.includes(max) || timestamps.length === 1) {\n            timestamps.push(max);\n        }\n        return timestamps.sort((a, b)=>a - b);\n    }\n _getTimestampsForTable() {\n        let timestamps = this._cache.all || [];\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const data = this.getDataTimestamps();\n        const label = this.getLabelTimestamps();\n        if (data.length && label.length) {\n            timestamps = this.normalize(data.concat(label));\n        } else {\n            timestamps = data.length ? data : label;\n        }\n        timestamps = this._cache.all = timestamps;\n        return timestamps;\n    }\n getDecimalForValue(value) {\n        return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n    }\n getValueForPixel(pixel) {\n        const offsets = this._offsets;\n        const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n        return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n    }\n}\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n    controllers,\n    elements,\n    plugins,\n    scales\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, plugin_colors as Colors, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, index as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, defaults, elements, layouts, plugins, registerables, registry, scales };\n//# sourceMappingURL=chart.js.map\n","import {Chart, registerables} from '../dist/chart.js';\n\nChart.register(...registerables);\n\nexport * from '../dist/chart.js';\nexport default Chart;\n","export const palettes = {\n  dark: {\n    tooltipBg: \"#101017f8\",\n    tooltipFg: \"#9aa5ce\",\n    tooltipBorder: \"#24283b\",\n    pbLabelBg: \"#15161e\",\n    pbLabelFg: \"#565f89\",\n    pbLine: \"#565f89\",\n    accLabel: \"#bb9af7aa\",\n    accTick: \"#bb9af788\",\n    accLine: \"#bb9af788\",\n    wpmLabel: \"#73dacabb\",\n    wpmTick: \"#73daca99\",\n    wpmLine: \"#2c524c\",\n    avgLine: \"#73daca\",\n    mainLabel: \"#565f89\",\n    mainTick: \"#565f89dd\",\n    grid: \"#272c3f66\",\n    ok: \"#9ece6a\",\n    warning: \"#e0af68\",\n    error: \"#f7768e\",\n  },\n  light: {\n    tooltipBg: \"#e3e4e8f8\",\n    tooltipFg: \"#343b58\",\n    tooltipBorder: \"#adb2c2\",\n    pbLabelBg: \"#d5d6db\",\n    pbLabelFg: \"#343b58\",\n    pbLine: \"#565f89\",\n    accLabel: \"#39275c\",\n    accTick: \"#39275c\",\n    accLine: \"#39275c\",\n    wpmLabel: \"#0f4b6e\",\n    wpmTick: \"#0f4b6e\",\n    wpmLine: \"#6d9c95\",\n    avgLine: \"#33635c\",\n    mainLabel: \"#343b58dd\",\n    mainTick: \"#343b58\",\n    grid: \"#9699a388\",\n    ok: \"#638242\",\n    warning: \"#925800\",\n    error: \"#940d26\",\n  },\n}\n","import Chart, { type ChartConfiguration } from \"chart.js/auto\"\nimport { getAccuracyThreshold } from \"../../../../actions/getAccuracyThreshold\"\nimport config from \"../../../../config\"\nimport type { Dataset } from \"../../../../types/common\"\nimport { formatNum } from \"../../../../utils/formatters\"\nimport { calculateWeightedAverage } from \"../../../../utils/math\"\nimport { palettes } from \"./chart-palettes.ts\"\n\nconst sizes = {\n  fontTick: config.IS_MOBILE ? 10 : 13,\n  fontLabel: config.IS_MOBILE ? 11 : 14,\n  pointRadius: config.IS_MOBILE ? 5 : 3,\n  pointRadiusSmall: config.IS_MOBILE ? 2 : 2,\n}\n\nconst fonts = {\n  labels: \"'Open Sans', sans-serif\",\n  ticks: \"'Recursive Linear', monospace\",\n}\n\nexport class StatsChart {\n  #ctx: CanvasRenderingContext2D\n  #dataLabel: string\n  #tooltipLabel: string | undefined\n  #chart: Chart | null = null\n  #darkmode = true\n  #movingAverage = true\n  #wpmPB = 0\n  #data: {\n    wpm: Dataset\n    acc: Dataset\n    con: Dataset\n    labels: (number | string)[]\n  } = {\n    wpm: [],\n    acc: [],\n    con: [],\n    labels: [],\n  }\n\n  constructor(\n    ctx: CanvasRenderingContext2D,\n    dataLabel: string,\n    tooltipLabel?: string,\n  ) {\n    this.#ctx = ctx\n    this.#dataLabel = dataLabel\n    this.#tooltipLabel = tooltipLabel\n  }\n\n  #prepareConfig(\n    darkmode: boolean,\n    labels: (number | string)[],\n    avg: number[],\n    wpm: number[],\n    acc: number[],\n    con: number[],\n  ): ChartConfiguration {\n    const paletteName = darkmode ? \"dark\" : \"light\"\n    const colors = palettes[paletteName as keyof typeof palettes]\n    const drawPB = {\n      id: \"draw-pb\",\n      afterDatasetsDraw: (chart: Chart) => {\n        const wpmPB = this.#wpmPB\n        if (config.IS_MOBILE || wpmPB === 0) {\n          return\n        }\n\n        const ctx = chart.ctx\n\n        const meta = chart.getDatasetMeta(2)\n\n        ctx.textBaseline = \"middle\"\n        ctx.textAlign = \"center\"\n        ctx.font = fonts.labels\n\n        const text = `PB: ${wpmPB.toFixed(2)}`\n        const padding = 4\n        const { width } = ctx.measureText(text)\n\n        ctx.fillStyle = colors.pbLabelBg\n        const labelWidth = width + padding * 2\n        const labelHeight = 24\n        ctx.fillRect(\n          ctx.canvas.width / 2 - labelWidth / 2,\n          meta.data[0].y - labelHeight / 2,\n          labelWidth,\n          labelHeight,\n        )\n\n        ctx.fillStyle = colors.pbLabelFg\n        ctx.fillText(text, ctx.canvas.width / 2, meta.data[0].y)\n      },\n    }\n\n    return {\n      type: \"line\",\n      data: {\n        labels,\n        datasets: [\n          {\n            label: \"AVG\",\n            data: avg,\n            borderColor: colors.avgLine,\n            pointBackgroundColor: colors.avgLine,\n            borderWidth: 4,\n            yAxisID: \"y1\",\n            // @ts-ignore\n            lineTension: 0.4,\n            pointRadius: 0,\n          },\n          {\n            label: \"WPM\",\n            data: wpm,\n            borderColor: colors.wpmLine,\n            pointBackgroundColor: colors.wpmLine,\n            borderWidth: 3,\n            yAxisID: \"y1\",\n            // @ts-ignore\n            lineTension: 0.4,\n            pointRadius: 0,\n          },\n          {\n            label: \"PB WPM\",\n            data: new Array(labels.length).fill(this.#wpmPB),\n            borderColor: colors.pbLine,\n            yAxisID: \"y1\",\n            borderWidth: 1,\n            pointRadius: 0,\n            borderDash: [2, 2],\n            hoverRadius: 0,\n          },\n          {\n            label: \"CON\",\n            data: con,\n            borderColor: colors.accLine,\n            pointBackgroundColor: colors.accLine,\n            borderWidth: 1,\n            yAxisID: \"y2\",\n            // @ts-ignore\n            lineTension: 0.4,\n            pointRadius: 0,\n            borderDash: [3, 3],\n          },\n          {\n            label: \"ACC\",\n            data: acc,\n            borderColor: colors.accLine,\n            borderWidth: 1,\n            pointRadius: sizes.pointRadius,\n            pointBorderWidth: 0,\n            yAxisID: \"y2\",\n            // @ts-ignore\n            lineTension: 0.4,\n            pointBackgroundColor: (context: any) => {\n              const index = context.dataIndex\n              const value = context.dataset.data[index]\n              return colors[getAccuracyThreshold(value / 100)]\n            },\n          },\n        ],\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        interaction: {\n          intersect: false,\n          mode: \"index\",\n        },\n        plugins: {\n          legend: {\n            display: false,\n          },\n          tooltip: {\n            callbacks: {\n              // @ts-ignore\n              label: (context) => {\n                const label = context.dataset.label\n                const isPercent = label === \"ACC\" || label === \"CON\"\n                const rawVal = context.parsed.y\n\n                if (!label || !rawVal || label === \"PB WPM\") {\n                  return false\n                }\n\n                const val = formatNum(context.parsed.y, 1)\n\n                return ` ${label}: ${val}${isPercent ? \"%\" : \"\"}`\n              },\n              title: (context: any) => {\n                const label = context?.[0]?.label ?? \"\"\n\n                const prefix = this.#movingAverage\n                  ? `At ${\n                      this.#tooltipLabel\n                        ? this.#tooltipLabel.toLowerCase() + \" \"\n                        : \"\"\n                    }`\n                  : this.#tooltipLabel\n                    ? this.#tooltipLabel + \" \"\n                    : \"\"\n                return `${prefix}${label}`\n              },\n            },\n            usePointStyle: true,\n            backgroundColor: colors.tooltipBg,\n            bodyFont: {\n              family: \"Recursive Linear\",\n              size: sizes.fontLabel,\n            },\n            titleFont: {\n              family: \"Recursive Linear\",\n              size: sizes.fontLabel,\n            },\n            bodyColor: colors.tooltipFg,\n            titleColor: colors.tooltipFg,\n            titleMarginBottom: 12,\n            borderWidth: 1,\n            borderColor: colors.tooltipBorder,\n            bodySpacing: 8,\n            padding: 12,\n            multiKeyBackground: \"transparent\",\n          },\n        },\n        scales: {\n          y1: {\n            type: \"linear\",\n            display: true,\n            position: \"right\",\n            beginAtZero: true,\n            title: {\n              display: true,\n              text: \"WPM  +  AVERAGE WPM\",\n              color: colors.wpmLabel,\n              font: {\n                family: fonts.labels,\n                size: sizes.fontLabel,\n                weight: 600,\n              },\n            },\n            ticks: {\n              color: colors.wpmTick,\n              font: {\n                family: fonts.ticks,\n                size: sizes.fontTick,\n              },\n            },\n            grid: {\n              color: colors.grid,\n            },\n          },\n          y2: {\n            type: \"linear\",\n            display: true,\n            position: \"left\",\n            reverse: true,\n            beginAtZero: true,\n            title: {\n              display: true,\n              text: \"ACCURACY  +  CONSISTENCY\",\n              color: colors.accLabel,\n              font: {\n                family: fonts.labels,\n                size: sizes.fontLabel,\n              },\n            },\n            ticks: {\n              color: colors.accTick,\n              font: {\n                family: fonts.ticks,\n                size: sizes.fontTick,\n              },\n              callback: (value) => value + \"%\",\n            },\n            grid: {\n              display: false,\n            },\n          },\n          x: {\n            title: {\n              display: true,\n              text: this.#dataLabel,\n              color: colors.mainLabel,\n              font: {\n                family: fonts.labels,\n                size: sizes.fontLabel,\n                weight: 600,\n              },\n            },\n            ticks: {\n              color: colors.mainTick,\n              font: {\n                family: fonts.ticks,\n                size: sizes.fontTick,\n              },\n            },\n            grid: {\n              color: colors.grid,\n            },\n          },\n        },\n      },\n      plugins: [drawPB],\n    }\n  }\n\n  #prepareData(data: {\n    wpm: Dataset\n    acc: Dataset\n    con: Dataset\n    labels: (number | string)[]\n  }) {\n    const labels = data.labels\n    const avg = this.#prepareMovingAverageStat(data.wpm)\n    const wpm = data.wpm.map((x) => x.value)\n    const acc = data.acc.map((x) => x.value * 100)\n    const con = data.con.map((x) => x.value * 100)\n\n    if (labels.length === 1) {\n      return {\n        labels: new Array(2).fill(labels[0]),\n        avg: new Array(2).fill(avg[0]),\n        wpm: new Array(2).fill(wpm[0]),\n        acc: new Array(2).fill(acc[0]),\n        con: new Array(2).fill(con[0]),\n      }\n    }\n\n    return { labels, avg, wpm, acc, con }\n  }\n\n  #prepareMovingAverageStat(dataset: Dataset) {\n    const values = dataset.map((x) => x.value)\n    const weights = dataset.map((x) => x.weight ?? 0)\n\n    const movingAverage = new Array(dataset.length)\n\n    for (let i = 0; i < dataset.length; i++) {\n      movingAverage[i] = calculateWeightedAverage(\n        values.slice(0, i + 1),\n        weights.slice(0, i + 1),\n      )\n    }\n\n    return movingAverage\n  }\n\n  toggleDarkmode(darkmode: boolean) {\n    if (this.#darkmode === darkmode) {\n      return\n    }\n\n    this.#darkmode = darkmode\n\n    this.#reload()\n  }\n\n  update(\n    data: {\n      wpm: Dataset\n      acc: Dataset\n      con: Dataset\n      labels: (number | string)[]\n    },\n    dataLabel: string,\n    tooltipLabel: string,\n    wpmPB: number,\n  ) {\n    this.#data = data\n    this.#dataLabel = dataLabel\n    this.#tooltipLabel = tooltipLabel\n    this.#wpmPB = wpmPB\n    this.#reload()\n  }\n\n  #reload() {\n    if (!this.#chart) {\n      return\n    }\n\n    const { avg, wpm, acc, con, labels } = this.#prepareData(this.#data)\n\n    const config = this.#prepareConfig(\n      this.#darkmode,\n      labels,\n      avg,\n      wpm,\n      acc,\n      con,\n    )\n\n    this.#chart.data.datasets = config.data.datasets\n    this.#chart.data.labels = config.data.labels\n    // @ts-ignore\n    this.#chart.options = config.options\n\n    this.#chart.update()\n  }\n\n  load(\n    darkmode: boolean,\n    wpmPB: number,\n    data: {\n      wpm: Dataset\n      acc: Dataset\n      con: Dataset\n      labels: (number | string)[]\n    },\n    movingAverage: boolean,\n  ) {\n    this.#wpmPB = wpmPB\n    this.#data = data\n    this.#darkmode = darkmode\n    this.#movingAverage = movingAverage\n\n    const { avg, wpm, acc, con, labels } = this.#prepareData(data)\n\n    this.#chart = new Chart(\n      this.#ctx,\n      this.#prepareConfig(darkmode, labels, avg, wpm, acc, con),\n    )\n  }\n\n  destroy() {\n    this.#chart?.destroy()\n  }\n}\n","import Chart, { type ChartConfiguration } from \"chart.js/auto\"\nimport config from \"../../../../config\"\nimport type { SimpleDataset } from \"../../../../types/common\"\nimport { formatNum } from \"../../../../utils/formatters\"\nimport { palettes } from \"./chart-palettes.ts\"\n\nconst sizes = {\n  fontTick: config.IS_MOBILE ? 10 : 13,\n  fontLabel: config.IS_MOBILE ? 11 : 14,\n  pointRadius: config.IS_MOBILE ? 5 : 3,\n  pointRadiusSmall: config.IS_MOBILE ? 2 : 2,\n}\n\nconst fonts = {\n  labels: \"'Open Sans', sans-serif\",\n  ticks: \"'Recursive Linear', monospace\",\n}\n\nexport class ActivityChart {\n  #ctx: CanvasRenderingContext2D\n  #dataLabel: string\n  #chart: Chart | null = null\n  #darkmode = true\n  #data: {\n    len: SimpleDataset\n    time: SimpleDataset\n    labels: (number | string)[]\n  } = {\n    len: [],\n    time: [],\n    labels: [],\n  }\n\n  constructor(ctx: CanvasRenderingContext2D, dataLabel: string) {\n    this.#ctx = ctx\n    this.#dataLabel = dataLabel\n  }\n\n  #prepareConfig(\n    darkmode: boolean,\n    labels: (number | string)[],\n    len: number[],\n    time: number[],\n  ): ChartConfiguration {\n    const paletteName = darkmode ? \"dark\" : \"light\"\n    const colors = palettes[paletteName as keyof typeof palettes]\n\n    return {\n      type: \"bar\",\n      data: {\n        labels,\n        datasets: [\n          {\n            label: \"TIME\",\n            data: time.map((x) => x / (1000 * 60)),\n            // borderColor: colors.accLine,\n            backgroundColor: colors.accLine,\n            borderWidth: 2,\n            yAxisID: \"y2\",\n            barThickness: \"flex\",\n          },\n          {\n            label: \"WORDS\",\n            data: len.map((x) => x / 5),\n            // borderColor: colors.avgLine,\n            backgroundColor: colors.avgLine,\n            pointBackgroundColor: colors.avgLine,\n            borderWidth: 2,\n            yAxisID: \"y1\",\n            pointRadius: 0,\n            barThickness: \"flex\",\n          },\n        ],\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        interaction: {\n          intersect: false,\n          mode: \"index\",\n        },\n        plugins: {\n          legend: {\n            display: false,\n          },\n          tooltip: {\n            callbacks: {\n              // @ts-ignore\n              label: (context) => {\n                const label = context.dataset.label\n                const isTime = label === \"TIME\"\n                const rawVal = context.parsed.y\n\n                if (!label || !rawVal || label === \"PB WPM\") {\n                  return false\n                }\n\n                const val = formatNum(context.parsed.y, 0)\n\n                return ` ${label}: ${val}${isTime ? \" min\" : \"\"}`\n              },\n              title: (context: any) => {\n                const label = context?.[0]?.label ?? \"\"\n                return `At ${label}`\n              },\n            },\n            usePointStyle: true,\n            backgroundColor: colors.tooltipBg,\n            bodyFont: {\n              family: \"Recursive Linear\",\n              size: sizes.fontLabel,\n            },\n            titleFont: {\n              family: \"Recursive Linear\",\n              size: sizes.fontLabel,\n            },\n            bodyColor: colors.tooltipFg,\n            titleColor: colors.tooltipFg,\n            titleMarginBottom: 12,\n            borderWidth: 1,\n            borderColor: colors.tooltipBorder,\n            bodySpacing: 8,\n            padding: 12,\n            multiKeyBackground: \"transparent\",\n          },\n        },\n        scales: {\n          y1: {\n            type: \"linear\",\n            display: true,\n            position: \"right\",\n            beginAtZero: true,\n            title: {\n              display: true,\n              text: \"WORDS TYPED\",\n              color: colors.wpmLabel,\n              font: {\n                family: fonts.labels,\n                size: sizes.fontLabel,\n                weight: 600,\n              },\n            },\n            ticks: {\n              color: colors.wpmTick,\n              font: {\n                family: fonts.ticks,\n                size: sizes.fontTick,\n              },\n            },\n            grid: {\n              color: colors.grid,\n            },\n          },\n          y2: {\n            type: \"linear\",\n            display: true,\n            position: \"left\",\n            reverse: false,\n            beginAtZero: true,\n            title: {\n              display: true,\n              text: \"TYPING TIME\",\n              color: colors.accLabel,\n              font: {\n                family: fonts.labels,\n                size: sizes.fontLabel,\n              },\n            },\n            ticks: {\n              color: colors.accTick,\n              font: {\n                family: fonts.ticks,\n                size: sizes.fontTick,\n              },\n              callback: (value) => value + \" min\",\n            },\n            grid: {\n              display: false,\n            },\n          },\n          x: {\n            title: {\n              display: true,\n              text: this.#dataLabel,\n              color: colors.mainLabel,\n              font: {\n                family: fonts.labels,\n                size: sizes.fontLabel,\n                weight: 600,\n              },\n            },\n            ticks: {\n              color: colors.mainTick,\n              font: {\n                family: fonts.ticks,\n                size: sizes.fontTick,\n              },\n            },\n            grid: {\n              color: colors.grid,\n            },\n          },\n        },\n      },\n    }\n  }\n\n  #prepareData(data: {\n    len: SimpleDataset\n    time: SimpleDataset\n    labels: (number | string)[]\n  }) {\n    return { labels: data.labels, len: data.len, time: data.time }\n  }\n\n  toggleDarkmode(darkmode: boolean) {\n    if (this.#darkmode === darkmode) {\n      return\n    }\n\n    this.#darkmode = darkmode\n\n    this.#reload()\n  }\n\n  update(\n    data: {\n      len: SimpleDataset\n      time: SimpleDataset\n      labels: (number | string)[]\n    },\n    dataLabel: string,\n    _: any, // ignore third argument\n    __: any, // ignore fourth argument\n  ) {\n    this.#data = data\n    this.#dataLabel = dataLabel\n    this.#reload()\n  }\n\n  #reload() {\n    if (!this.#chart) {\n      return\n    }\n\n    const { len, time, labels } = this.#prepareData(this.#data)\n\n    const config = this.#prepareConfig(this.#darkmode, labels, len, time)\n\n    this.#chart.data.datasets = config.data.datasets\n    this.#chart.data.labels = config.data.labels\n    // @ts-ignore\n    this.#chart.options = config.options\n\n    this.#chart.update()\n  }\n\n  load(\n    darkmode: boolean,\n    data: {\n      len: SimpleDataset\n      time: SimpleDataset\n      labels: (number | string)[]\n    },\n  ) {\n    this.#data = data\n    this.#darkmode = darkmode\n\n    const { len, time, labels } = this.#prepareData(data)\n\n    this.#chart = new Chart(\n      this.#ctx,\n      this.#prepareConfig(darkmode, labels, len, time),\n    )\n  }\n\n  destroy() {\n    this.#chart?.destroy()\n  }\n}\n","import { type Component, createEffect, onCleanup, onMount, on } from \"solid-js\"\nimport state from \"../../../state/state\"\nimport type { Dataset, SimpleDataset } from \"../../../types/common\"\nimport \"./Chart.css\"\nimport { StatsChart } from \"./results-util/StatsChart\"\nimport { ActivityChart } from \"./results-util/ActivityChart\"\n\ntype StatsData = {\n  wpm: Dataset\n  acc: Dataset\n  con: Dataset\n  labels: (number | string)[]\n}\n\ntype ActivityData = {\n  len: SimpleDataset\n  time: SimpleDataset\n  labels: (number | string)[]\n}\n\ntype Props = {\n  type?: \"activity\" | \"stats\"\n  data: StatsData | ActivityData\n  wpmPB: number\n  dataLabel: string\n  tooltipLabel?: string\n}\n\nconst Chart: Component<Props> = (props) => {\n  let canvasRef: HTMLCanvasElement | undefined\n  let chart: StatsChart | ActivityChart\n\n  onMount(() => {\n    const ctx = canvasRef?.getContext(\"2d\")\n\n    if (ctx) {\n      if (props.type === \"activity\") {\n        chart = new ActivityChart(ctx, props.dataLabel)\n        chart.load(state.get.settings.ui.darkmode, props.data as ActivityData)\n      } else {\n        chart = new StatsChart(ctx, props.dataLabel, props.tooltipLabel)\n        chart.load(\n          state.get.settings.ui.darkmode,\n          props.wpmPB,\n          props.data as StatsData,\n          true,\n        )\n      }\n    }\n  })\n\n  createEffect(\n    on(\n      () => props.data,\n      () => {\n        chart.update(\n          props.data as any,\n          props.dataLabel,\n          props.tooltipLabel,\n          props.wpmPB,\n        )\n      },\n      { defer: true },\n    ),\n  )\n\n  onCleanup(() => {\n    if (chart) {\n      chart.destroy()\n    }\n  })\n\n  createEffect(() => {\n    if (chart) {\n      chart.toggleDarkmode(state.get.settings.ui.darkmode)\n    }\n  })\n\n  return (\n    <div class=\"chart\">\n      <canvas ref={canvasRef}></canvas>\n    </div>\n  )\n}\n\nexport default Chart\n","export function randomInt(min: number, max: number) {\n  return Math.floor(Math.random() * (max - min) + min)\n}\n\nexport function randomFloat(min: number, max: number) {\n  return Math.random() * (max - min) + min\n}\n\nexport function randomElement<T>(arr: T[]) {\n  return arr[randomInt(0, arr.length)]\n}\n","export type Point = [x: number, y: number]\nexport type Scale = [scaleX: number, scaleY: number]\nexport type Skew = [skewX: number, skewY: number]\n\nexport type Transformations = {\n  x: number\n  y: number\n  originX: number\n  originY: number\n  rotation: number\n  scaleX: number\n  scaleY: number\n  skewX: number\n  skewY: number\n  zIndex: number\n}\n\nabstract class CanvasElement {\n  protected _x = 0\n  protected _y = 0\n  protected _originX = 0\n  protected _originY = 0\n  protected _name\n  protected _rotation = 0\n  protected _scaleX = 1\n  protected _scaleY = 1\n  protected _skewX = 0\n  protected _skewY = 0\n  protected _zIndex = 0\n\n  constructor(name?: string) {\n    this._name = name\n  }\n\n  position(x: number, y: number): this\n  position(xy: number): this\n  position(): Point\n  position(a?: number, b?: number): this | Point {\n    if (a === undefined) {\n      return [this._x, this._y]\n    }\n\n    if (b === undefined) {\n      this._x = a\n      this._y = a\n    } else {\n      this._x = a\n      this._y = b\n    }\n\n    return this\n  }\n\n  origin(x: number, y: number): this\n  origin(xy: number): this\n  origin(): Point\n  origin(a?: number, b?: number): this | Point {\n    if (a === undefined) {\n      return [this._originX, this._originY]\n    }\n\n    if (b === undefined) {\n      this._originX = a\n      this._originY = a\n    } else {\n      this._originX = a\n      this._originY = b\n    }\n\n    return this\n  }\n\n  get name() {\n    return this._name\n  }\n\n  get x() {\n    return this._x\n  }\n\n  get y() {\n    return this._y\n  }\n\n  move(x: number, y: number): this\n  move(xy: number): this\n  move(a: number, b?: number) {\n    if (b === undefined) {\n      this._x += a\n      this._y += a\n    } else {\n      this._x += a\n      this._y += b\n    }\n\n    return this\n  }\n\n  rotation(radians: number): this\n  rotation(): number\n  rotation(radians?: number): this | number {\n    if (radians === undefined) {\n      return this._rotation\n    }\n\n    this._rotation = radians\n    return this\n  }\n\n  angle(degrees: number): this\n  angle(): number\n  angle(degrees?: number): this | number {\n    if (degrees === undefined) {\n      return this._rotation * (180 / Math.PI)\n    }\n\n    this._rotation = degrees * (Math.PI / 180)\n    return this\n  }\n\n  scale(scaleXY: number): this\n  scale(scaleX: number, scaleY: number): this\n  scale(): Scale\n  scale(a?: number, b?: number): this | Scale {\n    if (a === undefined) {\n      return [this._scaleX, this._scaleY]\n    }\n\n    if (b === undefined) {\n      this._scaleX = a\n      this._scaleY = a\n    } else {\n      this._scaleX = a\n      this._scaleY = b\n    }\n\n    return this\n  }\n\n  skew(skewXY: number): this\n  skew(skewX: number, skewY: number): this\n  skew(): Skew\n  skew(a?: number, b?: number): this | Skew {\n    if (a === undefined) {\n      return [this._skewX, this._skewY]\n    }\n\n    if (b === undefined) {\n      this._skewX = a\n      this._skewY = a\n    } else {\n      this._skewX = a\n      this._skewY = b\n    }\n\n    return this\n  }\n\n  zIndex(val: number): this\n  zIndex(): number\n  zIndex(val?: number): this | number {\n    if (val === undefined) {\n      return this._zIndex\n    }\n\n    this._zIndex = val\n    return this\n  }\n\n  abstract draw(\n    ctx: CanvasRenderingContext2D,\n    transformations?: Transformations,\n  ): void\n}\n\nexport default CanvasElement\n","import CanvasElement from \"./CanvasElement\"\n\nexport interface Drawable {\n  name?: string\n  draw(ctx: CanvasRenderingContext2D): void\n}\n\nclass Container extends CanvasElement {\n  protected _children: Drawable[] = []\n\n  constructor(name?: string) {\n    super(name)\n  }\n\n  add(...children: Drawable[]) {\n    for (const child of children) {\n      this._children.push(child)\n    }\n\n    return this\n  }\n\n  remove(child: Drawable): this\n  remove(childName: string): this\n  remove(child: Drawable | string) {\n    if (typeof child === \"string\") {\n      this._children = this._children.filter((item) => item.name !== child)\n    } else {\n      this._children = this._children.filter((item) => item !== child)\n    }\n\n    return this\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    ctx.save()\n    ctx.transform(\n      this._scaleX,\n      this._skewY,\n      this._skewX,\n      this._scaleY,\n      this._x + this._originX,\n      this._y + this._originY,\n    )\n    ctx.rotate(this._rotation)\n    ctx.translate(-this._originX, -this._originY)\n\n    for (const child of this._children) {\n      child.draw(ctx)\n    }\n    ctx.restore()\n  }\n}\n\nexport default Container\n","import CanvasElement from \"./CanvasElement\"\n\nabstract class Shape extends CanvasElement {\n  protected _fill = false\n  protected _stroke = false\n  protected _fillColor = \"#000\"\n  protected _strokeColor = \"#000\"\n  protected _strokeWidth = 0\n  protected _strokeSegments: number[] = []\n\n  constructor(name?: string) {\n    super(name)\n  }\n\n  fill(color: string) {\n    this._fill = true\n    this._fillColor = color\n    return this\n  }\n\n  stroke(color: string, width: number, segments: number[] = []) {\n    if (width > 0) {\n      this._stroke = true\n      this._strokeColor = color\n      this._strokeWidth = width\n      this._strokeSegments = segments\n    }\n\n    return this\n  }\n\n  protected _setStyles(ctx: CanvasRenderingContext2D) {\n    if (this._fill) {\n      ctx.fillStyle = this._fillColor\n    }\n\n    if (this._stroke) {\n      ctx.lineWidth = this._strokeWidth\n      ctx.strokeStyle = this._strokeColor\n      ctx.setLineDash(this._strokeSegments)\n    }\n  }\n}\n\nexport default Shape\n","import Shape from \"./Shape\"\n\ntype Size = [width: number, height: number]\n\nclass Rectangle extends Shape {\n  #width = 100\n  #height = 100\n  #radii: number[] = []\n\n  constructor(name?: string) {\n    super(name)\n  }\n\n  size(width: number, height: number): this\n  size(size: number): this\n  size(): Size\n  size(a?: number, b?: number): this | Size {\n    if (a === undefined) {\n      return [this.#width, this.#height]\n    }\n\n    this.#width = a\n    this.#height = b !== undefined ? b : a\n\n    return this\n  }\n\n  round(): number[]\n  round(all: number): this\n  round(topLeftBottomRight: number, topRightBottomLeft: number): this\n  round(topLeft: number, topRightBottomLeft: number, bottomRight: number): this\n  round(\n    topLeft: number,\n    topRight: number,\n    bottomRight: number,\n    bottomLeft: number,\n  ): this\n  round(...radii: number[]): this | number[] {\n    if (radii.length === 0) {\n      return [...this.#radii]\n    }\n\n    this.#radii = [...radii]\n    return this\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    this._setStyles(ctx)\n\n    ctx.save()\n    ctx.transform(\n      this._scaleX,\n      this._skewY,\n      this._skewX,\n      this._scaleY,\n      this._x + this._originX,\n      this._y + this._originY,\n    )\n\n    ctx.rotate(this._rotation)\n    ctx.translate(-this._originX, -this._originY)\n\n    if (this.#radii.length > 0) {\n      ctx.beginPath()\n      ctx.roundRect(0, 0, this.#width, this.#height, this.#radii)\n      ctx.closePath()\n\n      if (this._fill) {\n        ctx.fill()\n      }\n\n      if (this._stroke) {\n        ctx.stroke()\n      }\n    } else {\n      if (this._fill) {\n        ctx.fillRect(0, 0, this.#width, this.#height)\n      }\n\n      if (this._stroke) {\n        ctx.strokeRect(0, 0, this.#width, this.#height)\n      }\n    }\n\n    ctx.restore()\n  }\n}\n\nexport default Rectangle\n","import { randomElement } from \"../../../utils/random\"\nimport Shape from \"./Shape\"\n\nconst chars = `ABCDEFGHIJKLMNOPQRSTUWXYZ`\n\nclass Text extends Shape {\n  #size = 16\n  #char: string\n\n  constructor(name?: string) {\n    super(name)\n    this.#char = randomElement([...chars])\n  }\n\n  size(size: number): this {\n    this.#size = size\n    return this\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    this._setStyles(ctx)\n\n    ctx.save()\n    ctx.transform(\n      this._scaleX,\n      this._skewY,\n      this._skewX,\n      this._scaleY,\n      this._x + this._originX,\n      this._y + this._originY,\n    )\n\n    ctx.rotate(this._rotation)\n    ctx.translate(-this._originX, -this._originY)\n    ctx.font = `bold ${this.#size}px monospace`\n    ctx.textBaseline = \"middle\"\n    ctx.textAlign = \"center\"\n    ctx.fillText(this.#char, 0, 0)\n\n    ctx.restore()\n  }\n}\n\nexport default Text\n","import { mod } from \"../../utils/math\"\nimport { randomElement, randomFloat, randomInt } from \"../../utils/random\"\nimport { Rectangle } from \"./tools\"\nimport type Shape from \"./tools/Shape\"\nimport Text from \"./tools/Text\"\n\nconst paletteDark = [\n  \"#f44336\",\n  \"#e81e63\",\n  \"#9c27b0\",\n  \"#673ab7\",\n  \"#3f51b5\",\n  \"#2196f3\",\n  \"#03a9f4\",\n  \"#00bcd4\",\n  \"#009688\",\n  \"#4caf50\",\n  \"#8bc34a\",\n  \"#cddc39\",\n  \"#ffeb3b\",\n  \"#ffc107\",\n  \"#ff9800\",\n  \"#ff5722\",\n]\n\nconst paletteLight = [\n  \"#c93f39\",\n  \"#b62555\",\n  \"#7a2986\",\n  \"#5a398c\",\n  \"#3d498a\",\n  \"#1e5da5\",\n  \"#0c69a6\",\n  \"#087081\",\n  \"#07746c\",\n  \"#46864a\",\n  \"#5a7935\",\n  \"#828c2c\",\n  \"#cd8b2a\",\n  \"#d27810\",\n  \"#d25f0c\",\n  \"#d53e21\",\n]\n\ninterface Particle {\n  shape: Shape\n  dX: number\n  dY: number\n  speed: number\n  dAngle: number\n  angleSpeed: number\n  dead: boolean\n  color: string\n  alpha: number\n}\n\ntype Options = {\n  fullPalette: boolean\n  minOpacity: number\n  sizeVariation: number\n  speed: number\n  amount: number\n  darkmode: boolean\n}\n\nconst defaultOptions: Options = {\n  fullPalette: false,\n  minOpacity: 0.5,\n  sizeVariation: 0.5,\n  speed: 10,\n  amount: 250,\n  darkmode: false,\n}\n\nclass Confetti {\n  #x\n  #y\n  #type: \"char\" | \"square\"\n  #size: number\n  #particles: Particle[] = []\n  #gravity = 5\n  #drag = 0.02\n  #running = false\n  #ticks = 0\n\n  constructor(x: number, y: number, type: \"char\" | \"square\", size: number) {\n    this.#x = x\n    this.#y = y\n    this.#type = type\n    this.#size = size\n  }\n\n  load(options: Partial<Options>) {\n    const { amount, speed, minOpacity, sizeVariation, fullPalette, darkmode } =\n      {\n        ...defaultOptions,\n        ...options,\n      }\n\n    this.#running = false\n    this.#particles = []\n\n    const palette = darkmode ? paletteDark : paletteLight\n    const colorIndex = randomInt(0, palette.length)\n\n    const colors = fullPalette\n      ? palette\n      : [\n          palette[mod(colorIndex - 1, palette.length)],\n          palette[colorIndex],\n          palette[mod(colorIndex + 1, palette.length)],\n        ]\n\n    for (let i = 0; i < amount; i++) {\n      const dX = Math.random() * (Math.random() > 0.5 ? 1 : -1)\n      const dY = Math.random() * (Math.random() > 0.5 ? 1 : -1)\n      const dAngle = randomFloat(0.5, 1.5) * (Math.random() > 0.5 ? 1 : -1)\n      const color = randomElement(colors)\n      const alpha = randomInt(Math.floor(minOpacity * 256), 256)\n      const alphaHex = alpha.toString(16).padStart(2, \"0\")\n\n      const size = Math.round(\n        randomFloat(\n          this.#size * (1 - sizeVariation),\n          this.#size * (1 + sizeVariation),\n        ),\n      )\n\n      const shape =\n        this.#type === \"char\"\n          ? new Text()\n              .size(size)\n              .position(this.#x, this.#y)\n              .fill(color)\n              .angle(Math.floor(Math.random() * 90))\n          : new Rectangle()\n              .size(size)\n              .origin(size / 2)\n              // .round(size / 2)\n              .position(this.#x, this.#y)\n              .fill(`${color}${alphaHex}`)\n              .angle(Math.floor(Math.random() * 90))\n\n      this.#particles.push({\n        shape,\n        dX,\n        dY,\n        dAngle,\n        speed: speed * randomFloat(0.05, 1),\n        angleSpeed: randomFloat(1, 5),\n        dead: false,\n        color,\n        alpha,\n      })\n    }\n\n    return this\n  }\n\n  trigger() {\n    this.#running = true\n  }\n\n  #updateparticle(particle: Particle) {\n    const magnitude = Math.hypot(particle.dX, particle.dY)\n    particle.shape.move(\n      (particle.dX * particle.speed) / magnitude,\n      (particle.dY * particle.speed) / magnitude + this.#gravity,\n    )\n\n    particle.shape.angle(\n      particle.shape.angle() + particle.dAngle * particle.angleSpeed,\n    )\n\n    particle.speed = particle.speed * (1 - this.#drag)\n\n    if (this.#type === \"square\" && this.#ticks > 60) {\n      particle.alpha = Math.max(particle.alpha - 1, 0)\n      const alphaHex = particle.alpha.toString(16).padStart(2, \"0\")\n      particle.shape.fill(`${particle.color}${alphaHex}`)\n    }\n  }\n\n  #drawParticle(ctx: CanvasRenderingContext2D, particle: Particle) {\n    particle.shape.draw(ctx)\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    if (this.#running) {\n      let dead = 0\n\n      for (let i = 0; i < this.#particles.length; i++) {\n        const x = this.#particles[i].shape.x\n        const y = this.#particles[i].shape.y\n        const particle = this.#particles[i]\n        let visible = true\n\n        if (particle.dead) {\n          dead++\n          visible = false\n        }\n\n        if (\n          x < 0 ||\n          x > ctx.canvas.width ||\n          y > ctx.canvas.height ||\n          particle.alpha === 0\n        ) {\n          particle.dead = true\n          visible = false\n        }\n\n        if (y < 0) {\n          visible = false\n        }\n\n        if (visible) {\n          this.#drawParticle(ctx, particle)\n        }\n\n        this.#updateparticle(particle)\n      }\n\n      if (dead === this.#particles.length) {\n        this.#running = false\n      }\n\n      this.#ticks++\n    }\n  }\n}\n\nexport default Confetti\n","import Container from \"./Container\"\n\nclass Scene extends Container {\n  clear(ctx: CanvasRenderingContext2D) {\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    this.clear(ctx)\n    super.draw(ctx)\n  }\n}\n\nexport default Scene\n","import { randomFloat } from \"../../utils/random\"\nimport Confetti from \"./Confetti\"\nimport Scene from \"./tools/Scene\"\n\nexport class FullscreenEffects {\n  #canvas: HTMLCanvasElement\n  #ctx: CanvasRenderingContext2D | null\n  constructor(canvas: HTMLCanvasElement) {\n    this.#canvas = canvas\n    this.#ctx = this.#canvas.getContext(\"2d\")\n    this.#canvas.width = window.innerWidth * window.devicePixelRatio\n    this.#canvas.height = window.innerHeight * window.devicePixelRatio\n  }\n\n  init(darkmode: boolean, isMobile: boolean) {\n    if (!this.#ctx) {\n      console.error(\"Can't initialize canvas\")\n      return\n    }\n\n    const confetties = Array.from({ length: 9 }, () => {\n      return new Confetti(\n        this.#canvas.width * randomFloat(0.25, 0.75),\n        this.#canvas.height * randomFloat(0.25, 0.75),\n        \"square\",\n        6,\n      ).load({\n        amount: isMobile ? 100 : 300,\n        fullPalette: false,\n        minOpacity: 0.5,\n        speed: 30,\n        sizeVariation: 0.5,\n        darkmode,\n      })\n    })\n\n    confetties.push(\n      new Confetti(\n        this.#canvas.width / 2,\n        this.#canvas.height / 2,\n        \"char\",\n        32,\n      ).load({\n        amount: isMobile ? 80 : 150,\n        fullPalette: true,\n        minOpacity: 1,\n        speed: 30,\n        sizeVariation: 0.2,\n        darkmode,\n      }),\n    )\n\n    const scene = new Scene()\n      // .add(new Grid(64, 8))\n      .add(...confetties)\n\n    const loop = () => {\n      scene.draw(this.#ctx!)\n      requestAnimationFrame(loop)\n    }\n\n    loop()\n\n    confetties.forEach((confetti, i) => {\n      setTimeout(() => confetti.trigger(), (i + 1) * 750)\n    })\n  }\n}\n","import { type Component, onCleanup, onMount } from \"solid-js\"\nimport config from \"../../../config\"\nimport { FullscreenEffects } from \"../../../libs/confetti/FullscreenEffects\"\nimport state from \"../../../state/state\"\nimport \"./Confetti.css\"\n\nconst Confetti: Component = () => {\n  let canvasRef: HTMLCanvasElement | undefined\n  let fse: FullscreenEffects | undefined\n\n  onMount(() => {\n    fse = new FullscreenEffects(canvasRef!)\n    fse.init(state.get.settings.ui.darkmode, config.IS_MOBILE)\n  })\n\n  onCleanup(() => {})\n\n  return <canvas class=\"confetti\" ref={canvasRef}></canvas>\n}\n\nexport default Confetti\n","import { type Component, For } from \"solid-js\"\nimport \"./SmallButtonToggle.css\"\n\nconst SmallButtonToggle: Component<{\n  items: {\n    name: string\n    value: string\n    tooltip?: string\n  }[]\n  active: string\n  setValue: (val: string) => void\n  joined?: boolean\n  style?: string | { [key: string]: string }\n  class?: string\n}> = (props) => {\n  return (\n    <div\n      classList={{\n        \"small-button-toggle\": true,\n        separate: !props.joined,\n        [props.class ?? \"\"]: true,\n      }}\n    >\n      <For each={props.items}>\n        {(item) => (\n          <button\n            classList={{ active: item.value === props.active }}\n            disabled={item.value === props.active}\n            onClick={() => props.setValue(item.value)}\n            style={props.style}\n            title={item.tooltip}\n          >\n            {item.name}\n          </button>\n        )}\n      </For>\n    </div>\n  )\n}\n\nexport default SmallButtonToggle\n","import { useNavigate, useParams, useSearchParams } from \"@solidjs/router\"\nimport {\n  type Component,\n  Show,\n  createMemo,\n  createResource,\n  onCleanup,\n  onMount,\n  createSignal,\n} from \"solid-js\"\nimport { getAccuracyThreshold } from \"../../../actions/getAccuracyThreshold\"\nimport { getNextChapterId } from \"../../../actions/getNextChapterId\"\nimport { getBookInfo } from \"../../../io/getBookInfo\"\nimport storage from \"../../../storage/storage\"\nimport { formatDuration, formatNum } from \"../../../utils/formatters\"\nimport { encodeParams } from \"../../../utils/url\"\nimport Separator from \"../../common/separator/Separator\"\nimport StatsStrip from \"../../common/stats-strip/StatsStrip\"\nimport Chart from \"./Chart\"\nimport Confetti from \"./Confetti\"\nimport \"./Results.css\"\nimport { TypedParagraphStats } from \"../../../types/common\"\nimport state from \"../../../state/state\"\nimport { getConsistencyThreshold } from \"../../../actions/getConsistencyThreshold\"\nimport SmallButtonToggle from \"../../common/small-button-toggle/SmallButtonToggle\"\nimport config from \"../../../config\"\nimport { notify } from \"../../../actions/notify\"\nimport Loading from \"../../common/loading/Loading\"\n\nasync function fetchData(id: string) {\n  const [bookId, chapterId] = id.split(\"__\")\n\n  const chaptersStats = await storage.chaptersStats.get(bookId)\n  const paragraphsStats = (await storage.paragraphsStats.get(id)) ?? {}\n  const bookStats = await storage.booksStats.get(bookId)\n  const bookInfo = await getBookInfo(bookId)\n\n  if (!bookInfo) {\n    return null\n  }\n\n  const topChapter = state.get.statsSummary.topChapter\n\n  if (topChapter.wpm.id === id) {\n    notify({\n      title: \"Top Speed!\",\n      details: \"This is your fastest chapter.\",\n      type: \"ok\",\n      important: true,\n      closeDelay: 10000,\n    })\n  }\n\n  if (topChapter.acc.id === id) {\n    notify({\n      title: \"Top Accuracy!\",\n      details: \"This is your most accurate chapter.\",\n      type: \"ok\",\n      important: true,\n      closeDelay: 10000,\n    })\n  }\n\n  if (topChapter.con.id === id) {\n    notify({\n      title: \"Top Consistency!\",\n      details: \"This is your most consistent chapter.\",\n      type: \"ok\",\n      important: true,\n      closeDelay: 10000,\n    })\n  }\n\n  const isBookComplete = bookStats?.progress === 1\n\n  const nextChapterId = getNextChapterId({\n    currentChapterId: chapterId,\n    chaptersStats: chaptersStats ?? {},\n    chapters: bookInfo.chapters,\n    progress: bookStats?.progress ?? 0,\n  })\n\n  const nextChapterInfo = bookInfo.chapters.find(\n    (chapter) => chapter.id === nextChapterId,\n  )\n  const nextChapter = {\n    path: `${bookInfo.id}__${nextChapterId}`,\n    ...nextChapterInfo,\n  }\n\n  return {\n    id,\n    isBookComplete,\n    nextChapter,\n    bookInfo,\n    bookId,\n    chapterId,\n    bookStats: bookStats && bookStats.time > 0 ? bookStats : undefined,\n    chaptersStats,\n    paragraphsStats: Object.entries(paragraphsStats)\n      .filter(([_, entry]) => entry.type === \"typed\")\n      .map(\n        ([index, entry]) =>\n          [Number(index), entry] as [number, TypedParagraphStats],\n      ),\n  }\n}\n\nconst Results: Component = () => {\n  const navigate = useNavigate()\n  const [tab, setTab] = createSignal(\"chapter\")\n  const params = useParams()\n  const [searchParams] = useSearchParams()\n  const [data] = createResource(params.id, fetchData)\n\n  const libLink = \"/books\"\n  const nextLink = createMemo(() => `/prompt/${data()?.nextChapter.path}`)\n  const tocLink = createMemo(() => `/books/${data()?.bookInfo.id}#toc`)\n\n  function handleShortcuts(e: KeyboardEvent) {\n    if (e.key === \"Enter\") {\n      if (data()?.isBookComplete === undefined) {\n        return\n      }\n\n      navigate(data()?.isBookComplete ? libLink : nextLink())\n      return\n    }\n\n    if (e.key === \"Backspace\") {\n      navigate(tocLink())\n      return\n    }\n  }\n\n  onMount(() => {\n    document.addEventListener(\"keydown\", handleShortcuts)\n  })\n\n  onCleanup(() => {\n    document.removeEventListener(\"keydown\", handleShortcuts)\n  })\n\n  const [chartChapterData] = createResource(data, (data) => {\n    const typedEntries = data.paragraphsStats\n\n    if (typedEntries.length === 0) {\n      return null\n    }\n\n    typedEntries.sort((a, b) => a[0] - b[0])\n\n    const entries = typedEntries.map((entry) => entry[1])\n    const labels = typedEntries.map((entry) => entry[0] + 1)\n\n    return {\n      wpm: entries.map((entry) => ({\n        value: entry.wpm.value,\n        weight: entry.wpm.weight,\n      })),\n      acc: entries.map((entry) => entry.acc),\n      con: entries.map((entry) => entry.con),\n      labels,\n    }\n  })\n\n  const fastestParagraph = createMemo(() => {\n    const paragraphsStats = data()?.paragraphsStats\n    if (!paragraphsStats) {\n      return null\n    }\n\n    const typedStats = paragraphsStats.map((entry) => entry[1])\n    const wpms = typedStats.map((stats) => stats.wpm.value ?? 0)\n\n    return Math.max(...wpms)\n  })\n\n  const fastestChapter = createMemo(() => {\n    const chaptersStats = data()?.chaptersStats\n    if (!chaptersStats) {\n      return null\n    }\n\n    const wpms = Object.values(chaptersStats).map(\n      (stats) => stats.wpm.value ?? 0,\n    )\n\n    return Math.max(...wpms)\n  })\n\n  const [chapterStats] = createResource(data, (data) => {\n    const stats = data.chaptersStats?.[data.chapterId]\n    return stats && stats.time > 0 ? stats : undefined\n  })\n\n  const [chartBookData] = createResource(data, (data) => {\n    if (!data.chaptersStats) {\n      return null\n    }\n\n    const typedEntries = Object.entries(data.chaptersStats)\n      .filter(([_, entry]) => entry.time > 0)\n      .sort((a, b) => Number(a[0]) - Number(b[0]))\n\n    const entries = typedEntries.map((entry) => entry[1])\n    const labels = typedEntries.map((entry) => Number(entry[0]) + 1)\n\n    return {\n      wpm: entries.map((entry) => entry.wpm),\n      acc: entries.map((entry) => entry.acc),\n      con: entries.map((entry) => entry.con),\n      labels,\n    }\n  })\n\n  const statsData = createMemo(() => {\n    const wpm =\n      tab() === \"chapter\"\n        ? chapterStats()?.wpm?.value ?? null\n        : data()?.bookStats?.wpm?.value ?? null\n\n    const raw =\n      tab() === \"chapter\"\n        ? chapterStats()?.wpm?.raw ?? null\n        : data()?.bookStats?.wpm?.raw ?? null\n\n    const acc =\n      tab() === \"chapter\"\n        ? chapterStats()?.acc?.value ?? null\n        : data()?.bookStats?.acc?.value ?? null\n\n    const con =\n      tab() === \"chapter\"\n        ? chapterStats()?.con?.value ?? null\n        : data()?.bookStats?.con?.value ?? null\n\n    const time =\n      tab() === \"chapter\" ? chapterStats()?.time : data()?.bookStats?.time\n    const typed =\n      tab() === \"chapter\" ? chapterStats()?.typed : data()?.bookStats?.typed\n    const fastest = tab() === \"chapter\" ? fastestParagraph() : fastestChapter()\n    const fastestLabel = tab() === \"chapter\" ? \"paragraph\" : \"chapter\"\n\n    return [\n      {\n        name: \"Speed\",\n        val: wpm,\n        isPercent: false,\n        precision: 2,\n        unit: \" wpm\",\n        tooltipTitle:\n          \"Words per minute, where one word equals five characters (including spaces)\",\n        tooltipVal: raw ? `${formatNum(raw ?? 0, 1)} raw` : undefined,\n      },\n      {\n        name: \"Accuracy\",\n        val: acc,\n        isPercent: true,\n        precision: 2,\n        unit: \" %\",\n        type: getAccuracyThreshold(acc ?? 0),\n        tooltipTitle: \"Percentage of correct keystrokes\",\n        tooltipVal: \"Target accuracy >= 98%\",\n      },\n      {\n        name: \"Consistency\",\n        val: con,\n        isPercent: true,\n        precision: 2,\n        unit: \" %\",\n        type: getConsistencyThreshold(con ?? 0),\n        tooltipTitle: \"Measures how consistent is you speed between words\",\n        tooltipVal: \"Target consistency >= 80%\",\n      },\n      {\n        name: \"Typing Time\",\n        val: time !== undefined ? formatDuration(time) : null,\n        isPercent: true,\n        precision: 1,\n        tooltipVal: \"hours : minutes : seconds\",\n      },\n      {\n        name: \"Words typed\",\n        val: (typed ?? 0) / 5,\n        isPercent: false,\n        precision: 0,\n      },\n      {\n        name: `Fastest ${fastestLabel}`,\n        val: fastest,\n        isPercent: false,\n        precision: 2,\n        unit: \" wpm\",\n      },\n    ]\n  })\n\n  const chartData = createMemo(() => {\n    return tab() === \"chapter\" ? chartChapterData() : chartBookData()\n  })\n\n  return (\n    <Show when={data()} fallback={<Loading />}>\n      <Separator />\n      <section class=\"results\">\n        <Show when={!data()?.isBookComplete}>\n          <section class=\"next\">\n            <h2>\n              {data()?.nextChapter.id === data()?.chapterId\n                ? \"Current\"\n                : \"Next\"}{\" \"}\n              chapter\n            </h2>\n            <p>{data()?.nextChapter.title}</p>\n            <nav>\n              <a\n                class=\"button secondary\"\n                href={tocLink()}\n                data-hint={config.IS_MOBILE ? \"\" : \"Backspace\"}\n              >\n                CONTENTS\n              </a>\n              <a\n                class=\"button primary\"\n                href={nextLink()}\n                data-hint={config.IS_MOBILE ? \"\" : \"Enter\"}\n              >\n                CONTINUE\n              </a>\n            </nav>\n          </section>\n        </Show>\n        <Show when={data()?.isBookComplete}>\n          <section class=\"complete\">\n            <h2>Book completed!</h2>\n            <h3>{data()?.bookInfo.title}</h3>\n            <p>\n              by{\" \"}\n              <a\n                href={\n                  \"/books?\" +\n                  encodeParams({ author: data()?.bookInfo.author ?? \"\" })\n                }\n              >\n                {data()?.bookInfo.author}\n              </a>\n            </p>\n            <nav>\n              <a\n                class=\"button secondary\"\n                href={tocLink()}\n                data-hint={config.IS_MOBILE ? \"\" : \"Backspace\"}\n              >\n                CONTENTS\n              </a>\n              <a\n                class=\"button primary\"\n                href=\"/books\"\n                data-hint={config.IS_MOBILE ? \"\" : \"Enter\"}\n              >\n                LIBRARY\n              </a>\n            </nav>\n          </section>\n        </Show>\n\n        <Show when={chartData()}>\n          <div class=\"stats-box\">\n            <SmallButtonToggle\n              class=\"tabs-toggle\"\n              items={[\n                {\n                  name: \"Chapter Stats\",\n                  value: \"chapter\",\n                },\n                {\n                  name: \"Book Stats\",\n                  value: \"book\",\n                },\n              ]}\n              joined={true}\n              active={tab()}\n              setValue={(val) => {\n                setTab(val)\n              }}\n            />\n            <StatsStrip data={statsData()} desktopColumns={6} />\n          </div>\n          <Chart\n            data={chartData()!}\n            wpmPB={\n              tab() === \"chapter\"\n                ? state.get.statsSummary.topChapter.wpm.value\n                : state.get.statsSummary.topBook.wpm.value\n            }\n            dataLabel={tab() === \"chapter\" ? \"PARAGRAPHS\" : \"CHAPTERS\"}\n            tooltipLabel={tab() === \"chapter\" ? \"Paragraph\" : \"Chapter\"}\n          />\n        </Show>\n      </section>\n      <Show when={data()?.isBookComplete && !searchParams.show}>\n        <Confetti />\n      </Show>\n    </Show>\n  )\n}\n\nexport default Results\n","export const fontsByType = [\n  [\n    {\n      name: \"DejaVu Mono\",\n      type: \"monospace\",\n      value: \"DejaVu Mono:monospace:1\",\n    },\n    {\n      name: \"Fira Mono\",\n      type: \"monospace\",\n      value: \"Fira Mono:monospace:1\",\n    },\n    {\n      name: \"JetBrains Mono\",\n      type: \"monospace\",\n      value: \"JetBrains Mono:monospace:1\",\n    },\n    {\n      name: \"Noto Sans Mono\",\n      type: \"monospace\",\n      value: \"Noto Sans Mono:monospace:1\",\n    },\n    {\n      name: \"Dyslexic Mono\",\n      type: \"monospace\",\n      value: \"Open Dyslexic Mono:monospace:0.95\",\n    },\n    {\n      name: \"Recursive Linear\",\n      type: \"monospace\",\n      value: \"Recursive Linear:monospace:1\",\n    },\n    {\n      name: \"Recursive Casual\",\n      type: \"monospace\",\n      value: \"Recursive Casual:monospace:1\",\n    },\n    {\n      name: \"Courier Prime\",\n      type: \"monospace\",\n      value: \"Courier Prime:monospace:1.1\",\n    },\n    {\n      name: \"Roboto Mono\",\n      type: \"monospace\",\n      value: \"Roboto Mono:monospace:1\",\n    },\n    {\n      name: \"Source Code Pro\",\n      type: \"monospace\",\n      value: \"Source Code Pro:monospace:1.025\",\n    },\n    {\n      name: \"Ubuntu Mono\",\n      type: \"monospace\",\n      value: \"Ubuntu Mono:monospace:1.15\",\n    },\n    {\n      name: \"Victor Mono\",\n      type: \"monospace\",\n      value: \"Victor Mono:monospace:0.9\",\n    },\n    {\n      name: \"\",\n      type: \"monospace\",\n      value: \":monospace:1\",\n    },\n  ],\n  [\n    {\n      name: \"Alegreya Sans\",\n      type: \"sans-serif\",\n      value: \"Alegreya Sans:sans-serif:1.125\",\n    },\n    {\n      name: \"Atkinson Hyper\",\n      type: \"sans-serif\",\n      value: \"Atkinson Hyperlegible:sans-serif:1.05\",\n    },\n    {\n      name: \"Comfortaa\",\n      type: \"sans-serif\",\n      value: \"Comfortaa:sans-serif:0.95\",\n    },\n    {\n      name: \"Comic Neue\",\n      type: \"sans-serif\",\n      value: \"Comic Neue:sans-serif:1.1\",\n    },\n    {\n      name: \"Geologica\",\n      type: \"sans-serif\",\n      value: \"Geologica:sans-serif:1.025\",\n    },\n    {\n      name: \"Arial\",\n      type: \"sans-serif\",\n      value: \"Arial:sans-serif:1\",\n    },\n    {\n      name: \"Noto Sans\",\n      type: \"sans-serif\",\n      value: \"Noto Sans:sans-serif:1\",\n    },\n    {\n      name: \"Open Dyslexic\",\n      type: \"sans-serif\",\n      value: \"Open Dyslexic:sans-serif:0.95\",\n    },\n    {\n      name: \"Open Sans\",\n      type: \"sans-serif\",\n      value: \"Open Sans:sans-serif:1\",\n    },\n    {\n      name: \"Play\",\n      type: \"sans-serif\",\n      value: \"Play:sans-serif:1.05\",\n    },\n    {\n      name: \"Ubuntu\",\n      type: \"sans-serif\",\n      value: \"Ubuntu:sans-serif:1\",\n    },\n    {\n      name: \"Ysabeau\",\n      type: \"sans-serif\",\n      value: \"Ysabeau:sans-serif:1.15\",\n    },\n    {\n      name: \"\",\n      type: \"sans-serif\",\n      value: \":sans-serif:1\",\n    },\n  ],\n  [\n    {\n      name: \"Alegreya\",\n      type: \"serif\",\n      value: \"Alegreya:serif:1.125\",\n    },\n    {\n      name: \"DejaVu Serif\",\n      type: \"serif\",\n      value: \"DejaVu Serif:serif:1\",\n    },\n    {\n      name: \"EB Garamond\",\n      type: \"serif\",\n      value: \"EB Garamond:serif:1.25\",\n    },\n    {\n      name: \"Gentium Book\",\n      type: \"serif\",\n      value: \"Gentium Book Plus:serif:1.15\",\n    },\n    {\n      name: \"Libre Baskerville\",\n      type: \"serif\",\n      value: \"Libre Baskerville:serif:0.95\",\n    },\n    {\n      name: \"Literata\",\n      type: \"serif\",\n      value: \"Literata:serif:1\",\n    },\n    {\n      name: \"Noto Serif\",\n      type: \"serif\",\n      value: \"Noto Serif:serif:1\",\n    },\n    {\n      name: \"Piazzolla\",\n      type: \"serif\",\n      value: \"Piazzolla:serif:1.1\",\n    },\n    {\n      name: \"Roboto Slab\",\n      type: \"serif\",\n      value: \"Roboto Slab:serif:1\",\n    },\n    {\n      name: \"Source Serif\",\n      type: \"serif\",\n      value: \"Source Serif 4:serif:1.1\",\n    },\n    {\n      name: \"Vollkorn\",\n      type: \"serif\",\n      value: \"Vollkorn:serif:1.125\",\n    },\n    {\n      name: \"Times\",\n      type: \"serif\",\n      value: \"Times New Roman:serif:1.2\",\n    },\n    {\n      name: \"\",\n      type: \"serif\",\n      value: \":serif:1\",\n    },\n  ],\n].map((fonts) => {\n  return fonts\n    .filter((f) => f.name !== \"\")\n    .sort(\n      (a, b) =>\n        a.type.localeCompare(b.type) ||\n        (a.name.startsWith(\"Default\") && !b.name.startsWith(\"Default\")\n          ? -1\n          : !a.name.startsWith(\"Default\") && b.name.startsWith(\"Default\")\n            ? 1\n            : 0) ||\n        a.name.localeCompare(b.name),\n    )\n})\n","import { type Component, For } from \"solid-js\"\nimport \"./ButtonToggle.css\"\n\nconst ButtonMulti: Component<{\n  items: {\n    name: string\n    value: string\n    tooltip?: string\n  }[]\n  active: string[]\n  setValue: (val: string) => void\n  joined?: boolean\n  style?: string | { [key: string]: string }\n  class?: string\n}> = (props) => {\n  return (\n    <div\n      classList={{\n        \"button-toggle\": true,\n        separate: !props.joined,\n        [props.class ?? \"\"]: true,\n      }}\n    >\n      <For each={props.items}>\n        {(item) => (\n          <button\n            classList={{ active: props.active.includes(item.value) }}\n            onClick={() => props.setValue(item.value)}\n            style={props.style}\n            title={item.tooltip}\n          >\n            {item.name}\n          </button>\n        )}\n      </For>\n    </div>\n  )\n}\n\nexport default ButtonMulti\n","export type Theme = {\n  name: string\n  value: string\n  details?: string\n}\n\nexport const themes: Theme[] = [\n  {\n    name: \"Default\",\n    value: \"default\",\n  },\n  {\n    name: \"Red Blind\",\n    details: \"colorblind\",\n    value: \"red-blind\",\n  },\n  {\n    name: \"Green Blind\",\n    details: \"colorblind\",\n    value: \"green-blind\",\n  },\n  {\n    name: \"Blue Blind\",\n    details: \"colorblind\",\n    value: \"blue-blind\",\n  },\n  {\n    name: \"Color Weak\",\n    details: \"colorblind\",\n    value: \"color-weak\",\n  },\n  {\n    name: \"Full Colorblind\",\n    details: \"colorblind\",\n    value: \"full-color-blind\",\n  },\n]\n","const download = (data: File) => {\n  const url = typeof data === \"string\" ? data : URL.createObjectURL(data)\n\n  const link = document.createElement(\"a\")\n  link.href = url\n  link.download = data.name\n  link.target = \"_blank\"\n  link.click()\n  URL.revokeObjectURL(url)\n}\n\nexport default download\n","import { getDailyDate } from \"../actions/getDailyDate\"\nimport {\n  calculateStat,\n  summarizeBookStats,\n  summarizeChapterStats,\n  summarizeDailyStats,\n} from \"../components/pages/prompt/prompt-actions/summarizeStats\"\nimport config from \"../config\"\nimport state from \"../state/state\"\nimport storage from \"../storage/storage\"\nimport {\n  AverageStats,\n  BasicStats,\n  BookStats,\n  ChapterStats,\n  FinishedParagraphStats,\n  MainStats,\n  PBStats,\n  StaticBookInfo,\n  StatsSummary,\n  TypedParagraphStats,\n} from \"../types/common\"\nimport download from \"./download\"\nimport { getBookInfo } from \"./getBookInfo\"\nimport { compress, decompress } from \"../utils/gzip.ts\"\nimport { notify } from \"../actions/notify.ts\"\n\ntype ParagraphsStatsEntry = { [index: string]: FinishedParagraphStats }\n\ntype ParagraphsStatsStorage = {\n  [id: string]: ParagraphsStatsEntry\n}\n\ntype ChapterStatsEntry = { [chapterId: string]: ChapterStats }\ntype ChapterStatsStorage = { [bookId: string]: ChapterStatsEntry }\ntype BooksStatsStorage = { [bookId: string]: BookStats }\ntype DailyStatsStorage = { [day: string]: AverageStats }\n\nasync function getParagraphsData() {\n  const keys = await storage.paragraphsStats.keys()\n  const data: ParagraphsStatsStorage = {}\n\n  for (const key of keys) {\n    const entryData = await storage.paragraphsStats.get(key)\n\n    if (entryData) {\n      data[key] = entryData\n    }\n  }\n\n  return data\n}\n\nfunction encodeParagraphStats(rawData: ParagraphsStatsEntry) {\n  const data = Object.entries(rawData)\n\n  const size = data.reduce(\n    (len, [_, item]) => len + (item.type === \"typed\" ? 12 : 4),\n    0,\n  )\n\n  const encoded = new Float64Array(size)\n  let offset = 0\n\n  for (const [index, entry] of data) {\n    const isTyped = entry.type === \"typed\"\n    encoded[offset] = Number(index)\n    encoded[offset + 1] = isTyped ? 0 : 1\n\n    if (isTyped) {\n      encoded[offset + 2] = entry.wpm.value\n      encoded[offset + 3] = entry.wpm.raw\n      encoded[offset + 4] = entry.wpm.weight\n      encoded[offset + 5] = entry.acc.value\n      encoded[offset + 6] = entry.acc.weight\n      encoded[offset + 7] = entry.con.value\n      encoded[offset + 8] = entry.con.weight\n      encoded[offset + 9] = entry.time\n      encoded[offset + 10] = entry.timestamp\n      encoded[offset + 11] = entry.length\n    } else {\n      encoded[offset + 2] = entry.timestamp\n      encoded[offset + 3] = entry.length\n    }\n\n    offset += entry.type === \"typed\" ? 12 : 4\n  }\n\n  return encoded\n}\n\nfunction encodeParagraphsId(id: string) {\n  return new TextEncoder().encode(id)\n}\n\nfunction concatBytes(items: Uint8Array[]) {\n  const len = items.reduce((sum, item) => sum + item.byteLength, 0)\n  const all = new Uint8Array(len)\n\n  let offset = 0\n\n  for (const item of items) {\n    all.set(item, offset)\n    offset += item.byteLength\n  }\n\n  return all\n}\n\nasync function encodeSave() {\n  const rawData = await getParagraphsData()\n\n  const version = 1\n  const chunks: Uint8Array[] = [new Uint8Array([version])]\n\n  for (const [key, val] of Object.entries(rawData)) {\n    const id = encodeParagraphsId(key)\n    const stats = encodeParagraphStats(val)\n\n    const statsSizeBytes = new Uint8Array(\n      new Float64Array([stats.byteLength]).buffer,\n    )\n    const statsBytes = new Uint8Array(stats.buffer)\n    const bytes = new Uint8Array([\n      id.byteLength,\n      ...id,\n      ...statsSizeBytes,\n      ...statsBytes,\n    ])\n\n    chunks.push(bytes)\n  }\n\n  const encoded = concatBytes(chunks)\n\n  return encoded\n}\n\nfunction decodeEntry(data: Float64Array) {\n  let offset = 0\n  const items: [number, FinishedParagraphStats][] = []\n\n  while (offset < data.length) {\n    const paragraphIndex = data[offset]\n    const type = data[offset + 1] === 0 ? \"typed\" : \"read\"\n\n    if (type === \"typed\") {\n      items.push([\n        paragraphIndex,\n        {\n          type,\n          wpm: {\n            value: data[offset + 2],\n            raw: data[offset + 3],\n            weight: data[offset + 4],\n          },\n          acc: {\n            value: data[offset + 5],\n            weight: data[offset + 6],\n          },\n          con: {\n            value: data[offset + 7],\n            weight: data[offset + 8],\n          },\n          time: data[offset + 9],\n          timestamp: data[offset + 10],\n          length: data[offset + 11],\n        },\n      ])\n\n      offset += 12\n    } else {\n      items.push([\n        paragraphIndex,\n        {\n          type,\n          timestamp: data[offset + 2],\n          length: data[offset + 3],\n        },\n      ])\n\n      offset += 4\n    }\n  }\n\n  return items\n}\n\nasync function decodeSave(blob: Blob) {\n  const bytes = new Uint8Array(await blob.arrayBuffer())\n  const version = bytes[0]\n  const data: ParagraphsStatsStorage = {}\n  let offset = 1\n\n  if (version === 1) {\n    while (offset < bytes.length) {\n      const idSize = bytes[offset]\n      offset++\n      const id = new TextDecoder().decode(bytes.slice(offset, idSize + offset))\n      offset += idSize\n      const entrySize = new Float64Array(\n        bytes.slice(offset, offset + 8).buffer,\n      )[0]\n      offset += 8\n      const entry = decodeEntry(\n        new Float64Array(bytes.slice(offset, offset + entrySize).buffer),\n      )\n      offset += entrySize\n\n      data[id] = Object.fromEntries(entry)\n    }\n  }\n\n  return data\n}\n\nasync function mergeSaveWithCurrent(saved: ParagraphsStatsStorage) {\n  const curr = await getParagraphsData()\n\n  for (const [key, entries] of Object.entries(saved)) {\n    for (const [index, entry] of Object.entries(entries)) {\n      if (!curr[key]) {\n        curr[key] = {}\n      }\n\n      if (!curr[key][index] || curr[key][index].timestamp < entry.timestamp) {\n        curr[key][index] = entry\n      }\n    }\n  }\n\n  return curr\n}\n\nasync function updateParagraphsStats(data: ParagraphsStatsStorage) {\n  for (const [key, val] of Object.entries(data)) {\n    await storage.paragraphsStats.set(key, val)\n  }\n}\n\nasync function recalculateChaptersStats(data: ParagraphsStatsStorage) {\n  const bookInfos: { [key: string]: StaticBookInfo } = {}\n  const chaptersStats: ChapterStatsStorage = {}\n\n  for (const [key, entries] of Object.entries(data)) {\n    const [bookId, chapterId] = key.split(\"__\")\n    const bookInfo = bookInfos[bookId] ?? (await getBookInfo(bookId))\n\n    if (bookInfo === null) {\n      continue\n    }\n\n    bookInfos[bookId] = bookInfo\n    const chapterInfo = bookInfo.chapters.find(\n      (chapterInfo) => chapterInfo.id === chapterId,\n    )\n    const chapterLength = chapterInfo?.length ?? 0\n    const skip = chapterInfo?.skip ?? true\n    const chapterStats = summarizeChapterStats(\n      Object.values(entries),\n      chapterLength,\n      skip,\n    )\n\n    if (!chaptersStats[bookId]) {\n      chaptersStats[bookId] = { [chapterId]: chapterStats }\n    } else {\n      chaptersStats[bookId][chapterId] = chapterStats\n    }\n  }\n\n  return chaptersStats\n}\n\nasync function updateChaptersStats(chaptersStats: ChapterStatsStorage) {\n  for (const [key, val] of Object.entries(chaptersStats)) {\n    await storage.chaptersStats.set(key, val)\n  }\n}\n\nfunction recalculateBooksStats(chaptersStats: ChapterStatsStorage) {\n  const booksStats: BooksStatsStorage = {}\n\n  for (const [bookId, entries] of Object.entries(chaptersStats)) {\n    const bookInfo = state.get.booksIndex.find(\n      (bookInfo) => bookInfo.id === bookId,\n    )\n\n    const bookLength = bookInfo?.length ?? 0\n    let lastTimestamp = 0\n    let lastChapter: string = \"000\"\n    const chaptersStatsVal: ChapterStats[] = []\n\n    for (const [chapterId, chapterStats] of Object.entries(entries)) {\n      if (chapterStats.timestamp > lastTimestamp) {\n        lastTimestamp = chapterStats.timestamp\n        lastChapter = chapterId\n      }\n\n      chaptersStatsVal.push(chapterStats)\n    }\n\n    const bookStats = summarizeBookStats(\n      chaptersStatsVal,\n      bookLength,\n      lastChapter,\n    )\n\n    booksStats[bookId] = bookStats\n  }\n\n  return booksStats\n}\n\nasync function updateBooksStats(booksStats: BooksStatsStorage) {\n  for (const [key, val] of Object.entries(booksStats)) {\n    storage.booksStats.set(key, val)\n  }\n}\n\nfunction updateTopStats(pbStats: PBStats, stats: BasicStats, id: string) {\n  if (stats.wpm.value > pbStats.wpm.value) {\n    pbStats.wpm.value = stats.wpm.value\n    pbStats.wpm.timestamp = stats.timestamp\n    pbStats.wpm.id = id\n  }\n\n  if (stats.wpm.raw > pbStats.raw.value) {\n    pbStats.raw.value = stats.wpm.raw\n    pbStats.raw.timestamp = stats.timestamp\n    pbStats.raw.id = id\n  }\n\n  if (stats.acc.value > pbStats.acc.value) {\n    pbStats.acc.value = stats.acc.value\n    pbStats.acc.timestamp = stats.timestamp\n    pbStats.acc.id = id\n  }\n\n  if (stats.con.value > pbStats.con.value) {\n    pbStats.con.value = stats.con.value\n    pbStats.con.timestamp = stats.timestamp\n    pbStats.con.id = id\n  }\n}\n\nfunction recalculateParagraphsSummaries(\n  paragraphsStats: ParagraphsStatsStorage,\n) {\n  const topParagraph = {\n    wpm: { value: 0, timestamp: 0, id: \"\" },\n    raw: { value: 0, timestamp: 0, id: \"\" },\n    acc: { value: 0, timestamp: 0, id: \"\" },\n    con: { value: 0, timestamp: 0, id: \"\" },\n  }\n\n  const flatParagraphsStats = Object.entries(paragraphsStats)\n    .map(([chapterId, stats]) =>\n      Object.entries(stats).map(([paragraphId, entry]) => {\n        const id = `${chapterId}__${paragraphId}`\n\n        return {\n          id,\n          day: getDailyDate(entry.timestamp),\n          entry,\n        }\n      }),\n    )\n    .flat()\n    .sort((a, b) => b.entry.timestamp - a.entry.timestamp)\n\n  const recent = []\n\n  const wpmVals = []\n  const rawVals = []\n  const wpmWeights = []\n  const accVals = []\n  const accWeights = []\n  const conVals = []\n  const conWeights = []\n\n  const byDays: { [day: string]: TypedParagraphStats[] } = {}\n\n  for (const item of flatParagraphsStats) {\n    if (item.entry.type === \"typed\") {\n      if (item.entry.length >= config.MIN_PB_PARAGRAPH_LENGTH) {\n        updateTopStats(topParagraph, item.entry, item.id)\n      }\n\n      if (recent.length < 50) {\n        recent.unshift({ id: item.id, ...item.entry })\n      }\n\n      wpmVals.push(item.entry.wpm.value)\n      rawVals.push(item.entry.wpm.raw)\n      wpmWeights.push(item.entry.wpm.weight)\n      accVals.push(item.entry.acc.value)\n      accWeights.push(item.entry.acc.weight)\n      conVals.push(item.entry.con.value)\n      conWeights.push(item.entry.con.weight)\n\n      if (!byDays[item.day]) {\n        byDays[item.day] = []\n      }\n\n      byDays[item.day].push(item.entry)\n    }\n  }\n\n  const averageWpm = calculateStat(wpmVals, wpmWeights)\n  const averageRaw = calculateStat(rawVals, wpmWeights)\n  const averageAcc = calculateStat(accVals, accWeights)\n  const averageCon = calculateStat(conVals, conWeights)\n\n  const average: MainStats = {\n    wpm: {\n      value: averageWpm.value,\n      raw: averageRaw.value,\n      weight: averageWpm.weight,\n    },\n    acc: averageAcc,\n    con: averageCon,\n  }\n\n  const daily: DailyStatsStorage = Object.fromEntries(\n    Object.entries(byDays).map(([day, entries]) => [\n      day,\n      summarizeDailyStats(entries),\n    ]),\n  )\n\n  return { topParagraph, recent, average, daily }\n}\n\nasync function updateDailyStats(dailyStatsStorage: DailyStatsStorage) {\n  for (const [key, val] of Object.entries(dailyStatsStorage)) {\n    await storage.dailyStats.set(key, val)\n  }\n}\n\nfunction recalculateTopChapter(stats: ChapterStatsStorage) {\n  const topChapter = {\n    wpm: { value: 0, timestamp: 0, id: \"\" },\n    raw: { value: 0, timestamp: 0, id: \"\" },\n    acc: { value: 0, timestamp: 0, id: \"\" },\n    con: { value: 0, timestamp: 0, id: \"\" },\n  }\n\n  for (const [bookId, chaptersStats] of Object.entries(stats)) {\n    for (const [chapterId, entry] of Object.entries(chaptersStats)) {\n      if (entry.progress === 1 && entry.typed >= config.MIN_PB_CHAPTER_LENGTH) {\n        const id = `${bookId}__${chapterId}`\n        updateTopStats(topChapter, entry, id)\n      }\n    }\n  }\n\n  return topChapter\n}\n\nfunction recalculateTopBook(stats: BooksStatsStorage) {\n  const topBook = {\n    wpm: { value: 0, timestamp: 0, id: \"\" },\n    raw: { value: 0, timestamp: 0, id: \"\" },\n    acc: { value: 0, timestamp: 0, id: \"\" },\n    con: { value: 0, timestamp: 0, id: \"\" },\n  }\n\n  for (const [bookId, entry] of Object.entries(stats)) {\n    if (entry.progress === 1) {\n      updateTopStats(topBook, entry, bookId)\n    }\n  }\n\n  return topBook\n}\n\nasync function updateStatsSummary(summary: StatsSummary) {\n  return storage.general.set(\"statsSummary\", summary)\n}\n\nasync function restoreSave(data: ParagraphsStatsStorage) {\n  const merged = await mergeSaveWithCurrent(data)\n  await updateParagraphsStats(merged)\n  const chaptersStats = await recalculateChaptersStats(merged)\n  await updateChaptersStats(chaptersStats)\n  const booksStats = recalculateBooksStats(chaptersStats)\n  await updateBooksStats(booksStats)\n  const summaries = recalculateParagraphsSummaries(merged)\n  await updateDailyStats(summaries.daily)\n  const topChapter = recalculateTopChapter(chaptersStats)\n  const topBook = recalculateTopBook(booksStats)\n  await updateStatsSummary({\n    average: summaries.average,\n    recent: summaries.recent,\n    topParagraph: summaries.topParagraph,\n    topChapter,\n    topBook,\n  })\n}\n\nexport async function exportSave() {\n  const data = await encodeSave()\n\n  const compressed = await compress(data)\n  const date = new Date().toISOString().slice(0, 10)\n\n  const file = new File([compressed], `entertrained_${date}.save`, {\n    type: \"application/gzip\",\n  })\n\n  download(file)\n}\n\nexport async function importSave(file: File) {\n  const blob = await decompress(file)\n  const data = await decodeSave(blob)\n\n  await restoreSave(data)\n  await state.reload()\n  notify({ title: \"Imported successfully!\", type: \"ok\", important: true })\n}\n","import \"./Confirm.css\"\nimport { Component, createSignal, onMount } from \"solid-js\"\nimport { Portal } from \"solid-js/web\"\n\ntype Props = {\n  requiredText: string\n  onCancel: () => void\n  onSumbmit: () => void\n}\n\nconst Confirm: Component<Props> = (props) => {\n  const [text, setText] = createSignal(\"\")\n\n  let inputRef: HTMLInputElement | undefined\n\n  onMount(() => {\n    if (!inputRef) {\n      return\n    }\n\n    inputRef.focus()\n  })\n\n  return (\n    <Portal>\n      <section class=\"confirm\">\n        <div>\n          <p>\n            Type <code>{props.requiredText}</code> to confirm.\n          </p>\n          <form\n            onSubmit={(e) => {\n              e.preventDefault()\n\n              if (text() !== props.requiredText) {\n                return\n              }\n\n              props.onSumbmit()\n            }}\n          >\n            <input\n              type=\"text\"\n              value={text()}\n              onInput={(e) => {\n                setText(e.currentTarget.value)\n              }}\n              ref={inputRef}\n              placeholder=\"type the phrase\"\n            />\n            <button type=\"reset\" onClick={props.onCancel}>\n              Cancel\n            </button>\n            <input\n              type=\"submit\"\n              disabled={text() !== props.requiredText}\n              value=\"Confirm\"\n            />\n          </form>\n        </div>\n      </section>\n    </Portal>\n  )\n}\n\nexport default Confirm\n","import { notify } from \"../actions/notify\"\nimport state, { defaultSettings, defaultSummary } from \"../state/state\"\nimport storage from \"../storage/storage\"\n\nexport async function resetSettings() {\n  await storage.general.set(\"settings\", defaultSettings)\n  await state.reload()\n  notify({ title: \"Default settings restored!\", type: \"ok\", important: true })\n}\n\nexport async function resetProgress() {\n  await storage.booksStats.clear()\n  await storage.chaptersStats.clear()\n  await storage.paragraphsStats.clear()\n  await storage.dailyStats.clear()\n  await storage.general.set(\"statsSummary\", defaultSummary)\n  await state.reload()\n  notify({ title: \"Progress cleared!\", type: \"ok\", important: true })\n}\n","import \"./Settings.css\"\nimport {\n  createMemo,\n  type Component,\n  createSignal,\n  For,\n  Show,\n  Switch,\n  Match,\n} from \"solid-js\"\nimport ButtonToggle from \"../../common/button-toggle/ButtonToggle\"\nimport state from \"../../../state/state\"\nimport {\n  Caret,\n  CaretSpeed,\n  CaretEasing,\n  KeyboardIndicator,\n  KeyboardKeycaps,\n} from \"../../../types/common\"\nimport { fontsByType } from \"./fonts\"\nimport { getFont } from \"../../../actions/getFont\"\nimport config from \"../../../config\"\nimport ScreenKeyboard from \"../../common/screen-keyboard/ScreenKeyboard\"\nimport ScreenKeyboardDesktop from \"../../common/screen-keyboard/ScreenKeyboardDesktop\"\nimport {\n  DesktopLayout,\n  layouts as desktopLayouts,\n} from \"../../../data/desktopKeyboardLayouts\"\nimport {\n  MobileLayout,\n  layouts as mobileLayouts,\n} from \"../../../data/mobileKeyboardLayouts\"\nimport { getCharset } from \"../../../libs/charsets\"\nimport ButtonMulti from \"../../common/button-toggle/ButtonMulti\"\nimport { themes } from \"../../../data/themes\"\nimport { exportSave, importSave } from \"../../../io/save\"\nimport Confirm from \"../../common/confirm/Confirm\"\nimport { resetProgress, resetSettings } from \"../../../io/reset\"\n// import { FontsDevPreview } from \"./FontsDevPreview\"\n\nconst previewContents = [\n  (type: \"typing\" | \"reading\") => [\n    `This is a preview of the ${type} prompt. Click to toggle between different texts.`,\n  ],\n  () => [\"The quick brown fox jumps over the lazy dog.\"],\n  () => [\n    \"Aa Bb Cc Dd Ee Ff Gg Hh Ii Jj Kk Ll Mm Nn Oo Pp Qq Rr Ss Tt Uu Vv Ww Xx Yy Zz 0123456789?!\",\n  ],\n  () => [\n    `Alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice she had peeped into the book her sister was reading, but it had no pictures or conversations in it, \"and what is the use of a book,\" thought Alice \"without pictures or conversations?\"`,\n    `So she was considering in her own mind (as well as she could, for the hot day made her feel very sleepy and stupid), whether the pleasure of making a daisy-chain would be worth the trouble of getting up and picking the daisies, when suddenly a White Rabbit with pink eyes ran close by her.\"`,\n  ],\n]\n\nconst Settings: Component = () => {\n  const [previewTypingIndex, setPreviewTypingIndex] = createSignal(0)\n  const [previewReadingIndex, setPreviewReadingIndex] = createSignal(0)\n  const [confirm, setConfirm] = createSignal<string | null>(null)\n  const [loading, setLoading] = createSignal({\n    export: false,\n    import: false,\n    deleteProgress: false,\n    resetSettings: true,\n  })\n\n  const genres = createMemo(() => {\n    return [\n      ...new Set(\n        state.get.booksIndex.map((bookInfo) => bookInfo.genres).flat(),\n      ),\n    ]\n      .sort()\n      .map((genre) => ({\n        name: genre,\n        value: genre,\n      }))\n  })\n\n  const fontTyping = createMemo(() => {\n    return getFont(state.get.settings.typingPrompt.font)\n  })\n\n  const fontReading = createMemo(() => {\n    return getFont(state.get.settings.readingPrompt.font)\n  })\n\n  const keyboardLayouts = createMemo(() => {\n    const layouts = config.IS_MOBILE\n      ? mobileLayouts\n      : desktopLayouts[config.IS_APPLE ? \"mac\" : \"pc\"]\n\n    return Object.entries(layouts)\n      .filter((layout) => !layout[1].hidden)\n      .map((layout) => ({\n        name: () => <span>{layout[1].name}</span>,\n        value: layout[0],\n      }))\n  })\n\n  const themeOptions = createMemo(() => {\n    return themes.map((theme) => ({\n      name: () => (\n        <div>\n          {theme.name}\n          <small>{theme.details ?? \"standard\"}</small>\n          <div classList={{ \"theme-preview\": true, [theme.value]: true }}>\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n          </div>\n        </div>\n      ),\n      value: theme.value,\n    }))\n  })\n\n  return (\n    <main class=\"settings\">\n      {/* <FontsDevPreview /> */}\n      <details>\n        <summary>\n          <h2 class=\"icon-next\">Typing Mode</h2>\n        </summary>\n        <figure>\n          <div class=\"prompt-box\">\n            <div\n              classList={{\n                prompt: true,\n                indent: state.get.settings.typingPrompt.indentParagraphs,\n                justify: state.get.settings.typingPrompt.justify,\n                [`width-${state.get.settings.typingPrompt.lineWidth}`]: true,\n              }}\n              style={{\n                \"--font-typing\": fontTyping().font,\n                \"--font-typing-size\": fontTyping().size,\n                \"--font-typing-scale\":\n                  state.get.settings.typingPrompt.fontScale,\n                \"--line-typing-height\":\n                  state.get.settings.typingPrompt.lineHeight,\n                \"--paragraphs-typing-gap\":\n                  state.get.settings.typingPrompt.paragraphsGap,\n              }}\n              onClick={() =>\n                setPreviewTypingIndex(\n                  (prev) => (prev + 1) % previewContents.length,\n                )\n              }\n            >\n              <div class=\"paragraphs\">\n                <For each={previewContents[previewTypingIndex()](\"typing\")}>\n                  {(paragraph) => (\n                    <div class=\"p-box\">\n                      <p>{paragraph}</p>\n                    </div>\n                  )}\n                </For>\n              </div>\n            </div>\n          </div>\n        </figure>\n        <article class=\"setting\">\n          <header>\n            <h3>Font Size</h3>\n          </header>\n          <ButtonToggle\n            style=\"min-width: 2.4em;\"\n            items={[\n              { name: \"1\", value: \"0.875\" },\n              { name: \"2\", value: \"1\" },\n              { name: \"3\", value: \"1.25\" },\n              { name: \"4\", value: \"1.5\" },\n              { name: \"5\", value: \"1.75\" },\n              { name: \"6\", value: \"2\" },\n              { name: \"7\", value: \"2.25\" },\n              { name: \"8\", value: \"2.5\" },\n            ]}\n            active={state.get.settings.typingPrompt.fontScale}\n            setValue={(val) => {\n              state.set(\"settings\", \"typingPrompt\", \"fontScale\", val)\n            }}\n          />\n        </article>\n        <article class=\"setting\">\n          <header>\n            <h3>Line Height</h3>\n          </header>\n          <ButtonToggle\n            style=\"min-width: 4em;\"\n            items={[\n              { name: \"XS\", value: \"1.2\" },\n              { name: \"S\", value: \"1.3\" },\n              { name: \"M\", value: \"1.5\" },\n              { name: \"L\", value: \"1.8\" },\n              { name: \"XL\", value: \"2.2\" },\n            ]}\n            active={state.get.settings.typingPrompt.lineHeight}\n            setValue={(val) => {\n              state.set(\"settings\", \"typingPrompt\", \"lineHeight\", val)\n            }}\n          />\n        </article>\n        <Show when={!config.IS_MOBILE}>\n          <article class=\"setting\">\n            <header>\n              <h3>Line Width</h3>\n            </header>\n            <ButtonToggle\n              style=\"min-width: 4em;\"\n              items={[\n                {\n                  name: \"Auto\",\n                  value: \"auto\",\n                  tooltip: \"The width depends on the selected font.\",\n                },\n                { name: \"Min\", value: \"min\" },\n                { name: \"Mid\", value: \"mid\" },\n                { name: \"Max\", value: \"max\" },\n              ]}\n              active={state.get.settings.typingPrompt.lineWidth}\n              setValue={(val) => {\n                state.set(\"settings\", \"typingPrompt\", \"lineWidth\", val)\n              }}\n            />\n          </article>\n        </Show>\n        <article class=\"setting\">\n          <header>\n            <h3>Paragraphs Gap</h3>\n          </header>\n          <ButtonToggle\n            style=\"min-width: 4em;\"\n            items={[\n              { name: \"None\", value: \"0\" },\n              { name: \"S\", value: \"0.25\" },\n              { name: \"M\", value: \"0.5\" },\n              { name: \"L\", value: \"0.75\" },\n            ]}\n            active={state.get.settings.typingPrompt.paragraphsGap}\n            setValue={(val) => {\n              state.set(\"settings\", \"typingPrompt\", \"paragraphsGap\", val)\n            }}\n          />\n        </article>\n        <article class=\"setting\">\n          <header>\n            <h3>Indent Paragraphs</h3>\n          </header>\n          <ButtonToggle\n            style=\"min-width: 6em;\"\n            items={[\n              { name: \"Yes\", value: \"1\" },\n              { name: \"No\", value: \"0\" },\n            ]}\n            active={\n              state.get.settings.typingPrompt.indentParagraphs ? \"1\" : \"0\"\n            }\n            setValue={(val) => {\n              state.set(\n                \"settings\",\n                \"typingPrompt\",\n                \"indentParagraphs\",\n                val === \"1\",\n              )\n            }}\n          />\n        </article>\n        <article class=\"setting\">\n          <header>\n            <h3>Justify Text</h3>\n          </header>\n          <ButtonToggle\n            style=\"min-width: 6em;\"\n            items={[\n              { name: \"Yes\", value: \"1\" },\n              { name: \"No\", value: \"0\" },\n            ]}\n            active={state.get.settings.typingPrompt.justify ? \"1\" : \"0\"}\n            setValue={(val) => {\n              state.set(\"settings\", \"typingPrompt\", \"justify\", val === \"1\")\n            }}\n          />\n        </article>\n        <article class=\"setting wide\">\n          <header>\n            <h3>Font Style</h3>\n            <p>\n              Monospace fonts are recommended for the optimal typing experience!\n            </p>\n          </header>\n          <For each={fontsByType}>\n            {(fonts) => (\n              <ButtonToggle\n                class=\"font\"\n                items={fonts.map((font) => ({\n                  name: () => (\n                    <span>\n                      {font.name}\n                      <small\n                        style={{\n                          \"font-weight\":\n                            font.type === \"monospace\" ? \"600\" : \"400\",\n                          color:\n                            font.type === \"monospace\"\n                              ? \"var(--color-fg-ok)\"\n                              : \"inherit\",\n                        }}\n                      >\n                        {font.type}\n                      </small>\n                    </span>\n                  ),\n                  value: font.value,\n                }))}\n                active={state.get.settings.typingPrompt.font}\n                setValue={(val) => {\n                  state.set(\"settings\", \"typingPrompt\", \"font\", val)\n                }}\n              />\n            )}\n          </For>\n        </article>\n        <article class=\"mono\">\n          <header>\n            <h3>Caret Style</h3>\n          </header>\n          <ButtonToggle\n            style={{\n              \"min-width\": \"6rem\",\n              \"font-family\": fontTyping().font ?? '\"Open Sans\", sans-serif',\n              \"font-size\": `calc(1rem * ${fontTyping().size})`,\n            }}\n            items={[\n              {\n                name: () => (\n                  <span>\n                    <i class=\"caret-line\">L</i>ine\n                  </span>\n                ),\n                value: \"line\",\n              },\n              {\n                name: () => (\n                  <span>\n                    <i class=\"caret-floor\">F</i>loor\n                  </span>\n                ),\n                value: \"floor\",\n              },\n              {\n                name: () => (\n                  <span>\n                    <i class=\"caret-block\">B</i>lock\n                  </span>\n                ),\n                value: \"block\",\n              },\n            ]}\n            active={state.get.settings.typingPrompt.caret}\n            setValue={(val) => {\n              state.set(\"settings\", \"typingPrompt\", \"caret\", val as Caret)\n            }}\n          />\n        </article>\n        <article>\n          <header>\n            <h3>Caret Speed</h3>\n          </header>\n          <ButtonToggle\n            style={{\n              \"min-width\": \"6rem\",\n            }}\n            items={[\n              { name: \"Slow\", value: \"slow\" },\n              { name: \"Medium\", value: \"medium\" },\n              { name: \"Fast\", value: \"fast\" },\n              { name: \"Turbo\", value: \"vary-fast\" },\n              { name: \"Instant\", value: \"instant\" },\n            ]}\n            active={state.get.settings.typingPrompt.caretSpeed}\n            setValue={(val) => {\n              state.set(\n                \"settings\",\n                \"typingPrompt\",\n                \"caretSpeed\",\n                val as CaretSpeed,\n              )\n            }}\n          />\n        </article>\n        <article>\n          <header>\n            <h3>Caret Animation</h3>\n            <p>\n              It controls how the caret accelerates and decelerates. You can\n              preview different behaviors{\" \"}\n              <a href=\"https://codepen.io/caderek/full/qBGmJJP\" target=\"_blank\">\n                here\n              </a>\n              .\n            </p>\n          </header>\n          <ButtonToggle\n            style={{\n              \"min-width\": \"6rem\",\n            }}\n            items={[\n              { name: \"Linear\", value: \"linear\" },\n              { name: \"Swing\", value: \"swing\" },\n              { name: \"Ease\", value: \"ease\" },\n              { name: \"Ease-in\", value: \"ease-in\" },\n              { name: \"Ease-out\", value: \"ease-out\" },\n            ]}\n            active={state.get.settings.typingPrompt.caretEasing}\n            setValue={(val) => {\n              state.set(\n                \"settings\",\n                \"typingPrompt\",\n                \"caretEasing\",\n                val as CaretEasing,\n              )\n            }}\n          />\n        </article>\n        <article class=\"setting\">\n          <header>\n            <h3>Typos Indication</h3>\n            <p>\n              First option is recommended, as it's closer to the real-world\n              typing. If you are not using a monospace font, the second option\n              prevents layout shifts.\n            </p>\n          </header>\n          <ButtonToggle\n            style=\"min-width: 10em;\"\n            items={[\n              {\n                name: \"Replace\",\n                value: \"replace\",\n              },\n              {\n                name: \"Highlight Only\",\n                value: \"highlight-ony\",\n              },\n            ]}\n            active={\n              state.get.settings.typingPrompt.showTypos\n                ? \"replace\"\n                : \"highlight-ony\"\n            }\n            setValue={(val) => {\n              state.set(\n                \"settings\",\n                \"typingPrompt\",\n                \"showTypos\",\n                val === \"replace\",\n              )\n            }}\n          />\n        </article>\n        <article class=\"setting\">\n          <header>\n            <h3>Backspace Behavior</h3>\n            <p>\n              Selected option will be used for <code>Backspace</code>, other\n              option will be used for{\" \"}\n              <code>\n                {config.IS_MOBILE ? \"Shift\" : config.IS_APPLE ? \"Cmd\" : \"Ctrl\"}\n                +Backspace\n              </code>\n              .\n            </p>\n          </header>\n          <ButtonToggle\n            style=\"min-width: 10em;\"\n            items={[\n              {\n                name: \"Delete Character\",\n                value: \"char\",\n              },\n              {\n                name: \"Delete Word\",\n                value: \"word\",\n              },\n            ]}\n            active={\n              state.get.settings.typingPrompt.backspaceWholeWord\n                ? \"word\"\n                : \"char\"\n            }\n            setValue={(val) => {\n              state.set(\n                \"settings\",\n                \"typingPrompt\",\n                \"backspaceWholeWord\",\n                val === \"word\",\n              )\n            }}\n          />\n        </article>\n        <article class=\"setting\">\n          <header>\n            <h3>Out-of-focus Warning</h3>\n            <p>\n              Shows the warning overlay when the window is out of focus, and you\n              can't type.\n            </p>\n          </header>\n          <ButtonToggle\n            style=\"min-width: 6em;\"\n            items={[\n              { name: \"Yes\", value: \"1\" },\n              { name: \"No\", value: \"0\" },\n            ]}\n            active={state.get.settings.typingPrompt.focusWarning ? \"1\" : \"0\"}\n            setValue={(val) => {\n              state.set(\"settings\", \"typingPrompt\", \"focusWarning\", val === \"1\")\n            }}\n          />\n        </article>\n      </details>\n      <details>\n        <summary>\n          <h2 class=\"icon-next\">Reading Mode</h2>\n        </summary>\n        <figure>\n          <div class=\"prompt-box\">\n            <div\n              classList={{\n                prompt: true,\n                \"reading-mode\": true,\n                indent: state.get.settings.readingPrompt.indentParagraphs,\n                justify: state.get.settings.readingPrompt.justify,\n                [`width-${state.get.settings.readingPrompt.lineWidth}`]: true,\n              }}\n              style={{\n                \"--font-reading\": fontReading().font,\n                \"--font-reading-size\": fontReading().size,\n                \"--font-reading-scale\":\n                  state.get.settings.readingPrompt.fontScale,\n                \"--line-reading-height\":\n                  state.get.settings.readingPrompt.lineHeight,\n                \"--paragraphs-reading-gap\":\n                  state.get.settings.readingPrompt.paragraphsGap,\n              }}\n              onClick={() =>\n                setPreviewReadingIndex(\n                  (prev) => (prev + 1) % previewContents.length,\n                )\n              }\n            >\n              <div class=\"paragraphs\">\n                <For each={previewContents[previewReadingIndex()](\"reading\")}>\n                  {(paragraph) => (\n                    <div class=\"p-box\">\n                      <p>{paragraph}</p>\n                    </div>\n                  )}\n                </For>\n              </div>\n            </div>\n          </div>\n        </figure>\n        <article class=\"setting\">\n          <header>\n            <h3>Font Size</h3>\n          </header>\n          <ButtonToggle\n            style=\"min-width: 4em;\"\n            items={[\n              { name: \"XS\", value: \"0.875\" },\n              { name: \"S\", value: \"1\" },\n              { name: \"M\", value: \"1.25\" },\n              { name: \"L\", value: \"1.5\" },\n              { name: \"XL\", value: \"2\" },\n            ]}\n            active={state.get.settings.readingPrompt.fontScale}\n            setValue={(val) => {\n              state.set(\"settings\", \"readingPrompt\", \"fontScale\", val)\n            }}\n          />\n        </article>\n        <article class=\"setting\">\n          <header>\n            <h3>Line Height</h3>\n          </header>\n          <ButtonToggle\n            style=\"min-width: 4em;\"\n            items={[\n              { name: \"XS\", value: \"1.1\" },\n              { name: \"S\", value: \"1.3\" },\n              { name: \"M\", value: \"1.5\" },\n              { name: \"L\", value: \"1.8\" },\n              { name: \"XL\", value: \"2.2\" },\n            ]}\n            active={state.get.settings.readingPrompt.lineHeight}\n            setValue={(val) => {\n              state.set(\"settings\", \"readingPrompt\", \"lineHeight\", val)\n            }}\n          />\n        </article>\n        <Show when={!config.IS_MOBILE}>\n          <article class=\"setting\">\n            <header>\n              <h3>Line Width</h3>\n            </header>\n            <ButtonToggle\n              style=\"min-width: 4em;\"\n              items={[\n                {\n                  name: \"Auto\",\n                  value: \"auto\",\n                  tooltip: \"The width depends on the selected font.\",\n                },\n                { name: \"Min\", value: \"min\" },\n                { name: \"Mid\", value: \"mid\" },\n                { name: \"Max\", value: \"max\" },\n              ]}\n              active={state.get.settings.readingPrompt.lineWidth}\n              setValue={(val) => {\n                state.set(\"settings\", \"readingPrompt\", \"lineWidth\", val)\n              }}\n            />\n          </article>\n        </Show>\n        <article class=\"setting\">\n          <header>\n            <h3>Paragraphs Gap</h3>\n          </header>\n          <ButtonToggle\n            style=\"min-width: 4em;\"\n            items={[\n              { name: \"None\", value: \"0\" },\n              { name: \"S\", value: \"0.25\" },\n              { name: \"M\", value: \"0.5\" },\n              { name: \"L\", value: \"0.75\" },\n            ]}\n            active={state.get.settings.readingPrompt.paragraphsGap}\n            setValue={(val) => {\n              state.set(\"settings\", \"readingPrompt\", \"paragraphsGap\", val)\n            }}\n          />\n        </article>\n        <article class=\"setting\">\n          <header>\n            <h3>Indent Paragraphs</h3>\n          </header>\n          <ButtonToggle\n            style=\"min-width: 6em;\"\n            items={[\n              { name: \"Yes\", value: \"1\" },\n              { name: \"No\", value: \"0\" },\n            ]}\n            active={\n              state.get.settings.readingPrompt.indentParagraphs ? \"1\" : \"0\"\n            }\n            setValue={(val) => {\n              state.set(\n                \"settings\",\n                \"readingPrompt\",\n                \"indentParagraphs\",\n                val === \"1\",\n              )\n            }}\n          />\n        </article>\n        <article class=\"setting\">\n          <header>\n            <h3>Justify Text</h3>\n          </header>\n          <ButtonToggle\n            style=\"min-width: 6em;\"\n            items={[\n              { name: \"Yes\", value: \"1\" },\n              { name: \"No\", value: \"0\" },\n            ]}\n            active={state.get.settings.readingPrompt.justify ? \"1\" : \"0\"}\n            setValue={(val) => {\n              state.set(\"settings\", \"readingPrompt\", \"justify\", val === \"1\")\n            }}\n          />\n        </article>\n        <article class=\"setting wide\">\n          <header>\n            <h3>Font Style</h3>\n          </header>\n          <For each={fontsByType}>\n            {(fonts) => (\n              <ButtonToggle\n                class=\"font\"\n                items={fonts.map((font) => ({\n                  name: () => (\n                    <span>\n                      {font.name}\n                      <small>{font.type}</small>\n                    </span>\n                  ),\n                  value: font.value,\n                }))}\n                active={state.get.settings.readingPrompt.font}\n                setValue={(val) => {\n                  state.set(\"settings\", \"readingPrompt\", \"font\", val)\n                }}\n              />\n            )}\n          </For>\n        </article>\n      </details>\n      <details>\n        <summary>\n          <h2 class=\"icon-next\">Screen Keyboard</h2>\n        </summary>\n\n        <Switch>\n          <Match\n            when={\n              state.get.settings.typingPrompt.screenKeyboard && config.IS_MOBILE\n            }\n          >\n            <figure>\n              <ScreenKeyboard\n                handleTyping={() => {}}\n                expectedChar={\"a\"}\n                prev={\"\"}\n                prevOk={true}\n              />\n            </figure>\n          </Match>\n          <Match\n            when={\n              state.get.settings.typingPrompt.screenKeyboard &&\n              !config.IS_MOBILE\n            }\n          >\n            <figure>\n              <ScreenKeyboardDesktop\n                handleTyping={() => {}}\n                expectedChar={\"a\"}\n                prev={\"\"}\n                prevOk={true}\n                charset={getCharset(\"en\")}\n              />\n            </figure>\n          </Match>\n        </Switch>\n        <article class=\"setting\">\n          <header>\n            <h3>\n              {config.IS_MOBILE ? \"Keyboard Type\" : \"Show Screen Keyboard\"}\n            </h3>\n          </header>\n          <ButtonToggle\n            style={{ \"min-width\": config.IS_MOBILE ? \"8em\" : \"6em\" }}\n            items={[\n              { name: config.IS_MOBILE ? \"Dedicated\" : \"Yes\", value: \"1\" },\n              { name: config.IS_MOBILE ? \"Built-in\" : \"No\", value: \"0\" },\n            ]}\n            active={state.get.settings.typingPrompt.screenKeyboard ? \"1\" : \"0\"}\n            setValue={(val) => {\n              state.set(\n                \"settings\",\n                \"typingPrompt\",\n                \"screenKeyboard\",\n                val === \"1\",\n              )\n            }}\n          />\n        </article>\n        <Show\n          when={\n            config.IS_MOBILE &&\n            !config.IS_APPLE &&\n            state.get.settings.typingPrompt.screenKeyboard\n          }\n        >\n          <article class=\"setting\">\n            <header>\n              <h3>Haptic Feedback</h3>\n            </header>\n            <ButtonToggle\n              style=\"min-width: 4.8em;\"\n              items={[\n                { name: \"None\", value: \"0\" },\n                { name: \"Low\", value: \"20\" },\n                { name: \"Medium\", value: \"40\" },\n                { name: \"High\", value: \"60\" },\n              ]}\n              active={String(state.get.settings.typingPrompt.keyboardHaptics)}\n              setValue={(val) => {\n                const force = Number(val)\n                state.set(\"settings\", \"typingPrompt\", \"keyboardHaptics\", force)\n\n                if (force > 0) {\n                  navigator?.vibrate(force)\n                }\n              }}\n            />\n          </article>\n        </Show>\n        <Show when={state.get.settings.typingPrompt.screenKeyboard}>\n          <article class=\"setting\">\n            <header>\n              <h3>Key Thickness</h3>\n            </header>\n            <ButtonToggle\n              style=\"min-width: 4.8em;\"\n              items={[\n                { name: \"None\", value: \"0px\" },\n                { name: \"Low\", value: \"2px\" },\n                { name: \"Medium\", value: \"4px\" },\n                { name: \"High\", value: \"6px\" },\n              ]}\n              active={state.get.settings.typingPrompt.keyboardThickness}\n              setValue={(val) => {\n                state.set(\"settings\", \"typingPrompt\", \"keyboardThickness\", val)\n              }}\n            />\n          </article>\n        </Show>\n        <Show when={state.get.settings.typingPrompt.screenKeyboard}>\n          <article class=\"setting\">\n            <header>\n              <h3>Key Style</h3>\n            </header>\n            <ButtonToggle\n              style=\"min-width: 6.7em;\"\n              items={[\n                { name: \"Standard\", value: \"standard\" },\n                { name: \"Semi-Blank\", value: \"semi-blank\" },\n                { name: \"Blank\", value: \"blank\" },\n              ]}\n              active={state.get.settings.typingPrompt.keyboardKeycaps}\n              setValue={(val) => {\n                state.set(\n                  \"settings\",\n                  \"typingPrompt\",\n                  \"keyboardKeycaps\",\n                  val as KeyboardKeycaps,\n                )\n              }}\n            />\n          </article>\n        </Show>\n        <Show when={state.get.settings.typingPrompt.screenKeyboard}>\n          <article class=\"setting\">\n            <header>\n              <h3>Key Indicators</h3>\n              <p>\n                <code>Live</code> highlights the currently pressed characters,{\" \"}\n                <code>Next</code> marks the next characters that the user should\n                type.\n              </p>\n            </header>\n            <ButtonToggle\n              style=\"min-width: 5em;\"\n              items={[\n                { name: \"None\", value: \"none\" },\n                { name: \"Live\", value: \"last\" },\n                { name: \"Next\", value: \"next\" },\n                { name: \"Both\", value: \"both\" },\n              ]}\n              active={state.get.settings.typingPrompt.keyboardIndicator}\n              setValue={(val) => {\n                state.set(\n                  \"settings\",\n                  \"typingPrompt\",\n                  \"keyboardIndicator\",\n                  val as KeyboardIndicator,\n                )\n              }}\n            />\n          </article>\n        </Show>\n        <Show when={state.get.settings.typingPrompt.screenKeyboard}>\n          <article class=\"setting wide\">\n            <header>\n              <h3>Keyboard Layout</h3>\n              <Show when={!config.IS_MOBILE}>\n                <p>\n                  This option does not remap your keybord, you still have to\n                  change the layout in your system settings.\n                </p>\n              </Show>\n            </header>\n            <Switch>\n              <Match when={config.IS_MOBILE}>\n                <ButtonToggle\n                  class=\"font\"\n                  items={keyboardLayouts()}\n                  active={state.get.settings.typingPrompt.keyboardLayoutMobile}\n                  setValue={(val) => {\n                    state.set(\n                      \"settings\",\n                      \"typingPrompt\",\n                      \"keyboardLayoutMobile\",\n                      val as MobileLayout,\n                    )\n                  }}\n                />\n              </Match>\n              <Match when={!config.IS_MOBILE}>\n                <ButtonToggle\n                  class=\"font\"\n                  items={keyboardLayouts()}\n                  active={state.get.settings.typingPrompt.keyboardLayout}\n                  setValue={(val) => {\n                    state.set(\n                      \"settings\",\n                      \"typingPrompt\",\n                      \"keyboardLayout\",\n                      val as DesktopLayout,\n                    )\n                  }}\n                />\n              </Match>\n            </Switch>\n          </article>\n        </Show>\n        <Show when={state.get.settings.typingPrompt.screenKeyboard}>\n          <article class=\"setting wide\">\n            <header>\n              <h3>Keyboard Font</h3>\n            </header>\n            <For each={fontsByType}>\n              {(fonts) => (\n                <ButtonToggle\n                  class=\"font\"\n                  items={fonts.map((font) => ({\n                    name: () => (\n                      <span>\n                        {font.name}\n                        <small>{font.type}</small>\n                      </span>\n                    ),\n                    value: font.value,\n                  }))}\n                  active={state.get.settings.typingPrompt.keyBoardFont}\n                  setValue={(val) => {\n                    state.set(\"settings\", \"typingPrompt\", \"keyBoardFont\", val)\n                  }}\n                />\n              )}\n            </For>\n          </article>\n        </Show>\n      </details>\n      <details>\n        <summary>\n          <h2 class=\"icon-next\">Themes</h2>\n        </summary>\n        <hr />\n        <article class=\"setting wide\">\n          <header>\n            <p>\n              Every theme has two versions - light and dark. More themes are\n              coming soon.\n            </p>\n          </header>\n          <ButtonToggle\n            class=\"font\"\n            items={themeOptions()}\n            active={state.get.settings.ui.theme}\n            setValue={(val) => state.set(\"settings\", \"ui\", \"theme\", val)}\n          />\n        </article>\n      </details>\n      <details>\n        <summary>\n          <h2 class=\"icon-next\">Recommendations</h2>\n        </summary>\n        <hr />\n        <article class=\"setting wide\">\n          <header>\n            <h3>Preferred Length</h3>\n          </header>\n          <ButtonToggle\n            style=\"min-width: 5em;\"\n            items={[\n              { name: \"100 pages\", value: \"100\" },\n              { name: \"200 pages\", value: \"200\" },\n              { name: \"300 pages\", value: \"300\" },\n              { name: \"400 pages\", value: \"400\" },\n              { name: \"500 pages\", value: \"500\" },\n              { name: \"All\", value: \"0\" },\n            ]}\n            active={String(state.get.settings.ui.favoriteMaxLength)}\n            setValue={(val) => {\n              state.set(\"settings\", \"ui\", \"favoriteMaxLength\", Number(val))\n            }}\n          />\n        </article>\n        <article class=\"setting wide\">\n          <header>\n            <h3>Favorite genres</h3>\n          </header>\n          <ButtonMulti\n            class=\"font\"\n            items={genres()}\n            active={state.get.settings.ui.favoriteGenres}\n            setValue={(val) => {\n              state.set(\"settings\", \"ui\", \"favoriteGenres\", (prev) => {\n                if (prev.includes(val)) {\n                  return prev.filter((genre) => genre !== val)\n                }\n\n                return [...prev, val]\n              })\n            }}\n          />\n        </article>\n      </details>\n      <details>\n        <summary>\n          <h2 class=\"icon-next\">Manage Data</h2>\n        </summary>\n        <hr />\n        <article class=\"setting\">\n          <header>\n            <h3>Export Save</h3>\n            <p>\n              Exports data into the <code>.save</code> file, so you can recover\n              your progress if you clear the browser data, or change a\n              browser/device.\n            </p>\n          </header>\n          <div class=\"action\">\n            <button\n              classList={{ ok: true, loading: loading().export }}\n              style={{ \"min-width\": \"12em\" }}\n              onClick={async () => {\n                setLoading((prev) => ({ ...prev, export: true }))\n                await exportSave()\n                setLoading((prev) => ({ ...prev, export: false }))\n              }}\n            >\n              Export\n            </button>\n          </div>\n        </article>\n        <article class=\"setting\">\n          <header>\n            <h3>Import Save</h3>\n            <p>\n              Imports progress from the <code>.save</code> file. The current\n              data and the save data are merged. If you want to load only the\n              progress from the save file, delete current progress first.\n            </p>\n          </header>\n          <div class=\"action\">\n            <label\n              classList={{\n                file: true,\n                warning: true,\n                loading: loading().import,\n              }}\n              style={{ \"min-width\": \"12em\" }}\n            >\n              Import\n              <input\n                type=\"file\"\n                placeholder=\"\"\n                accept=\".save\"\n                onChange={async (e) => {\n                  setLoading((prev) => ({ ...prev, import: true }))\n                  const file = e.target.files?.[0]\n                  if (file) {\n                    await importSave(file)\n                  }\n                  e.target.value = \"\"\n                  setLoading((prev) => ({ ...prev, import: false }))\n                }}\n              />\n            </label>\n          </div>\n        </article>\n        <article class=\"setting\">\n          <header>\n            <h3>Delete Progress</h3>\n            <p>Deletes all progress, but preserves the settings.</p>\n          </header>\n          <div class=\"action\">\n            <button\n              classList={{ error: true, loading: loading().deleteProgress }}\n              style={{ \"min-width\": \"12em\" }}\n              onClick={() => {\n                setConfirm(\"delete progress\")\n              }}\n            >\n              Delete Progress\n            </button>\n          </div>\n        </article>\n        <article class=\"setting\">\n          <header>\n            <h3>Reset Settings</h3>\n            <p>\n              Resets the settings to their default values, preserves the\n              progress.\n            </p>\n          </header>\n          <div class=\"action\">\n            <button\n              class=\"error\"\n              style={{ \"min-width\": \"12em\" }}\n              onClick={() => {\n                setConfirm(\"reset settings\")\n              }}\n            >\n              Reset Settings\n            </button>\n          </div>\n        </article>\n      </details>\n      <Show when={confirm()}>\n        <Confirm\n          requiredText={confirm() ?? \"\"}\n          onSumbmit={async () => {\n            switch (confirm()) {\n              case \"delete progress\":\n                setLoading((prev) => ({ ...prev, deleteProgress: true }))\n                await resetProgress()\n                setLoading((prev) => ({ ...prev, deleteProgress: false }))\n                break\n              case \"reset settings\":\n                setLoading((prev) => ({ ...prev, resetSettings: true }))\n                await resetSettings()\n                setLoading((prev) => ({ ...prev, resetSettings: false }))\n                break\n            }\n\n            setConfirm(null)\n          }}\n          onCancel={() => setConfirm(null)}\n        />\n      </Show>\n    </main>\n  )\n}\n\nexport default Settings\n","import \"./RecentStats.css\"\nimport { Component, createMemo, createResource, Show } from \"solid-js\"\nimport state from \"../../../state/state\"\nimport { summarizeChapterStats } from \"../prompt/prompt-actions/summarizeStats\"\nimport Chart from \"../results/Chart\"\nimport StatsStrip from \"../../common/stats-strip/StatsStrip\"\nimport { formatNum, formatDuration } from \"../../../utils/formatters\"\nimport { getAccuracyThreshold } from \"../../../actions/getAccuracyThreshold\"\nimport { getConsistencyThreshold } from \"../../../actions/getConsistencyThreshold\"\nimport storage from \"../../../storage/storage\"\nimport { getDailyDate } from \"../../../actions/getDailyDate\"\nimport { getDailyProgress } from \"../../../actions/getDailyProgress\"\n\nconst RecentStats: Component = () => {\n  const recent = createMemo(() => {\n    return summarizeChapterStats(state.get.statsSummary.recent, 0, false)\n  })\n\n  const recentChartData = createMemo(() => {\n    const data = state.get.statsSummary.recent\n\n    if (data.length === 0) {\n      return null\n    }\n\n    const labels = new Array(data.length).fill(0).map((_, i) => i + 1)\n    const wpm = new Array(data.length)\n    const acc = new Array(data.length)\n    const con = new Array(data.length)\n\n    for (let i = 0; i < data.length; i++) {\n      wpm[i] = { value: data[i].wpm.value, weight: data[i].wpm.weight }\n      acc[i] = { value: data[i].acc.value, weight: data[i].acc.weight }\n      con[i] = { value: data[i].con.value, weight: data[i].con.weight }\n    }\n\n    return { labels, wpm, acc, con }\n  })\n\n  const statsNameSub = createMemo(() => {\n    const len = state.get.statsSummary.recent.length\n    return len === 1 ? \"Last paragraph\" : `Last ${len} paragraphs`\n  })\n\n  const [dailyProgress] = createResource(async () => {\n    const dailyStats = await storage.dailyStats.get(getDailyDate())\n\n    return getDailyProgress(dailyStats)\n  })\n\n  const dataLabel = createMemo(() => {\n    const paragraphsCount = recentChartData()?.labels.length ?? 0\n\n    return paragraphsCount === 1\n      ? `Last paragraph`\n      : `Last ${paragraphsCount} paragraphs`\n  })\n\n  return (\n    <section class=\"recent-stats\">\n      <h2>Recent Stats</h2>\n      <StatsStrip\n        data={[\n          {\n            name: \"Speed\",\n            nameSub: statsNameSub(),\n            val: recent().wpm.value ?? null,\n            isPercent: false,\n            precision: 2,\n            unit: \" wpm\",\n            tooltipTitle:\n              \"Words per minute, where one word equals five characters (including spaces)\",\n            tooltipVal: recent().wpm.raw\n              ? `${formatNum(recent().wpm.raw ?? 0, 2)} raw`\n              : undefined,\n          },\n          {\n            name: \"Accuracy\",\n            nameSub: statsNameSub(),\n            val: recent().acc.value ?? null,\n            isPercent: true,\n            precision: 2,\n            unit: \" %\",\n            type: getAccuracyThreshold(recent().acc.value ?? 0),\n            tooltipTitle: \"Percentage of correct keystrokes\",\n            tooltipVal: \"Target accuracy >= 98%\",\n          },\n          {\n            name: \"Consistency\",\n            nameSub: statsNameSub(),\n            val: recent().con.value ?? null,\n            isPercent: true,\n            precision: 2,\n            unit: \" %\",\n            type: getConsistencyThreshold(recent().con.value ?? 0),\n            tooltipTitle: \"Measures how consistent is you speed beteen words\",\n            tooltipVal: \"Target consistency >= 80%\",\n          },\n          {\n            name: \"Daily Goal\",\n            nameSub: \"Type for 15 min\",\n            val: dailyProgress()?.progress ?? 0,\n            isPercent: true,\n            precision: 0,\n            showZero: true,\n            unit: \" %\",\n            type: (dailyProgress()?.progress ?? 0) >= 1 ? \"ok\" : \"warning\",\n            tooltipTitle: \"Measures the completion of the daily goal\",\n            tooltipVal: `${formatDuration(\n              dailyProgress()?.time ?? 0,\n              true,\n            )}, ${formatNum((dailyProgress()?.length ?? 0) / 5, 0)} words\n            `,\n          },\n        ]}\n        desktopColumns={4}\n        mobileColumns={2}\n      />\n      <Show when={recentChartData()}>\n        <Chart\n          data={recentChartData()!}\n          dataLabel={dataLabel()}\n          tooltipLabel=\"paragraph\"\n          wpmPB={0}\n        />\n      </Show>\n    </section>\n  )\n}\n\nexport default RecentStats\n","import \"./LongTermStats.css\"\nimport {\n  Component,\n  createMemo,\n  createResource,\n  createSignal,\n  Show,\n} from \"solid-js\"\nimport state from \"../../../state/state\"\nimport storage from \"../../../storage/storage\"\nimport Chart from \"../results/Chart\"\nimport { formatDuration, formatNum } from \"../../../utils/formatters\"\nimport StatsStrip from \"../../common/stats-strip/StatsStrip\"\nimport { getAccuracyThreshold } from \"../../../actions/getAccuracyThreshold\"\nimport { getConsistencyThreshold } from \"../../../actions/getConsistencyThreshold\"\nimport { getDailyProgress } from \"../../../actions/getDailyProgress\"\nimport { AverageStats } from \"../../../types/common\"\nimport SmallButtonToggle from \"../../common/small-button-toggle/SmallButtonToggle\"\nimport { summarizeAverageStats } from \"../prompt/prompt-actions/summarizeStats\"\nimport config from \"../../../config\"\n\nfunction getMonthlyStats(\n  entries: {\n    label: string\n    data: AverageStats | null\n  }[],\n) {\n  const monthlyEntries: { [key: string]: AverageStats[] } = {}\n\n  for (const entry of entries) {\n    if (entry.data) {\n      const label = entry.label.slice(0, 7)\n      if (!monthlyEntries[label]) {\n        monthlyEntries[label] = []\n      }\n\n      monthlyEntries[label].push(entry.data)\n    }\n  }\n\n  return Object.entries(monthlyEntries)\n    .map(([label, entries]) => ({\n      label,\n      data: summarizeAverageStats(entries),\n    }))\n    .sort((a, b) => a.label.localeCompare(b.label))\n}\n\nconst LongTermStats: Component = () => {\n  const [tab, setTab] = createSignal(\"daily\")\n\n  const [dailyData] = createResource(async () => {\n    const labels = (await storage.dailyStats.keys()).sort()\n\n    const data = await Promise.all(\n      labels.map((label) => storage.dailyStats.get(label)),\n    )\n\n    return data.map((entry, i) => ({ label: labels[i], data: entry }))\n  })\n\n  const [books] = createResource(async () => {\n    const keys = await storage.booksStats.keys()\n    const entries = await Promise.all(\n      keys.map((key) => storage.booksStats.get(key)),\n    )\n\n    return entries.map((entry, i) => ({ id: keys[i], ...entry }))\n  })\n\n  const [chartData, { refetch }] = createResource(dailyData, (daily) => {\n    const entries =\n      tab() === \"daily\" ? daily.slice(-30) : getMonthlyStats(daily)\n    const size = entries.length\n\n    if (size === 0) {\n      return undefined\n    }\n\n    const labels = entries.map((entry) => entry.label)\n\n    const wpm = new Array(size)\n    const acc = new Array(size)\n    const con = new Array(size)\n    const len = new Array(size)\n    const time = new Array(size)\n\n    for (let i = 0; i < size; i++) {\n      wpm[i] = {\n        value: entries[i].data?.wpm.value,\n        weight: entries[i].data?.wpm.weight,\n      }\n      acc[i] = {\n        value: entries[i].data?.acc.value,\n        weight: entries[i].data?.acc.weight,\n      }\n      con[i] = {\n        value: entries[i].data?.con.value,\n        weight: entries[i].data?.con.weight,\n      }\n      len[i] = entries[i].data?.typed ?? 0\n      time[i] = entries[i].data?.time ?? 0\n    }\n\n    return {\n      stats: { labels, wpm, acc, con },\n      activity: { labels, len, time },\n    }\n  })\n\n  const [dailyAverageProgress] = createResource(dailyData, (daily) => {\n    const progressByDays = daily.map(\n      (entry) => getDailyProgress(entry.data).progress,\n    )\n\n    return progressByDays.length > 0\n      ? progressByDays.reduce((sum, x) => sum + x, 0) / progressByDays.length\n      : 0\n  })\n\n  const average = createMemo(() => {\n    return state.get.statsSummary.average\n  })\n\n  const progressData = createMemo(() => {\n    let booksCompleted = 0\n    let charactersTyped = 0\n    let charactersRead = 0\n    let typingTime = 0\n\n    for (const book of books() ?? []) {\n      if (book.progress === 1) {\n        booksCompleted++\n      }\n      charactersTyped += book.typed ?? 0\n      charactersRead += book.read ?? 0\n      typingTime += book.time ?? 0\n    }\n\n    const charactersTotal = charactersTyped + charactersRead\n\n    return [\n      {\n        name: \"Books Completed\",\n        nameSub: \"All time\",\n        val: booksCompleted ?? null,\n        isPercent: false,\n        precision: 0,\n        unit: \"\",\n        showZero: true,\n      },\n      {\n        name: \"Total Pages\",\n        nameSub: \"All time\",\n        val: charactersTotal / config.CHARACTERS_PER_PAGE,\n        isPercent: false,\n        precision: 0,\n        unit: \"\",\n        tooltipVal: `${formatNum(charactersTotal / 5, 0)} words`,\n        showZero: true,\n      },\n      {\n        name: \"Pages Typed\",\n        nameSub: \"All time\",\n        val: charactersTyped / config.CHARACTERS_PER_PAGE,\n        isPercent: false,\n        precision: 0,\n        unit: \"\",\n        tooltipVal: `${formatNum(charactersTyped / 5, 0)} words`,\n        showZero: true,\n      },\n      {\n        name: \"Typing Time\",\n        nameSub: \"All time\",\n        val: formatDuration(typingTime),\n        isPercent: false,\n        precision: 0,\n        unit: \"\",\n        tooltipVal: \"hours : minutes : seconds\",\n      },\n    ]\n  })\n\n  return (\n    <section class=\"long-term-stats\">\n      <h2>Long-Term Stats</h2>\n      <StatsStrip data={progressData()} desktopColumns={4} mobileColumns={2} />\n      <StatsStrip\n        data={[\n          {\n            name: \"Speed\",\n            nameSub: \"All time average\",\n            val: average().wpm.value ?? null,\n            isPercent: false,\n            precision: 2,\n            unit: \" wpm\",\n            tooltipTitle:\n              \"Words per minute, where one word equals five characters (including spaces)\",\n            tooltipVal: average().wpm.raw\n              ? `${formatNum(average().wpm.raw ?? 0, 2)} raw`\n              : undefined,\n          },\n          {\n            name: \"Accuracy\",\n            nameSub: \"All time average\",\n            val: average().acc.value ?? null,\n            isPercent: true,\n            precision: 2,\n            unit: \" %\",\n            type: getAccuracyThreshold(average().acc.value ?? 0),\n            tooltipTitle: \"Percentage of correct keystrokes\",\n            tooltipVal: \"Target accuracy >= 98%\",\n          },\n          {\n            name: \"Consistency\",\n            nameSub: \"All time average\",\n            val: average().con.value ?? null,\n            isPercent: true,\n            precision: 2,\n            unit: \" %\",\n            type: getConsistencyThreshold(average().con.value ?? 0),\n            tooltipTitle: \"Measures how consistent is you speed beteen words\",\n            tooltipVal: \"Target consistency >= 80%\",\n          },\n          {\n            name: \"Daily Goal\",\n            nameSub: \"Average completion\",\n            val: dailyAverageProgress() ?? 0,\n            isPercent: true,\n            precision: 0,\n            unit: \" %\",\n            type: (dailyAverageProgress() ?? 0) >= 1 ? \"ok\" : \"warning\",\n            tooltipTitle: \"Measures the average completion of the daily goal\",\n          },\n        ]}\n        desktopColumns={4}\n        mobileColumns={2}\n      />\n      <hr />\n      <Show when={chartData()}>\n        <SmallButtonToggle\n          class=\"tabs-toggle\"\n          items={[\n            {\n              name: \"Daily\",\n              value: \"daily\",\n            },\n            {\n              name: \"Monthly\",\n              value: \"monthly\",\n            },\n          ]}\n          joined={true}\n          active={tab()}\n          setValue={(val) => {\n            setTab(val)\n            refetch()\n          }}\n        />\n        <Chart\n          data={chartData()!.stats}\n          dataLabel={tab() === \"daily\" ? \"DAY\" : \"MONTH\"}\n          wpmPB={0}\n        />\n        <Chart\n          type=\"activity\"\n          data={chartData()!.activity}\n          dataLabel={tab() === \"daily\" ? \"DAY\" : \"MONTH\"}\n          wpmPB={0}\n        />\n      </Show>\n    </section>\n  )\n}\n\nexport default LongTermStats\n","import \"./TopScores.css\"\nimport { Component, createMemo, createSignal } from \"solid-js\"\nimport StatsStrip from \"../../common/stats-strip/StatsStrip\"\nimport state from \"../../../state/state\"\nimport { formatNum } from \"../../../utils/formatters\"\nimport { getAccuracyThreshold } from \"../../../actions/getAccuracyThreshold\"\nimport { getConsistencyThreshold } from \"../../../actions/getConsistencyThreshold\"\nimport SmallButtonToggle from \"../../common/small-button-toggle/SmallButtonToggle\"\n\nconst TopScores: Component = () => {\n  const [tab, setTab] = createSignal(\"paragraph\")\n\n  const data = createMemo(() => {\n    const nameSub = `Single ${tab()}`\n    const stats =\n      tab() === \"chapter\"\n        ? state.get.statsSummary.topChapter\n        : tab() === \"book\"\n          ? state.get.statsSummary.topBook\n          : state.get.statsSummary.topParagraph\n\n    return [\n      {\n        name: \"Top Speed\",\n        nameSub,\n        val: stats.wpm.value ?? null,\n        isPercent: false,\n        precision: 2,\n        unit: \" wpm\",\n        tooltipTitle:\n          \"Words per minute, where one word equals five characters (including spaces)\",\n        tooltipVal: stats.raw.value\n          ? `${formatNum(stats.raw.value ?? 0, 2)} raw`\n          : undefined,\n      },\n      {\n        name: \"Top Accuracy\",\n        nameSub,\n        val: stats.acc.value ?? null,\n        isPercent: true,\n        precision: 2,\n        unit: \" %\",\n        type: getAccuracyThreshold(stats.acc.value ?? 0),\n        tooltipTitle: \"Percentage of correct keystrokes\",\n        tooltipVal: \"Target accuracy >= 98%\",\n      },\n      {\n        name: \"Top Consistency\",\n        nameSub,\n        val: stats.con.value ?? null,\n        isPercent: true,\n        precision: 2,\n        unit: \" %\",\n        type: getConsistencyThreshold(stats.con.value ?? 0),\n        tooltipTitle: \"Measures how consistent is you speed beteen words\",\n        tooltipVal: \"Target consistency >= 80%\",\n      },\n    ]\n  })\n\n  return (\n    <section class=\"top-scores\">\n      <h2>Top Scores</h2>\n      <SmallButtonToggle\n        class=\"tabs-toggle\"\n        items={[\n          {\n            name: \"Paragraph\",\n            value: \"paragraph\",\n          },\n          {\n            name: \"Chapter\",\n            value: \"chapter\",\n          },\n          {\n            name: \"Book\",\n            value: \"book\",\n          },\n        ]}\n        joined={true}\n        active={tab()}\n        setValue={(val) => {\n          setTab(val)\n        }}\n      />\n      <StatsStrip data={data()} desktopColumns={3} mobileColumns={1} />\n    </section>\n  )\n}\n\nexport default TopScores\n","import \"./Stats.css\"\nimport { Component } from \"solid-js\"\nimport RecentStats from \"./RecentStats\"\nimport LongTermStats from \"./LongTermStats\"\nimport TopScores from \"./TopScores\"\n\nconst Stats: Component = () => {\n  return (\n    <main class=\"stats\">\n      <RecentStats />\n      <TopScores />\n      <LongTermStats />\n    </main>\n  )\n}\n\nexport default Stats\n","import { fetchJSON } from \"../libs/api-helpers/fetchJSON\"\n\ntype AdditionalInfo = {\n  title: string\n  author: string\n  year: number\n  subject: string[]\n  place: string[]\n  person: string[]\n  cover: string | null\n  pagesMedian: number\n  ratingsCount: number\n  rating: number | null\n  ratingSort: number | null\n  popularity: number\n}\n\ntype Doc = { ratings_count?: number }\n\nconst FIELDS = [\n  \"title\",\n  \"author_name\",\n  \"place\",\n  \"person\",\n  \"first_publish_year\",\n  \"subject\",\n  \"cover_i\",\n  \"number_of_pages_median\",\n  \"ratings_count\",\n  \"ratings_average\",\n  \"ratings_sortable\",\n  \"readinglog_count\",\n  \"want_to_read_count\",\n].join(\",\")\n\nasync function fetchExact(title: string, author: string | null) {\n  const params = new URLSearchParams()\n\n  if (title) {\n    params.set(\"title\", title.toLowerCase())\n  }\n\n  if (author) {\n    params.set(\"author\", author.toLowerCase())\n  }\n\n  params.set(\"fields\", FIELDS)\n  params.set(\"sort\", \"readinglog\")\n  params.set(\"limit\", \"2\")\n\n  const data = await fetchJSON(`https://openlibrary.org/search.json?${params}`)\n\n  return (\n    data?.docs\n      .sort((a: Doc, b: Doc) => (b.ratings_count ?? 0) - (a.ratings_count ?? 0))\n      .filter((doc: Doc) => (doc.ratings_count ?? 0) > 0)[0] ?? null\n  )\n}\n\nasync function fetchClosest(title: string, author: string | null) {\n  const params = new URLSearchParams()\n\n  if (title) {\n    params.set(\"q\", title.toLowerCase())\n  }\n\n  if (author) {\n    params.set(\"author\", author.toLowerCase())\n  }\n\n  params.set(\"fields\", FIELDS)\n  params.set(\"sort\", \"readinglog\")\n  params.set(\"limit\", \"2\")\n\n  const data = await fetchJSON(`https://openlibrary.org/search.json?${params}`)\n\n  return (\n    data?.docs\n      .sort((a: Doc, b: Doc) => (b.ratings_count ?? 0) - (a.ratings_count ?? 0))\n      .filter((doc: Doc) => (doc.ratings_count ?? 0) > 0)[0] ?? null\n  )\n}\n\nexport async function getAdditionalBookInfo(\n  title: string | null,\n  author: string | null,\n) {\n  if (!title) {\n    return null\n  }\n\n  const bookInfo =\n    (await fetchExact(title, author)) ?? (await fetchClosest(title, author))\n\n  if (!bookInfo) {\n    return null\n  }\n\n  const authorResult = bookInfo.author_name?.[0] ?? null\n  const info: AdditionalInfo = {\n    title: bookInfo.title,\n    author: authorResult,\n    year: bookInfo.first_publish_year ?? null,\n    subject: bookInfo.subject ?? [],\n    place: bookInfo.place ?? [],\n    person: (bookInfo.person ?? []).filter(\n      (x: string) => !x.includes(authorResult),\n    ),\n    cover: bookInfo.cover_i\n      ? `https://covers.openlibrary.org/b/id/${bookInfo.cover_i}-L.jpg`\n      : null,\n    pagesMedian: bookInfo.number_of_pages_median ?? null,\n    ratingsCount: bookInfo.ratings_count ?? null,\n    rating: bookInfo.ratings_average ? bookInfo.ratings_average / 5 : null,\n    ratingSort: bookInfo.ratings_sortable\n      ? bookInfo.ratings_sortable / 5\n      : null,\n    popularity:\n      (bookInfo.readinglog_count ?? 0) + (bookInfo.want_to_read_count ?? 0),\n  }\n\n  console.log(info)\n\n  return info\n}\n","export async function getBookCorrections(id: string) {\n  if (location.hostname !== \"localhost\") {\n    return null\n  }\n\n  try {\n    const res = await fetch(`/corrections/${id}.json`)\n    return res.json()\n  } catch {\n    return null\n  }\n}\n","import { useParams } from \"@solidjs/router\"\nimport { Component, createResource, Show } from \"solid-js\"\nimport { getBookInfo } from \"../../../io/getBookInfo\"\nimport { getAdditionalBookInfo } from \"../../../io/getAdditionalBookInfo\"\nimport { getBookCorrections } from \"../../../io/getBookCorrections\"\nimport Loading from \"../../common/loading/Loading\"\n\nconst BookEdit: Component = () => {\n  const params = useParams()\n\n  const [baseInfo] = createResource(async () => {\n    return getBookInfo(params.id)\n  })\n\n  const [extraInfo] = createResource(baseInfo, () => {\n    const info = baseInfo()\n    return info ? getAdditionalBookInfo(info.title, info.author) : null\n  })\n  const [corrections] = createResource(baseInfo, () => {\n    const info = baseInfo()\n    return info ? getBookCorrections(info.id) : null\n  })\n\n  return (\n    <Show when={baseInfo()} fallback={<Loading />}>\n      <section class=\"edit\">\n        <pre>{JSON.stringify(baseInfo(), null, 2)}</pre>\n        <pre>{JSON.stringify(extraInfo(), null, 2)}</pre>\n        <pre>{JSON.stringify(corrections(), null, 2)}</pre>\n      </section>\n    </Show>\n  )\n}\n\nexport default BookEdit\n","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/*\n * This program is based on JZlib 1.0.2 ymnk, JCraft,Inc.\n * JZlib is based on zlib-1.1.3, so all credit should go authors\n * Jean-loup Gailly(jloup@gzip.org) and Mark Adler(madler@alumni.caltech.edu)\n * and contributors of zlib.\n */\n\n// deno-lint-ignore-file no-this-alias prefer-const\n\n// Global\n\nconst MAX_BITS = 15;\nconst D_CODES = 30;\nconst BL_CODES = 19;\n\nconst LENGTH_CODES = 29;\nconst LITERALS = 256;\nconst L_CODES = (LITERALS + 1 + LENGTH_CODES);\nconst HEAP_SIZE = (2 * L_CODES + 1);\n\nconst END_BLOCK = 256;\n\n// Bit length codes must not exceed MAX_BL_BITS bits\nconst MAX_BL_BITS = 7;\n\n// repeat previous bit length 3-6 times (2 bits of repeat count)\nconst REP_3_6 = 16;\n\n// repeat a zero length 3-10 times (3 bits of repeat count)\nconst REPZ_3_10 = 17;\n\n// repeat a zero length 11-138 times (7 bits of repeat count)\nconst REPZ_11_138 = 18;\n\n// The lengths of the bit length codes are sent in order of decreasing\n// probability, to avoid transmitting the lengths for unused bit\n// length codes.\n\nconst Buf_size = 8 * 2;\n\n// JZlib version : \"1.0.2\"\nconst Z_DEFAULT_COMPRESSION = -1;\n\n// compression strategy\nconst Z_FILTERED = 1;\nconst Z_HUFFMAN_ONLY = 2;\nconst Z_DEFAULT_STRATEGY = 0;\n\nconst Z_NO_FLUSH = 0;\nconst Z_PARTIAL_FLUSH = 1;\nconst Z_FULL_FLUSH = 3;\nconst Z_FINISH = 4;\n\nconst Z_OK = 0;\nconst Z_STREAM_END = 1;\nconst Z_NEED_DICT = 2;\nconst Z_STREAM_ERROR = -2;\nconst Z_DATA_ERROR = -3;\nconst Z_BUF_ERROR = -5;\n\n// Tree\n\nfunction extractArray(array) {\n\treturn flatArray(array.map(([length, value]) => (new Array(length)).fill(value, 0, length)));\n}\n\nfunction flatArray(array) {\n\treturn array.reduce((a, b) => a.concat(Array.isArray(b) ? flatArray(b) : b), []);\n}\n\n// see definition of array dist_code below\nconst _dist_code = [0, 1, 2, 3].concat(...extractArray([\n\t[2, 4], [2, 5], [4, 6], [4, 7], [8, 8], [8, 9], [16, 10], [16, 11], [32, 12], [32, 13], [64, 14], [64, 15], [2, 0], [1, 16],\n\t[1, 17], [2, 18], [2, 19], [4, 20], [4, 21], [8, 22], [8, 23], [16, 24], [16, 25], [32, 26], [32, 27], [64, 28], [64, 29]\n]));\n\nfunction Tree() {\n\tconst that = this;\n\n\t// dyn_tree; // the dynamic tree\n\t// max_code; // largest code with non zero frequency\n\t// stat_desc; // the corresponding static tree\n\n\t// Compute the optimal bit lengths for a tree and update the total bit\n\t// length\n\t// for the current block.\n\t// IN assertion: the fields freq and dad are set, heap[heap_max] and\n\t// above are the tree nodes sorted by increasing frequency.\n\t// OUT assertions: the field len is set to the optimal bit length, the\n\t// array bl_count contains the frequencies for each bit length.\n\t// The length opt_len is updated; static_len is also updated if stree is\n\t// not null.\n\tfunction gen_bitlen(s) {\n\t\tconst tree = that.dyn_tree;\n\t\tconst stree = that.stat_desc.static_tree;\n\t\tconst extra = that.stat_desc.extra_bits;\n\t\tconst base = that.stat_desc.extra_base;\n\t\tconst max_length = that.stat_desc.max_length;\n\t\tlet h; // heap index\n\t\tlet n, m; // iterate over the tree elements\n\t\tlet bits; // bit length\n\t\tlet xbits; // extra bits\n\t\tlet f; // frequency\n\t\tlet overflow = 0; // number of elements with bit length too large\n\n\t\tfor (bits = 0; bits <= MAX_BITS; bits++)\n\t\t\ts.bl_count[bits] = 0;\n\n\t\t// In a first pass, compute the optimal bit lengths (which may\n\t\t// overflow in the case of the bit length tree).\n\t\ttree[s.heap[s.heap_max] * 2 + 1] = 0; // root of the heap\n\n\t\tfor (h = s.heap_max + 1; h < HEAP_SIZE; h++) {\n\t\t\tn = s.heap[h];\n\t\t\tbits = tree[tree[n * 2 + 1] * 2 + 1] + 1;\n\t\t\tif (bits > max_length) {\n\t\t\t\tbits = max_length;\n\t\t\t\toverflow++;\n\t\t\t}\n\t\t\ttree[n * 2 + 1] = bits;\n\t\t\t// We overwrite tree[n*2+1] which is no longer needed\n\n\t\t\tif (n > that.max_code)\n\t\t\t\tcontinue; // not a leaf node\n\n\t\t\ts.bl_count[bits]++;\n\t\t\txbits = 0;\n\t\t\tif (n >= base)\n\t\t\t\txbits = extra[n - base];\n\t\t\tf = tree[n * 2];\n\t\t\ts.opt_len += f * (bits + xbits);\n\t\t\tif (stree)\n\t\t\t\ts.static_len += f * (stree[n * 2 + 1] + xbits);\n\t\t}\n\t\tif (overflow === 0)\n\t\t\treturn;\n\n\t\t// This happens for example on obj2 and pic of the Calgary corpus\n\t\t// Find the first bit length which could increase:\n\t\tdo {\n\t\t\tbits = max_length - 1;\n\t\t\twhile (s.bl_count[bits] === 0)\n\t\t\t\tbits--;\n\t\t\ts.bl_count[bits]--; // move one leaf down the tree\n\t\t\ts.bl_count[bits + 1] += 2; // move one overflow item as its brother\n\t\t\ts.bl_count[max_length]--;\n\t\t\t// The brother of the overflow item also moves one step up,\n\t\t\t// but this does not affect bl_count[max_length]\n\t\t\toverflow -= 2;\n\t\t} while (overflow > 0);\n\n\t\tfor (bits = max_length; bits !== 0; bits--) {\n\t\t\tn = s.bl_count[bits];\n\t\t\twhile (n !== 0) {\n\t\t\t\tm = s.heap[--h];\n\t\t\t\tif (m > that.max_code)\n\t\t\t\t\tcontinue;\n\t\t\t\tif (tree[m * 2 + 1] != bits) {\n\t\t\t\t\ts.opt_len += (bits - tree[m * 2 + 1]) * tree[m * 2];\n\t\t\t\t\ttree[m * 2 + 1] = bits;\n\t\t\t\t}\n\t\t\t\tn--;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Reverse the first len bits of a code, using straightforward code (a\n\t// faster\n\t// method would use a table)\n\t// IN assertion: 1 <= len <= 15\n\tfunction bi_reverse(code, // the value to invert\n\t\tlen // its bit length\n\t) {\n\t\tlet res = 0;\n\t\tdo {\n\t\t\tres |= code & 1;\n\t\t\tcode >>>= 1;\n\t\t\tres <<= 1;\n\t\t} while (--len > 0);\n\t\treturn res >>> 1;\n\t}\n\n\t// Generate the codes for a given tree and bit counts (which need not be\n\t// optimal).\n\t// IN assertion: the array bl_count contains the bit length statistics for\n\t// the given tree and the field len is set for all tree elements.\n\t// OUT assertion: the field code is set for all tree elements of non\n\t// zero code length.\n\tfunction gen_codes(tree, // the tree to decorate\n\t\tmax_code, // largest code with non zero frequency\n\t\tbl_count // number of codes at each bit length\n\t) {\n\t\tconst next_code = []; // next code value for each\n\t\t// bit length\n\t\tlet code = 0; // running code value\n\t\tlet bits; // bit index\n\t\tlet n; // code index\n\t\tlet len;\n\n\t\t// The distribution counts are first used to generate the code values\n\t\t// without bit reversal.\n\t\tfor (bits = 1; bits <= MAX_BITS; bits++) {\n\t\t\tnext_code[bits] = code = ((code + bl_count[bits - 1]) << 1);\n\t\t}\n\n\t\t// Check that the bit counts in bl_count are consistent. The last code\n\t\t// must be all ones.\n\t\t// Assert (code + bl_count[MAX_BITS]-1 == (1<<MAX_BITS)-1,\n\t\t// \"inconsistent bit counts\");\n\t\t// Tracev((stderr,\"gen_codes: max_code %d \", max_code));\n\n\t\tfor (n = 0; n <= max_code; n++) {\n\t\t\tlen = tree[n * 2 + 1];\n\t\t\tif (len === 0)\n\t\t\t\tcontinue;\n\t\t\t// Now reverse the bits\n\t\t\ttree[n * 2] = bi_reverse(next_code[len]++, len);\n\t\t}\n\t}\n\n\t// Construct one Huffman tree and assigns the code bit strings and lengths.\n\t// Update the total bit length for the current block.\n\t// IN assertion: the field freq is set for all tree elements.\n\t// OUT assertions: the fields len and code are set to the optimal bit length\n\t// and corresponding code. The length opt_len is updated; static_len is\n\t// also updated if stree is not null. The field max_code is set.\n\tthat.build_tree = function (s) {\n\t\tconst tree = that.dyn_tree;\n\t\tconst stree = that.stat_desc.static_tree;\n\t\tconst elems = that.stat_desc.elems;\n\t\tlet n, m; // iterate over heap elements\n\t\tlet max_code = -1; // largest code with non zero frequency\n\t\tlet node; // new node being created\n\n\t\t// Construct the initial heap, with least frequent element in\n\t\t// heap[1]. The sons of heap[n] are heap[2*n] and heap[2*n+1].\n\t\t// heap[0] is not used.\n\t\ts.heap_len = 0;\n\t\ts.heap_max = HEAP_SIZE;\n\n\t\tfor (n = 0; n < elems; n++) {\n\t\t\tif (tree[n * 2] !== 0) {\n\t\t\t\ts.heap[++s.heap_len] = max_code = n;\n\t\t\t\ts.depth[n] = 0;\n\t\t\t} else {\n\t\t\t\ttree[n * 2 + 1] = 0;\n\t\t\t}\n\t\t}\n\n\t\t// The pkzip format requires that at least one distance code exists,\n\t\t// and that at least one bit should be sent even if there is only one\n\t\t// possible code. So to avoid special checks later on we force at least\n\t\t// two codes of non zero frequency.\n\t\twhile (s.heap_len < 2) {\n\t\t\tnode = s.heap[++s.heap_len] = max_code < 2 ? ++max_code : 0;\n\t\t\ttree[node * 2] = 1;\n\t\t\ts.depth[node] = 0;\n\t\t\ts.opt_len--;\n\t\t\tif (stree)\n\t\t\t\ts.static_len -= stree[node * 2 + 1];\n\t\t\t// node is 0 or 1 so it does not have extra bits\n\t\t}\n\t\tthat.max_code = max_code;\n\n\t\t// The elements heap[heap_len/2+1 .. heap_len] are leaves of the tree,\n\t\t// establish sub-heaps of increasing lengths:\n\n\t\tfor (n = Math.floor(s.heap_len / 2); n >= 1; n--)\n\t\t\ts.pqdownheap(tree, n);\n\n\t\t// Construct the Huffman tree by repeatedly combining the least two\n\t\t// frequent nodes.\n\n\t\tnode = elems; // next internal node of the tree\n\t\tdo {\n\t\t\t// n = node of least frequency\n\t\t\tn = s.heap[1];\n\t\t\ts.heap[1] = s.heap[s.heap_len--];\n\t\t\ts.pqdownheap(tree, 1);\n\t\t\tm = s.heap[1]; // m = node of next least frequency\n\n\t\t\ts.heap[--s.heap_max] = n; // keep the nodes sorted by frequency\n\t\t\ts.heap[--s.heap_max] = m;\n\n\t\t\t// Create a new node father of n and m\n\t\t\ttree[node * 2] = (tree[n * 2] + tree[m * 2]);\n\t\t\ts.depth[node] = Math.max(s.depth[n], s.depth[m]) + 1;\n\t\t\ttree[n * 2 + 1] = tree[m * 2 + 1] = node;\n\n\t\t\t// and insert the new node in the heap\n\t\t\ts.heap[1] = node++;\n\t\t\ts.pqdownheap(tree, 1);\n\t\t} while (s.heap_len >= 2);\n\n\t\ts.heap[--s.heap_max] = s.heap[1];\n\n\t\t// At this point, the fields freq and dad are set. We can now\n\t\t// generate the bit lengths.\n\n\t\tgen_bitlen(s);\n\n\t\t// The field len is now set, we can generate the bit codes\n\t\tgen_codes(tree, that.max_code, s.bl_count);\n\t};\n\n}\n\nTree._length_code = [0, 1, 2, 3, 4, 5, 6, 7].concat(...extractArray([\n\t[2, 8], [2, 9], [2, 10], [2, 11], [4, 12], [4, 13], [4, 14], [4, 15], [8, 16], [8, 17], [8, 18], [8, 19],\n\t[16, 20], [16, 21], [16, 22], [16, 23], [32, 24], [32, 25], [32, 26], [31, 27], [1, 28]]));\n\nTree.base_length = [0, 1, 2, 3, 4, 5, 6, 7, 8, 10, 12, 14, 16, 20, 24, 28, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 0];\n\nTree.base_dist = [0, 1, 2, 3, 4, 6, 8, 12, 16, 24, 32, 48, 64, 96, 128, 192, 256, 384, 512, 768, 1024, 1536, 2048, 3072, 4096, 6144, 8192, 12288, 16384,\n\t24576];\n\n// Mapping from a distance to a distance code. dist is the distance - 1 and\n// must not have side effects. _dist_code[256] and _dist_code[257] are never\n// used.\nTree.d_code = function (dist) {\n\treturn ((dist) < 256 ? _dist_code[dist] : _dist_code[256 + ((dist) >>> 7)]);\n};\n\n// extra bits for each length code\nTree.extra_lbits = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0];\n\n// extra bits for each distance code\nTree.extra_dbits = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13];\n\n// extra bits for each bit length code\nTree.extra_blbits = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7];\n\nTree.bl_order = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];\n\n// StaticTree\n\nfunction StaticTree(static_tree, extra_bits, extra_base, elems, max_length) {\n\tconst that = this;\n\tthat.static_tree = static_tree;\n\tthat.extra_bits = extra_bits;\n\tthat.extra_base = extra_base;\n\tthat.elems = elems;\n\tthat.max_length = max_length;\n}\n\nconst static_ltree2_first_part = [12, 140, 76, 204, 44, 172, 108, 236, 28, 156, 92, 220, 60, 188, 124, 252, 2, 130, 66, 194, 34, 162, 98, 226, 18, 146, 82,\n\t210, 50, 178, 114, 242, 10, 138, 74, 202, 42, 170, 106, 234, 26, 154, 90, 218, 58, 186, 122, 250, 6, 134, 70, 198, 38, 166, 102, 230, 22, 150, 86,\n\t214, 54, 182, 118, 246, 14, 142, 78, 206, 46, 174, 110, 238, 30, 158, 94, 222, 62, 190, 126, 254, 1, 129, 65, 193, 33, 161, 97, 225, 17, 145, 81,\n\t209, 49, 177, 113, 241, 9, 137, 73, 201, 41, 169, 105, 233, 25, 153, 89, 217, 57, 185, 121, 249, 5, 133, 69, 197, 37, 165, 101, 229, 21, 149, 85,\n\t213, 53, 181, 117, 245, 13, 141, 77, 205, 45, 173, 109, 237, 29, 157, 93, 221, 61, 189, 125, 253, 19, 275, 147, 403, 83, 339, 211, 467, 51, 307,\n\t179, 435, 115, 371, 243, 499, 11, 267, 139, 395, 75, 331, 203, 459, 43, 299, 171, 427, 107, 363, 235, 491, 27, 283, 155, 411, 91, 347, 219, 475,\n\t59, 315, 187, 443, 123, 379, 251, 507, 7, 263, 135, 391, 71, 327, 199, 455, 39, 295, 167, 423, 103, 359, 231, 487, 23, 279, 151, 407, 87, 343, 215,\n\t471, 55, 311, 183, 439, 119, 375, 247, 503, 15, 271, 143, 399, 79, 335, 207, 463, 47, 303, 175, 431, 111, 367, 239, 495, 31, 287, 159, 415, 95,\n\t351, 223, 479, 63, 319, 191, 447, 127, 383, 255, 511, 0, 64, 32, 96, 16, 80, 48, 112, 8, 72, 40, 104, 24, 88, 56, 120, 4, 68, 36, 100, 20, 84, 52,\n\t116, 3, 131, 67, 195, 35, 163, 99, 227];\nconst static_ltree2_second_part = extractArray([[144, 8], [112, 9], [24, 7], [8, 8]]);\nStaticTree.static_ltree = flatArray(static_ltree2_first_part.map((value, index) => [value, static_ltree2_second_part[index]]));\n\nconst static_dtree_first_part = [0, 16, 8, 24, 4, 20, 12, 28, 2, 18, 10, 26, 6, 22, 14, 30, 1, 17, 9, 25, 5, 21, 13, 29, 3, 19, 11, 27, 7, 23];\nconst static_dtree_second_part = extractArray([[30, 5]]);\nStaticTree.static_dtree = flatArray(static_dtree_first_part.map((value, index) => [value, static_dtree_second_part[index]]));\n\nStaticTree.static_l_desc = new StaticTree(StaticTree.static_ltree, Tree.extra_lbits, LITERALS + 1, L_CODES, MAX_BITS);\n\nStaticTree.static_d_desc = new StaticTree(StaticTree.static_dtree, Tree.extra_dbits, 0, D_CODES, MAX_BITS);\n\nStaticTree.static_bl_desc = new StaticTree(null, Tree.extra_blbits, 0, BL_CODES, MAX_BL_BITS);\n\n// Deflate\n\nconst MAX_MEM_LEVEL = 9;\nconst DEF_MEM_LEVEL = 8;\n\nfunction Config(good_length, max_lazy, nice_length, max_chain, func) {\n\tconst that = this;\n\tthat.good_length = good_length;\n\tthat.max_lazy = max_lazy;\n\tthat.nice_length = nice_length;\n\tthat.max_chain = max_chain;\n\tthat.func = func;\n}\n\nconst STORED = 0;\nconst FAST = 1;\nconst SLOW = 2;\nconst config_table = [\n\tnew Config(0, 0, 0, 0, STORED),\n\tnew Config(4, 4, 8, 4, FAST),\n\tnew Config(4, 5, 16, 8, FAST),\n\tnew Config(4, 6, 32, 32, FAST),\n\tnew Config(4, 4, 16, 16, SLOW),\n\tnew Config(8, 16, 32, 32, SLOW),\n\tnew Config(8, 16, 128, 128, SLOW),\n\tnew Config(8, 32, 128, 256, SLOW),\n\tnew Config(32, 128, 258, 1024, SLOW),\n\tnew Config(32, 258, 258, 4096, SLOW)\n];\n\nconst z_errmsg = [\"need dictionary\", // Z_NEED_DICT\n\t// 2\n\t\"stream end\", // Z_STREAM_END 1\n\t\"\", // Z_OK 0\n\t\"\", // Z_ERRNO (-1)\n\t\"stream error\", // Z_STREAM_ERROR (-2)\n\t\"data error\", // Z_DATA_ERROR (-3)\n\t\"\", // Z_MEM_ERROR (-4)\n\t\"buffer error\", // Z_BUF_ERROR (-5)\n\t\"\",// Z_VERSION_ERROR (-6)\n\t\"\"];\n\n// block not completed, need more input or more output\nconst NeedMore = 0;\n\n// block flush performed\nconst BlockDone = 1;\n\n// finish started, need only more output at next deflate\nconst FinishStarted = 2;\n\n// finish done, accept no more input or output\nconst FinishDone = 3;\n\n// preset dictionary flag in zlib header\nconst PRESET_DICT = 0x20;\n\nconst INIT_STATE = 42;\nconst BUSY_STATE = 113;\nconst FINISH_STATE = 666;\n\n// The deflate compression method\nconst Z_DEFLATED = 8;\n\nconst STORED_BLOCK = 0;\nconst STATIC_TREES = 1;\nconst DYN_TREES = 2;\n\nconst MIN_MATCH = 3;\nconst MAX_MATCH = 258;\nconst MIN_LOOKAHEAD = (MAX_MATCH + MIN_MATCH + 1);\n\nfunction smaller(tree, n, m, depth) {\n\tconst tn2 = tree[n * 2];\n\tconst tm2 = tree[m * 2];\n\treturn (tn2 < tm2 || (tn2 == tm2 && depth[n] <= depth[m]));\n}\n\nfunction Deflate() {\n\n\tconst that = this;\n\tlet strm; // pointer back to this zlib stream\n\tlet status; // as the name implies\n\t// pending_buf; // output still pending\n\tlet pending_buf_size; // size of pending_buf\n\t// pending_out; // next pending byte to output to the stream\n\t// pending; // nb of bytes in the pending buffer\n\n\t// dist_buf; // buffer for distances\n\t// lc_buf; // buffer for literals or lengths\n\t// To simplify the code, dist_buf and lc_buf have the same number of elements.\n\t// To use different lengths, an extra flag array would be necessary.\n\n\tlet last_flush; // value of flush param for previous deflate call\n\n\tlet w_size; // LZ77 win size (32K by default)\n\tlet w_bits; // log2(w_size) (8..16)\n\tlet w_mask; // w_size - 1\n\n\tlet win;\n\t// Sliding win. Input bytes are read into the second half of the win,\n\t// and move to the first half later to keep a dictionary of at least wSize\n\t// bytes. With this organization, matches are limited to a distance of\n\t// wSize-MAX_MATCH bytes, but this ensures that IO is always\n\t// performed with a length multiple of the block size. Also, it limits\n\t// the win size to 64K, which is quite useful on MSDOS.\n\t// To do: use the user input buffer as sliding win.\n\n\tlet window_size;\n\t// Actual size of win: 2*wSize, except when the user input buffer\n\t// is directly used as sliding win.\n\n\tlet prev;\n\t// Link to older string with same hash index. To limit the size of this\n\t// array to 64K, this link is maintained only for the last 32K strings.\n\t// An index in this array is thus a win index modulo 32K.\n\n\tlet head; // Heads of the hash chains or NIL.\n\n\tlet ins_h; // hash index of string to be inserted\n\tlet hash_size; // number of elements in hash table\n\tlet hash_bits; // log2(hash_size)\n\tlet hash_mask; // hash_size-1\n\n\t// Number of bits by which ins_h must be shifted at each input\n\t// step. It must be such that after MIN_MATCH steps, the oldest\n\t// byte no longer takes part in the hash key, that is:\n\t// hash_shift * MIN_MATCH >= hash_bits\n\tlet hash_shift;\n\n\t// Window position at the beginning of the current output block. Gets\n\t// negative when the win is moved backwards.\n\n\tlet block_start;\n\n\tlet match_length; // length of best match\n\tlet prev_match; // previous match\n\tlet match_available; // set if previous match exists\n\tlet strstart; // start of string to insert\n\tlet match_start; // start of matching string\n\tlet lookahead; // number of valid bytes ahead in win\n\n\t// Length of the best match at previous step. Matches not greater than this\n\t// are discarded. This is used in the lazy match evaluation.\n\tlet prev_length;\n\n\t// To speed up deflation, hash chains are never searched beyond this\n\t// length. A higher limit improves compression ratio but degrades the speed.\n\tlet max_chain_length;\n\n\t// Attempt to find a better match only when the current match is strictly\n\t// smaller than this value. This mechanism is used only for compression\n\t// levels >= 4.\n\tlet max_lazy_match;\n\n\t// Insert new strings in the hash table only if the match length is not\n\t// greater than this length. This saves time but degrades compression.\n\t// max_insert_length is used only for compression levels <= 3.\n\n\tlet level; // compression level (1..9)\n\tlet strategy; // favor or force Huffman coding\n\n\t// Use a faster search when the previous match is longer than this\n\tlet good_match;\n\n\t// Stop searching when current match exceeds this\n\tlet nice_match;\n\n\tlet dyn_ltree; // literal and length tree\n\tlet dyn_dtree; // distance tree\n\tlet bl_tree; // Huffman tree for bit lengths\n\n\tconst l_desc = new Tree(); // desc for literal tree\n\tconst d_desc = new Tree(); // desc for distance tree\n\tconst bl_desc = new Tree(); // desc for bit length tree\n\n\t// that.heap_len; // number of elements in the heap\n\t// that.heap_max; // element of largest frequency\n\t// The sons of heap[n] are heap[2*n] and heap[2*n+1]. heap[0] is not used.\n\t// The same heap array is used to build all trees.\n\n\t// Depth of each subtree used as tie breaker for trees of equal frequency\n\tthat.depth = [];\n\n\t// Size of match buffer for literals/lengths. There are 4 reasons for\n\t// limiting lit_bufsize to 64K:\n\t// - frequencies can be kept in 16 bit counters\n\t// - if compression is not successful for the first block, all input\n\t// data is still in the win so we can still emit a stored block even\n\t// when input comes from standard input. (This can also be done for\n\t// all blocks if lit_bufsize is not greater than 32K.)\n\t// - if compression is not successful for a file smaller than 64K, we can\n\t// even emit a stored file instead of a stored block (saving 5 bytes).\n\t// This is applicable only for zip (not gzip or zlib).\n\t// - creating new Huffman trees less frequently may not provide fast\n\t// adaptation to changes in the input data statistics. (Take for\n\t// example a binary file with poorly compressible code followed by\n\t// a highly compressible string table.) Smaller buffer sizes give\n\t// fast adaptation but have of course the overhead of transmitting\n\t// trees more frequently.\n\t// - I can't count above 4\n\tlet lit_bufsize;\n\n\tlet last_lit; // running index in dist_buf and lc_buf\n\n\t// that.opt_len; // bit length of current block with optimal trees\n\t// that.static_len; // bit length of current block with static trees\n\tlet matches; // number of string matches in current block\n\tlet last_eob_len; // bit length of EOB code for last block\n\n\t// Output buffer. bits are inserted starting at the bottom (least\n\t// significant bits).\n\tlet bi_buf;\n\n\t// Number of valid bits in bi_buf. All bits above the last valid bit\n\t// are always zero.\n\tlet bi_valid;\n\n\t// number of codes at each bit length for an optimal tree\n\tthat.bl_count = [];\n\n\t// heap used to build the Huffman trees\n\tthat.heap = [];\n\n\tdyn_ltree = [];\n\tdyn_dtree = [];\n\tbl_tree = [];\n\n\tfunction lm_init() {\n\t\twindow_size = 2 * w_size;\n\n\t\thead[hash_size - 1] = 0;\n\t\tfor (let i = 0; i < hash_size - 1; i++) {\n\t\t\thead[i] = 0;\n\t\t}\n\n\t\t// Set the default configuration parameters:\n\t\tmax_lazy_match = config_table[level].max_lazy;\n\t\tgood_match = config_table[level].good_length;\n\t\tnice_match = config_table[level].nice_length;\n\t\tmax_chain_length = config_table[level].max_chain;\n\n\t\tstrstart = 0;\n\t\tblock_start = 0;\n\t\tlookahead = 0;\n\t\tmatch_length = prev_length = MIN_MATCH - 1;\n\t\tmatch_available = 0;\n\t\tins_h = 0;\n\t}\n\n\tfunction init_block() {\n\t\tlet i;\n\t\t// Initialize the trees.\n\t\tfor (i = 0; i < L_CODES; i++)\n\t\t\tdyn_ltree[i * 2] = 0;\n\t\tfor (i = 0; i < D_CODES; i++)\n\t\t\tdyn_dtree[i * 2] = 0;\n\t\tfor (i = 0; i < BL_CODES; i++)\n\t\t\tbl_tree[i * 2] = 0;\n\n\t\tdyn_ltree[END_BLOCK * 2] = 1;\n\t\tthat.opt_len = that.static_len = 0;\n\t\tlast_lit = matches = 0;\n\t}\n\n\t// Initialize the tree data structures for a new zlib stream.\n\tfunction tr_init() {\n\n\t\tl_desc.dyn_tree = dyn_ltree;\n\t\tl_desc.stat_desc = StaticTree.static_l_desc;\n\n\t\td_desc.dyn_tree = dyn_dtree;\n\t\td_desc.stat_desc = StaticTree.static_d_desc;\n\n\t\tbl_desc.dyn_tree = bl_tree;\n\t\tbl_desc.stat_desc = StaticTree.static_bl_desc;\n\n\t\tbi_buf = 0;\n\t\tbi_valid = 0;\n\t\tlast_eob_len = 8; // enough lookahead for inflate\n\n\t\t// Initialize the first block of the first file:\n\t\tinit_block();\n\t}\n\n\t// Restore the heap property by moving down the tree starting at node k,\n\t// exchanging a node with the smallest of its two sons if necessary,\n\t// stopping\n\t// when the heap property is re-established (each father smaller than its\n\t// two sons).\n\tthat.pqdownheap = function (tree, // the tree to restore\n\t\tk // node to move down\n\t) {\n\t\tconst heap = that.heap;\n\t\tconst v = heap[k];\n\t\tlet j = k << 1; // left son of k\n\t\twhile (j <= that.heap_len) {\n\t\t\t// Set j to the smallest of the two sons:\n\t\t\tif (j < that.heap_len && smaller(tree, heap[j + 1], heap[j], that.depth)) {\n\t\t\t\tj++;\n\t\t\t}\n\t\t\t// Exit if v is smaller than both sons\n\t\t\tif (smaller(tree, v, heap[j], that.depth))\n\t\t\t\tbreak;\n\n\t\t\t// Exchange v with the smallest son\n\t\t\theap[k] = heap[j];\n\t\t\tk = j;\n\t\t\t// And continue down the tree, setting j to the left son of k\n\t\t\tj <<= 1;\n\t\t}\n\t\theap[k] = v;\n\t};\n\n\t// Scan a literal or distance tree to determine the frequencies of the codes\n\t// in the bit length tree.\n\tfunction scan_tree(tree,// the tree to be scanned\n\t\tmax_code // and its largest code of non zero frequency\n\t) {\n\t\tlet prevlen = -1; // last emitted length\n\t\tlet curlen; // length of current code\n\t\tlet nextlen = tree[0 * 2 + 1]; // length of next code\n\t\tlet count = 0; // repeat count of the current code\n\t\tlet max_count = 7; // max repeat count\n\t\tlet min_count = 4; // min repeat count\n\n\t\tif (nextlen === 0) {\n\t\t\tmax_count = 138;\n\t\t\tmin_count = 3;\n\t\t}\n\t\ttree[(max_code + 1) * 2 + 1] = 0xffff; // guard\n\n\t\tfor (let n = 0; n <= max_code; n++) {\n\t\t\tcurlen = nextlen;\n\t\t\tnextlen = tree[(n + 1) * 2 + 1];\n\t\t\tif (++count < max_count && curlen == nextlen) {\n\t\t\t\tcontinue;\n\t\t\t} else if (count < min_count) {\n\t\t\t\tbl_tree[curlen * 2] += count;\n\t\t\t} else if (curlen !== 0) {\n\t\t\t\tif (curlen != prevlen)\n\t\t\t\t\tbl_tree[curlen * 2]++;\n\t\t\t\tbl_tree[REP_3_6 * 2]++;\n\t\t\t} else if (count <= 10) {\n\t\t\t\tbl_tree[REPZ_3_10 * 2]++;\n\t\t\t} else {\n\t\t\t\tbl_tree[REPZ_11_138 * 2]++;\n\t\t\t}\n\t\t\tcount = 0;\n\t\t\tprevlen = curlen;\n\t\t\tif (nextlen === 0) {\n\t\t\t\tmax_count = 138;\n\t\t\t\tmin_count = 3;\n\t\t\t} else if (curlen == nextlen) {\n\t\t\t\tmax_count = 6;\n\t\t\t\tmin_count = 3;\n\t\t\t} else {\n\t\t\t\tmax_count = 7;\n\t\t\t\tmin_count = 4;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Construct the Huffman tree for the bit lengths and return the index in\n\t// bl_order of the last bit length code to send.\n\tfunction build_bl_tree() {\n\t\tlet max_blindex; // index of last bit length code of non zero freq\n\n\t\t// Determine the bit length frequencies for literal and distance trees\n\t\tscan_tree(dyn_ltree, l_desc.max_code);\n\t\tscan_tree(dyn_dtree, d_desc.max_code);\n\n\t\t// Build the bit length tree:\n\t\tbl_desc.build_tree(that);\n\t\t// opt_len now includes the length of the tree representations, except\n\t\t// the lengths of the bit lengths codes and the 5+5+4 bits for the\n\t\t// counts.\n\n\t\t// Determine the number of bit length codes to send. The pkzip format\n\t\t// requires that at least 4 bit length codes be sent. (appnote.txt says\n\t\t// 3 but the actual value used is 4.)\n\t\tfor (max_blindex = BL_CODES - 1; max_blindex >= 3; max_blindex--) {\n\t\t\tif (bl_tree[Tree.bl_order[max_blindex] * 2 + 1] !== 0)\n\t\t\t\tbreak;\n\t\t}\n\t\t// Update opt_len to include the bit length tree and counts\n\t\tthat.opt_len += 3 * (max_blindex + 1) + 5 + 5 + 4;\n\n\t\treturn max_blindex;\n\t}\n\n\t// Output a byte on the stream.\n\t// IN assertion: there is enough room in pending_buf.\n\tfunction put_byte(p) {\n\t\tthat.pending_buf[that.pending++] = p;\n\t}\n\n\tfunction put_short(w) {\n\t\tput_byte(w & 0xff);\n\t\tput_byte((w >>> 8) & 0xff);\n\t}\n\n\tfunction putShortMSB(b) {\n\t\tput_byte((b >> 8) & 0xff);\n\t\tput_byte((b & 0xff) & 0xff);\n\t}\n\n\tfunction send_bits(value, length) {\n\t\tlet val;\n\t\tconst len = length;\n\t\tif (bi_valid > Buf_size - len) {\n\t\t\tval = value;\n\t\t\t// bi_buf |= (val << bi_valid);\n\t\t\tbi_buf |= ((val << bi_valid) & 0xffff);\n\t\t\tput_short(bi_buf);\n\t\t\tbi_buf = val >>> (Buf_size - bi_valid);\n\t\t\tbi_valid += len - Buf_size;\n\t\t} else {\n\t\t\t// bi_buf |= (value) << bi_valid;\n\t\t\tbi_buf |= (((value) << bi_valid) & 0xffff);\n\t\t\tbi_valid += len;\n\t\t}\n\t}\n\n\tfunction send_code(c, tree) {\n\t\tconst c2 = c * 2;\n\t\tsend_bits(tree[c2] & 0xffff, tree[c2 + 1] & 0xffff);\n\t}\n\n\t// Send a literal or distance tree in compressed form, using the codes in\n\t// bl_tree.\n\tfunction send_tree(tree,// the tree to be sent\n\t\tmax_code // and its largest code of non zero frequency\n\t) {\n\t\tlet n; // iterates over all tree elements\n\t\tlet prevlen = -1; // last emitted length\n\t\tlet curlen; // length of current code\n\t\tlet nextlen = tree[0 * 2 + 1]; // length of next code\n\t\tlet count = 0; // repeat count of the current code\n\t\tlet max_count = 7; // max repeat count\n\t\tlet min_count = 4; // min repeat count\n\n\t\tif (nextlen === 0) {\n\t\t\tmax_count = 138;\n\t\t\tmin_count = 3;\n\t\t}\n\n\t\tfor (n = 0; n <= max_code; n++) {\n\t\t\tcurlen = nextlen;\n\t\t\tnextlen = tree[(n + 1) * 2 + 1];\n\t\t\tif (++count < max_count && curlen == nextlen) {\n\t\t\t\tcontinue;\n\t\t\t} else if (count < min_count) {\n\t\t\t\tdo {\n\t\t\t\t\tsend_code(curlen, bl_tree);\n\t\t\t\t} while (--count !== 0);\n\t\t\t} else if (curlen !== 0) {\n\t\t\t\tif (curlen != prevlen) {\n\t\t\t\t\tsend_code(curlen, bl_tree);\n\t\t\t\t\tcount--;\n\t\t\t\t}\n\t\t\t\tsend_code(REP_3_6, bl_tree);\n\t\t\t\tsend_bits(count - 3, 2);\n\t\t\t} else if (count <= 10) {\n\t\t\t\tsend_code(REPZ_3_10, bl_tree);\n\t\t\t\tsend_bits(count - 3, 3);\n\t\t\t} else {\n\t\t\t\tsend_code(REPZ_11_138, bl_tree);\n\t\t\t\tsend_bits(count - 11, 7);\n\t\t\t}\n\t\t\tcount = 0;\n\t\t\tprevlen = curlen;\n\t\t\tif (nextlen === 0) {\n\t\t\t\tmax_count = 138;\n\t\t\t\tmin_count = 3;\n\t\t\t} else if (curlen == nextlen) {\n\t\t\t\tmax_count = 6;\n\t\t\t\tmin_count = 3;\n\t\t\t} else {\n\t\t\t\tmax_count = 7;\n\t\t\t\tmin_count = 4;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Send the header for a block using dynamic Huffman trees: the counts, the\n\t// lengths of the bit length codes, the literal tree and the distance tree.\n\t// IN assertion: lcodes >= 257, dcodes >= 1, blcodes >= 4.\n\tfunction send_all_trees(lcodes, dcodes, blcodes) {\n\t\tlet rank; // index in bl_order\n\n\t\tsend_bits(lcodes - 257, 5); // not +255 as stated in appnote.txt\n\t\tsend_bits(dcodes - 1, 5);\n\t\tsend_bits(blcodes - 4, 4); // not -3 as stated in appnote.txt\n\t\tfor (rank = 0; rank < blcodes; rank++) {\n\t\t\tsend_bits(bl_tree[Tree.bl_order[rank] * 2 + 1], 3);\n\t\t}\n\t\tsend_tree(dyn_ltree, lcodes - 1); // literal tree\n\t\tsend_tree(dyn_dtree, dcodes - 1); // distance tree\n\t}\n\n\t// Flush the bit buffer, keeping at most 7 bits in it.\n\tfunction bi_flush() {\n\t\tif (bi_valid == 16) {\n\t\t\tput_short(bi_buf);\n\t\t\tbi_buf = 0;\n\t\t\tbi_valid = 0;\n\t\t} else if (bi_valid >= 8) {\n\t\t\tput_byte(bi_buf & 0xff);\n\t\t\tbi_buf >>>= 8;\n\t\t\tbi_valid -= 8;\n\t\t}\n\t}\n\n\t// Send one empty static block to give enough lookahead for inflate.\n\t// This takes 10 bits, of which 7 may remain in the bit buffer.\n\t// The current inflate code requires 9 bits of lookahead. If the\n\t// last two codes for the previous block (real code plus EOB) were coded\n\t// on 5 bits or less, inflate may have only 5+3 bits of lookahead to decode\n\t// the last real code. In this case we send two empty static blocks instead\n\t// of one. (There are no problems if the previous block is stored or fixed.)\n\t// To simplify the code, we assume the worst case of last real code encoded\n\t// on one bit only.\n\tfunction _tr_align() {\n\t\tsend_bits(STATIC_TREES << 1, 3);\n\t\tsend_code(END_BLOCK, StaticTree.static_ltree);\n\n\t\tbi_flush();\n\n\t\t// Of the 10 bits for the empty block, we have already sent\n\t\t// (10 - bi_valid) bits. The lookahead for the last real code (before\n\t\t// the EOB of the previous block) was thus at least one plus the length\n\t\t// of the EOB plus what we have just sent of the empty static block.\n\t\tif (1 + last_eob_len + 10 - bi_valid < 9) {\n\t\t\tsend_bits(STATIC_TREES << 1, 3);\n\t\t\tsend_code(END_BLOCK, StaticTree.static_ltree);\n\t\t\tbi_flush();\n\t\t}\n\t\tlast_eob_len = 7;\n\t}\n\n\t// Save the match info and tally the frequency counts. Return true if\n\t// the current block must be flushed.\n\tfunction _tr_tally(dist, // distance of matched string\n\t\tlc // match length-MIN_MATCH or unmatched char (if dist==0)\n\t) {\n\t\tlet out_length, in_length, dcode;\n\t\tthat.dist_buf[last_lit] = dist;\n\t\tthat.lc_buf[last_lit] = lc & 0xff;\n\t\tlast_lit++;\n\n\t\tif (dist === 0) {\n\t\t\t// lc is the unmatched char\n\t\t\tdyn_ltree[lc * 2]++;\n\t\t} else {\n\t\t\tmatches++;\n\t\t\t// Here, lc is the match length - MIN_MATCH\n\t\t\tdist--; // dist = match distance - 1\n\t\t\tdyn_ltree[(Tree._length_code[lc] + LITERALS + 1) * 2]++;\n\t\t\tdyn_dtree[Tree.d_code(dist) * 2]++;\n\t\t}\n\n\t\tif ((last_lit & 0x1fff) === 0 && level > 2) {\n\t\t\t// Compute an upper bound for the compressed length\n\t\t\tout_length = last_lit * 8;\n\t\t\tin_length = strstart - block_start;\n\t\t\tfor (dcode = 0; dcode < D_CODES; dcode++) {\n\t\t\t\tout_length += dyn_dtree[dcode * 2] * (5 + Tree.extra_dbits[dcode]);\n\t\t\t}\n\t\t\tout_length >>>= 3;\n\t\t\tif ((matches < Math.floor(last_lit / 2)) && out_length < Math.floor(in_length / 2))\n\t\t\t\treturn true;\n\t\t}\n\n\t\treturn (last_lit == lit_bufsize - 1);\n\t\t// We avoid equality with lit_bufsize because of wraparound at 64K\n\t\t// on 16 bit machines and because stored blocks are restricted to\n\t\t// 64K-1 bytes.\n\t}\n\n\t// Send the block data compressed using the given Huffman trees\n\tfunction compress_block(ltree, dtree) {\n\t\tlet dist; // distance of matched string\n\t\tlet lc; // match length or unmatched char (if dist === 0)\n\t\tlet lx = 0; // running index in dist_buf and lc_buf\n\t\tlet code; // the code to send\n\t\tlet extra; // number of extra bits to send\n\n\t\tif (last_lit !== 0) {\n\t\t\tdo {\n\t\t\t\tdist = that.dist_buf[lx];\n\t\t\t\tlc = that.lc_buf[lx];\n\t\t\t\tlx++;\n\n\t\t\t\tif (dist === 0) {\n\t\t\t\t\tsend_code(lc, ltree); // send a literal byte\n\t\t\t\t} else {\n\t\t\t\t\t// Here, lc is the match length - MIN_MATCH\n\t\t\t\t\tcode = Tree._length_code[lc];\n\n\t\t\t\t\tsend_code(code + LITERALS + 1, ltree); // send the length\n\t\t\t\t\t// code\n\t\t\t\t\textra = Tree.extra_lbits[code];\n\t\t\t\t\tif (extra !== 0) {\n\t\t\t\t\t\tlc -= Tree.base_length[code];\n\t\t\t\t\t\tsend_bits(lc, extra); // send the extra length bits\n\t\t\t\t\t}\n\t\t\t\t\tdist--; // dist is now the match distance - 1\n\t\t\t\t\tcode = Tree.d_code(dist);\n\n\t\t\t\t\tsend_code(code, dtree); // send the distance code\n\t\t\t\t\textra = Tree.extra_dbits[code];\n\t\t\t\t\tif (extra !== 0) {\n\t\t\t\t\t\tdist -= Tree.base_dist[code];\n\t\t\t\t\t\tsend_bits(dist, extra); // send the extra distance bits\n\t\t\t\t\t}\n\t\t\t\t} // literal or match pair ?\n\t\t\t} while (lx < last_lit);\n\t\t}\n\n\t\tsend_code(END_BLOCK, ltree);\n\t\tlast_eob_len = ltree[END_BLOCK * 2 + 1];\n\t}\n\n\t// Flush the bit buffer and align the output on a byte boundary\n\tfunction bi_windup() {\n\t\tif (bi_valid > 8) {\n\t\t\tput_short(bi_buf);\n\t\t} else if (bi_valid > 0) {\n\t\t\tput_byte(bi_buf & 0xff);\n\t\t}\n\t\tbi_buf = 0;\n\t\tbi_valid = 0;\n\t}\n\n\t// Copy a stored block, storing first the length and its\n\t// one's complement if requested.\n\tfunction copy_block(buf, // the input data\n\t\tlen, // its length\n\t\theader // true if block header must be written\n\t) {\n\t\tbi_windup(); // align on byte boundary\n\t\tlast_eob_len = 8; // enough lookahead for inflate\n\n\t\tif (header) {\n\t\t\tput_short(len);\n\t\t\tput_short(~len);\n\t\t}\n\n\t\tthat.pending_buf.set(win.subarray(buf, buf + len), that.pending);\n\t\tthat.pending += len;\n\t}\n\n\t// Send a stored block\n\tfunction _tr_stored_block(buf, // input block\n\t\tstored_len, // length of input block\n\t\teof // true if this is the last block for a file\n\t) {\n\t\tsend_bits((STORED_BLOCK << 1) + (eof ? 1 : 0), 3); // send block type\n\t\tcopy_block(buf, stored_len, true); // with header\n\t}\n\n\t// Determine the best encoding for the current block: dynamic trees, static\n\t// trees or store, and output the encoded block to the zip file.\n\tfunction _tr_flush_block(buf, // input block, or NULL if too old\n\t\tstored_len, // length of input block\n\t\teof // true if this is the last block for a file\n\t) {\n\t\tlet opt_lenb, static_lenb;// opt_len and static_len in bytes\n\t\tlet max_blindex = 0; // index of last bit length code of non zero freq\n\n\t\t// Build the Huffman trees unless a stored block is forced\n\t\tif (level > 0) {\n\t\t\t// Construct the literal and distance trees\n\t\t\tl_desc.build_tree(that);\n\n\t\t\td_desc.build_tree(that);\n\n\t\t\t// At this point, opt_len and static_len are the total bit lengths\n\t\t\t// of\n\t\t\t// the compressed block data, excluding the tree representations.\n\n\t\t\t// Build the bit length tree for the above two trees, and get the\n\t\t\t// index\n\t\t\t// in bl_order of the last bit length code to send.\n\t\t\tmax_blindex = build_bl_tree();\n\n\t\t\t// Determine the best encoding. Compute first the block length in\n\t\t\t// bytes\n\t\t\topt_lenb = (that.opt_len + 3 + 7) >>> 3;\n\t\t\tstatic_lenb = (that.static_len + 3 + 7) >>> 3;\n\n\t\t\tif (static_lenb <= opt_lenb)\n\t\t\t\topt_lenb = static_lenb;\n\t\t} else {\n\t\t\topt_lenb = static_lenb = stored_len + 5; // force a stored block\n\t\t}\n\n\t\tif ((stored_len + 4 <= opt_lenb) && buf != -1) {\n\t\t\t// 4: two words for the lengths\n\t\t\t// The test buf != NULL is only necessary if LIT_BUFSIZE > WSIZE.\n\t\t\t// Otherwise we can't have processed more than WSIZE input bytes\n\t\t\t// since\n\t\t\t// the last block flush, because compression would have been\n\t\t\t// successful. If LIT_BUFSIZE <= WSIZE, it is never too late to\n\t\t\t// transform a block into a stored block.\n\t\t\t_tr_stored_block(buf, stored_len, eof);\n\t\t} else if (static_lenb == opt_lenb) {\n\t\t\tsend_bits((STATIC_TREES << 1) + (eof ? 1 : 0), 3);\n\t\t\tcompress_block(StaticTree.static_ltree, StaticTree.static_dtree);\n\t\t} else {\n\t\t\tsend_bits((DYN_TREES << 1) + (eof ? 1 : 0), 3);\n\t\t\tsend_all_trees(l_desc.max_code + 1, d_desc.max_code + 1, max_blindex + 1);\n\t\t\tcompress_block(dyn_ltree, dyn_dtree);\n\t\t}\n\n\t\t// The above check is made mod 2^32, for files larger than 512 MB\n\t\t// and uLong implemented on 32 bits.\n\n\t\tinit_block();\n\n\t\tif (eof) {\n\t\t\tbi_windup();\n\t\t}\n\t}\n\n\tfunction flush_block_only(eof) {\n\t\t_tr_flush_block(block_start >= 0 ? block_start : -1, strstart - block_start, eof);\n\t\tblock_start = strstart;\n\t\tstrm.flush_pending();\n\t}\n\n\t// Fill the win when the lookahead becomes insufficient.\n\t// Updates strstart and lookahead.\n\t//\n\t// IN assertion: lookahead < MIN_LOOKAHEAD\n\t// OUT assertions: strstart <= window_size-MIN_LOOKAHEAD\n\t// At least one byte has been read, or avail_in === 0; reads are\n\t// performed for at least two bytes (required for the zip translate_eol\n\t// option -- not supported here).\n\tfunction fill_window() {\n\t\tlet n, m;\n\t\tlet p;\n\t\tlet more; // Amount of free space at the end of the win.\n\n\t\tdo {\n\t\t\tmore = (window_size - lookahead - strstart);\n\n\t\t\t// Deal with !@#$% 64K limit:\n\t\t\tif (more === 0 && strstart === 0 && lookahead === 0) {\n\t\t\t\tmore = w_size;\n\t\t\t} else if (more == -1) {\n\t\t\t\t// Very unlikely, but possible on 16 bit machine if strstart ==\n\t\t\t\t// 0\n\t\t\t\t// and lookahead == 1 (input done one byte at time)\n\t\t\t\tmore--;\n\n\t\t\t\t// If the win is almost full and there is insufficient\n\t\t\t\t// lookahead,\n\t\t\t\t// move the upper half to the lower one to make room in the\n\t\t\t\t// upper half.\n\t\t\t} else if (strstart >= w_size + w_size - MIN_LOOKAHEAD) {\n\t\t\t\twin.set(win.subarray(w_size, w_size + w_size), 0);\n\n\t\t\t\tmatch_start -= w_size;\n\t\t\t\tstrstart -= w_size; // we now have strstart >= MAX_DIST\n\t\t\t\tblock_start -= w_size;\n\n\t\t\t\t// Slide the hash table (could be avoided with 32 bit values\n\t\t\t\t// at the expense of memory usage). We slide even when level ==\n\t\t\t\t// 0\n\t\t\t\t// to keep the hash table consistent if we switch back to level\n\t\t\t\t// > 0\n\t\t\t\t// later. (Using level 0 permanently is not an optimal usage of\n\t\t\t\t// zlib, so we don't care about this pathological case.)\n\n\t\t\t\tn = hash_size;\n\t\t\t\tp = n;\n\t\t\t\tdo {\n\t\t\t\t\tm = (head[--p] & 0xffff);\n\t\t\t\t\thead[p] = (m >= w_size ? m - w_size : 0);\n\t\t\t\t} while (--n !== 0);\n\n\t\t\t\tn = w_size;\n\t\t\t\tp = n;\n\t\t\t\tdo {\n\t\t\t\t\tm = (prev[--p] & 0xffff);\n\t\t\t\t\tprev[p] = (m >= w_size ? m - w_size : 0);\n\t\t\t\t\t// If n is not on any hash chain, prev[n] is garbage but\n\t\t\t\t\t// its value will never be used.\n\t\t\t\t} while (--n !== 0);\n\t\t\t\tmore += w_size;\n\t\t\t}\n\n\t\t\tif (strm.avail_in === 0)\n\t\t\t\treturn;\n\n\t\t\t// If there was no sliding:\n\t\t\t// strstart <= WSIZE+MAX_DIST-1 && lookahead <= MIN_LOOKAHEAD - 1 &&\n\t\t\t// more == window_size - lookahead - strstart\n\t\t\t// => more >= window_size - (MIN_LOOKAHEAD-1 + WSIZE + MAX_DIST-1)\n\t\t\t// => more >= window_size - 2*WSIZE + 2\n\t\t\t// In the BIG_MEM or MMAP case (not yet supported),\n\t\t\t// window_size == input_size + MIN_LOOKAHEAD &&\n\t\t\t// strstart + s->lookahead <= input_size => more >= MIN_LOOKAHEAD.\n\t\t\t// Otherwise, window_size == 2*WSIZE so more >= 2.\n\t\t\t// If there was sliding, more >= WSIZE. So in all cases, more >= 2.\n\n\t\t\tn = strm.read_buf(win, strstart + lookahead, more);\n\t\t\tlookahead += n;\n\n\t\t\t// Initialize the hash value now that we have some input:\n\t\t\tif (lookahead >= MIN_MATCH) {\n\t\t\t\tins_h = win[strstart] & 0xff;\n\t\t\t\tins_h = (((ins_h) << hash_shift) ^ (win[strstart + 1] & 0xff)) & hash_mask;\n\t\t\t}\n\t\t\t// If the whole input has less than MIN_MATCH bytes, ins_h is\n\t\t\t// garbage,\n\t\t\t// but this is not important since only literal bytes will be\n\t\t\t// emitted.\n\t\t} while (lookahead < MIN_LOOKAHEAD && strm.avail_in !== 0);\n\t}\n\n\t// Copy without compression as much as possible from the input stream,\n\t// return\n\t// the current block state.\n\t// This function does not insert new strings in the dictionary since\n\t// uncompressible data is probably not useful. This function is used\n\t// only for the level=0 compression option.\n\t// NOTE: this function should be optimized to avoid extra copying from\n\t// win to pending_buf.\n\tfunction deflate_stored(flush) {\n\t\t// Stored blocks are limited to 0xffff bytes, pending_buf is limited\n\t\t// to pending_buf_size, and each stored block has a 5 byte header:\n\n\t\tlet max_block_size = 0xffff;\n\t\tlet max_start;\n\n\t\tif (max_block_size > pending_buf_size - 5) {\n\t\t\tmax_block_size = pending_buf_size - 5;\n\t\t}\n\n\t\t// Copy as much as possible from input to output:\n\t\t// eslint-disable-next-line no-constant-condition\n\t\twhile (true) {\n\t\t\t// Fill the win as much as possible:\n\t\t\tif (lookahead <= 1) {\n\t\t\t\tfill_window();\n\t\t\t\tif (lookahead === 0 && flush == Z_NO_FLUSH)\n\t\t\t\t\treturn NeedMore;\n\t\t\t\tif (lookahead === 0)\n\t\t\t\t\tbreak; // flush the current block\n\t\t\t}\n\n\t\t\tstrstart += lookahead;\n\t\t\tlookahead = 0;\n\n\t\t\t// Emit a stored block if pending_buf will be full:\n\t\t\tmax_start = block_start + max_block_size;\n\t\t\tif (strstart === 0 || strstart >= max_start) {\n\t\t\t\t// strstart === 0 is possible when wraparound on 16-bit machine\n\t\t\t\tlookahead = (strstart - max_start);\n\t\t\t\tstrstart = max_start;\n\n\t\t\t\tflush_block_only(false);\n\t\t\t\tif (strm.avail_out === 0)\n\t\t\t\t\treturn NeedMore;\n\n\t\t\t}\n\n\t\t\t// Flush if we may have to slide, otherwise block_start may become\n\t\t\t// negative and the data will be gone:\n\t\t\tif (strstart - block_start >= w_size - MIN_LOOKAHEAD) {\n\t\t\t\tflush_block_only(false);\n\t\t\t\tif (strm.avail_out === 0)\n\t\t\t\t\treturn NeedMore;\n\t\t\t}\n\t\t}\n\n\t\tflush_block_only(flush == Z_FINISH);\n\t\tif (strm.avail_out === 0)\n\t\t\treturn (flush == Z_FINISH) ? FinishStarted : NeedMore;\n\n\t\treturn flush == Z_FINISH ? FinishDone : BlockDone;\n\t}\n\n\tfunction longest_match(cur_match) {\n\t\tlet chain_length = max_chain_length; // max hash chain length\n\t\tlet scan = strstart; // current string\n\t\tlet match; // matched string\n\t\tlet len; // length of current match\n\t\tlet best_len = prev_length; // best match length so far\n\t\tconst limit = strstart > (w_size - MIN_LOOKAHEAD) ? strstart - (w_size - MIN_LOOKAHEAD) : 0;\n\t\tlet _nice_match = nice_match;\n\n\t\t// Stop when cur_match becomes <= limit. To simplify the code,\n\t\t// we prevent matches with the string of win index 0.\n\n\t\tconst wmask = w_mask;\n\n\t\tconst strend = strstart + MAX_MATCH;\n\t\tlet scan_end1 = win[scan + best_len - 1];\n\t\tlet scan_end = win[scan + best_len];\n\n\t\t// The code is optimized for HASH_BITS >= 8 and MAX_MATCH-2 multiple of\n\t\t// 16.\n\t\t// It is easy to get rid of this optimization if necessary.\n\n\t\t// Do not waste too much time if we already have a good match:\n\t\tif (prev_length >= good_match) {\n\t\t\tchain_length >>= 2;\n\t\t}\n\n\t\t// Do not look for matches beyond the end of the input. This is\n\t\t// necessary\n\t\t// to make deflate deterministic.\n\t\tif (_nice_match > lookahead)\n\t\t\t_nice_match = lookahead;\n\n\t\tdo {\n\t\t\tmatch = cur_match;\n\n\t\t\t// Skip to next match if the match length cannot increase\n\t\t\t// or if the match length is less than 2:\n\t\t\tif (win[match + best_len] != scan_end || win[match + best_len - 1] != scan_end1 || win[match] != win[scan]\n\t\t\t\t|| win[++match] != win[scan + 1])\n\t\t\t\tcontinue;\n\n\t\t\t// The check at best_len-1 can be removed because it will be made\n\t\t\t// again later. (This heuristic is not always a win.)\n\t\t\t// It is not necessary to compare scan[2] and match[2] since they\n\t\t\t// are always equal when the other bytes match, given that\n\t\t\t// the hash keys are equal and that HASH_BITS >= 8.\n\t\t\tscan += 2;\n\t\t\tmatch++;\n\n\t\t\t// We check for insufficient lookahead only every 8th comparison;\n\t\t\t// the 256th check will be made at strstart+258.\n\t\t\t// eslint-disable-next-line no-empty\n\t\t\tdo {\n\t\t\t\t// empty block\n\t\t\t} while (win[++scan] == win[++match] && win[++scan] == win[++match] && win[++scan] == win[++match]\n\t\t\t&& win[++scan] == win[++match] && win[++scan] == win[++match] && win[++scan] == win[++match]\n\t\t\t&& win[++scan] == win[++match] && win[++scan] == win[++match] && scan < strend);\n\n\t\t\tlen = MAX_MATCH - (strend - scan);\n\t\t\tscan = strend - MAX_MATCH;\n\n\t\t\tif (len > best_len) {\n\t\t\t\tmatch_start = cur_match;\n\t\t\t\tbest_len = len;\n\t\t\t\tif (len >= _nice_match)\n\t\t\t\t\tbreak;\n\t\t\t\tscan_end1 = win[scan + best_len - 1];\n\t\t\t\tscan_end = win[scan + best_len];\n\t\t\t}\n\n\t\t} while ((cur_match = (prev[cur_match & wmask] & 0xffff)) > limit && --chain_length !== 0);\n\n\t\tif (best_len <= lookahead)\n\t\t\treturn best_len;\n\t\treturn lookahead;\n\t}\n\n\t// Compress as much as possible from the input stream, return the current\n\t// block state.\n\t// This function does not perform lazy evaluation of matches and inserts\n\t// new strings in the dictionary only for unmatched strings or for short\n\t// matches. It is used only for the fast compression options.\n\tfunction deflate_fast(flush) {\n\t\t// short hash_head = 0; // head of the hash chain\n\t\tlet hash_head = 0; // head of the hash chain\n\t\tlet bflush; // set if current block must be flushed\n\n\t\t// eslint-disable-next-line no-constant-condition\n\t\twhile (true) {\n\t\t\t// Make sure that we always have enough lookahead, except\n\t\t\t// at the end of the input file. We need MAX_MATCH bytes\n\t\t\t// for the next match, plus MIN_MATCH bytes to insert the\n\t\t\t// string following the next match.\n\t\t\tif (lookahead < MIN_LOOKAHEAD) {\n\t\t\t\tfill_window();\n\t\t\t\tif (lookahead < MIN_LOOKAHEAD && flush == Z_NO_FLUSH) {\n\t\t\t\t\treturn NeedMore;\n\t\t\t\t}\n\t\t\t\tif (lookahead === 0)\n\t\t\t\t\tbreak; // flush the current block\n\t\t\t}\n\n\t\t\t// Insert the string win[strstart .. strstart+2] in the\n\t\t\t// dictionary, and set hash_head to the head of the hash chain:\n\t\t\tif (lookahead >= MIN_MATCH) {\n\t\t\t\tins_h = (((ins_h) << hash_shift) ^ (win[(strstart) + (MIN_MATCH - 1)] & 0xff)) & hash_mask;\n\n\t\t\t\t// prev[strstart&w_mask]=hash_head=head[ins_h];\n\t\t\t\thash_head = (head[ins_h] & 0xffff);\n\t\t\t\tprev[strstart & w_mask] = head[ins_h];\n\t\t\t\thead[ins_h] = strstart;\n\t\t\t}\n\n\t\t\t// Find the longest match, discarding those <= prev_length.\n\t\t\t// At this point we have always match_length < MIN_MATCH\n\n\t\t\tif (hash_head !== 0 && ((strstart - hash_head) & 0xffff) <= w_size - MIN_LOOKAHEAD) {\n\t\t\t\t// To simplify the code, we prevent matches with the string\n\t\t\t\t// of win index 0 (in particular we have to avoid a match\n\t\t\t\t// of the string with itself at the start of the input file).\n\t\t\t\tif (strategy != Z_HUFFMAN_ONLY) {\n\t\t\t\t\tmatch_length = longest_match(hash_head);\n\t\t\t\t}\n\t\t\t\t// longest_match() sets match_start\n\t\t\t}\n\t\t\tif (match_length >= MIN_MATCH) {\n\t\t\t\t// check_match(strstart, match_start, match_length);\n\n\t\t\t\tbflush = _tr_tally(strstart - match_start, match_length - MIN_MATCH);\n\n\t\t\t\tlookahead -= match_length;\n\n\t\t\t\t// Insert new strings in the hash table only if the match length\n\t\t\t\t// is not too large. This saves time but degrades compression.\n\t\t\t\tif (match_length <= max_lazy_match && lookahead >= MIN_MATCH) {\n\t\t\t\t\tmatch_length--; // string at strstart already in hash table\n\t\t\t\t\tdo {\n\t\t\t\t\t\tstrstart++;\n\n\t\t\t\t\t\tins_h = ((ins_h << hash_shift) ^ (win[(strstart) + (MIN_MATCH - 1)] & 0xff)) & hash_mask;\n\t\t\t\t\t\t// prev[strstart&w_mask]=hash_head=head[ins_h];\n\t\t\t\t\t\thash_head = (head[ins_h] & 0xffff);\n\t\t\t\t\t\tprev[strstart & w_mask] = head[ins_h];\n\t\t\t\t\t\thead[ins_h] = strstart;\n\n\t\t\t\t\t\t// strstart never exceeds WSIZE-MAX_MATCH, so there are\n\t\t\t\t\t\t// always MIN_MATCH bytes ahead.\n\t\t\t\t\t} while (--match_length !== 0);\n\t\t\t\t\tstrstart++;\n\t\t\t\t} else {\n\t\t\t\t\tstrstart += match_length;\n\t\t\t\t\tmatch_length = 0;\n\t\t\t\t\tins_h = win[strstart] & 0xff;\n\n\t\t\t\t\tins_h = (((ins_h) << hash_shift) ^ (win[strstart + 1] & 0xff)) & hash_mask;\n\t\t\t\t\t// If lookahead < MIN_MATCH, ins_h is garbage, but it does\n\t\t\t\t\t// not\n\t\t\t\t\t// matter since it will be recomputed at next deflate call.\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// No match, output a literal byte\n\n\t\t\t\tbflush = _tr_tally(0, win[strstart] & 0xff);\n\t\t\t\tlookahead--;\n\t\t\t\tstrstart++;\n\t\t\t}\n\t\t\tif (bflush) {\n\n\t\t\t\tflush_block_only(false);\n\t\t\t\tif (strm.avail_out === 0)\n\t\t\t\t\treturn NeedMore;\n\t\t\t}\n\t\t}\n\n\t\tflush_block_only(flush == Z_FINISH);\n\t\tif (strm.avail_out === 0) {\n\t\t\tif (flush == Z_FINISH)\n\t\t\t\treturn FinishStarted;\n\t\t\telse\n\t\t\t\treturn NeedMore;\n\t\t}\n\t\treturn flush == Z_FINISH ? FinishDone : BlockDone;\n\t}\n\n\t// Same as above, but achieves better compression. We use a lazy\n\t// evaluation for matches: a match is finally adopted only if there is\n\t// no better match at the next win position.\n\tfunction deflate_slow(flush) {\n\t\t// short hash_head = 0; // head of hash chain\n\t\tlet hash_head = 0; // head of hash chain\n\t\tlet bflush; // set if current block must be flushed\n\t\tlet max_insert;\n\n\t\t// Process the input block.\n\t\t// eslint-disable-next-line no-constant-condition\n\t\twhile (true) {\n\t\t\t// Make sure that we always have enough lookahead, except\n\t\t\t// at the end of the input file. We need MAX_MATCH bytes\n\t\t\t// for the next match, plus MIN_MATCH bytes to insert the\n\t\t\t// string following the next match.\n\n\t\t\tif (lookahead < MIN_LOOKAHEAD) {\n\t\t\t\tfill_window();\n\t\t\t\tif (lookahead < MIN_LOOKAHEAD && flush == Z_NO_FLUSH) {\n\t\t\t\t\treturn NeedMore;\n\t\t\t\t}\n\t\t\t\tif (lookahead === 0)\n\t\t\t\t\tbreak; // flush the current block\n\t\t\t}\n\n\t\t\t// Insert the string win[strstart .. strstart+2] in the\n\t\t\t// dictionary, and set hash_head to the head of the hash chain:\n\n\t\t\tif (lookahead >= MIN_MATCH) {\n\t\t\t\tins_h = (((ins_h) << hash_shift) ^ (win[(strstart) + (MIN_MATCH - 1)] & 0xff)) & hash_mask;\n\t\t\t\t// prev[strstart&w_mask]=hash_head=head[ins_h];\n\t\t\t\thash_head = (head[ins_h] & 0xffff);\n\t\t\t\tprev[strstart & w_mask] = head[ins_h];\n\t\t\t\thead[ins_h] = strstart;\n\t\t\t}\n\n\t\t\t// Find the longest match, discarding those <= prev_length.\n\t\t\tprev_length = match_length;\n\t\t\tprev_match = match_start;\n\t\t\tmatch_length = MIN_MATCH - 1;\n\n\t\t\tif (hash_head !== 0 && prev_length < max_lazy_match && ((strstart - hash_head) & 0xffff) <= w_size - MIN_LOOKAHEAD) {\n\t\t\t\t// To simplify the code, we prevent matches with the string\n\t\t\t\t// of win index 0 (in particular we have to avoid a match\n\t\t\t\t// of the string with itself at the start of the input file).\n\n\t\t\t\tif (strategy != Z_HUFFMAN_ONLY) {\n\t\t\t\t\tmatch_length = longest_match(hash_head);\n\t\t\t\t}\n\t\t\t\t// longest_match() sets match_start\n\n\t\t\t\tif (match_length <= 5 && (strategy == Z_FILTERED || (match_length == MIN_MATCH && strstart - match_start > 4096))) {\n\n\t\t\t\t\t// If prev_match is also MIN_MATCH, match_start is garbage\n\t\t\t\t\t// but we will ignore the current match anyway.\n\t\t\t\t\tmatch_length = MIN_MATCH - 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If there was a match at the previous step and the current\n\t\t\t// match is not better, output the previous match:\n\t\t\tif (prev_length >= MIN_MATCH && match_length <= prev_length) {\n\t\t\t\tmax_insert = strstart + lookahead - MIN_MATCH;\n\t\t\t\t// Do not insert strings in hash table beyond this.\n\n\t\t\t\t// check_match(strstart-1, prev_match, prev_length);\n\n\t\t\t\tbflush = _tr_tally(strstart - 1 - prev_match, prev_length - MIN_MATCH);\n\n\t\t\t\t// Insert in hash table all strings up to the end of the match.\n\t\t\t\t// strstart-1 and strstart are already inserted. If there is not\n\t\t\t\t// enough lookahead, the last two strings are not inserted in\n\t\t\t\t// the hash table.\n\t\t\t\tlookahead -= prev_length - 1;\n\t\t\t\tprev_length -= 2;\n\t\t\t\tdo {\n\t\t\t\t\tif (++strstart <= max_insert) {\n\t\t\t\t\t\tins_h = (((ins_h) << hash_shift) ^ (win[(strstart) + (MIN_MATCH - 1)] & 0xff)) & hash_mask;\n\t\t\t\t\t\t// prev[strstart&w_mask]=hash_head=head[ins_h];\n\t\t\t\t\t\thash_head = (head[ins_h] & 0xffff);\n\t\t\t\t\t\tprev[strstart & w_mask] = head[ins_h];\n\t\t\t\t\t\thead[ins_h] = strstart;\n\t\t\t\t\t}\n\t\t\t\t} while (--prev_length !== 0);\n\t\t\t\tmatch_available = 0;\n\t\t\t\tmatch_length = MIN_MATCH - 1;\n\t\t\t\tstrstart++;\n\n\t\t\t\tif (bflush) {\n\t\t\t\t\tflush_block_only(false);\n\t\t\t\t\tif (strm.avail_out === 0)\n\t\t\t\t\t\treturn NeedMore;\n\t\t\t\t}\n\t\t\t} else if (match_available !== 0) {\n\n\t\t\t\t// If there was no match at the previous position, output a\n\t\t\t\t// single literal. If there was a match but the current match\n\t\t\t\t// is longer, truncate the previous match to a single literal.\n\n\t\t\t\tbflush = _tr_tally(0, win[strstart - 1] & 0xff);\n\n\t\t\t\tif (bflush) {\n\t\t\t\t\tflush_block_only(false);\n\t\t\t\t}\n\t\t\t\tstrstart++;\n\t\t\t\tlookahead--;\n\t\t\t\tif (strm.avail_out === 0)\n\t\t\t\t\treturn NeedMore;\n\t\t\t} else {\n\t\t\t\t// There is no previous match to compare with, wait for\n\t\t\t\t// the next step to decide.\n\n\t\t\t\tmatch_available = 1;\n\t\t\t\tstrstart++;\n\t\t\t\tlookahead--;\n\t\t\t}\n\t\t}\n\n\t\tif (match_available !== 0) {\n\t\t\tbflush = _tr_tally(0, win[strstart - 1] & 0xff);\n\t\t\tmatch_available = 0;\n\t\t}\n\t\tflush_block_only(flush == Z_FINISH);\n\n\t\tif (strm.avail_out === 0) {\n\t\t\tif (flush == Z_FINISH)\n\t\t\t\treturn FinishStarted;\n\t\t\telse\n\t\t\t\treturn NeedMore;\n\t\t}\n\n\t\treturn flush == Z_FINISH ? FinishDone : BlockDone;\n\t}\n\n\tfunction deflateReset(strm) {\n\t\tstrm.total_in = strm.total_out = 0;\n\t\tstrm.msg = null; //\n\n\t\tthat.pending = 0;\n\t\tthat.pending_out = 0;\n\n\t\tstatus = BUSY_STATE;\n\n\t\tlast_flush = Z_NO_FLUSH;\n\n\t\ttr_init();\n\t\tlm_init();\n\t\treturn Z_OK;\n\t}\n\n\tthat.deflateInit = function (strm, _level, bits, _method, memLevel, _strategy) {\n\t\tif (!_method)\n\t\t\t_method = Z_DEFLATED;\n\t\tif (!memLevel)\n\t\t\tmemLevel = DEF_MEM_LEVEL;\n\t\tif (!_strategy)\n\t\t\t_strategy = Z_DEFAULT_STRATEGY;\n\n\t\t// byte[] my_version=ZLIB_VERSION;\n\n\t\t//\n\t\t// if (!version || version[0] != my_version[0]\n\t\t// || stream_size != sizeof(z_stream)) {\n\t\t// return Z_VERSION_ERROR;\n\t\t// }\n\n\t\tstrm.msg = null;\n\n\t\tif (_level == Z_DEFAULT_COMPRESSION)\n\t\t\t_level = 6;\n\n\t\tif (memLevel < 1 || memLevel > MAX_MEM_LEVEL || _method != Z_DEFLATED || bits < 9 || bits > 15 || _level < 0 || _level > 9 || _strategy < 0\n\t\t\t|| _strategy > Z_HUFFMAN_ONLY) {\n\t\t\treturn Z_STREAM_ERROR;\n\t\t}\n\n\t\tstrm.dstate = that;\n\n\t\tw_bits = bits;\n\t\tw_size = 1 << w_bits;\n\t\tw_mask = w_size - 1;\n\n\t\thash_bits = memLevel + 7;\n\t\thash_size = 1 << hash_bits;\n\t\thash_mask = hash_size - 1;\n\t\thash_shift = Math.floor((hash_bits + MIN_MATCH - 1) / MIN_MATCH);\n\n\t\twin = new Uint8Array(w_size * 2);\n\t\tprev = [];\n\t\thead = [];\n\n\t\tlit_bufsize = 1 << (memLevel + 6); // 16K elements by default\n\n\t\tthat.pending_buf = new Uint8Array(lit_bufsize * 4);\n\t\tpending_buf_size = lit_bufsize * 4;\n\n\t\tthat.dist_buf = new Uint16Array(lit_bufsize);\n\t\tthat.lc_buf = new Uint8Array(lit_bufsize);\n\n\t\tlevel = _level;\n\n\t\tstrategy = _strategy;\n\n\t\treturn deflateReset(strm);\n\t};\n\n\tthat.deflateEnd = function () {\n\t\tif (status != INIT_STATE && status != BUSY_STATE && status != FINISH_STATE) {\n\t\t\treturn Z_STREAM_ERROR;\n\t\t}\n\t\t// Deallocate in reverse order of allocations:\n\t\tthat.lc_buf = null;\n\t\tthat.dist_buf = null;\n\t\tthat.pending_buf = null;\n\t\thead = null;\n\t\tprev = null;\n\t\twin = null;\n\t\t// free\n\t\tthat.dstate = null;\n\t\treturn status == BUSY_STATE ? Z_DATA_ERROR : Z_OK;\n\t};\n\n\tthat.deflateParams = function (strm, _level, _strategy) {\n\t\tlet err = Z_OK;\n\n\t\tif (_level == Z_DEFAULT_COMPRESSION) {\n\t\t\t_level = 6;\n\t\t}\n\t\tif (_level < 0 || _level > 9 || _strategy < 0 || _strategy > Z_HUFFMAN_ONLY) {\n\t\t\treturn Z_STREAM_ERROR;\n\t\t}\n\n\t\tif (config_table[level].func != config_table[_level].func && strm.total_in !== 0) {\n\t\t\t// Flush the last buffer:\n\t\t\terr = strm.deflate(Z_PARTIAL_FLUSH);\n\t\t}\n\n\t\tif (level != _level) {\n\t\t\tlevel = _level;\n\t\t\tmax_lazy_match = config_table[level].max_lazy;\n\t\t\tgood_match = config_table[level].good_length;\n\t\t\tnice_match = config_table[level].nice_length;\n\t\t\tmax_chain_length = config_table[level].max_chain;\n\t\t}\n\t\tstrategy = _strategy;\n\t\treturn err;\n\t};\n\n\tthat.deflateSetDictionary = function (_strm, dictionary, dictLength) {\n\t\tlet length = dictLength;\n\t\tlet n, index = 0;\n\n\t\tif (!dictionary || status != INIT_STATE)\n\t\t\treturn Z_STREAM_ERROR;\n\n\t\tif (length < MIN_MATCH)\n\t\t\treturn Z_OK;\n\t\tif (length > w_size - MIN_LOOKAHEAD) {\n\t\t\tlength = w_size - MIN_LOOKAHEAD;\n\t\t\tindex = dictLength - length; // use the tail of the dictionary\n\t\t}\n\t\twin.set(dictionary.subarray(index, index + length), 0);\n\n\t\tstrstart = length;\n\t\tblock_start = length;\n\n\t\t// Insert all strings in the hash table (except for the last two bytes).\n\t\t// s->lookahead stays null, so s->ins_h will be recomputed at the next\n\t\t// call of fill_window.\n\n\t\tins_h = win[0] & 0xff;\n\t\tins_h = (((ins_h) << hash_shift) ^ (win[1] & 0xff)) & hash_mask;\n\n\t\tfor (n = 0; n <= length - MIN_MATCH; n++) {\n\t\t\tins_h = (((ins_h) << hash_shift) ^ (win[(n) + (MIN_MATCH - 1)] & 0xff)) & hash_mask;\n\t\t\tprev[n & w_mask] = head[ins_h];\n\t\t\thead[ins_h] = n;\n\t\t}\n\t\treturn Z_OK;\n\t};\n\n\tthat.deflate = function (_strm, flush) {\n\t\tlet i, header, level_flags, old_flush, bstate;\n\n\t\tif (flush > Z_FINISH || flush < 0) {\n\t\t\treturn Z_STREAM_ERROR;\n\t\t}\n\n\t\tif (!_strm.next_out || (!_strm.next_in && _strm.avail_in !== 0) || (status == FINISH_STATE && flush != Z_FINISH)) {\n\t\t\t_strm.msg = z_errmsg[Z_NEED_DICT - (Z_STREAM_ERROR)];\n\t\t\treturn Z_STREAM_ERROR;\n\t\t}\n\t\tif (_strm.avail_out === 0) {\n\t\t\t_strm.msg = z_errmsg[Z_NEED_DICT - (Z_BUF_ERROR)];\n\t\t\treturn Z_BUF_ERROR;\n\t\t}\n\n\t\tstrm = _strm; // just in case\n\t\told_flush = last_flush;\n\t\tlast_flush = flush;\n\n\t\t// Write the zlib header\n\t\tif (status == INIT_STATE) {\n\t\t\theader = (Z_DEFLATED + ((w_bits - 8) << 4)) << 8;\n\t\t\tlevel_flags = ((level - 1) & 0xff) >> 1;\n\n\t\t\tif (level_flags > 3)\n\t\t\t\tlevel_flags = 3;\n\t\t\theader |= (level_flags << 6);\n\t\t\tif (strstart !== 0)\n\t\t\t\theader |= PRESET_DICT;\n\t\t\theader += 31 - (header % 31);\n\n\t\t\tstatus = BUSY_STATE;\n\t\t\tputShortMSB(header);\n\t\t}\n\n\t\t// Flush as much pending output as possible\n\t\tif (that.pending !== 0) {\n\t\t\tstrm.flush_pending();\n\t\t\tif (strm.avail_out === 0) {\n\t\t\t\t// console.log(\" avail_out==0\");\n\t\t\t\t// Since avail_out is 0, deflate will be called again with\n\t\t\t\t// more output space, but possibly with both pending and\n\t\t\t\t// avail_in equal to zero. There won't be anything to do,\n\t\t\t\t// but this is not an error situation so make sure we\n\t\t\t\t// return OK instead of BUF_ERROR at next call of deflate:\n\t\t\t\tlast_flush = -1;\n\t\t\t\treturn Z_OK;\n\t\t\t}\n\n\t\t\t// Make sure there is something to do and avoid duplicate\n\t\t\t// consecutive\n\t\t\t// flushes. For repeated and useless calls with Z_FINISH, we keep\n\t\t\t// returning Z_STREAM_END instead of Z_BUFF_ERROR.\n\t\t} else if (strm.avail_in === 0 && flush <= old_flush && flush != Z_FINISH) {\n\t\t\tstrm.msg = z_errmsg[Z_NEED_DICT - (Z_BUF_ERROR)];\n\t\t\treturn Z_BUF_ERROR;\n\t\t}\n\n\t\t// User must not provide more input after the first FINISH:\n\t\tif (status == FINISH_STATE && strm.avail_in !== 0) {\n\t\t\t_strm.msg = z_errmsg[Z_NEED_DICT - (Z_BUF_ERROR)];\n\t\t\treturn Z_BUF_ERROR;\n\t\t}\n\n\t\t// Start a new block or continue the current one.\n\t\tif (strm.avail_in !== 0 || lookahead !== 0 || (flush != Z_NO_FLUSH && status != FINISH_STATE)) {\n\t\t\tbstate = -1;\n\t\t\tswitch (config_table[level].func) {\n\t\t\t\tcase STORED:\n\t\t\t\t\tbstate = deflate_stored(flush);\n\t\t\t\t\tbreak;\n\t\t\t\tcase FAST:\n\t\t\t\t\tbstate = deflate_fast(flush);\n\t\t\t\t\tbreak;\n\t\t\t\tcase SLOW:\n\t\t\t\t\tbstate = deflate_slow(flush);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t}\n\n\t\t\tif (bstate == FinishStarted || bstate == FinishDone) {\n\t\t\t\tstatus = FINISH_STATE;\n\t\t\t}\n\t\t\tif (bstate == NeedMore || bstate == FinishStarted) {\n\t\t\t\tif (strm.avail_out === 0) {\n\t\t\t\t\tlast_flush = -1; // avoid BUF_ERROR next call, see above\n\t\t\t\t}\n\t\t\t\treturn Z_OK;\n\t\t\t\t// If flush != Z_NO_FLUSH && avail_out === 0, the next call\n\t\t\t\t// of deflate should use the same flush parameter to make sure\n\t\t\t\t// that the flush is complete. So we don't have to output an\n\t\t\t\t// empty block here, this will be done at next call. This also\n\t\t\t\t// ensures that for a very small output buffer, we emit at most\n\t\t\t\t// one empty block.\n\t\t\t}\n\n\t\t\tif (bstate == BlockDone) {\n\t\t\t\tif (flush == Z_PARTIAL_FLUSH) {\n\t\t\t\t\t_tr_align();\n\t\t\t\t} else { // FULL_FLUSH or SYNC_FLUSH\n\t\t\t\t\t_tr_stored_block(0, 0, false);\n\t\t\t\t\t// For a full flush, this empty block will be recognized\n\t\t\t\t\t// as a special marker by inflate_sync().\n\t\t\t\t\tif (flush == Z_FULL_FLUSH) {\n\t\t\t\t\t\t// state.head[s.hash_size-1]=0;\n\t\t\t\t\t\tfor (i = 0; i < hash_size/*-1*/; i++)\n\t\t\t\t\t\t\t// forget history\n\t\t\t\t\t\t\thead[i] = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstrm.flush_pending();\n\t\t\t\tif (strm.avail_out === 0) {\n\t\t\t\t\tlast_flush = -1; // avoid BUF_ERROR at next call, see above\n\t\t\t\t\treturn Z_OK;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (flush != Z_FINISH)\n\t\t\treturn Z_OK;\n\t\treturn Z_STREAM_END;\n\t};\n}\n\n// ZStream\n\nfunction ZStream() {\n\tconst that = this;\n\tthat.next_in_index = 0;\n\tthat.next_out_index = 0;\n\t// that.next_in; // next input byte\n\tthat.avail_in = 0; // number of bytes available at next_in\n\tthat.total_in = 0; // total nb of input bytes read so far\n\t// that.next_out; // next output byte should be put there\n\tthat.avail_out = 0; // remaining free space at next_out\n\tthat.total_out = 0; // total nb of bytes output so far\n\t// that.msg;\n\t// that.dstate;\n}\n\nZStream.prototype = {\n\tdeflateInit(level, bits) {\n\t\tconst that = this;\n\t\tthat.dstate = new Deflate();\n\t\tif (!bits)\n\t\t\tbits = MAX_BITS;\n\t\treturn that.dstate.deflateInit(that, level, bits);\n\t},\n\n\tdeflate(flush) {\n\t\tconst that = this;\n\t\tif (!that.dstate) {\n\t\t\treturn Z_STREAM_ERROR;\n\t\t}\n\t\treturn that.dstate.deflate(that, flush);\n\t},\n\n\tdeflateEnd() {\n\t\tconst that = this;\n\t\tif (!that.dstate)\n\t\t\treturn Z_STREAM_ERROR;\n\t\tconst ret = that.dstate.deflateEnd();\n\t\tthat.dstate = null;\n\t\treturn ret;\n\t},\n\n\tdeflateParams(level, strategy) {\n\t\tconst that = this;\n\t\tif (!that.dstate)\n\t\t\treturn Z_STREAM_ERROR;\n\t\treturn that.dstate.deflateParams(that, level, strategy);\n\t},\n\n\tdeflateSetDictionary(dictionary, dictLength) {\n\t\tconst that = this;\n\t\tif (!that.dstate)\n\t\t\treturn Z_STREAM_ERROR;\n\t\treturn that.dstate.deflateSetDictionary(that, dictionary, dictLength);\n\t},\n\n\t// Read a new buffer from the current input stream, update the\n\t// total number of bytes read. All deflate() input goes through\n\t// this function so some applications may wish to modify it to avoid\n\t// allocating a large strm->next_in buffer and copying from it.\n\t// (See also flush_pending()).\n\tread_buf(buf, start, size) {\n\t\tconst that = this;\n\t\tlet len = that.avail_in;\n\t\tif (len > size)\n\t\t\tlen = size;\n\t\tif (len === 0)\n\t\t\treturn 0;\n\t\tthat.avail_in -= len;\n\t\tbuf.set(that.next_in.subarray(that.next_in_index, that.next_in_index + len), start);\n\t\tthat.next_in_index += len;\n\t\tthat.total_in += len;\n\t\treturn len;\n\t},\n\n\t// Flush as much pending output as possible. All deflate() output goes\n\t// through this function so some applications may wish to modify it\n\t// to avoid allocating a large strm->next_out buffer and copying into it.\n\t// (See also read_buf()).\n\tflush_pending() {\n\t\tconst that = this;\n\t\tlet len = that.dstate.pending;\n\n\t\tif (len > that.avail_out)\n\t\t\tlen = that.avail_out;\n\t\tif (len === 0)\n\t\t\treturn;\n\n\t\t// if (that.dstate.pending_buf.length <= that.dstate.pending_out || that.next_out.length <= that.next_out_index\n\t\t// || that.dstate.pending_buf.length < (that.dstate.pending_out + len) || that.next_out.length < (that.next_out_index +\n\t\t// len)) {\n\t\t// console.log(that.dstate.pending_buf.length + \", \" + that.dstate.pending_out + \", \" + that.next_out.length + \", \" +\n\t\t// that.next_out_index + \", \" + len);\n\t\t// console.log(\"avail_out=\" + that.avail_out);\n\t\t// }\n\n\t\tthat.next_out.set(that.dstate.pending_buf.subarray(that.dstate.pending_out, that.dstate.pending_out + len), that.next_out_index);\n\n\t\tthat.next_out_index += len;\n\t\tthat.dstate.pending_out += len;\n\t\tthat.total_out += len;\n\t\tthat.avail_out -= len;\n\t\tthat.dstate.pending -= len;\n\t\tif (that.dstate.pending === 0) {\n\t\t\tthat.dstate.pending_out = 0;\n\t\t}\n\t}\n};\n\n// Deflate\n\nfunction ZipDeflate(options) {\n\tconst that = this;\n\tconst z = new ZStream();\n\tconst bufsize = getMaximumCompressedSize(options && options.chunkSize ? options.chunkSize : 64 * 1024);\n\tconst flush = Z_NO_FLUSH;\n\tconst buf = new Uint8Array(bufsize);\n\tlet level = options ? options.level : Z_DEFAULT_COMPRESSION;\n\tif (typeof level == \"undefined\")\n\t\tlevel = Z_DEFAULT_COMPRESSION;\n\tz.deflateInit(level);\n\tz.next_out = buf;\n\n\tthat.append = function (data, onprogress) {\n\t\tlet err, array, lastIndex = 0, bufferIndex = 0, bufferSize = 0;\n\t\tconst buffers = [];\n\t\tif (!data.length)\n\t\t\treturn;\n\t\tz.next_in_index = 0;\n\t\tz.next_in = data;\n\t\tz.avail_in = data.length;\n\t\tdo {\n\t\t\tz.next_out_index = 0;\n\t\t\tz.avail_out = bufsize;\n\t\t\terr = z.deflate(flush);\n\t\t\tif (err != Z_OK)\n\t\t\t\tthrow new Error(\"deflating: \" + z.msg);\n\t\t\tif (z.next_out_index)\n\t\t\t\tif (z.next_out_index == bufsize)\n\t\t\t\t\tbuffers.push(new Uint8Array(buf));\n\t\t\t\telse\n\t\t\t\t\tbuffers.push(buf.subarray(0, z.next_out_index));\n\t\t\tbufferSize += z.next_out_index;\n\t\t\tif (onprogress && z.next_in_index > 0 && z.next_in_index != lastIndex) {\n\t\t\t\tonprogress(z.next_in_index);\n\t\t\t\tlastIndex = z.next_in_index;\n\t\t\t}\n\t\t} while (z.avail_in > 0 || z.avail_out === 0);\n\t\tif (buffers.length > 1) {\n\t\t\tarray = new Uint8Array(bufferSize);\n\t\t\tbuffers.forEach(function (chunk) {\n\t\t\t\tarray.set(chunk, bufferIndex);\n\t\t\t\tbufferIndex += chunk.length;\n\t\t\t});\n\t\t} else {\n\t\t\tarray = buffers[0] ? new Uint8Array(buffers[0]) : new Uint8Array();\n\t\t}\n\t\treturn array;\n\t};\n\tthat.flush = function () {\n\t\tlet err, array, bufferIndex = 0, bufferSize = 0;\n\t\tconst buffers = [];\n\t\tdo {\n\t\t\tz.next_out_index = 0;\n\t\t\tz.avail_out = bufsize;\n\t\t\terr = z.deflate(Z_FINISH);\n\t\t\tif (err != Z_STREAM_END && err != Z_OK)\n\t\t\t\tthrow new Error(\"deflating: \" + z.msg);\n\t\t\tif (bufsize - z.avail_out > 0)\n\t\t\t\tbuffers.push(buf.slice(0, z.next_out_index));\n\t\t\tbufferSize += z.next_out_index;\n\t\t} while (z.avail_in > 0 || z.avail_out === 0);\n\t\tz.deflateEnd();\n\t\tarray = new Uint8Array(bufferSize);\n\t\tbuffers.forEach(function (chunk) {\n\t\t\tarray.set(chunk, bufferIndex);\n\t\t\tbufferIndex += chunk.length;\n\t\t});\n\t\treturn array;\n\t};\n}\n\nfunction getMaximumCompressedSize(uncompressedSize) {\n\treturn uncompressedSize + (5 * (Math.floor(uncompressedSize / 16383) + 1));\n}\n\nexport {\n\tZipDeflate as Deflate\n};","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/*\n * This program is based on JZlib 1.0.2 ymnk, JCraft,Inc.\n * JZlib is based on zlib-1.1.3, so all credit should go authors\n * Jean-loup Gailly(jloup@gzip.org) and Mark Adler(madler@alumni.caltech.edu)\n * and contributors of zlib.\n */\n\n// deno-lint-ignore-file no-this-alias prefer-const\n\n// Global\n\nconst MAX_BITS = 15;\n\nconst Z_OK = 0;\nconst Z_STREAM_END = 1;\nconst Z_NEED_DICT = 2;\nconst Z_STREAM_ERROR = -2;\nconst Z_DATA_ERROR = -3;\nconst Z_MEM_ERROR = -4;\nconst Z_BUF_ERROR = -5;\n\nconst inflate_mask = [0x00000000, 0x00000001, 0x00000003, 0x00000007, 0x0000000f, 0x0000001f, 0x0000003f, 0x0000007f, 0x000000ff, 0x000001ff, 0x000003ff,\n\t0x000007ff, 0x00000fff, 0x00001fff, 0x00003fff, 0x00007fff, 0x0000ffff];\n\nconst MANY = 1440;\n\n// JZlib version : \"1.0.2\"\nconst Z_NO_FLUSH = 0;\nconst Z_FINISH = 4;\n\n// InfTree\nconst fixed_bl = 9;\nconst fixed_bd = 5;\n\nconst fixed_tl = [96, 7, 256, 0, 8, 80, 0, 8, 16, 84, 8, 115, 82, 7, 31, 0, 8, 112, 0, 8, 48, 0, 9, 192, 80, 7, 10, 0, 8, 96, 0, 8, 32, 0, 9, 160, 0, 8, 0,\n\t0, 8, 128, 0, 8, 64, 0, 9, 224, 80, 7, 6, 0, 8, 88, 0, 8, 24, 0, 9, 144, 83, 7, 59, 0, 8, 120, 0, 8, 56, 0, 9, 208, 81, 7, 17, 0, 8, 104, 0, 8, 40,\n\t0, 9, 176, 0, 8, 8, 0, 8, 136, 0, 8, 72, 0, 9, 240, 80, 7, 4, 0, 8, 84, 0, 8, 20, 85, 8, 227, 83, 7, 43, 0, 8, 116, 0, 8, 52, 0, 9, 200, 81, 7, 13,\n\t0, 8, 100, 0, 8, 36, 0, 9, 168, 0, 8, 4, 0, 8, 132, 0, 8, 68, 0, 9, 232, 80, 7, 8, 0, 8, 92, 0, 8, 28, 0, 9, 152, 84, 7, 83, 0, 8, 124, 0, 8, 60,\n\t0, 9, 216, 82, 7, 23, 0, 8, 108, 0, 8, 44, 0, 9, 184, 0, 8, 12, 0, 8, 140, 0, 8, 76, 0, 9, 248, 80, 7, 3, 0, 8, 82, 0, 8, 18, 85, 8, 163, 83, 7,\n\t35, 0, 8, 114, 0, 8, 50, 0, 9, 196, 81, 7, 11, 0, 8, 98, 0, 8, 34, 0, 9, 164, 0, 8, 2, 0, 8, 130, 0, 8, 66, 0, 9, 228, 80, 7, 7, 0, 8, 90, 0, 8,\n\t26, 0, 9, 148, 84, 7, 67, 0, 8, 122, 0, 8, 58, 0, 9, 212, 82, 7, 19, 0, 8, 106, 0, 8, 42, 0, 9, 180, 0, 8, 10, 0, 8, 138, 0, 8, 74, 0, 9, 244, 80,\n\t7, 5, 0, 8, 86, 0, 8, 22, 192, 8, 0, 83, 7, 51, 0, 8, 118, 0, 8, 54, 0, 9, 204, 81, 7, 15, 0, 8, 102, 0, 8, 38, 0, 9, 172, 0, 8, 6, 0, 8, 134, 0,\n\t8, 70, 0, 9, 236, 80, 7, 9, 0, 8, 94, 0, 8, 30, 0, 9, 156, 84, 7, 99, 0, 8, 126, 0, 8, 62, 0, 9, 220, 82, 7, 27, 0, 8, 110, 0, 8, 46, 0, 9, 188, 0,\n\t8, 14, 0, 8, 142, 0, 8, 78, 0, 9, 252, 96, 7, 256, 0, 8, 81, 0, 8, 17, 85, 8, 131, 82, 7, 31, 0, 8, 113, 0, 8, 49, 0, 9, 194, 80, 7, 10, 0, 8, 97,\n\t0, 8, 33, 0, 9, 162, 0, 8, 1, 0, 8, 129, 0, 8, 65, 0, 9, 226, 80, 7, 6, 0, 8, 89, 0, 8, 25, 0, 9, 146, 83, 7, 59, 0, 8, 121, 0, 8, 57, 0, 9, 210,\n\t81, 7, 17, 0, 8, 105, 0, 8, 41, 0, 9, 178, 0, 8, 9, 0, 8, 137, 0, 8, 73, 0, 9, 242, 80, 7, 4, 0, 8, 85, 0, 8, 21, 80, 8, 258, 83, 7, 43, 0, 8, 117,\n\t0, 8, 53, 0, 9, 202, 81, 7, 13, 0, 8, 101, 0, 8, 37, 0, 9, 170, 0, 8, 5, 0, 8, 133, 0, 8, 69, 0, 9, 234, 80, 7, 8, 0, 8, 93, 0, 8, 29, 0, 9, 154,\n\t84, 7, 83, 0, 8, 125, 0, 8, 61, 0, 9, 218, 82, 7, 23, 0, 8, 109, 0, 8, 45, 0, 9, 186, 0, 8, 13, 0, 8, 141, 0, 8, 77, 0, 9, 250, 80, 7, 3, 0, 8, 83,\n\t0, 8, 19, 85, 8, 195, 83, 7, 35, 0, 8, 115, 0, 8, 51, 0, 9, 198, 81, 7, 11, 0, 8, 99, 0, 8, 35, 0, 9, 166, 0, 8, 3, 0, 8, 131, 0, 8, 67, 0, 9, 230,\n\t80, 7, 7, 0, 8, 91, 0, 8, 27, 0, 9, 150, 84, 7, 67, 0, 8, 123, 0, 8, 59, 0, 9, 214, 82, 7, 19, 0, 8, 107, 0, 8, 43, 0, 9, 182, 0, 8, 11, 0, 8, 139,\n\t0, 8, 75, 0, 9, 246, 80, 7, 5, 0, 8, 87, 0, 8, 23, 192, 8, 0, 83, 7, 51, 0, 8, 119, 0, 8, 55, 0, 9, 206, 81, 7, 15, 0, 8, 103, 0, 8, 39, 0, 9, 174,\n\t0, 8, 7, 0, 8, 135, 0, 8, 71, 0, 9, 238, 80, 7, 9, 0, 8, 95, 0, 8, 31, 0, 9, 158, 84, 7, 99, 0, 8, 127, 0, 8, 63, 0, 9, 222, 82, 7, 27, 0, 8, 111,\n\t0, 8, 47, 0, 9, 190, 0, 8, 15, 0, 8, 143, 0, 8, 79, 0, 9, 254, 96, 7, 256, 0, 8, 80, 0, 8, 16, 84, 8, 115, 82, 7, 31, 0, 8, 112, 0, 8, 48, 0, 9,\n\t193, 80, 7, 10, 0, 8, 96, 0, 8, 32, 0, 9, 161, 0, 8, 0, 0, 8, 128, 0, 8, 64, 0, 9, 225, 80, 7, 6, 0, 8, 88, 0, 8, 24, 0, 9, 145, 83, 7, 59, 0, 8,\n\t120, 0, 8, 56, 0, 9, 209, 81, 7, 17, 0, 8, 104, 0, 8, 40, 0, 9, 177, 0, 8, 8, 0, 8, 136, 0, 8, 72, 0, 9, 241, 80, 7, 4, 0, 8, 84, 0, 8, 20, 85, 8,\n\t227, 83, 7, 43, 0, 8, 116, 0, 8, 52, 0, 9, 201, 81, 7, 13, 0, 8, 100, 0, 8, 36, 0, 9, 169, 0, 8, 4, 0, 8, 132, 0, 8, 68, 0, 9, 233, 80, 7, 8, 0, 8,\n\t92, 0, 8, 28, 0, 9, 153, 84, 7, 83, 0, 8, 124, 0, 8, 60, 0, 9, 217, 82, 7, 23, 0, 8, 108, 0, 8, 44, 0, 9, 185, 0, 8, 12, 0, 8, 140, 0, 8, 76, 0, 9,\n\t249, 80, 7, 3, 0, 8, 82, 0, 8, 18, 85, 8, 163, 83, 7, 35, 0, 8, 114, 0, 8, 50, 0, 9, 197, 81, 7, 11, 0, 8, 98, 0, 8, 34, 0, 9, 165, 0, 8, 2, 0, 8,\n\t130, 0, 8, 66, 0, 9, 229, 80, 7, 7, 0, 8, 90, 0, 8, 26, 0, 9, 149, 84, 7, 67, 0, 8, 122, 0, 8, 58, 0, 9, 213, 82, 7, 19, 0, 8, 106, 0, 8, 42, 0, 9,\n\t181, 0, 8, 10, 0, 8, 138, 0, 8, 74, 0, 9, 245, 80, 7, 5, 0, 8, 86, 0, 8, 22, 192, 8, 0, 83, 7, 51, 0, 8, 118, 0, 8, 54, 0, 9, 205, 81, 7, 15, 0, 8,\n\t102, 0, 8, 38, 0, 9, 173, 0, 8, 6, 0, 8, 134, 0, 8, 70, 0, 9, 237, 80, 7, 9, 0, 8, 94, 0, 8, 30, 0, 9, 157, 84, 7, 99, 0, 8, 126, 0, 8, 62, 0, 9,\n\t221, 82, 7, 27, 0, 8, 110, 0, 8, 46, 0, 9, 189, 0, 8, 14, 0, 8, 142, 0, 8, 78, 0, 9, 253, 96, 7, 256, 0, 8, 81, 0, 8, 17, 85, 8, 131, 82, 7, 31, 0,\n\t8, 113, 0, 8, 49, 0, 9, 195, 80, 7, 10, 0, 8, 97, 0, 8, 33, 0, 9, 163, 0, 8, 1, 0, 8, 129, 0, 8, 65, 0, 9, 227, 80, 7, 6, 0, 8, 89, 0, 8, 25, 0, 9,\n\t147, 83, 7, 59, 0, 8, 121, 0, 8, 57, 0, 9, 211, 81, 7, 17, 0, 8, 105, 0, 8, 41, 0, 9, 179, 0, 8, 9, 0, 8, 137, 0, 8, 73, 0, 9, 243, 80, 7, 4, 0, 8,\n\t85, 0, 8, 21, 80, 8, 258, 83, 7, 43, 0, 8, 117, 0, 8, 53, 0, 9, 203, 81, 7, 13, 0, 8, 101, 0, 8, 37, 0, 9, 171, 0, 8, 5, 0, 8, 133, 0, 8, 69, 0, 9,\n\t235, 80, 7, 8, 0, 8, 93, 0, 8, 29, 0, 9, 155, 84, 7, 83, 0, 8, 125, 0, 8, 61, 0, 9, 219, 82, 7, 23, 0, 8, 109, 0, 8, 45, 0, 9, 187, 0, 8, 13, 0, 8,\n\t141, 0, 8, 77, 0, 9, 251, 80, 7, 3, 0, 8, 83, 0, 8, 19, 85, 8, 195, 83, 7, 35, 0, 8, 115, 0, 8, 51, 0, 9, 199, 81, 7, 11, 0, 8, 99, 0, 8, 35, 0, 9,\n\t167, 0, 8, 3, 0, 8, 131, 0, 8, 67, 0, 9, 231, 80, 7, 7, 0, 8, 91, 0, 8, 27, 0, 9, 151, 84, 7, 67, 0, 8, 123, 0, 8, 59, 0, 9, 215, 82, 7, 19, 0, 8,\n\t107, 0, 8, 43, 0, 9, 183, 0, 8, 11, 0, 8, 139, 0, 8, 75, 0, 9, 247, 80, 7, 5, 0, 8, 87, 0, 8, 23, 192, 8, 0, 83, 7, 51, 0, 8, 119, 0, 8, 55, 0, 9,\n\t207, 81, 7, 15, 0, 8, 103, 0, 8, 39, 0, 9, 175, 0, 8, 7, 0, 8, 135, 0, 8, 71, 0, 9, 239, 80, 7, 9, 0, 8, 95, 0, 8, 31, 0, 9, 159, 84, 7, 99, 0, 8,\n\t127, 0, 8, 63, 0, 9, 223, 82, 7, 27, 0, 8, 111, 0, 8, 47, 0, 9, 191, 0, 8, 15, 0, 8, 143, 0, 8, 79, 0, 9, 255];\nconst fixed_td = [80, 5, 1, 87, 5, 257, 83, 5, 17, 91, 5, 4097, 81, 5, 5, 89, 5, 1025, 85, 5, 65, 93, 5, 16385, 80, 5, 3, 88, 5, 513, 84, 5, 33, 92, 5,\n\t8193, 82, 5, 9, 90, 5, 2049, 86, 5, 129, 192, 5, 24577, 80, 5, 2, 87, 5, 385, 83, 5, 25, 91, 5, 6145, 81, 5, 7, 89, 5, 1537, 85, 5, 97, 93, 5,\n\t24577, 80, 5, 4, 88, 5, 769, 84, 5, 49, 92, 5, 12289, 82, 5, 13, 90, 5, 3073, 86, 5, 193, 192, 5, 24577];\n\n// Tables for deflate from PKZIP's appnote.txt.\nconst cplens = [ // Copy lengths for literal codes 257..285\n\t3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0];\n\n// see note #13 above about 258\nconst cplext = [ // Extra bits for literal codes 257..285\n\t0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 112, 112 // 112==invalid\n];\n\nconst cpdist = [ // Copy offsets for distance codes 0..29\n\t1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577];\n\nconst cpdext = [ // Extra bits for distance codes\n\t0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13];\n\n// If BMAX needs to be larger than 16, then h and x[] should be uLong.\nconst BMAX = 15; // maximum bit length of any code\n\nfunction InfTree() {\n\tconst that = this;\n\n\tlet hn; // hufts used in space\n\tlet v; // work area for huft_build\n\tlet c; // bit length count table\n\tlet r; // table entry for structure assignment\n\tlet u; // table stack\n\tlet x; // bit offsets, then code stack\n\n\tfunction huft_build(b, // code lengths in bits (all assumed <=\n\t\t// BMAX)\n\t\tbindex, n, // number of codes (assumed <= 288)\n\t\ts, // number of simple-valued codes (0..s-1)\n\t\td, // list of base values for non-simple codes\n\t\te, // list of extra bits for non-simple codes\n\t\tt, // result: starting table\n\t\tm, // maximum lookup bits, returns actual\n\t\thp,// space for trees\n\t\thn,// hufts used in space\n\t\tv // working area: values in order of bit length\n\t) {\n\t\t// Given a list of code lengths and a maximum table size, make a set of\n\t\t// tables to decode that set of codes. Return Z_OK on success,\n\t\t// Z_BUF_ERROR\n\t\t// if the given code set is incomplete (the tables are still built in\n\t\t// this\n\t\t// case), Z_DATA_ERROR if the input is invalid (an over-subscribed set\n\t\t// of\n\t\t// lengths), or Z_MEM_ERROR if not enough memory.\n\n\t\tlet a; // counter for codes of length k\n\t\tlet f; // i repeats in table every f entries\n\t\tlet g; // maximum code length\n\t\tlet h; // table level\n\t\tlet i; // counter, current code\n\t\tlet j; // counter\n\t\tlet k; // number of bits in current code\n\t\tlet l; // bits per table (returned in m)\n\t\tlet mask; // (1 << w) - 1, to avoid cc -O bug on HP\n\t\tlet p; // pointer into c[], b[], or v[]\n\t\tlet q; // points to current table\n\t\tlet w; // bits before this table == (l * h)\n\t\tlet xp; // pointer into x\n\t\tlet y; // number of dummy codes added\n\t\tlet z; // number of entries in current table\n\n\t\t// Generate counts for each bit length\n\n\t\tp = 0;\n\t\ti = n;\n\t\tdo {\n\t\t\tc[b[bindex + p]]++;\n\t\t\tp++;\n\t\t\ti--; // assume all entries <= BMAX\n\t\t} while (i !== 0);\n\n\t\tif (c[0] == n) { // null input--all zero length codes\n\t\t\tt[0] = -1;\n\t\t\tm[0] = 0;\n\t\t\treturn Z_OK;\n\t\t}\n\n\t\t// Find minimum and maximum length, bound *m by those\n\t\tl = m[0];\n\t\tfor (j = 1; j <= BMAX; j++)\n\t\t\tif (c[j] !== 0)\n\t\t\t\tbreak;\n\t\tk = j; // minimum code length\n\t\tif (l < j) {\n\t\t\tl = j;\n\t\t}\n\t\tfor (i = BMAX; i !== 0; i--) {\n\t\t\tif (c[i] !== 0)\n\t\t\t\tbreak;\n\t\t}\n\t\tg = i; // maximum code length\n\t\tif (l > i) {\n\t\t\tl = i;\n\t\t}\n\t\tm[0] = l;\n\n\t\t// Adjust last length count to fill out codes, if needed\n\t\tfor (y = 1 << j; j < i; j++, y <<= 1) {\n\t\t\tif ((y -= c[j]) < 0) {\n\t\t\t\treturn Z_DATA_ERROR;\n\t\t\t}\n\t\t}\n\t\tif ((y -= c[i]) < 0) {\n\t\t\treturn Z_DATA_ERROR;\n\t\t}\n\t\tc[i] += y;\n\n\t\t// Generate starting offsets into the value table for each length\n\t\tx[1] = j = 0;\n\t\tp = 1;\n\t\txp = 2;\n\t\twhile (--i !== 0) { // note that i == g from above\n\t\t\tx[xp] = (j += c[p]);\n\t\t\txp++;\n\t\t\tp++;\n\t\t}\n\n\t\t// Make a table of values in order of bit lengths\n\t\ti = 0;\n\t\tp = 0;\n\t\tdo {\n\t\t\tif ((j = b[bindex + p]) !== 0) {\n\t\t\t\tv[x[j]++] = i;\n\t\t\t}\n\t\t\tp++;\n\t\t} while (++i < n);\n\t\tn = x[g]; // set n to length of v\n\n\t\t// Generate the Huffman codes and for each, make the table entries\n\t\tx[0] = i = 0; // first Huffman code is zero\n\t\tp = 0; // grab values in bit order\n\t\th = -1; // no tables yet--level -1\n\t\tw = -l; // bits decoded == (l * h)\n\t\tu[0] = 0; // just to keep compilers happy\n\t\tq = 0; // ditto\n\t\tz = 0; // ditto\n\n\t\t// go through the bit lengths (k already is bits in shortest code)\n\t\tfor (; k <= g; k++) {\n\t\t\ta = c[k];\n\t\t\twhile (a-- !== 0) {\n\t\t\t\t// here i is the Huffman code of length k bits for value *p\n\t\t\t\t// make tables up to required level\n\t\t\t\twhile (k > w + l) {\n\t\t\t\t\th++;\n\t\t\t\t\tw += l; // previous table always l bits\n\t\t\t\t\t// compute minimum size table less than or equal to l bits\n\t\t\t\t\tz = g - w;\n\t\t\t\t\tz = (z > l) ? l : z; // table size upper limit\n\t\t\t\t\tif ((f = 1 << (j = k - w)) > a + 1) { // try a k-w bit table\n\t\t\t\t\t\t// too few codes for\n\t\t\t\t\t\t// k-w bit table\n\t\t\t\t\t\tf -= a + 1; // deduct codes from patterns left\n\t\t\t\t\t\txp = k;\n\t\t\t\t\t\tif (j < z) {\n\t\t\t\t\t\t\twhile (++j < z) { // try smaller tables up to z bits\n\t\t\t\t\t\t\t\tif ((f <<= 1) <= c[++xp])\n\t\t\t\t\t\t\t\t\tbreak; // enough codes to use up j bits\n\t\t\t\t\t\t\t\tf -= c[xp]; // else deduct codes from patterns\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tz = 1 << j; // table entries for j-bit table\n\n\t\t\t\t\t// allocate new table\n\t\t\t\t\tif (hn[0] + z > MANY) { // (note: doesn't matter for fixed)\n\t\t\t\t\t\treturn Z_DATA_ERROR; // overflow of MANY\n\t\t\t\t\t}\n\t\t\t\t\tu[h] = q = /* hp+ */hn[0]; // DEBUG\n\t\t\t\t\thn[0] += z;\n\n\t\t\t\t\t// connect to last table, if there is one\n\t\t\t\t\tif (h !== 0) {\n\t\t\t\t\t\tx[h] = i; // save pattern for backing up\n\t\t\t\t\t\tr[0] = /* (byte) */j; // bits in this table\n\t\t\t\t\t\tr[1] = /* (byte) */l; // bits to dump before this table\n\t\t\t\t\t\tj = i >>> (w - l);\n\t\t\t\t\t\tr[2] = /* (int) */(q - u[h - 1] - j); // offset to this table\n\t\t\t\t\t\thp.set(r, (u[h - 1] + j) * 3);\n\t\t\t\t\t\t// to\n\t\t\t\t\t\t// last\n\t\t\t\t\t\t// table\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt[0] = q; // first table is returned result\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// set up table entry in r\n\t\t\t\tr[1] = /* (byte) */(k - w);\n\t\t\t\tif (p >= n) {\n\t\t\t\t\tr[0] = 128 + 64; // out of values--invalid code\n\t\t\t\t} else if (v[p] < s) {\n\t\t\t\t\tr[0] = /* (byte) */(v[p] < 256 ? 0 : 32 + 64); // 256 is\n\t\t\t\t\t// end-of-block\n\t\t\t\t\tr[2] = v[p++]; // simple code is just the value\n\t\t\t\t} else {\n\t\t\t\t\tr[0] = /* (byte) */(e[v[p] - s] + 16 + 64); // non-simple--look\n\t\t\t\t\t// up in lists\n\t\t\t\t\tr[2] = d[v[p++] - s];\n\t\t\t\t}\n\n\t\t\t\t// fill code-like entries with r\n\t\t\t\tf = 1 << (k - w);\n\t\t\t\tfor (j = i >>> w; j < z; j += f) {\n\t\t\t\t\thp.set(r, (q + j) * 3);\n\t\t\t\t}\n\n\t\t\t\t// backwards increment the k-bit code i\n\t\t\t\tfor (j = 1 << (k - 1); (i & j) !== 0; j >>>= 1) {\n\t\t\t\t\ti ^= j;\n\t\t\t\t}\n\t\t\t\ti ^= j;\n\n\t\t\t\t// backup over finished tables\n\t\t\t\tmask = (1 << w) - 1; // needed on HP, cc -O bug\n\t\t\t\twhile ((i & mask) != x[h]) {\n\t\t\t\t\th--; // don't need to update q\n\t\t\t\t\tw -= l;\n\t\t\t\t\tmask = (1 << w) - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// Return Z_BUF_ERROR if we were given an incomplete table\n\t\treturn y !== 0 && g != 1 ? Z_BUF_ERROR : Z_OK;\n\t}\n\n\tfunction initWorkArea(vsize) {\n\t\tlet i;\n\t\tif (!hn) {\n\t\t\thn = []; // []; //new Array(1);\n\t\t\tv = []; // new Array(vsize);\n\t\t\tc = new Int32Array(BMAX + 1); // new Array(BMAX + 1);\n\t\t\tr = []; // new Array(3);\n\t\t\tu = new Int32Array(BMAX); // new Array(BMAX);\n\t\t\tx = new Int32Array(BMAX + 1); // new Array(BMAX + 1);\n\t\t}\n\t\tif (v.length < vsize) {\n\t\t\tv = []; // new Array(vsize);\n\t\t}\n\t\tfor (i = 0; i < vsize; i++) {\n\t\t\tv[i] = 0;\n\t\t}\n\t\tfor (i = 0; i < BMAX + 1; i++) {\n\t\t\tc[i] = 0;\n\t\t}\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\tr[i] = 0;\n\t\t}\n\t\t// for(int i=0; i<BMAX; i++){u[i]=0;}\n\t\tu.set(c.subarray(0, BMAX), 0);\n\t\t// for(int i=0; i<BMAX+1; i++){x[i]=0;}\n\t\tx.set(c.subarray(0, BMAX + 1), 0);\n\t}\n\n\tthat.inflate_trees_bits = function (c, // 19 code lengths\n\t\tbb, // bits tree desired/actual depth\n\t\ttb, // bits tree result\n\t\thp, // space for trees\n\t\tz // for messages\n\t) {\n\t\tlet result;\n\t\tinitWorkArea(19);\n\t\thn[0] = 0;\n\t\tresult = huft_build(c, 0, 19, 19, null, null, tb, bb, hp, hn, v);\n\n\t\tif (result == Z_DATA_ERROR) {\n\t\t\tz.msg = \"oversubscribed dynamic bit lengths tree\";\n\t\t} else if (result == Z_BUF_ERROR || bb[0] === 0) {\n\t\t\tz.msg = \"incomplete dynamic bit lengths tree\";\n\t\t\tresult = Z_DATA_ERROR;\n\t\t}\n\t\treturn result;\n\t};\n\n\tthat.inflate_trees_dynamic = function (nl, // number of literal/length codes\n\t\tnd, // number of distance codes\n\t\tc, // that many (total) code lengths\n\t\tbl, // literal desired/actual bit depth\n\t\tbd, // distance desired/actual bit depth\n\t\ttl, // literal/length tree result\n\t\ttd, // distance tree result\n\t\thp, // space for trees\n\t\tz // for messages\n\t) {\n\t\tlet result;\n\n\t\t// build literal/length tree\n\t\tinitWorkArea(288);\n\t\thn[0] = 0;\n\t\tresult = huft_build(c, 0, nl, 257, cplens, cplext, tl, bl, hp, hn, v);\n\t\tif (result != Z_OK || bl[0] === 0) {\n\t\t\tif (result == Z_DATA_ERROR) {\n\t\t\t\tz.msg = \"oversubscribed literal/length tree\";\n\t\t\t} else if (result != Z_MEM_ERROR) {\n\t\t\t\tz.msg = \"incomplete literal/length tree\";\n\t\t\t\tresult = Z_DATA_ERROR;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\t// build distance tree\n\t\tinitWorkArea(288);\n\t\tresult = huft_build(c, nl, nd, 0, cpdist, cpdext, td, bd, hp, hn, v);\n\n\t\tif (result != Z_OK || (bd[0] === 0 && nl > 257)) {\n\t\t\tif (result == Z_DATA_ERROR) {\n\t\t\t\tz.msg = \"oversubscribed distance tree\";\n\t\t\t} else if (result == Z_BUF_ERROR) {\n\t\t\t\tz.msg = \"incomplete distance tree\";\n\t\t\t\tresult = Z_DATA_ERROR;\n\t\t\t} else if (result != Z_MEM_ERROR) {\n\t\t\t\tz.msg = \"empty distance tree with lengths\";\n\t\t\t\tresult = Z_DATA_ERROR;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\treturn Z_OK;\n\t};\n\n}\n\nInfTree.inflate_trees_fixed = function (bl, // literal desired/actual bit depth\n\tbd, // distance desired/actual bit depth\n\ttl,// literal/length tree result\n\ttd// distance tree result\n) {\n\tbl[0] = fixed_bl;\n\tbd[0] = fixed_bd;\n\ttl[0] = fixed_tl;\n\ttd[0] = fixed_td;\n\treturn Z_OK;\n};\n\n// InfCodes\n\n// waiting for \"i:\"=input,\n// \"o:\"=output,\n// \"x:\"=nothing\nconst START = 0; // x: set up for LEN\nconst LEN = 1; // i: get length/literal/eob next\nconst LENEXT = 2; // i: getting length extra (have base)\nconst DIST = 3; // i: get distance next\nconst DISTEXT = 4;// i: getting distance extra\nconst COPY = 5; // o: copying bytes in win, waiting\n// for space\nconst LIT = 6; // o: got literal, waiting for output\n// space\nconst WASH = 7; // o: got eob, possibly still output\n// waiting\nconst END = 8; // x: got eob and all data flushed\nconst BADCODE = 9;// x: got error\n\nfunction InfCodes() {\n\tconst that = this;\n\n\tlet mode; // current inflate_codes mode\n\n\t// mode dependent information\n\tlet len = 0;\n\n\tlet tree; // pointer into tree\n\tlet tree_index = 0;\n\tlet need = 0; // bits needed\n\n\tlet lit = 0;\n\n\t// if EXT or COPY, where and how much\n\tlet get = 0; // bits to get for extra\n\tlet dist = 0; // distance back to copy from\n\n\tlet lbits = 0; // ltree bits decoded per branch\n\tlet dbits = 0; // dtree bits decoder per branch\n\tlet ltree; // literal/length/eob tree\n\tlet ltree_index = 0; // literal/length/eob tree\n\tlet dtree; // distance tree\n\tlet dtree_index = 0; // distance tree\n\n\t// Called with number of bytes left to write in win at least 258\n\t// (the maximum string length) and number of input bytes available\n\t// at least ten. The ten bytes are six bytes for the longest length/\n\t// distance pair plus four bytes for overloading the bit buffer.\n\n\tfunction inflate_fast(bl, bd, tl, tl_index, td, td_index, s, z) {\n\t\tlet t; // temporary pointer\n\t\tlet tp; // temporary pointer\n\t\tlet tp_index; // temporary pointer\n\t\tlet e; // extra bits or operation\n\t\tlet b; // bit buffer\n\t\tlet k; // bits in bit buffer\n\t\tlet p; // input data pointer\n\t\tlet n; // bytes available there\n\t\tlet q; // output win write pointer\n\t\tlet m; // bytes to end of win or read pointer\n\t\tlet ml; // mask for literal/length tree\n\t\tlet md; // mask for distance tree\n\t\tlet c; // bytes to copy\n\t\tlet d; // distance back to copy from\n\t\tlet r; // copy source pointer\n\n\t\tlet tp_index_t_3; // (tp_index+t)*3\n\n\t\t// load input, output, bit values\n\t\tp = z.next_in_index;\n\t\tn = z.avail_in;\n\t\tb = s.bitb;\n\t\tk = s.bitk;\n\t\tq = s.write;\n\t\tm = q < s.read ? s.read - q - 1 : s.end - q;\n\n\t\t// initialize masks\n\t\tml = inflate_mask[bl];\n\t\tmd = inflate_mask[bd];\n\n\t\t// do until not enough input or output space for fast loop\n\t\tdo { // assume called with m >= 258 && n >= 10\n\t\t\t// get literal/length code\n\t\t\twhile (k < (20)) { // max bits for literal/length code\n\t\t\t\tn--;\n\t\t\t\tb |= (z.read_byte(p++) & 0xff) << k;\n\t\t\t\tk += 8;\n\t\t\t}\n\n\t\t\tt = b & ml;\n\t\t\ttp = tl;\n\t\t\ttp_index = tl_index;\n\t\t\ttp_index_t_3 = (tp_index + t) * 3;\n\t\t\tif ((e = tp[tp_index_t_3]) === 0) {\n\t\t\t\tb >>= (tp[tp_index_t_3 + 1]);\n\t\t\t\tk -= (tp[tp_index_t_3 + 1]);\n\n\t\t\t\ts.win[q++] = /* (byte) */tp[tp_index_t_3 + 2];\n\t\t\t\tm--;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tdo {\n\n\t\t\t\tb >>= (tp[tp_index_t_3 + 1]);\n\t\t\t\tk -= (tp[tp_index_t_3 + 1]);\n\n\t\t\t\tif ((e & 16) !== 0) {\n\t\t\t\t\te &= 15;\n\t\t\t\t\tc = tp[tp_index_t_3 + 2] + (/* (int) */b & inflate_mask[e]);\n\n\t\t\t\t\tb >>= e;\n\t\t\t\t\tk -= e;\n\n\t\t\t\t\t// decode distance base of block to copy\n\t\t\t\t\twhile (k < (15)) { // max bits for distance code\n\t\t\t\t\t\tn--;\n\t\t\t\t\t\tb |= (z.read_byte(p++) & 0xff) << k;\n\t\t\t\t\t\tk += 8;\n\t\t\t\t\t}\n\n\t\t\t\t\tt = b & md;\n\t\t\t\t\ttp = td;\n\t\t\t\t\ttp_index = td_index;\n\t\t\t\t\ttp_index_t_3 = (tp_index + t) * 3;\n\t\t\t\t\te = tp[tp_index_t_3];\n\n\t\t\t\t\tdo {\n\n\t\t\t\t\t\tb >>= (tp[tp_index_t_3 + 1]);\n\t\t\t\t\t\tk -= (tp[tp_index_t_3 + 1]);\n\n\t\t\t\t\t\tif ((e & 16) !== 0) {\n\t\t\t\t\t\t\t// get extra bits to add to distance base\n\t\t\t\t\t\t\te &= 15;\n\t\t\t\t\t\t\twhile (k < (e)) { // get extra bits (up to 13)\n\t\t\t\t\t\t\t\tn--;\n\t\t\t\t\t\t\t\tb |= (z.read_byte(p++) & 0xff) << k;\n\t\t\t\t\t\t\t\tk += 8;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\td = tp[tp_index_t_3 + 2] + (b & inflate_mask[e]);\n\n\t\t\t\t\t\t\tb >>= (e);\n\t\t\t\t\t\t\tk -= (e);\n\n\t\t\t\t\t\t\t// do the copy\n\t\t\t\t\t\t\tm -= c;\n\t\t\t\t\t\t\tif (q >= d) { // offset before dest\n\t\t\t\t\t\t\t\t// just copy\n\t\t\t\t\t\t\t\tr = q - d;\n\t\t\t\t\t\t\t\tif (q - r > 0 && 2 > (q - r)) {\n\t\t\t\t\t\t\t\t\ts.win[q++] = s.win[r++]; // minimum\n\t\t\t\t\t\t\t\t\t// count is\n\t\t\t\t\t\t\t\t\t// three,\n\t\t\t\t\t\t\t\t\ts.win[q++] = s.win[r++]; // so unroll\n\t\t\t\t\t\t\t\t\t// loop a\n\t\t\t\t\t\t\t\t\t// little\n\t\t\t\t\t\t\t\t\tc -= 2;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ts.win.set(s.win.subarray(r, r + 2), q);\n\t\t\t\t\t\t\t\t\tq += 2;\n\t\t\t\t\t\t\t\t\tr += 2;\n\t\t\t\t\t\t\t\t\tc -= 2;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else { // else offset after destination\n\t\t\t\t\t\t\t\tr = q - d;\n\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\tr += s.end; // force pointer in win\n\t\t\t\t\t\t\t\t} while (r < 0); // covers invalid distances\n\t\t\t\t\t\t\t\te = s.end - r;\n\t\t\t\t\t\t\t\tif (c > e) { // if source crosses,\n\t\t\t\t\t\t\t\t\tc -= e; // wrapped copy\n\t\t\t\t\t\t\t\t\tif (q - r > 0 && e > (q - r)) {\n\t\t\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\t\t\ts.win[q++] = s.win[r++];\n\t\t\t\t\t\t\t\t\t\t} while (--e !== 0);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ts.win.set(s.win.subarray(r, r + e), q);\n\t\t\t\t\t\t\t\t\t\tq += e;\n\t\t\t\t\t\t\t\t\t\tr += e;\n\t\t\t\t\t\t\t\t\t\te = 0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tr = 0; // copy rest from start of win\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// copy all or what's left\n\t\t\t\t\t\t\tif (q - r > 0 && c > (q - r)) {\n\t\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\t\ts.win[q++] = s.win[r++];\n\t\t\t\t\t\t\t\t} while (--c !== 0);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ts.win.set(s.win.subarray(r, r + c), q);\n\t\t\t\t\t\t\t\tq += c;\n\t\t\t\t\t\t\t\tr += c;\n\t\t\t\t\t\t\t\tc = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else if ((e & 64) === 0) {\n\t\t\t\t\t\t\tt += tp[tp_index_t_3 + 2];\n\t\t\t\t\t\t\tt += (b & inflate_mask[e]);\n\t\t\t\t\t\t\ttp_index_t_3 = (tp_index + t) * 3;\n\t\t\t\t\t\t\te = tp[tp_index_t_3];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tz.msg = \"invalid distance code\";\n\n\t\t\t\t\t\t\tc = z.avail_in - n;\n\t\t\t\t\t\t\tc = (k >> 3) < c ? k >> 3 : c;\n\t\t\t\t\t\t\tn += c;\n\t\t\t\t\t\t\tp -= c;\n\t\t\t\t\t\t\tk -= c << 3;\n\n\t\t\t\t\t\t\ts.bitb = b;\n\t\t\t\t\t\t\ts.bitk = k;\n\t\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\t\ts.write = q;\n\n\t\t\t\t\t\t\treturn Z_DATA_ERROR;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// eslint-disable-next-line no-constant-condition\n\t\t\t\t\t} while (true);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif ((e & 64) === 0) {\n\t\t\t\t\tt += tp[tp_index_t_3 + 2];\n\t\t\t\t\tt += (b & inflate_mask[e]);\n\t\t\t\t\ttp_index_t_3 = (tp_index + t) * 3;\n\t\t\t\t\tif ((e = tp[tp_index_t_3]) === 0) {\n\n\t\t\t\t\t\tb >>= (tp[tp_index_t_3 + 1]);\n\t\t\t\t\t\tk -= (tp[tp_index_t_3 + 1]);\n\n\t\t\t\t\t\ts.win[q++] = /* (byte) */tp[tp_index_t_3 + 2];\n\t\t\t\t\t\tm--;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else if ((e & 32) !== 0) {\n\n\t\t\t\t\tc = z.avail_in - n;\n\t\t\t\t\tc = (k >> 3) < c ? k >> 3 : c;\n\t\t\t\t\tn += c;\n\t\t\t\t\tp -= c;\n\t\t\t\t\tk -= c << 3;\n\n\t\t\t\t\ts.bitb = b;\n\t\t\t\t\ts.bitk = k;\n\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\ts.write = q;\n\n\t\t\t\t\treturn Z_STREAM_END;\n\t\t\t\t} else {\n\t\t\t\t\tz.msg = \"invalid literal/length code\";\n\n\t\t\t\t\tc = z.avail_in - n;\n\t\t\t\t\tc = (k >> 3) < c ? k >> 3 : c;\n\t\t\t\t\tn += c;\n\t\t\t\t\tp -= c;\n\t\t\t\t\tk -= c << 3;\n\n\t\t\t\t\ts.bitb = b;\n\t\t\t\t\ts.bitk = k;\n\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\ts.write = q;\n\n\t\t\t\t\treturn Z_DATA_ERROR;\n\t\t\t\t}\n\t\t\t\t// eslint-disable-next-line no-constant-condition\n\t\t\t} while (true);\n\t\t} while (m >= 258 && n >= 10);\n\n\t\t// not enough input or output--restore pointers and return\n\t\tc = z.avail_in - n;\n\t\tc = (k >> 3) < c ? k >> 3 : c;\n\t\tn += c;\n\t\tp -= c;\n\t\tk -= c << 3;\n\n\t\ts.bitb = b;\n\t\ts.bitk = k;\n\t\tz.avail_in = n;\n\t\tz.total_in += p - z.next_in_index;\n\t\tz.next_in_index = p;\n\t\ts.write = q;\n\n\t\treturn Z_OK;\n\t}\n\n\tthat.init = function (bl, bd, tl, tl_index, td, td_index) {\n\t\tmode = START;\n\t\tlbits = /* (byte) */bl;\n\t\tdbits = /* (byte) */bd;\n\t\tltree = tl;\n\t\tltree_index = tl_index;\n\t\tdtree = td;\n\t\tdtree_index = td_index;\n\t\ttree = null;\n\t};\n\n\tthat.proc = function (s, z, r) {\n\t\tlet j; // temporary storage\n\t\tlet tindex; // temporary pointer\n\t\tlet e; // extra bits or operation\n\t\tlet b = 0; // bit buffer\n\t\tlet k = 0; // bits in bit buffer\n\t\tlet p = 0; // input data pointer\n\t\tlet n; // bytes available there\n\t\tlet q; // output win write pointer\n\t\tlet m; // bytes to end of win or read pointer\n\t\tlet f; // pointer to copy strings from\n\n\t\t// copy input/output information to locals (UPDATE macro restores)\n\t\tp = z.next_in_index;\n\t\tn = z.avail_in;\n\t\tb = s.bitb;\n\t\tk = s.bitk;\n\t\tq = s.write;\n\t\tm = q < s.read ? s.read - q - 1 : s.end - q;\n\n\t\t// process input and output based on current state\n\t\t// eslint-disable-next-line no-constant-condition\n\t\twhile (true) {\n\t\t\tswitch (mode) {\n\t\t\t\t// waiting for \"i:\"=input, \"o:\"=output, \"x:\"=nothing\n\t\t\t\tcase START: // x: set up for LEN\n\t\t\t\t\tif (m >= 258 && n >= 10) {\n\n\t\t\t\t\t\ts.bitb = b;\n\t\t\t\t\t\ts.bitk = k;\n\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\ts.write = q;\n\t\t\t\t\t\tr = inflate_fast(lbits, dbits, ltree, ltree_index, dtree, dtree_index, s, z);\n\n\t\t\t\t\t\tp = z.next_in_index;\n\t\t\t\t\t\tn = z.avail_in;\n\t\t\t\t\t\tb = s.bitb;\n\t\t\t\t\t\tk = s.bitk;\n\t\t\t\t\t\tq = s.write;\n\t\t\t\t\t\tm = q < s.read ? s.read - q - 1 : s.end - q;\n\n\t\t\t\t\t\tif (r != Z_OK) {\n\t\t\t\t\t\t\tmode = r == Z_STREAM_END ? WASH : BADCODE;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tneed = lbits;\n\t\t\t\t\ttree = ltree;\n\t\t\t\t\ttree_index = ltree_index;\n\n\t\t\t\t\tmode = LEN;\n\t\t\t\t/* falls through */\n\t\t\t\tcase LEN: // i: get length/literal/eob next\n\t\t\t\t\tj = need;\n\n\t\t\t\t\twhile (k < (j)) {\n\t\t\t\t\t\tif (n !== 0)\n\t\t\t\t\t\t\tr = Z_OK;\n\t\t\t\t\t\telse {\n\n\t\t\t\t\t\t\ts.bitb = b;\n\t\t\t\t\t\t\ts.bitk = k;\n\t\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\t\ts.write = q;\n\t\t\t\t\t\t\treturn s.inflate_flush(z, r);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tn--;\n\t\t\t\t\t\tb |= (z.read_byte(p++) & 0xff) << k;\n\t\t\t\t\t\tk += 8;\n\t\t\t\t\t}\n\n\t\t\t\t\ttindex = (tree_index + (b & inflate_mask[j])) * 3;\n\n\t\t\t\t\tb >>>= (tree[tindex + 1]);\n\t\t\t\t\tk -= (tree[tindex + 1]);\n\n\t\t\t\t\te = tree[tindex];\n\n\t\t\t\t\tif (e === 0) { // literal\n\t\t\t\t\t\tlit = tree[tindex + 2];\n\t\t\t\t\t\tmode = LIT;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif ((e & 16) !== 0) { // length\n\t\t\t\t\t\tget = e & 15;\n\t\t\t\t\t\tlen = tree[tindex + 2];\n\t\t\t\t\t\tmode = LENEXT;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif ((e & 64) === 0) { // next table\n\t\t\t\t\t\tneed = e;\n\t\t\t\t\t\ttree_index = tindex / 3 + tree[tindex + 2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif ((e & 32) !== 0) { // end of block\n\t\t\t\t\t\tmode = WASH;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tmode = BADCODE; // invalid code\n\t\t\t\t\tz.msg = \"invalid literal/length code\";\n\t\t\t\t\tr = Z_DATA_ERROR;\n\n\t\t\t\t\ts.bitb = b;\n\t\t\t\t\ts.bitk = k;\n\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\ts.write = q;\n\t\t\t\t\treturn s.inflate_flush(z, r);\n\n\t\t\t\tcase LENEXT: // i: getting length extra (have base)\n\t\t\t\t\tj = get;\n\n\t\t\t\t\twhile (k < (j)) {\n\t\t\t\t\t\tif (n !== 0)\n\t\t\t\t\t\t\tr = Z_OK;\n\t\t\t\t\t\telse {\n\n\t\t\t\t\t\t\ts.bitb = b;\n\t\t\t\t\t\t\ts.bitk = k;\n\t\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\t\ts.write = q;\n\t\t\t\t\t\t\treturn s.inflate_flush(z, r);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tn--;\n\t\t\t\t\t\tb |= (z.read_byte(p++) & 0xff) << k;\n\t\t\t\t\t\tk += 8;\n\t\t\t\t\t}\n\n\t\t\t\t\tlen += (b & inflate_mask[j]);\n\n\t\t\t\t\tb >>= j;\n\t\t\t\t\tk -= j;\n\n\t\t\t\t\tneed = dbits;\n\t\t\t\t\ttree = dtree;\n\t\t\t\t\ttree_index = dtree_index;\n\t\t\t\t\tmode = DIST;\n\t\t\t\t/* falls through */\n\t\t\t\tcase DIST: // i: get distance next\n\t\t\t\t\tj = need;\n\n\t\t\t\t\twhile (k < (j)) {\n\t\t\t\t\t\tif (n !== 0)\n\t\t\t\t\t\t\tr = Z_OK;\n\t\t\t\t\t\telse {\n\n\t\t\t\t\t\t\ts.bitb = b;\n\t\t\t\t\t\t\ts.bitk = k;\n\t\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\t\ts.write = q;\n\t\t\t\t\t\t\treturn s.inflate_flush(z, r);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tn--;\n\t\t\t\t\t\tb |= (z.read_byte(p++) & 0xff) << k;\n\t\t\t\t\t\tk += 8;\n\t\t\t\t\t}\n\n\t\t\t\t\ttindex = (tree_index + (b & inflate_mask[j])) * 3;\n\n\t\t\t\t\tb >>= tree[tindex + 1];\n\t\t\t\t\tk -= tree[tindex + 1];\n\n\t\t\t\t\te = (tree[tindex]);\n\t\t\t\t\tif ((e & 16) !== 0) { // distance\n\t\t\t\t\t\tget = e & 15;\n\t\t\t\t\t\tdist = tree[tindex + 2];\n\t\t\t\t\t\tmode = DISTEXT;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif ((e & 64) === 0) { // next table\n\t\t\t\t\t\tneed = e;\n\t\t\t\t\t\ttree_index = tindex / 3 + tree[tindex + 2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tmode = BADCODE; // invalid code\n\t\t\t\t\tz.msg = \"invalid distance code\";\n\t\t\t\t\tr = Z_DATA_ERROR;\n\n\t\t\t\t\ts.bitb = b;\n\t\t\t\t\ts.bitk = k;\n\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\ts.write = q;\n\t\t\t\t\treturn s.inflate_flush(z, r);\n\n\t\t\t\tcase DISTEXT: // i: getting distance extra\n\t\t\t\t\tj = get;\n\n\t\t\t\t\twhile (k < (j)) {\n\t\t\t\t\t\tif (n !== 0)\n\t\t\t\t\t\t\tr = Z_OK;\n\t\t\t\t\t\telse {\n\n\t\t\t\t\t\t\ts.bitb = b;\n\t\t\t\t\t\t\ts.bitk = k;\n\t\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\t\ts.write = q;\n\t\t\t\t\t\t\treturn s.inflate_flush(z, r);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tn--;\n\t\t\t\t\t\tb |= (z.read_byte(p++) & 0xff) << k;\n\t\t\t\t\t\tk += 8;\n\t\t\t\t\t}\n\n\t\t\t\t\tdist += (b & inflate_mask[j]);\n\n\t\t\t\t\tb >>= j;\n\t\t\t\t\tk -= j;\n\n\t\t\t\t\tmode = COPY;\n\t\t\t\t/* falls through */\n\t\t\t\tcase COPY: // o: copying bytes in win, waiting for space\n\t\t\t\t\tf = q - dist;\n\t\t\t\t\twhile (f < 0) { // modulo win size-\"while\" instead\n\t\t\t\t\t\tf += s.end; // of \"if\" handles invalid distances\n\t\t\t\t\t}\n\t\t\t\t\twhile (len !== 0) {\n\n\t\t\t\t\t\tif (m === 0) {\n\t\t\t\t\t\t\tif (q == s.end && s.read !== 0) {\n\t\t\t\t\t\t\t\tq = 0;\n\t\t\t\t\t\t\t\tm = q < s.read ? s.read - q - 1 : s.end - q;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (m === 0) {\n\t\t\t\t\t\t\t\ts.write = q;\n\t\t\t\t\t\t\t\tr = s.inflate_flush(z, r);\n\t\t\t\t\t\t\t\tq = s.write;\n\t\t\t\t\t\t\t\tm = q < s.read ? s.read - q - 1 : s.end - q;\n\n\t\t\t\t\t\t\t\tif (q == s.end && s.read !== 0) {\n\t\t\t\t\t\t\t\t\tq = 0;\n\t\t\t\t\t\t\t\t\tm = q < s.read ? s.read - q - 1 : s.end - q;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (m === 0) {\n\t\t\t\t\t\t\t\t\ts.bitb = b;\n\t\t\t\t\t\t\t\t\ts.bitk = k;\n\t\t\t\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\t\t\t\ts.write = q;\n\t\t\t\t\t\t\t\t\treturn s.inflate_flush(z, r);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ts.win[q++] = s.win[f++];\n\t\t\t\t\t\tm--;\n\n\t\t\t\t\t\tif (f == s.end)\n\t\t\t\t\t\t\tf = 0;\n\t\t\t\t\t\tlen--;\n\t\t\t\t\t}\n\t\t\t\t\tmode = START;\n\t\t\t\t\tbreak;\n\t\t\t\tcase LIT: // o: got literal, waiting for output space\n\t\t\t\t\tif (m === 0) {\n\t\t\t\t\t\tif (q == s.end && s.read !== 0) {\n\t\t\t\t\t\t\tq = 0;\n\t\t\t\t\t\t\tm = q < s.read ? s.read - q - 1 : s.end - q;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (m === 0) {\n\t\t\t\t\t\t\ts.write = q;\n\t\t\t\t\t\t\tr = s.inflate_flush(z, r);\n\t\t\t\t\t\t\tq = s.write;\n\t\t\t\t\t\t\tm = q < s.read ? s.read - q - 1 : s.end - q;\n\n\t\t\t\t\t\t\tif (q == s.end && s.read !== 0) {\n\t\t\t\t\t\t\t\tq = 0;\n\t\t\t\t\t\t\t\tm = q < s.read ? s.read - q - 1 : s.end - q;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (m === 0) {\n\t\t\t\t\t\t\t\ts.bitb = b;\n\t\t\t\t\t\t\t\ts.bitk = k;\n\t\t\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\t\t\ts.write = q;\n\t\t\t\t\t\t\t\treturn s.inflate_flush(z, r);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tr = Z_OK;\n\n\t\t\t\t\ts.win[q++] = /* (byte) */lit;\n\t\t\t\t\tm--;\n\n\t\t\t\t\tmode = START;\n\t\t\t\t\tbreak;\n\t\t\t\tcase WASH: // o: got eob, possibly more output\n\t\t\t\t\tif (k > 7) { // return unused byte, if any\n\t\t\t\t\t\tk -= 8;\n\t\t\t\t\t\tn++;\n\t\t\t\t\t\tp--; // can always return one\n\t\t\t\t\t}\n\n\t\t\t\t\ts.write = q;\n\t\t\t\t\tr = s.inflate_flush(z, r);\n\t\t\t\t\tq = s.write;\n\t\t\t\t\tm = q < s.read ? s.read - q - 1 : s.end - q;\n\n\t\t\t\t\tif (s.read != s.write) {\n\t\t\t\t\t\ts.bitb = b;\n\t\t\t\t\t\ts.bitk = k;\n\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\ts.write = q;\n\t\t\t\t\t\treturn s.inflate_flush(z, r);\n\t\t\t\t\t}\n\t\t\t\t\tmode = END;\n\t\t\t\t/* falls through */\n\t\t\t\tcase END:\n\t\t\t\t\tr = Z_STREAM_END;\n\t\t\t\t\ts.bitb = b;\n\t\t\t\t\ts.bitk = k;\n\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\ts.write = q;\n\t\t\t\t\treturn s.inflate_flush(z, r);\n\n\t\t\t\tcase BADCODE: // x: got error\n\n\t\t\t\t\tr = Z_DATA_ERROR;\n\n\t\t\t\t\ts.bitb = b;\n\t\t\t\t\ts.bitk = k;\n\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\ts.write = q;\n\t\t\t\t\treturn s.inflate_flush(z, r);\n\n\t\t\t\tdefault:\n\t\t\t\t\tr = Z_STREAM_ERROR;\n\n\t\t\t\t\ts.bitb = b;\n\t\t\t\t\ts.bitk = k;\n\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\ts.write = q;\n\t\t\t\t\treturn s.inflate_flush(z, r);\n\t\t\t}\n\t\t}\n\t};\n\n\tthat.free = function () {\n\t\t// ZFREE(z, c);\n\t};\n\n}\n\n// InfBlocks\n\n// Table for deflate from PKZIP's appnote.txt.\nconst border = [ // Order of the bit length code lengths\n\t16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];\n\nconst TYPE = 0; // get type bits (3, including end bit)\nconst LENS = 1; // get lengths for stored\nconst STORED = 2;// processing stored block\nconst TABLE = 3; // get table lengths\nconst BTREE = 4; // get bit lengths tree for a dynamic\n// block\nconst DTREE = 5; // get length, distance trees for a\n// dynamic block\nconst CODES = 6; // processing fixed or dynamic block\nconst DRY = 7; // output remaining win bytes\nconst DONELOCKS = 8; // finished last block, done\nconst BADBLOCKS = 9; // ot a data error--stuck here\n\nfunction InfBlocks(z, w) {\n\tconst that = this;\n\n\tlet mode = TYPE; // current inflate_block mode\n\n\tlet left = 0; // if STORED, bytes left to copy\n\n\tlet table = 0; // table lengths (14 bits)\n\tlet index = 0; // index into blens (or border)\n\tlet blens; // bit lengths of codes\n\tconst bb = [0]; // bit length tree depth\n\tconst tb = [0]; // bit length decoding tree\n\n\tconst codes = new InfCodes(); // if CODES, current state\n\n\tlet last = 0; // true if this block is the last block\n\n\tlet hufts = new Int32Array(MANY * 3); // single malloc for tree space\n\tconst check = 0; // check on output\n\tconst inftree = new InfTree();\n\n\tthat.bitk = 0; // bits in bit buffer\n\tthat.bitb = 0; // bit buffer\n\tthat.win = new Uint8Array(w); // sliding win\n\tthat.end = w; // one byte after sliding win\n\tthat.read = 0; // win read pointer\n\tthat.write = 0; // win write pointer\n\n\tthat.reset = function (z, c) {\n\t\tif (c)\n\t\t\tc[0] = check;\n\t\t// if (mode == BTREE || mode == DTREE) {\n\t\t// }\n\t\tif (mode == CODES) {\n\t\t\tcodes.free(z);\n\t\t}\n\t\tmode = TYPE;\n\t\tthat.bitk = 0;\n\t\tthat.bitb = 0;\n\t\tthat.read = that.write = 0;\n\t};\n\n\tthat.reset(z, null);\n\n\t// copy as much as possible from the sliding win to the output area\n\tthat.inflate_flush = function (z, r) {\n\t\tlet n;\n\t\tlet p;\n\t\tlet q;\n\n\t\t// local copies of source and destination pointers\n\t\tp = z.next_out_index;\n\t\tq = that.read;\n\n\t\t// compute number of bytes to copy as far as end of win\n\t\tn = /* (int) */((q <= that.write ? that.write : that.end) - q);\n\t\tif (n > z.avail_out)\n\t\t\tn = z.avail_out;\n\t\tif (n !== 0 && r == Z_BUF_ERROR)\n\t\t\tr = Z_OK;\n\n\t\t// update counters\n\t\tz.avail_out -= n;\n\t\tz.total_out += n;\n\n\t\t// copy as far as end of win\n\t\tz.next_out.set(that.win.subarray(q, q + n), p);\n\t\tp += n;\n\t\tq += n;\n\n\t\t// see if more to copy at beginning of win\n\t\tif (q == that.end) {\n\t\t\t// wrap pointers\n\t\t\tq = 0;\n\t\t\tif (that.write == that.end)\n\t\t\t\tthat.write = 0;\n\n\t\t\t// compute bytes to copy\n\t\t\tn = that.write - q;\n\t\t\tif (n > z.avail_out)\n\t\t\t\tn = z.avail_out;\n\t\t\tif (n !== 0 && r == Z_BUF_ERROR)\n\t\t\t\tr = Z_OK;\n\n\t\t\t// update counters\n\t\t\tz.avail_out -= n;\n\t\t\tz.total_out += n;\n\n\t\t\t// copy\n\t\t\tz.next_out.set(that.win.subarray(q, q + n), p);\n\t\t\tp += n;\n\t\t\tq += n;\n\t\t}\n\n\t\t// update pointers\n\t\tz.next_out_index = p;\n\t\tthat.read = q;\n\n\t\t// done\n\t\treturn r;\n\t};\n\n\tthat.proc = function (z, r) {\n\t\tlet t; // temporary storage\n\t\tlet b; // bit buffer\n\t\tlet k; // bits in bit buffer\n\t\tlet p; // input data pointer\n\t\tlet n; // bytes available there\n\t\tlet q; // output win write pointer\n\t\tlet m; // bytes to end of win or read pointer\n\n\t\tlet i;\n\n\t\t// copy input/output information to locals (UPDATE macro restores)\n\t\t// {\n\t\tp = z.next_in_index;\n\t\tn = z.avail_in;\n\t\tb = that.bitb;\n\t\tk = that.bitk;\n\t\t// }\n\t\t// {\n\t\tq = that.write;\n\t\tm = /* (int) */(q < that.read ? that.read - q - 1 : that.end - q);\n\t\t// }\n\n\t\t// process input based on current state\n\t\t// DEBUG dtree\n\t\t// eslint-disable-next-line no-constant-condition\n\t\twhile (true) {\n\t\t\tlet bl, bd, tl, td, bl_, bd_, tl_, td_;\n\t\t\tswitch (mode) {\n\t\t\t\tcase TYPE:\n\n\t\t\t\t\twhile (k < (3)) {\n\t\t\t\t\t\tif (n !== 0) {\n\t\t\t\t\t\t\tr = Z_OK;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\t\tthat.write = q;\n\t\t\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tn--;\n\t\t\t\t\t\tb |= (z.read_byte(p++) & 0xff) << k;\n\t\t\t\t\t\tk += 8;\n\t\t\t\t\t}\n\t\t\t\t\tt = /* (int) */(b & 7);\n\t\t\t\t\tlast = t & 1;\n\n\t\t\t\t\tswitch (t >>> 1) {\n\t\t\t\t\t\tcase 0: // stored\n\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\tb >>>= (3);\n\t\t\t\t\t\t\tk -= (3);\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\tt = k & 7; // go to byte boundary\n\n\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\tb >>>= (t);\n\t\t\t\t\t\t\tk -= (t);\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\tmode = LENS; // get length of stored block\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 1: // fixed\n\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\tbl = []; // new Array(1);\n\t\t\t\t\t\t\tbd = []; // new Array(1);\n\t\t\t\t\t\t\ttl = [[]]; // new Array(1);\n\t\t\t\t\t\t\ttd = [[]]; // new Array(1);\n\n\t\t\t\t\t\t\tInfTree.inflate_trees_fixed(bl, bd, tl, td);\n\t\t\t\t\t\t\tcodes.init(bl[0], bd[0], tl[0], 0, td[0], 0);\n\t\t\t\t\t\t\t// }\n\n\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\tb >>>= (3);\n\t\t\t\t\t\t\tk -= (3);\n\t\t\t\t\t\t\t// }\n\n\t\t\t\t\t\t\tmode = CODES;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 2: // dynamic\n\n\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\tb >>>= (3);\n\t\t\t\t\t\t\tk -= (3);\n\t\t\t\t\t\t\t// }\n\n\t\t\t\t\t\t\tmode = TABLE;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 3: // illegal\n\n\t\t\t\t\t\t\t// {\n\t\t\t\t\t\t\tb >>>= (3);\n\t\t\t\t\t\t\tk -= (3);\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\tmode = BADBLOCKS;\n\t\t\t\t\t\t\tz.msg = \"invalid block type\";\n\t\t\t\t\t\t\tr = Z_DATA_ERROR;\n\n\t\t\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\t\tthat.write = q;\n\t\t\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase LENS:\n\n\t\t\t\t\twhile (k < (32)) {\n\t\t\t\t\t\tif (n !== 0) {\n\t\t\t\t\t\t\tr = Z_OK;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\t\tthat.write = q;\n\t\t\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tn--;\n\t\t\t\t\t\tb |= (z.read_byte(p++) & 0xff) << k;\n\t\t\t\t\t\tk += 8;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ((((~b) >>> 16) & 0xffff) != (b & 0xffff)) {\n\t\t\t\t\t\tmode = BADBLOCKS;\n\t\t\t\t\t\tz.msg = \"invalid stored block lengths\";\n\t\t\t\t\t\tr = Z_DATA_ERROR;\n\n\t\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\tthat.write = q;\n\t\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\t\t}\n\t\t\t\t\tleft = (b & 0xffff);\n\t\t\t\t\tb = k = 0; // dump bits\n\t\t\t\t\tmode = left !== 0 ? STORED : (last !== 0 ? DRY : TYPE);\n\t\t\t\t\tbreak;\n\t\t\t\tcase STORED:\n\t\t\t\t\tif (n === 0) {\n\t\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\tthat.write = q;\n\t\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (m === 0) {\n\t\t\t\t\t\tif (q == that.end && that.read !== 0) {\n\t\t\t\t\t\t\tq = 0;\n\t\t\t\t\t\t\tm = /* (int) */(q < that.read ? that.read - q - 1 : that.end - q);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (m === 0) {\n\t\t\t\t\t\t\tthat.write = q;\n\t\t\t\t\t\t\tr = that.inflate_flush(z, r);\n\t\t\t\t\t\t\tq = that.write;\n\t\t\t\t\t\t\tm = /* (int) */(q < that.read ? that.read - q - 1 : that.end - q);\n\t\t\t\t\t\t\tif (q == that.end && that.read !== 0) {\n\t\t\t\t\t\t\t\tq = 0;\n\t\t\t\t\t\t\t\tm = /* (int) */(q < that.read ? that.read - q - 1 : that.end - q);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (m === 0) {\n\t\t\t\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\t\t\tthat.write = q;\n\t\t\t\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tr = Z_OK;\n\n\t\t\t\t\tt = left;\n\t\t\t\t\tif (t > n)\n\t\t\t\t\t\tt = n;\n\t\t\t\t\tif (t > m)\n\t\t\t\t\t\tt = m;\n\t\t\t\t\tthat.win.set(z.read_buf(p, t), q);\n\t\t\t\t\tp += t;\n\t\t\t\t\tn -= t;\n\t\t\t\t\tq += t;\n\t\t\t\t\tm -= t;\n\t\t\t\t\tif ((left -= t) !== 0)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tmode = last !== 0 ? DRY : TYPE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase TABLE:\n\n\t\t\t\t\twhile (k < (14)) {\n\t\t\t\t\t\tif (n !== 0) {\n\t\t\t\t\t\t\tr = Z_OK;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\t\tthat.write = q;\n\t\t\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tn--;\n\t\t\t\t\t\tb |= (z.read_byte(p++) & 0xff) << k;\n\t\t\t\t\t\tk += 8;\n\t\t\t\t\t}\n\n\t\t\t\t\ttable = t = (b & 0x3fff);\n\t\t\t\t\tif ((t & 0x1f) > 29 || ((t >> 5) & 0x1f) > 29) {\n\t\t\t\t\t\tmode = BADBLOCKS;\n\t\t\t\t\t\tz.msg = \"too many length or distance symbols\";\n\t\t\t\t\t\tr = Z_DATA_ERROR;\n\n\t\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\tthat.write = q;\n\t\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\t\t}\n\t\t\t\t\tt = 258 + (t & 0x1f) + ((t >> 5) & 0x1f);\n\t\t\t\t\tif (!blens || blens.length < t) {\n\t\t\t\t\t\tblens = []; // new Array(t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (i = 0; i < t; i++) {\n\t\t\t\t\t\t\tblens[i] = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// {\n\t\t\t\t\tb >>>= (14);\n\t\t\t\t\tk -= (14);\n\t\t\t\t\t// }\n\n\t\t\t\t\tindex = 0;\n\t\t\t\t\tmode = BTREE;\n\t\t\t\t/* falls through */\n\t\t\t\tcase BTREE:\n\t\t\t\t\twhile (index < 4 + (table >>> 10)) {\n\t\t\t\t\t\twhile (k < (3)) {\n\t\t\t\t\t\t\tif (n !== 0) {\n\t\t\t\t\t\t\t\tr = Z_OK;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\t\t\tthat.write = q;\n\t\t\t\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tn--;\n\t\t\t\t\t\t\tb |= (z.read_byte(p++) & 0xff) << k;\n\t\t\t\t\t\t\tk += 8;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tblens[border[index++]] = b & 7;\n\n\t\t\t\t\t\t// {\n\t\t\t\t\t\tb >>>= (3);\n\t\t\t\t\t\tk -= (3);\n\t\t\t\t\t\t// }\n\t\t\t\t\t}\n\n\t\t\t\t\twhile (index < 19) {\n\t\t\t\t\t\tblens[border[index++]] = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tbb[0] = 7;\n\t\t\t\t\tt = inftree.inflate_trees_bits(blens, bb, tb, hufts, z);\n\t\t\t\t\tif (t != Z_OK) {\n\t\t\t\t\t\tr = t;\n\t\t\t\t\t\tif (r == Z_DATA_ERROR) {\n\t\t\t\t\t\t\tblens = null;\n\t\t\t\t\t\t\tmode = BADBLOCKS;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\tthat.write = q;\n\t\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\t\t}\n\n\t\t\t\t\tindex = 0;\n\t\t\t\t\tmode = DTREE;\n\t\t\t\t/* falls through */\n\t\t\t\tcase DTREE:\n\t\t\t\t\t// eslint-disable-next-line no-constant-condition\n\t\t\t\t\twhile (true) {\n\t\t\t\t\t\tt = table;\n\t\t\t\t\t\tif (index >= 258 + (t & 0x1f) + ((t >> 5) & 0x1f)) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet j, c;\n\n\t\t\t\t\t\tt = bb[0];\n\n\t\t\t\t\t\twhile (k < (t)) {\n\t\t\t\t\t\t\tif (n !== 0) {\n\t\t\t\t\t\t\t\tr = Z_OK;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\t\t\tthat.write = q;\n\t\t\t\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tn--;\n\t\t\t\t\t\t\tb |= (z.read_byte(p++) & 0xff) << k;\n\t\t\t\t\t\t\tk += 8;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// if (tb[0] == -1) {\n\t\t\t\t\t\t// System.err.println(\"null...\");\n\t\t\t\t\t\t// }\n\n\t\t\t\t\t\tt = hufts[(tb[0] + (b & inflate_mask[t])) * 3 + 1];\n\t\t\t\t\t\tc = hufts[(tb[0] + (b & inflate_mask[t])) * 3 + 2];\n\n\t\t\t\t\t\tif (c < 16) {\n\t\t\t\t\t\t\tb >>>= (t);\n\t\t\t\t\t\t\tk -= (t);\n\t\t\t\t\t\t\tblens[index++] = c;\n\t\t\t\t\t\t} else { // c == 16..18\n\t\t\t\t\t\t\ti = c == 18 ? 7 : c - 14;\n\t\t\t\t\t\t\tj = c == 18 ? 11 : 3;\n\n\t\t\t\t\t\t\twhile (k < (t + i)) {\n\t\t\t\t\t\t\t\tif (n !== 0) {\n\t\t\t\t\t\t\t\t\tr = Z_OK;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\t\t\t\tthat.write = q;\n\t\t\t\t\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tn--;\n\t\t\t\t\t\t\t\tb |= (z.read_byte(p++) & 0xff) << k;\n\t\t\t\t\t\t\t\tk += 8;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tb >>>= (t);\n\t\t\t\t\t\t\tk -= (t);\n\n\t\t\t\t\t\t\tj += (b & inflate_mask[i]);\n\n\t\t\t\t\t\t\tb >>>= (i);\n\t\t\t\t\t\t\tk -= (i);\n\n\t\t\t\t\t\t\ti = index;\n\t\t\t\t\t\t\tt = table;\n\t\t\t\t\t\t\tif (i + j > 258 + (t & 0x1f) + ((t >> 5) & 0x1f) || (c == 16 && i < 1)) {\n\t\t\t\t\t\t\t\tblens = null;\n\t\t\t\t\t\t\t\tmode = BADBLOCKS;\n\t\t\t\t\t\t\t\tz.msg = \"invalid bit length repeat\";\n\t\t\t\t\t\t\t\tr = Z_DATA_ERROR;\n\n\t\t\t\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\t\t\tthat.write = q;\n\t\t\t\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tc = c == 16 ? blens[i - 1] : 0;\n\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\tblens[i++] = c;\n\t\t\t\t\t\t\t} while (--j !== 0);\n\t\t\t\t\t\t\tindex = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttb[0] = -1;\n\t\t\t\t\t// {\n\t\t\t\t\tbl_ = []; // new Array(1);\n\t\t\t\t\tbd_ = []; // new Array(1);\n\t\t\t\t\ttl_ = []; // new Array(1);\n\t\t\t\t\ttd_ = []; // new Array(1);\n\t\t\t\t\tbl_[0] = 9; // must be <= 9 for lookahead assumptions\n\t\t\t\t\tbd_[0] = 6; // must be <= 9 for lookahead assumptions\n\n\t\t\t\t\tt = table;\n\t\t\t\t\tt = inftree.inflate_trees_dynamic(257 + (t & 0x1f), 1 + ((t >> 5) & 0x1f), blens, bl_, bd_, tl_, td_, hufts, z);\n\n\t\t\t\t\tif (t != Z_OK) {\n\t\t\t\t\t\tif (t == Z_DATA_ERROR) {\n\t\t\t\t\t\t\tblens = null;\n\t\t\t\t\t\t\tmode = BADBLOCKS;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tr = t;\n\n\t\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\tthat.write = q;\n\t\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\t\t}\n\t\t\t\t\tcodes.init(bl_[0], bd_[0], hufts, tl_[0], hufts, td_[0]);\n\t\t\t\t\t// }\n\t\t\t\t\tmode = CODES;\n\t\t\t\t/* falls through */\n\t\t\t\tcase CODES:\n\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\tthat.write = q;\n\n\t\t\t\t\tif ((r = codes.proc(that, z, r)) != Z_STREAM_END) {\n\t\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\t\t}\n\t\t\t\t\tr = Z_OK;\n\t\t\t\t\tcodes.free(z);\n\n\t\t\t\t\tp = z.next_in_index;\n\t\t\t\t\tn = z.avail_in;\n\t\t\t\t\tb = that.bitb;\n\t\t\t\t\tk = that.bitk;\n\t\t\t\t\tq = that.write;\n\t\t\t\t\tm = /* (int) */(q < that.read ? that.read - q - 1 : that.end - q);\n\n\t\t\t\t\tif (last === 0) {\n\t\t\t\t\t\tmode = TYPE;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tmode = DRY;\n\t\t\t\t/* falls through */\n\t\t\t\tcase DRY:\n\t\t\t\t\tthat.write = q;\n\t\t\t\t\tr = that.inflate_flush(z, r);\n\t\t\t\t\tq = that.write;\n\t\t\t\t\tm = /* (int) */(q < that.read ? that.read - q - 1 : that.end - q);\n\t\t\t\t\tif (that.read != that.write) {\n\t\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\t\tthat.write = q;\n\t\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\t\t}\n\t\t\t\t\tmode = DONELOCKS;\n\t\t\t\t/* falls through */\n\t\t\t\tcase DONELOCKS:\n\t\t\t\t\tr = Z_STREAM_END;\n\n\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\tthat.write = q;\n\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t\tcase BADBLOCKS:\n\t\t\t\t\tr = Z_DATA_ERROR;\n\n\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\tthat.write = q;\n\t\t\t\t\treturn that.inflate_flush(z, r);\n\n\t\t\t\tdefault:\n\t\t\t\t\tr = Z_STREAM_ERROR;\n\n\t\t\t\t\tthat.bitb = b;\n\t\t\t\t\tthat.bitk = k;\n\t\t\t\t\tz.avail_in = n;\n\t\t\t\t\tz.total_in += p - z.next_in_index;\n\t\t\t\t\tz.next_in_index = p;\n\t\t\t\t\tthat.write = q;\n\t\t\t\t\treturn that.inflate_flush(z, r);\n\t\t\t}\n\t\t}\n\t};\n\n\tthat.free = function (z) {\n\t\tthat.reset(z, null);\n\t\tthat.win = null;\n\t\thufts = null;\n\t\t// ZFREE(z, s);\n\t};\n\n\tthat.set_dictionary = function (d, start, n) {\n\t\tthat.win.set(d.subarray(start, start + n), 0);\n\t\tthat.read = that.write = n;\n\t};\n\n\t// Returns true if inflate is currently at the end of a block generated\n\t// by Z_SYNC_FLUSH or Z_FULL_FLUSH.\n\tthat.sync_point = function () {\n\t\treturn mode == LENS ? 1 : 0;\n\t};\n\n}\n\n// Inflate\n\n// preset dictionary flag in zlib header\nconst PRESET_DICT = 0x20;\n\nconst Z_DEFLATED = 8;\n\nconst METHOD = 0; // waiting for method byte\nconst FLAG = 1; // waiting for flag byte\nconst DICT4 = 2; // four dictionary check bytes to go\nconst DICT3 = 3; // three dictionary check bytes to go\nconst DICT2 = 4; // two dictionary check bytes to go\nconst DICT1 = 5; // one dictionary check byte to go\nconst DICT0 = 6; // waiting for inflateSetDictionary\nconst BLOCKS = 7; // decompressing blocks\nconst DONE = 12; // finished check, done\nconst BAD = 13; // got an error--stay here\n\nconst mark = [0, 0, 0xff, 0xff];\n\nfunction Inflate() {\n\tconst that = this;\n\n\tthat.mode = 0; // current inflate mode\n\n\t// mode dependent information\n\tthat.method = 0; // if FLAGS, method byte\n\n\t// if CHECK, check values to compare\n\tthat.was = [0]; // new Array(1); // computed check value\n\tthat.need = 0; // stream check value\n\n\t// if BAD, inflateSync's marker bytes count\n\tthat.marker = 0;\n\n\t// mode independent information\n\tthat.wbits = 0; // log2(win size) (8..15, defaults to 15)\n\n\t// this.blocks; // current inflate_blocks state\n\n\tfunction inflateReset(z) {\n\t\tif (!z || !z.istate)\n\t\t\treturn Z_STREAM_ERROR;\n\n\t\tz.total_in = z.total_out = 0;\n\t\tz.msg = null;\n\t\tz.istate.mode = BLOCKS;\n\t\tz.istate.blocks.reset(z, null);\n\t\treturn Z_OK;\n\t}\n\n\tthat.inflateEnd = function (z) {\n\t\tif (that.blocks)\n\t\t\tthat.blocks.free(z);\n\t\tthat.blocks = null;\n\t\t// ZFREE(z, z->state);\n\t\treturn Z_OK;\n\t};\n\n\tthat.inflateInit = function (z, w) {\n\t\tz.msg = null;\n\t\tthat.blocks = null;\n\n\t\t// set win size\n\t\tif (w < 8 || w > 15) {\n\t\t\tthat.inflateEnd(z);\n\t\t\treturn Z_STREAM_ERROR;\n\t\t}\n\t\tthat.wbits = w;\n\n\t\tz.istate.blocks = new InfBlocks(z, 1 << w);\n\n\t\t// reset state\n\t\tinflateReset(z);\n\t\treturn Z_OK;\n\t};\n\n\tthat.inflate = function (z, f) {\n\t\tlet r;\n\t\tlet b;\n\n\t\tif (!z || !z.istate || !z.next_in)\n\t\t\treturn Z_STREAM_ERROR;\n\t\tconst istate = z.istate;\n\t\tf = f == Z_FINISH ? Z_BUF_ERROR : Z_OK;\n\t\tr = Z_BUF_ERROR;\n\t\t// eslint-disable-next-line no-constant-condition\n\t\twhile (true) {\n\t\t\tswitch (istate.mode) {\n\t\t\t\tcase METHOD:\n\n\t\t\t\t\tif (z.avail_in === 0)\n\t\t\t\t\t\treturn r;\n\t\t\t\t\tr = f;\n\n\t\t\t\t\tz.avail_in--;\n\t\t\t\t\tz.total_in++;\n\t\t\t\t\tif (((istate.method = z.read_byte(z.next_in_index++)) & 0xf) != Z_DEFLATED) {\n\t\t\t\t\t\tistate.mode = BAD;\n\t\t\t\t\t\tz.msg = \"unknown compression method\";\n\t\t\t\t\t\tistate.marker = 5; // can't try inflateSync\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif ((istate.method >> 4) + 8 > istate.wbits) {\n\t\t\t\t\t\tistate.mode = BAD;\n\t\t\t\t\t\tz.msg = \"invalid win size\";\n\t\t\t\t\t\tistate.marker = 5; // can't try inflateSync\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tistate.mode = FLAG;\n\t\t\t\t/* falls through */\n\t\t\t\tcase FLAG:\n\n\t\t\t\t\tif (z.avail_in === 0)\n\t\t\t\t\t\treturn r;\n\t\t\t\t\tr = f;\n\n\t\t\t\t\tz.avail_in--;\n\t\t\t\t\tz.total_in++;\n\t\t\t\t\tb = (z.read_byte(z.next_in_index++)) & 0xff;\n\n\t\t\t\t\tif ((((istate.method << 8) + b) % 31) !== 0) {\n\t\t\t\t\t\tistate.mode = BAD;\n\t\t\t\t\t\tz.msg = \"incorrect header check\";\n\t\t\t\t\t\tistate.marker = 5; // can't try inflateSync\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ((b & PRESET_DICT) === 0) {\n\t\t\t\t\t\tistate.mode = BLOCKS;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tistate.mode = DICT4;\n\t\t\t\t/* falls through */\n\t\t\t\tcase DICT4:\n\n\t\t\t\t\tif (z.avail_in === 0)\n\t\t\t\t\t\treturn r;\n\t\t\t\t\tr = f;\n\n\t\t\t\t\tz.avail_in--;\n\t\t\t\t\tz.total_in++;\n\t\t\t\t\tistate.need = ((z.read_byte(z.next_in_index++) & 0xff) << 24) & 0xff000000;\n\t\t\t\t\tistate.mode = DICT3;\n\t\t\t\t/* falls through */\n\t\t\t\tcase DICT3:\n\n\t\t\t\t\tif (z.avail_in === 0)\n\t\t\t\t\t\treturn r;\n\t\t\t\t\tr = f;\n\n\t\t\t\t\tz.avail_in--;\n\t\t\t\t\tz.total_in++;\n\t\t\t\t\tistate.need += ((z.read_byte(z.next_in_index++) & 0xff) << 16) & 0xff0000;\n\t\t\t\t\tistate.mode = DICT2;\n\t\t\t\t/* falls through */\n\t\t\t\tcase DICT2:\n\n\t\t\t\t\tif (z.avail_in === 0)\n\t\t\t\t\t\treturn r;\n\t\t\t\t\tr = f;\n\n\t\t\t\t\tz.avail_in--;\n\t\t\t\t\tz.total_in++;\n\t\t\t\t\tistate.need += ((z.read_byte(z.next_in_index++) & 0xff) << 8) & 0xff00;\n\t\t\t\t\tistate.mode = DICT1;\n\t\t\t\t/* falls through */\n\t\t\t\tcase DICT1:\n\n\t\t\t\t\tif (z.avail_in === 0)\n\t\t\t\t\t\treturn r;\n\t\t\t\t\tr = f;\n\n\t\t\t\t\tz.avail_in--;\n\t\t\t\t\tz.total_in++;\n\t\t\t\t\tistate.need += (z.read_byte(z.next_in_index++) & 0xff);\n\t\t\t\t\tistate.mode = DICT0;\n\t\t\t\t\treturn Z_NEED_DICT;\n\t\t\t\tcase DICT0:\n\t\t\t\t\tistate.mode = BAD;\n\t\t\t\t\tz.msg = \"need dictionary\";\n\t\t\t\t\tistate.marker = 0; // can try inflateSync\n\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t\tcase BLOCKS:\n\n\t\t\t\t\tr = istate.blocks.proc(z, r);\n\t\t\t\t\tif (r == Z_DATA_ERROR) {\n\t\t\t\t\t\tistate.mode = BAD;\n\t\t\t\t\t\tistate.marker = 0; // can try inflateSync\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (r == Z_OK) {\n\t\t\t\t\t\tr = f;\n\t\t\t\t\t}\n\t\t\t\t\tif (r != Z_STREAM_END) {\n\t\t\t\t\t\treturn r;\n\t\t\t\t\t}\n\t\t\t\t\tr = f;\n\t\t\t\t\tistate.blocks.reset(z, istate.was);\n\t\t\t\t\tistate.mode = DONE;\n\t\t\t\t/* falls through */\n\t\t\t\tcase DONE:\n\t\t\t\t\tz.avail_in = 0;\n\t\t\t\t\treturn Z_STREAM_END;\n\t\t\t\tcase BAD:\n\t\t\t\t\treturn Z_DATA_ERROR;\n\t\t\t\tdefault:\n\t\t\t\t\treturn Z_STREAM_ERROR;\n\t\t\t}\n\t\t}\n\t};\n\n\tthat.inflateSetDictionary = function (z, dictionary, dictLength) {\n\t\tlet index = 0, length = dictLength;\n\t\tif (!z || !z.istate || z.istate.mode != DICT0)\n\t\t\treturn Z_STREAM_ERROR;\n\t\tconst istate = z.istate;\n\t\tif (length >= (1 << istate.wbits)) {\n\t\t\tlength = (1 << istate.wbits) - 1;\n\t\t\tindex = dictLength - length;\n\t\t}\n\t\tistate.blocks.set_dictionary(dictionary, index, length);\n\t\tistate.mode = BLOCKS;\n\t\treturn Z_OK;\n\t};\n\n\tthat.inflateSync = function (z) {\n\t\tlet n; // number of bytes to look at\n\t\tlet p; // pointer to bytes\n\t\tlet m; // number of marker bytes found in a row\n\t\tlet r, w; // temporaries to save total_in and total_out\n\n\t\t// set up\n\t\tif (!z || !z.istate)\n\t\t\treturn Z_STREAM_ERROR;\n\t\tconst istate = z.istate;\n\t\tif (istate.mode != BAD) {\n\t\t\tistate.mode = BAD;\n\t\t\tistate.marker = 0;\n\t\t}\n\t\tif ((n = z.avail_in) === 0)\n\t\t\treturn Z_BUF_ERROR;\n\t\tp = z.next_in_index;\n\t\tm = istate.marker;\n\n\t\t// search\n\t\twhile (n !== 0 && m < 4) {\n\t\t\tif (z.read_byte(p) == mark[m]) {\n\t\t\t\tm++;\n\t\t\t} else if (z.read_byte(p) !== 0) {\n\t\t\t\tm = 0;\n\t\t\t} else {\n\t\t\t\tm = 4 - m;\n\t\t\t}\n\t\t\tp++;\n\t\t\tn--;\n\t\t}\n\n\t\t// restore\n\t\tz.total_in += p - z.next_in_index;\n\t\tz.next_in_index = p;\n\t\tz.avail_in = n;\n\t\tistate.marker = m;\n\n\t\t// return no joy or set up to restart on a new block\n\t\tif (m != 4) {\n\t\t\treturn Z_DATA_ERROR;\n\t\t}\n\t\tr = z.total_in;\n\t\tw = z.total_out;\n\t\tinflateReset(z);\n\t\tz.total_in = r;\n\t\tz.total_out = w;\n\t\tistate.mode = BLOCKS;\n\t\treturn Z_OK;\n\t};\n\n\t// Returns true if inflate is currently at the end of a block generated\n\t// by Z_SYNC_FLUSH or Z_FULL_FLUSH. This function is used by one PPP\n\t// implementation to provide an additional safety check. PPP uses\n\t// Z_SYNC_FLUSH\n\t// but removes the length bytes of the resulting empty stored block. When\n\t// decompressing, PPP checks that at the end of input packet, inflate is\n\t// waiting for these length bytes.\n\tthat.inflateSyncPoint = function (z) {\n\t\tif (!z || !z.istate || !z.istate.blocks)\n\t\t\treturn Z_STREAM_ERROR;\n\t\treturn z.istate.blocks.sync_point();\n\t};\n}\n\n// ZStream\n\nfunction ZStream() {\n}\n\nZStream.prototype = {\n\tinflateInit(bits) {\n\t\tconst that = this;\n\t\tthat.istate = new Inflate();\n\t\tif (!bits)\n\t\t\tbits = MAX_BITS;\n\t\treturn that.istate.inflateInit(that, bits);\n\t},\n\n\tinflate(f) {\n\t\tconst that = this;\n\t\tif (!that.istate)\n\t\t\treturn Z_STREAM_ERROR;\n\t\treturn that.istate.inflate(that, f);\n\t},\n\n\tinflateEnd() {\n\t\tconst that = this;\n\t\tif (!that.istate)\n\t\t\treturn Z_STREAM_ERROR;\n\t\tconst ret = that.istate.inflateEnd(that);\n\t\tthat.istate = null;\n\t\treturn ret;\n\t},\n\n\tinflateSync() {\n\t\tconst that = this;\n\t\tif (!that.istate)\n\t\t\treturn Z_STREAM_ERROR;\n\t\treturn that.istate.inflateSync(that);\n\t},\n\tinflateSetDictionary(dictionary, dictLength) {\n\t\tconst that = this;\n\t\tif (!that.istate)\n\t\t\treturn Z_STREAM_ERROR;\n\t\treturn that.istate.inflateSetDictionary(that, dictionary, dictLength);\n\t},\n\tread_byte(start) {\n\t\tconst that = this;\n\t\treturn that.next_in[start];\n\t},\n\tread_buf(start, size) {\n\t\tconst that = this;\n\t\treturn that.next_in.subarray(start, start + size);\n\t}\n};\n\n// Inflater\n\nfunction ZipInflate(options) {\n\tconst that = this;\n\tconst z = new ZStream();\n\tconst bufsize = options && options.chunkSize ? Math.floor(options.chunkSize * 2) : 128 * 1024;\n\tconst flush = Z_NO_FLUSH;\n\tconst buf = new Uint8Array(bufsize);\n\tlet nomoreinput = false;\n\n\tz.inflateInit();\n\tz.next_out = buf;\n\n\tthat.append = function (data, onprogress) {\n\t\tconst buffers = [];\n\t\tlet err, array, lastIndex = 0, bufferIndex = 0, bufferSize = 0;\n\t\tif (data.length === 0)\n\t\t\treturn;\n\t\tz.next_in_index = 0;\n\t\tz.next_in = data;\n\t\tz.avail_in = data.length;\n\t\tdo {\n\t\t\tz.next_out_index = 0;\n\t\t\tz.avail_out = bufsize;\n\t\t\tif ((z.avail_in === 0) && (!nomoreinput)) { // if buffer is empty and more input is available, refill it\n\t\t\t\tz.next_in_index = 0;\n\t\t\t\tnomoreinput = true;\n\t\t\t}\n\t\t\terr = z.inflate(flush);\n\t\t\tif (nomoreinput && (err === Z_BUF_ERROR)) {\n\t\t\t\tif (z.avail_in !== 0)\n\t\t\t\t\tthrow new Error(\"inflating: bad input\");\n\t\t\t} else if (err !== Z_OK && err !== Z_STREAM_END)\n\t\t\t\tthrow new Error(\"inflating: \" + z.msg);\n\t\t\tif ((nomoreinput || err === Z_STREAM_END) && (z.avail_in === data.length))\n\t\t\t\tthrow new Error(\"inflating: bad input\");\n\t\t\tif (z.next_out_index)\n\t\t\t\tif (z.next_out_index === bufsize)\n\t\t\t\t\tbuffers.push(new Uint8Array(buf));\n\t\t\t\telse\n\t\t\t\t\tbuffers.push(buf.subarray(0, z.next_out_index));\n\t\t\tbufferSize += z.next_out_index;\n\t\t\tif (onprogress && z.next_in_index > 0 && z.next_in_index != lastIndex) {\n\t\t\t\tonprogress(z.next_in_index);\n\t\t\t\tlastIndex = z.next_in_index;\n\t\t\t}\n\t\t} while (z.avail_in > 0 || z.avail_out === 0);\n\t\tif (buffers.length > 1) {\n\t\t\tarray = new Uint8Array(bufferSize);\n\t\t\tbuffers.forEach(function (chunk) {\n\t\t\t\tarray.set(chunk, bufferIndex);\n\t\t\t\tbufferIndex += chunk.length;\n\t\t\t});\n\t\t} else {\n\t\t\tarray = buffers[0] ? new Uint8Array(buffers[0]) : new Uint8Array();\n\t\t}\n\t\treturn array;\n\t};\n\tthat.flush = function () {\n\t\tz.inflateEnd();\n\t};\n}\n\nexport {\n\tZipInflate as Inflate\n};","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nconst MAX_32_BITS = 0xffffffff;\nconst MAX_16_BITS = 0xffff;\nconst COMPRESSION_METHOD_DEFLATE = 0x08;\nconst COMPRESSION_METHOD_STORE = 0x00;\nconst COMPRESSION_METHOD_AES = 0x63;\n\nconst LOCAL_FILE_HEADER_SIGNATURE = 0x04034b50;\nconst SPLIT_ZIP_FILE_SIGNATURE = 0x08074b50;\nconst DATA_DESCRIPTOR_RECORD_SIGNATURE = SPLIT_ZIP_FILE_SIGNATURE;\nconst CENTRAL_FILE_HEADER_SIGNATURE = 0x02014b50;\nconst END_OF_CENTRAL_DIR_SIGNATURE = 0x06054b50;\nconst ZIP64_END_OF_CENTRAL_DIR_SIGNATURE = 0x06064b50;\nconst ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIGNATURE = 0x07064b50;\nconst END_OF_CENTRAL_DIR_LENGTH = 22;\nconst ZIP64_END_OF_CENTRAL_DIR_LOCATOR_LENGTH = 20;\nconst ZIP64_END_OF_CENTRAL_DIR_LENGTH = 56;\nconst ZIP64_END_OF_CENTRAL_DIR_TOTAL_LENGTH = END_OF_CENTRAL_DIR_LENGTH + ZIP64_END_OF_CENTRAL_DIR_LOCATOR_LENGTH + ZIP64_END_OF_CENTRAL_DIR_LENGTH;\n\nconst EXTRAFIELD_TYPE_ZIP64 = 0x0001;\nconst EXTRAFIELD_TYPE_AES = 0x9901;\nconst EXTRAFIELD_TYPE_NTFS = 0x000a;\nconst EXTRAFIELD_TYPE_NTFS_TAG1 = 0x0001;\nconst EXTRAFIELD_TYPE_EXTENDED_TIMESTAMP = 0x5455;\nconst EXTRAFIELD_TYPE_UNICODE_PATH = 0x7075;\nconst EXTRAFIELD_TYPE_UNICODE_COMMENT = 0x6375;\nconst EXTRAFIELD_TYPE_USDZ = 0x1986;\n\nconst BITFLAG_ENCRYPTED = 0x01;\nconst BITFLAG_LEVEL = 0x06;\nconst BITFLAG_DATA_DESCRIPTOR = 0x0008;\nconst BITFLAG_LANG_ENCODING_FLAG = 0x0800;\nconst FILE_ATTR_MSDOS_DIR_MASK = 0x10;\n\nconst VERSION_DEFLATE = 0x14;\nconst VERSION_ZIP64 = 0x2D;\nconst VERSION_AES = 0x33;\n\nconst DIRECTORY_SIGNATURE = \"/\";\n\nconst MAX_DATE = new Date(2107, 11, 31);\nconst MIN_DATE = new Date(1980, 0, 1);\n\nconst UNDEFINED_VALUE = undefined;\nconst UNDEFINED_TYPE = \"undefined\";\nconst FUNCTION_TYPE = \"function\";\n\nexport {\n\tMAX_32_BITS,\n\tMAX_16_BITS,\n\tCOMPRESSION_METHOD_DEFLATE,\n\tCOMPRESSION_METHOD_STORE,\n\tCOMPRESSION_METHOD_AES,\n\tSPLIT_ZIP_FILE_SIGNATURE,\n\tLOCAL_FILE_HEADER_SIGNATURE,\n\tDATA_DESCRIPTOR_RECORD_SIGNATURE,\n\tCENTRAL_FILE_HEADER_SIGNATURE,\n\tEND_OF_CENTRAL_DIR_SIGNATURE,\n\tZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIGNATURE,\n\tZIP64_END_OF_CENTRAL_DIR_SIGNATURE,\n\tEXTRAFIELD_TYPE_ZIP64,\n\tEXTRAFIELD_TYPE_AES,\n\tEXTRAFIELD_TYPE_NTFS,\n\tEXTRAFIELD_TYPE_NTFS_TAG1,\n\tEXTRAFIELD_TYPE_EXTENDED_TIMESTAMP,\n\tEXTRAFIELD_TYPE_UNICODE_PATH,\n\tEXTRAFIELD_TYPE_UNICODE_COMMENT,\n\tEXTRAFIELD_TYPE_USDZ,\n\tEND_OF_CENTRAL_DIR_LENGTH,\n\tZIP64_END_OF_CENTRAL_DIR_LOCATOR_LENGTH,\n\tZIP64_END_OF_CENTRAL_DIR_LENGTH,\n\tZIP64_END_OF_CENTRAL_DIR_TOTAL_LENGTH,\n\tBITFLAG_ENCRYPTED,\n\tBITFLAG_LEVEL,\n\tBITFLAG_DATA_DESCRIPTOR,\n\tBITFLAG_LANG_ENCODING_FLAG,\n\tFILE_ATTR_MSDOS_DIR_MASK,\n\tVERSION_DEFLATE,\n\tVERSION_ZIP64,\n\tVERSION_AES,\n\tDIRECTORY_SIGNATURE,\n\tMIN_DATE,\n\tMAX_DATE,\n\tUNDEFINED_VALUE,\n\tUNDEFINED_TYPE,\n\tFUNCTION_TYPE\n};","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* global TransformStream */\n\nexport {\n\tStreamAdapter\n};\n\nclass StreamAdapter {\n\n\tconstructor(Codec) {\n\t\treturn class extends TransformStream {\n\t\t\tconstructor(_format, options) {\n\t\t\t\tconst codec = new Codec(options);\n\t\t\t\tsuper({\n\t\t\t\t\ttransform(chunk, controller) {\n\t\t\t\t\t\tcontroller.enqueue(codec.append(chunk));\n\t\t\t\t\t},\n\t\t\t\t\tflush(controller) {\n\t\t\t\t\t\tconst chunk = codec.flush();\n\t\t\t\t\t\tif (chunk) {\n\t\t\t\t\t\t\tcontroller.enqueue(chunk);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}\n}","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* global navigator, CompressionStream, DecompressionStream */\n\nimport {\n\tUNDEFINED_VALUE,\n\tUNDEFINED_TYPE\n} from \"./constants.js\";\nimport { StreamAdapter } from \"./streams/stream-adapter.js\";\n\nconst MINIMUM_CHUNK_SIZE = 64;\nlet maxWorkers = 2;\ntry {\n\tif (typeof navigator != UNDEFINED_TYPE && navigator.hardwareConcurrency) {\n\t\tmaxWorkers = navigator.hardwareConcurrency;\n\t}\n} catch (_error) {\n\t// ignored\n}\nconst DEFAULT_CONFIGURATION = {\n\tchunkSize: 512 * 1024,\n\tmaxWorkers,\n\tterminateWorkerTimeout: 5000,\n\tuseWebWorkers: true,\n\tuseCompressionStream: true,\n\tworkerScripts: UNDEFINED_VALUE,\n\tCompressionStreamNative: typeof CompressionStream != UNDEFINED_TYPE && CompressionStream,\n\tDecompressionStreamNative: typeof DecompressionStream != UNDEFINED_TYPE && DecompressionStream\n};\n\nconst config = Object.assign({}, DEFAULT_CONFIGURATION);\n\nexport {\n\tconfigure,\n\tgetConfiguration,\n\tgetChunkSize\n};\n\nfunction getConfiguration() {\n\treturn config;\n}\n\nfunction getChunkSize(config) {\n\treturn Math.max(config.chunkSize, MINIMUM_CHUNK_SIZE);\n}\n\nfunction configure(configuration) {\n\tconst {\n\t\tbaseURL,\n\t\tchunkSize,\n\t\tmaxWorkers,\n\t\tterminateWorkerTimeout,\n\t\tuseCompressionStream,\n\t\tuseWebWorkers,\n\t\tDeflate,\n\t\tInflate,\n\t\tCompressionStream,\n\t\tDecompressionStream,\n\t\tworkerScripts\n\t} = configuration;\n\tsetIfDefined(\"baseURL\", baseURL);\n\tsetIfDefined(\"chunkSize\", chunkSize);\n\tsetIfDefined(\"maxWorkers\", maxWorkers);\n\tsetIfDefined(\"terminateWorkerTimeout\", terminateWorkerTimeout);\n\tsetIfDefined(\"useCompressionStream\", useCompressionStream);\n\tsetIfDefined(\"useWebWorkers\", useWebWorkers);\n\tif (Deflate) {\n\t\tconfig.CompressionStream = new StreamAdapter(Deflate);\n\t}\n\tif (Inflate) {\n\t\tconfig.DecompressionStream = new StreamAdapter(Inflate);\n\t}\n\tsetIfDefined(\"CompressionStream\", CompressionStream);\n\tsetIfDefined(\"DecompressionStream\", DecompressionStream);\n\tif (workerScripts !== UNDEFINED_VALUE) {\n\t\tconst { deflate, inflate } = workerScripts;\n\t\tif (deflate || inflate) {\n\t\t\tif (!config.workerScripts) {\n\t\t\t\tconfig.workerScripts = {};\n\t\t\t}\n\t\t}\n\t\tif (deflate) {\n\t\t\tif (!Array.isArray(deflate)) {\n\t\t\t\tthrow new Error(\"workerScripts.deflate must be an array\");\n\t\t\t}\n\t\t\tconfig.workerScripts.deflate = deflate;\n\t\t}\n\t\tif (inflate) {\n\t\t\tif (!Array.isArray(inflate)) {\n\t\t\t\tthrow new Error(\"workerScripts.inflate must be an array\");\n\t\t\t}\n\t\t\tconfig.workerScripts.inflate = inflate;\n\t\t}\n\t}\n}\n\nfunction setIfDefined(propertyName, propertyValue) {\n\tif (propertyValue !== UNDEFINED_VALUE) {\n\t\tconfig[propertyName] = propertyValue;\n\t}\n}\n","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n// deno-lint-ignore-file no-prototype-builtins\n\nimport { getMimeType as getDefaultMimeType } from \"./default-mime-type.js\";\n\nconst table = {\n\t\"application\": {\n\t\t\"andrew-inset\": \"ez\",\n\t\t\"annodex\": \"anx\",\n\t\t\"atom+xml\": \"atom\",\n\t\t\"atomcat+xml\": \"atomcat\",\n\t\t\"atomserv+xml\": \"atomsrv\",\n\t\t\"bbolin\": \"lin\",\n\t\t\"cu-seeme\": \"cu\",\n\t\t\"davmount+xml\": \"davmount\",\n\t\t\"dsptype\": \"tsp\",\n\t\t\"ecmascript\": [\n\t\t\t\"es\",\n\t\t\t\"ecma\"\n\t\t],\n\t\t\"futuresplash\": \"spl\",\n\t\t\"hta\": \"hta\",\n\t\t\"java-archive\": \"jar\",\n\t\t\"java-serialized-object\": \"ser\",\n\t\t\"java-vm\": \"class\",\n\t\t\"m3g\": \"m3g\",\n\t\t\"mac-binhex40\": \"hqx\",\n\t\t\"mathematica\": [\n\t\t\t\"nb\",\n\t\t\t\"ma\",\n\t\t\t\"mb\"\n\t\t],\n\t\t\"msaccess\": \"mdb\",\n\t\t\"msword\": [\n\t\t\t\"doc\",\n\t\t\t\"dot\",\n\t\t\t\"wiz\"\n\t\t],\n\t\t\"mxf\": \"mxf\",\n\t\t\"oda\": \"oda\",\n\t\t\"ogg\": \"ogx\",\n\t\t\"pdf\": \"pdf\",\n\t\t\"pgp-keys\": \"key\",\n\t\t\"pgp-signature\": [\n\t\t\t\"asc\",\n\t\t\t\"sig\"\n\t\t],\n\t\t\"pics-rules\": \"prf\",\n\t\t\"postscript\": [\n\t\t\t\"ps\",\n\t\t\t\"ai\",\n\t\t\t\"eps\",\n\t\t\t\"epsi\",\n\t\t\t\"epsf\",\n\t\t\t\"eps2\",\n\t\t\t\"eps3\"\n\t\t],\n\t\t\"rar\": \"rar\",\n\t\t\"rdf+xml\": \"rdf\",\n\t\t\"rss+xml\": \"rss\",\n\t\t\"rtf\": \"rtf\",\n\t\t\"xhtml+xml\": [\n\t\t\t\"xhtml\",\n\t\t\t\"xht\"\n\t\t],\n\t\t\"xml\": [\n\t\t\t\"xml\",\n\t\t\t\"xsl\",\n\t\t\t\"xsd\",\n\t\t\t\"xpdl\"\n\t\t],\n\t\t\"xspf+xml\": \"xspf\",\n\t\t\"zip\": \"zip\",\n\t\t\"vnd.android.package-archive\": \"apk\",\n\t\t\"vnd.cinderella\": \"cdy\",\n\t\t\"vnd.google-earth.kml+xml\": \"kml\",\n\t\t\"vnd.google-earth.kmz\": \"kmz\",\n\t\t\"vnd.mozilla.xul+xml\": \"xul\",\n\t\t\"vnd.ms-excel\": [\n\t\t\t\"xls\",\n\t\t\t\"xlb\",\n\t\t\t\"xlt\",\n\t\t\t\"xlm\",\n\t\t\t\"xla\",\n\t\t\t\"xlc\",\n\t\t\t\"xlw\"\n\t\t],\n\t\t\"vnd.ms-pki.seccat\": \"cat\",\n\t\t\"vnd.ms-pki.stl\": \"stl\",\n\t\t\"vnd.ms-powerpoint\": [\n\t\t\t\"ppt\",\n\t\t\t\"pps\",\n\t\t\t\"pot\",\n\t\t\t\"ppa\",\n\t\t\t\"pwz\"\n\t\t],\n\t\t\"vnd.oasis.opendocument.chart\": \"odc\",\n\t\t\"vnd.oasis.opendocument.database\": \"odb\",\n\t\t\"vnd.oasis.opendocument.formula\": \"odf\",\n\t\t\"vnd.oasis.opendocument.graphics\": \"odg\",\n\t\t\"vnd.oasis.opendocument.graphics-template\": \"otg\",\n\t\t\"vnd.oasis.opendocument.image\": \"odi\",\n\t\t\"vnd.oasis.opendocument.presentation\": \"odp\",\n\t\t\"vnd.oasis.opendocument.presentation-template\": \"otp\",\n\t\t\"vnd.oasis.opendocument.spreadsheet\": \"ods\",\n\t\t\"vnd.oasis.opendocument.spreadsheet-template\": \"ots\",\n\t\t\"vnd.oasis.opendocument.text\": \"odt\",\n\t\t\"vnd.oasis.opendocument.text-master\": [\n\t\t\t\"odm\",\n\t\t\t\"otm\"\n\t\t],\n\t\t\"vnd.oasis.opendocument.text-template\": \"ott\",\n\t\t\"vnd.oasis.opendocument.text-web\": \"oth\",\n\t\t\"vnd.openxmlformats-officedocument.spreadsheetml.sheet\": \"xlsx\",\n\t\t\"vnd.openxmlformats-officedocument.spreadsheetml.template\": \"xltx\",\n\t\t\"vnd.openxmlformats-officedocument.presentationml.presentation\": \"pptx\",\n\t\t\"vnd.openxmlformats-officedocument.presentationml.slideshow\": \"ppsx\",\n\t\t\"vnd.openxmlformats-officedocument.presentationml.template\": \"potx\",\n\t\t\"vnd.openxmlformats-officedocument.wordprocessingml.document\": \"docx\",\n\t\t\"vnd.openxmlformats-officedocument.wordprocessingml.template\": \"dotx\",\n\t\t\"vnd.smaf\": \"mmf\",\n\t\t\"vnd.stardivision.calc\": \"sdc\",\n\t\t\"vnd.stardivision.chart\": \"sds\",\n\t\t\"vnd.stardivision.draw\": \"sda\",\n\t\t\"vnd.stardivision.impress\": \"sdd\",\n\t\t\"vnd.stardivision.math\": [\n\t\t\t\"sdf\",\n\t\t\t\"smf\"\n\t\t],\n\t\t\"vnd.stardivision.writer\": [\n\t\t\t\"sdw\",\n\t\t\t\"vor\"\n\t\t],\n\t\t\"vnd.stardivision.writer-global\": \"sgl\",\n\t\t\"vnd.sun.xml.calc\": \"sxc\",\n\t\t\"vnd.sun.xml.calc.template\": \"stc\",\n\t\t\"vnd.sun.xml.draw\": \"sxd\",\n\t\t\"vnd.sun.xml.draw.template\": \"std\",\n\t\t\"vnd.sun.xml.impress\": \"sxi\",\n\t\t\"vnd.sun.xml.impress.template\": \"sti\",\n\t\t\"vnd.sun.xml.math\": \"sxm\",\n\t\t\"vnd.sun.xml.writer\": \"sxw\",\n\t\t\"vnd.sun.xml.writer.global\": \"sxg\",\n\t\t\"vnd.sun.xml.writer.template\": \"stw\",\n\t\t\"vnd.symbian.install\": [\n\t\t\t\"sis\",\n\t\t\t\"sisx\"\n\t\t],\n\t\t\"vnd.visio\": [\n\t\t\t\"vsd\",\n\t\t\t\"vst\",\n\t\t\t\"vss\",\n\t\t\t\"vsw\",\n\t\t\t\"vsdx\",\n\t\t\t\"vssx\",\n\t\t\t\"vstx\",\n\t\t\t\"vssm\",\n\t\t\t\"vstm\"\n\t\t],\n\t\t\"vnd.wap.wbxml\": \"wbxml\",\n\t\t\"vnd.wap.wmlc\": \"wmlc\",\n\t\t\"vnd.wap.wmlscriptc\": \"wmlsc\",\n\t\t\"vnd.wordperfect\": \"wpd\",\n\t\t\"vnd.wordperfect5.1\": \"wp5\",\n\t\t\"x-123\": \"wk\",\n\t\t\"x-7z-compressed\": \"7z\",\n\t\t\"x-abiword\": \"abw\",\n\t\t\"x-apple-diskimage\": \"dmg\",\n\t\t\"x-bcpio\": \"bcpio\",\n\t\t\"x-bittorrent\": \"torrent\",\n\t\t\"x-cbr\": [\n\t\t\t\"cbr\",\n\t\t\t\"cba\",\n\t\t\t\"cbt\",\n\t\t\t\"cb7\"\n\t\t],\n\t\t\"x-cbz\": \"cbz\",\n\t\t\"x-cdf\": [\n\t\t\t\"cdf\",\n\t\t\t\"cda\"\n\t\t],\n\t\t\"x-cdlink\": \"vcd\",\n\t\t\"x-chess-pgn\": \"pgn\",\n\t\t\"x-cpio\": \"cpio\",\n\t\t\"x-csh\": \"csh\",\n\t\t\"x-director\": [\n\t\t\t\"dir\",\n\t\t\t\"dxr\",\n\t\t\t\"cst\",\n\t\t\t\"cct\",\n\t\t\t\"cxt\",\n\t\t\t\"w3d\",\n\t\t\t\"fgd\",\n\t\t\t\"swa\"\n\t\t],\n\t\t\"x-dms\": \"dms\",\n\t\t\"x-doom\": \"wad\",\n\t\t\"x-dvi\": \"dvi\",\n\t\t\"x-httpd-eruby\": \"rhtml\",\n\t\t\"x-font\": \"pcf.Z\",\n\t\t\"x-freemind\": \"mm\",\n\t\t\"x-gnumeric\": \"gnumeric\",\n\t\t\"x-go-sgf\": \"sgf\",\n\t\t\"x-graphing-calculator\": \"gcf\",\n\t\t\"x-gtar\": [\n\t\t\t\"gtar\",\n\t\t\t\"taz\"\n\t\t],\n\t\t\"x-hdf\": \"hdf\",\n\t\t\"x-httpd-php\": [\n\t\t\t\"phtml\",\n\t\t\t\"pht\",\n\t\t\t\"php\"\n\t\t],\n\t\t\"x-httpd-php-source\": \"phps\",\n\t\t\"x-httpd-php3\": \"php3\",\n\t\t\"x-httpd-php3-preprocessed\": \"php3p\",\n\t\t\"x-httpd-php4\": \"php4\",\n\t\t\"x-httpd-php5\": \"php5\",\n\t\t\"x-ica\": \"ica\",\n\t\t\"x-info\": \"info\",\n\t\t\"x-internet-signup\": [\n\t\t\t\"ins\",\n\t\t\t\"isp\"\n\t\t],\n\t\t\"x-iphone\": \"iii\",\n\t\t\"x-iso9660-image\": \"iso\",\n\t\t\"x-java-jnlp-file\": \"jnlp\",\n\t\t\"x-jmol\": \"jmz\",\n\t\t\"x-killustrator\": \"kil\",\n\t\t\"x-latex\": \"latex\",\n\t\t\"x-lyx\": \"lyx\",\n\t\t\"x-lzx\": \"lzx\",\n\t\t\"x-maker\": [\n\t\t\t\"frm\",\n\t\t\t\"fb\",\n\t\t\t\"fbdoc\"\n\t\t],\n\t\t\"x-ms-wmd\": \"wmd\",\n\t\t\"x-msdos-program\": [\n\t\t\t\"com\",\n\t\t\t\"exe\",\n\t\t\t\"bat\",\n\t\t\t\"dll\"\n\t\t],\n\t\t\"x-netcdf\": [\n\t\t\t\"nc\"\n\t\t],\n\t\t\"x-ns-proxy-autoconfig\": [\n\t\t\t\"pac\",\n\t\t\t\"dat\"\n\t\t],\n\t\t\"x-nwc\": \"nwc\",\n\t\t\"x-object\": \"o\",\n\t\t\"x-oz-application\": \"oza\",\n\t\t\"x-pkcs7-certreqresp\": \"p7r\",\n\t\t\"x-python-code\": [\n\t\t\t\"pyc\",\n\t\t\t\"pyo\"\n\t\t],\n\t\t\"x-qgis\": [\n\t\t\t\"qgs\",\n\t\t\t\"shp\",\n\t\t\t\"shx\"\n\t\t],\n\t\t\"x-quicktimeplayer\": \"qtl\",\n\t\t\"x-redhat-package-manager\": [\n\t\t\t\"rpm\",\n\t\t\t\"rpa\"\n\t\t],\n\t\t\"x-ruby\": \"rb\",\n\t\t\"x-sh\": \"sh\",\n\t\t\"x-shar\": \"shar\",\n\t\t\"x-shockwave-flash\": [\n\t\t\t\"swf\",\n\t\t\t\"swfl\"\n\t\t],\n\t\t\"x-silverlight\": \"scr\",\n\t\t\"x-stuffit\": \"sit\",\n\t\t\"x-sv4cpio\": \"sv4cpio\",\n\t\t\"x-sv4crc\": \"sv4crc\",\n\t\t\"x-tar\": \"tar\",\n\t\t\"x-tex-gf\": \"gf\",\n\t\t\"x-tex-pk\": \"pk\",\n\t\t\"x-texinfo\": [\n\t\t\t\"texinfo\",\n\t\t\t\"texi\"\n\t\t],\n\t\t\"x-trash\": [\n\t\t\t\"~\",\n\t\t\t\"%\",\n\t\t\t\"bak\",\n\t\t\t\"old\",\n\t\t\t\"sik\"\n\t\t],\n\t\t\"x-ustar\": \"ustar\",\n\t\t\"x-wais-source\": \"src\",\n\t\t\"x-wingz\": \"wz\",\n\t\t\"x-x509-ca-cert\": [\n\t\t\t\"crt\",\n\t\t\t\"der\",\n\t\t\t\"cer\"\n\t\t],\n\t\t\"x-xcf\": \"xcf\",\n\t\t\"x-xfig\": \"fig\",\n\t\t\"x-xpinstall\": \"xpi\",\n\t\t\"applixware\": \"aw\",\n\t\t\"atomsvc+xml\": \"atomsvc\",\n\t\t\"ccxml+xml\": \"ccxml\",\n\t\t\"cdmi-capability\": \"cdmia\",\n\t\t\"cdmi-container\": \"cdmic\",\n\t\t\"cdmi-domain\": \"cdmid\",\n\t\t\"cdmi-object\": \"cdmio\",\n\t\t\"cdmi-queue\": \"cdmiq\",\n\t\t\"docbook+xml\": \"dbk\",\n\t\t\"dssc+der\": \"dssc\",\n\t\t\"dssc+xml\": \"xdssc\",\n\t\t\"emma+xml\": \"emma\",\n\t\t\"epub+zip\": \"epub\",\n\t\t\"exi\": \"exi\",\n\t\t\"font-tdpfr\": \"pfr\",\n\t\t\"gml+xml\": \"gml\",\n\t\t\"gpx+xml\": \"gpx\",\n\t\t\"gxf\": \"gxf\",\n\t\t\"hyperstudio\": \"stk\",\n\t\t\"inkml+xml\": [\n\t\t\t\"ink\",\n\t\t\t\"inkml\"\n\t\t],\n\t\t\"ipfix\": \"ipfix\",\n\t\t\"jsonml+json\": \"jsonml\",\n\t\t\"lost+xml\": \"lostxml\",\n\t\t\"mads+xml\": \"mads\",\n\t\t\"marc\": \"mrc\",\n\t\t\"marcxml+xml\": \"mrcx\",\n\t\t\"mathml+xml\": [\n\t\t\t\"mathml\",\n\t\t\t\"mml\"\n\t\t],\n\t\t\"mbox\": \"mbox\",\n\t\t\"mediaservercontrol+xml\": \"mscml\",\n\t\t\"metalink+xml\": \"metalink\",\n\t\t\"metalink4+xml\": \"meta4\",\n\t\t\"mets+xml\": \"mets\",\n\t\t\"mods+xml\": \"mods\",\n\t\t\"mp21\": [\n\t\t\t\"m21\",\n\t\t\t\"mp21\"\n\t\t],\n\t\t\"mp4\": \"mp4s\",\n\t\t\"oebps-package+xml\": \"opf\",\n\t\t\"omdoc+xml\": \"omdoc\",\n\t\t\"onenote\": [\n\t\t\t\"onetoc\",\n\t\t\t\"onetoc2\",\n\t\t\t\"onetmp\",\n\t\t\t\"onepkg\"\n\t\t],\n\t\t\"oxps\": \"oxps\",\n\t\t\"patch-ops-error+xml\": \"xer\",\n\t\t\"pgp-encrypted\": \"pgp\",\n\t\t\"pkcs10\": \"p10\",\n\t\t\"pkcs7-mime\": [\n\t\t\t\"p7m\",\n\t\t\t\"p7c\"\n\t\t],\n\t\t\"pkcs7-signature\": \"p7s\",\n\t\t\"pkcs8\": \"p8\",\n\t\t\"pkix-attr-cert\": \"ac\",\n\t\t\"pkix-crl\": \"crl\",\n\t\t\"pkix-pkipath\": \"pkipath\",\n\t\t\"pkixcmp\": \"pki\",\n\t\t\"pls+xml\": \"pls\",\n\t\t\"prs.cww\": \"cww\",\n\t\t\"pskc+xml\": \"pskcxml\",\n\t\t\"reginfo+xml\": \"rif\",\n\t\t\"relax-ng-compact-syntax\": \"rnc\",\n\t\t\"resource-lists+xml\": \"rl\",\n\t\t\"resource-lists-diff+xml\": \"rld\",\n\t\t\"rls-services+xml\": \"rs\",\n\t\t\"rpki-ghostbusters\": \"gbr\",\n\t\t\"rpki-manifest\": \"mft\",\n\t\t\"rpki-roa\": \"roa\",\n\t\t\"rsd+xml\": \"rsd\",\n\t\t\"sbml+xml\": \"sbml\",\n\t\t\"scvp-cv-request\": \"scq\",\n\t\t\"scvp-cv-response\": \"scs\",\n\t\t\"scvp-vp-request\": \"spq\",\n\t\t\"scvp-vp-response\": \"spp\",\n\t\t\"sdp\": \"sdp\",\n\t\t\"set-payment-initiation\": \"setpay\",\n\t\t\"set-registration-initiation\": \"setreg\",\n\t\t\"shf+xml\": \"shf\",\n\t\t\"sparql-query\": \"rq\",\n\t\t\"sparql-results+xml\": \"srx\",\n\t\t\"srgs\": \"gram\",\n\t\t\"srgs+xml\": \"grxml\",\n\t\t\"sru+xml\": \"sru\",\n\t\t\"ssdl+xml\": \"ssdl\",\n\t\t\"ssml+xml\": \"ssml\",\n\t\t\"tei+xml\": [\n\t\t\t\"tei\",\n\t\t\t\"teicorpus\"\n\t\t],\n\t\t\"thraud+xml\": \"tfi\",\n\t\t\"timestamped-data\": \"tsd\",\n\t\t\"vnd.3gpp.pic-bw-large\": \"plb\",\n\t\t\"vnd.3gpp.pic-bw-small\": \"psb\",\n\t\t\"vnd.3gpp.pic-bw-var\": \"pvb\",\n\t\t\"vnd.3gpp2.tcap\": \"tcap\",\n\t\t\"vnd.3m.post-it-notes\": \"pwn\",\n\t\t\"vnd.accpac.simply.aso\": \"aso\",\n\t\t\"vnd.accpac.simply.imp\": \"imp\",\n\t\t\"vnd.acucobol\": \"acu\",\n\t\t\"vnd.acucorp\": [\n\t\t\t\"atc\",\n\t\t\t\"acutc\"\n\t\t],\n\t\t\"vnd.adobe.air-application-installer-package+zip\": \"air\",\n\t\t\"vnd.adobe.formscentral.fcdt\": \"fcdt\",\n\t\t\"vnd.adobe.fxp\": [\n\t\t\t\"fxp\",\n\t\t\t\"fxpl\"\n\t\t],\n\t\t\"vnd.adobe.xdp+xml\": \"xdp\",\n\t\t\"vnd.adobe.xfdf\": \"xfdf\",\n\t\t\"vnd.ahead.space\": \"ahead\",\n\t\t\"vnd.airzip.filesecure.azf\": \"azf\",\n\t\t\"vnd.airzip.filesecure.azs\": \"azs\",\n\t\t\"vnd.amazon.ebook\": \"azw\",\n\t\t\"vnd.americandynamics.acc\": \"acc\",\n\t\t\"vnd.amiga.ami\": \"ami\",\n\t\t\"vnd.anser-web-certificate-issue-initiation\": \"cii\",\n\t\t\"vnd.anser-web-funds-transfer-initiation\": \"fti\",\n\t\t\"vnd.antix.game-component\": \"atx\",\n\t\t\"vnd.apple.installer+xml\": \"mpkg\",\n\t\t\"vnd.apple.mpegurl\": \"m3u8\",\n\t\t\"vnd.aristanetworks.swi\": \"swi\",\n\t\t\"vnd.astraea-software.iota\": \"iota\",\n\t\t\"vnd.audiograph\": \"aep\",\n\t\t\"vnd.blueice.multipass\": \"mpm\",\n\t\t\"vnd.bmi\": \"bmi\",\n\t\t\"vnd.businessobjects\": \"rep\",\n\t\t\"vnd.chemdraw+xml\": \"cdxml\",\n\t\t\"vnd.chipnuts.karaoke-mmd\": \"mmd\",\n\t\t\"vnd.claymore\": \"cla\",\n\t\t\"vnd.cloanto.rp9\": \"rp9\",\n\t\t\"vnd.clonk.c4group\": [\n\t\t\t\"c4g\",\n\t\t\t\"c4d\",\n\t\t\t\"c4f\",\n\t\t\t\"c4p\",\n\t\t\t\"c4u\"\n\t\t],\n\t\t\"vnd.cluetrust.cartomobile-config\": \"c11amc\",\n\t\t\"vnd.cluetrust.cartomobile-config-pkg\": \"c11amz\",\n\t\t\"vnd.commonspace\": \"csp\",\n\t\t\"vnd.contact.cmsg\": \"cdbcmsg\",\n\t\t\"vnd.cosmocaller\": \"cmc\",\n\t\t\"vnd.crick.clicker\": \"clkx\",\n\t\t\"vnd.crick.clicker.keyboard\": \"clkk\",\n\t\t\"vnd.crick.clicker.palette\": \"clkp\",\n\t\t\"vnd.crick.clicker.template\": \"clkt\",\n\t\t\"vnd.crick.clicker.wordbank\": \"clkw\",\n\t\t\"vnd.criticaltools.wbs+xml\": \"wbs\",\n\t\t\"vnd.ctc-posml\": \"pml\",\n\t\t\"vnd.cups-ppd\": \"ppd\",\n\t\t\"vnd.curl.car\": \"car\",\n\t\t\"vnd.curl.pcurl\": \"pcurl\",\n\t\t\"vnd.dart\": \"dart\",\n\t\t\"vnd.data-vision.rdz\": \"rdz\",\n\t\t\"vnd.dece.data\": [\n\t\t\t\"uvf\",\n\t\t\t\"uvvf\",\n\t\t\t\"uvd\",\n\t\t\t\"uvvd\"\n\t\t],\n\t\t\"vnd.dece.ttml+xml\": [\n\t\t\t\"uvt\",\n\t\t\t\"uvvt\"\n\t\t],\n\t\t\"vnd.dece.unspecified\": [\n\t\t\t\"uvx\",\n\t\t\t\"uvvx\"\n\t\t],\n\t\t\"vnd.dece.zip\": [\n\t\t\t\"uvz\",\n\t\t\t\"uvvz\"\n\t\t],\n\t\t\"vnd.denovo.fcselayout-link\": \"fe_launch\",\n\t\t\"vnd.dna\": \"dna\",\n\t\t\"vnd.dolby.mlp\": \"mlp\",\n\t\t\"vnd.dpgraph\": \"dpg\",\n\t\t\"vnd.dreamfactory\": \"dfac\",\n\t\t\"vnd.ds-keypoint\": \"kpxx\",\n\t\t\"vnd.dvb.ait\": \"ait\",\n\t\t\"vnd.dvb.service\": \"svc\",\n\t\t\"vnd.dynageo\": \"geo\",\n\t\t\"vnd.ecowin.chart\": \"mag\",\n\t\t\"vnd.enliven\": \"nml\",\n\t\t\"vnd.epson.esf\": \"esf\",\n\t\t\"vnd.epson.msf\": \"msf\",\n\t\t\"vnd.epson.quickanime\": \"qam\",\n\t\t\"vnd.epson.salt\": \"slt\",\n\t\t\"vnd.epson.ssf\": \"ssf\",\n\t\t\"vnd.eszigno3+xml\": [\n\t\t\t\"es3\",\n\t\t\t\"et3\"\n\t\t],\n\t\t\"vnd.ezpix-album\": \"ez2\",\n\t\t\"vnd.ezpix-package\": \"ez3\",\n\t\t\"vnd.fdf\": \"fdf\",\n\t\t\"vnd.fdsn.mseed\": \"mseed\",\n\t\t\"vnd.fdsn.seed\": [\n\t\t\t\"seed\",\n\t\t\t\"dataless\"\n\t\t],\n\t\t\"vnd.flographit\": \"gph\",\n\t\t\"vnd.fluxtime.clip\": \"ftc\",\n\t\t\"vnd.framemaker\": [\n\t\t\t\"fm\",\n\t\t\t\"frame\",\n\t\t\t\"maker\",\n\t\t\t\"book\"\n\t\t],\n\t\t\"vnd.frogans.fnc\": \"fnc\",\n\t\t\"vnd.frogans.ltf\": \"ltf\",\n\t\t\"vnd.fsc.weblaunch\": \"fsc\",\n\t\t\"vnd.fujitsu.oasys\": \"oas\",\n\t\t\"vnd.fujitsu.oasys2\": \"oa2\",\n\t\t\"vnd.fujitsu.oasys3\": \"oa3\",\n\t\t\"vnd.fujitsu.oasysgp\": \"fg5\",\n\t\t\"vnd.fujitsu.oasysprs\": \"bh2\",\n\t\t\"vnd.fujixerox.ddd\": \"ddd\",\n\t\t\"vnd.fujixerox.docuworks\": \"xdw\",\n\t\t\"vnd.fujixerox.docuworks.binder\": \"xbd\",\n\t\t\"vnd.fuzzysheet\": \"fzs\",\n\t\t\"vnd.genomatix.tuxedo\": \"txd\",\n\t\t\"vnd.geogebra.file\": \"ggb\",\n\t\t\"vnd.geogebra.tool\": \"ggt\",\n\t\t\"vnd.geometry-explorer\": [\n\t\t\t\"gex\",\n\t\t\t\"gre\"\n\t\t],\n\t\t\"vnd.geonext\": \"gxt\",\n\t\t\"vnd.geoplan\": \"g2w\",\n\t\t\"vnd.geospace\": \"g3w\",\n\t\t\"vnd.gmx\": \"gmx\",\n\t\t\"vnd.grafeq\": [\n\t\t\t\"gqf\",\n\t\t\t\"gqs\"\n\t\t],\n\t\t\"vnd.groove-account\": \"gac\",\n\t\t\"vnd.groove-help\": \"ghf\",\n\t\t\"vnd.groove-identity-message\": \"gim\",\n\t\t\"vnd.groove-injector\": \"grv\",\n\t\t\"vnd.groove-tool-message\": \"gtm\",\n\t\t\"vnd.groove-tool-template\": \"tpl\",\n\t\t\"vnd.groove-vcard\": \"vcg\",\n\t\t\"vnd.hal+xml\": \"hal\",\n\t\t\"vnd.handheld-entertainment+xml\": \"zmm\",\n\t\t\"vnd.hbci\": \"hbci\",\n\t\t\"vnd.hhe.lesson-player\": \"les\",\n\t\t\"vnd.hp-hpgl\": \"hpgl\",\n\t\t\"vnd.hp-hpid\": \"hpid\",\n\t\t\"vnd.hp-hps\": \"hps\",\n\t\t\"vnd.hp-jlyt\": \"jlt\",\n\t\t\"vnd.hp-pcl\": \"pcl\",\n\t\t\"vnd.hp-pclxl\": \"pclxl\",\n\t\t\"vnd.hydrostatix.sof-data\": \"sfd-hdstx\",\n\t\t\"vnd.ibm.minipay\": \"mpy\",\n\t\t\"vnd.ibm.modcap\": [\n\t\t\t\"afp\",\n\t\t\t\"listafp\",\n\t\t\t\"list3820\"\n\t\t],\n\t\t\"vnd.ibm.rights-management\": \"irm\",\n\t\t\"vnd.ibm.secure-container\": \"sc\",\n\t\t\"vnd.iccprofile\": [\n\t\t\t\"icc\",\n\t\t\t\"icm\"\n\t\t],\n\t\t\"vnd.igloader\": \"igl\",\n\t\t\"vnd.immervision-ivp\": \"ivp\",\n\t\t\"vnd.immervision-ivu\": \"ivu\",\n\t\t\"vnd.insors.igm\": \"igm\",\n\t\t\"vnd.intercon.formnet\": [\n\t\t\t\"xpw\",\n\t\t\t\"xpx\"\n\t\t],\n\t\t\"vnd.intergeo\": \"i2g\",\n\t\t\"vnd.intu.qbo\": \"qbo\",\n\t\t\"vnd.intu.qfx\": \"qfx\",\n\t\t\"vnd.ipunplugged.rcprofile\": \"rcprofile\",\n\t\t\"vnd.irepository.package+xml\": \"irp\",\n\t\t\"vnd.is-xpr\": \"xpr\",\n\t\t\"vnd.isac.fcs\": \"fcs\",\n\t\t\"vnd.jam\": \"jam\",\n\t\t\"vnd.jcp.javame.midlet-rms\": \"rms\",\n\t\t\"vnd.jisp\": \"jisp\",\n\t\t\"vnd.joost.joda-archive\": \"joda\",\n\t\t\"vnd.kahootz\": [\n\t\t\t\"ktz\",\n\t\t\t\"ktr\"\n\t\t],\n\t\t\"vnd.kde.karbon\": \"karbon\",\n\t\t\"vnd.kde.kchart\": \"chrt\",\n\t\t\"vnd.kde.kformula\": \"kfo\",\n\t\t\"vnd.kde.kivio\": \"flw\",\n\t\t\"vnd.kde.kontour\": \"kon\",\n\t\t\"vnd.kde.kpresenter\": [\n\t\t\t\"kpr\",\n\t\t\t\"kpt\"\n\t\t],\n\t\t\"vnd.kde.kspread\": \"ksp\",\n\t\t\"vnd.kde.kword\": [\n\t\t\t\"kwd\",\n\t\t\t\"kwt\"\n\t\t],\n\t\t\"vnd.kenameaapp\": \"htke\",\n\t\t\"vnd.kidspiration\": \"kia\",\n\t\t\"vnd.kinar\": [\n\t\t\t\"kne\",\n\t\t\t\"knp\"\n\t\t],\n\t\t\"vnd.koan\": [\n\t\t\t\"skp\",\n\t\t\t\"skd\",\n\t\t\t\"skt\",\n\t\t\t\"skm\"\n\t\t],\n\t\t\"vnd.kodak-descriptor\": \"sse\",\n\t\t\"vnd.las.las+xml\": \"lasxml\",\n\t\t\"vnd.llamagraphics.life-balance.desktop\": \"lbd\",\n\t\t\"vnd.llamagraphics.life-balance.exchange+xml\": \"lbe\",\n\t\t\"vnd.lotus-1-2-3\": \"123\",\n\t\t\"vnd.lotus-approach\": \"apr\",\n\t\t\"vnd.lotus-freelance\": \"pre\",\n\t\t\"vnd.lotus-notes\": \"nsf\",\n\t\t\"vnd.lotus-organizer\": \"org\",\n\t\t\"vnd.lotus-screencam\": \"scm\",\n\t\t\"vnd.lotus-wordpro\": \"lwp\",\n\t\t\"vnd.macports.portpkg\": \"portpkg\",\n\t\t\"vnd.mcd\": \"mcd\",\n\t\t\"vnd.medcalcdata\": \"mc1\",\n\t\t\"vnd.mediastation.cdkey\": \"cdkey\",\n\t\t\"vnd.mfer\": \"mwf\",\n\t\t\"vnd.mfmp\": \"mfm\",\n\t\t\"vnd.micrografx.flo\": \"flo\",\n\t\t\"vnd.micrografx.igx\": \"igx\",\n\t\t\"vnd.mif\": \"mif\",\n\t\t\"vnd.mobius.daf\": \"daf\",\n\t\t\"vnd.mobius.dis\": \"dis\",\n\t\t\"vnd.mobius.mbk\": \"mbk\",\n\t\t\"vnd.mobius.mqy\": \"mqy\",\n\t\t\"vnd.mobius.msl\": \"msl\",\n\t\t\"vnd.mobius.plc\": \"plc\",\n\t\t\"vnd.mobius.txf\": \"txf\",\n\t\t\"vnd.mophun.application\": \"mpn\",\n\t\t\"vnd.mophun.certificate\": \"mpc\",\n\t\t\"vnd.ms-artgalry\": \"cil\",\n\t\t\"vnd.ms-cab-compressed\": \"cab\",\n\t\t\"vnd.ms-excel.addin.macroenabled.12\": \"xlam\",\n\t\t\"vnd.ms-excel.sheet.binary.macroenabled.12\": \"xlsb\",\n\t\t\"vnd.ms-excel.sheet.macroenabled.12\": \"xlsm\",\n\t\t\"vnd.ms-excel.template.macroenabled.12\": \"xltm\",\n\t\t\"vnd.ms-fontobject\": \"eot\",\n\t\t\"vnd.ms-htmlhelp\": \"chm\",\n\t\t\"vnd.ms-ims\": \"ims\",\n\t\t\"vnd.ms-lrm\": \"lrm\",\n\t\t\"vnd.ms-officetheme\": \"thmx\",\n\t\t\"vnd.ms-powerpoint.addin.macroenabled.12\": \"ppam\",\n\t\t\"vnd.ms-powerpoint.presentation.macroenabled.12\": \"pptm\",\n\t\t\"vnd.ms-powerpoint.slide.macroenabled.12\": \"sldm\",\n\t\t\"vnd.ms-powerpoint.slideshow.macroenabled.12\": \"ppsm\",\n\t\t\"vnd.ms-powerpoint.template.macroenabled.12\": \"potm\",\n\t\t\"vnd.ms-project\": [\n\t\t\t\"mpp\",\n\t\t\t\"mpt\"\n\t\t],\n\t\t\"vnd.ms-word.document.macroenabled.12\": \"docm\",\n\t\t\"vnd.ms-word.template.macroenabled.12\": \"dotm\",\n\t\t\"vnd.ms-works\": [\n\t\t\t\"wps\",\n\t\t\t\"wks\",\n\t\t\t\"wcm\",\n\t\t\t\"wdb\"\n\t\t],\n\t\t\"vnd.ms-wpl\": \"wpl\",\n\t\t\"vnd.ms-xpsdocument\": \"xps\",\n\t\t\"vnd.mseq\": \"mseq\",\n\t\t\"vnd.musician\": \"mus\",\n\t\t\"vnd.muvee.style\": \"msty\",\n\t\t\"vnd.mynfc\": \"taglet\",\n\t\t\"vnd.neurolanguage.nlu\": \"nlu\",\n\t\t\"vnd.nitf\": [\n\t\t\t\"ntf\",\n\t\t\t\"nitf\"\n\t\t],\n\t\t\"vnd.noblenet-directory\": \"nnd\",\n\t\t\"vnd.noblenet-sealer\": \"nns\",\n\t\t\"vnd.noblenet-web\": \"nnw\",\n\t\t\"vnd.nokia.n-gage.data\": \"ngdat\",\n\t\t\"vnd.nokia.n-gage.symbian.install\": \"n-gage\",\n\t\t\"vnd.nokia.radio-preset\": \"rpst\",\n\t\t\"vnd.nokia.radio-presets\": \"rpss\",\n\t\t\"vnd.novadigm.edm\": \"edm\",\n\t\t\"vnd.novadigm.edx\": \"edx\",\n\t\t\"vnd.novadigm.ext\": \"ext\",\n\t\t\"vnd.oasis.opendocument.chart-template\": \"otc\",\n\t\t\"vnd.oasis.opendocument.formula-template\": \"odft\",\n\t\t\"vnd.oasis.opendocument.image-template\": \"oti\",\n\t\t\"vnd.olpc-sugar\": \"xo\",\n\t\t\"vnd.oma.dd2+xml\": \"dd2\",\n\t\t\"vnd.openofficeorg.extension\": \"oxt\",\n\t\t\"vnd.openxmlformats-officedocument.presentationml.slide\": \"sldx\",\n\t\t\"vnd.osgeo.mapguide.package\": \"mgp\",\n\t\t\"vnd.osgi.dp\": \"dp\",\n\t\t\"vnd.osgi.subsystem\": \"esa\",\n\t\t\"vnd.palm\": [\n\t\t\t\"pdb\",\n\t\t\t\"pqa\",\n\t\t\t\"oprc\"\n\t\t],\n\t\t\"vnd.pawaafile\": \"paw\",\n\t\t\"vnd.pg.format\": \"str\",\n\t\t\"vnd.pg.osasli\": \"ei6\",\n\t\t\"vnd.picsel\": \"efif\",\n\t\t\"vnd.pmi.widget\": \"wg\",\n\t\t\"vnd.pocketlearn\": \"plf\",\n\t\t\"vnd.powerbuilder6\": \"pbd\",\n\t\t\"vnd.previewsystems.box\": \"box\",\n\t\t\"vnd.proteus.magazine\": \"mgz\",\n\t\t\"vnd.publishare-delta-tree\": \"qps\",\n\t\t\"vnd.pvi.ptid1\": \"ptid\",\n\t\t\"vnd.quark.quarkxpress\": [\n\t\t\t\"qxd\",\n\t\t\t\"qxt\",\n\t\t\t\"qwd\",\n\t\t\t\"qwt\",\n\t\t\t\"qxl\",\n\t\t\t\"qxb\"\n\t\t],\n\t\t\"vnd.realvnc.bed\": \"bed\",\n\t\t\"vnd.recordare.musicxml\": \"mxl\",\n\t\t\"vnd.recordare.musicxml+xml\": \"musicxml\",\n\t\t\"vnd.rig.cryptonote\": \"cryptonote\",\n\t\t\"vnd.rn-realmedia\": \"rm\",\n\t\t\"vnd.rn-realmedia-vbr\": \"rmvb\",\n\t\t\"vnd.route66.link66+xml\": \"link66\",\n\t\t\"vnd.sailingtracker.track\": \"st\",\n\t\t\"vnd.seemail\": \"see\",\n\t\t\"vnd.sema\": \"sema\",\n\t\t\"vnd.semd\": \"semd\",\n\t\t\"vnd.semf\": \"semf\",\n\t\t\"vnd.shana.informed.formdata\": \"ifm\",\n\t\t\"vnd.shana.informed.formtemplate\": \"itp\",\n\t\t\"vnd.shana.informed.interchange\": \"iif\",\n\t\t\"vnd.shana.informed.package\": \"ipk\",\n\t\t\"vnd.simtech-mindmapper\": [\n\t\t\t\"twd\",\n\t\t\t\"twds\"\n\t\t],\n\t\t\"vnd.smart.teacher\": \"teacher\",\n\t\t\"vnd.solent.sdkm+xml\": [\n\t\t\t\"sdkm\",\n\t\t\t\"sdkd\"\n\t\t],\n\t\t\"vnd.spotfire.dxp\": \"dxp\",\n\t\t\"vnd.spotfire.sfs\": \"sfs\",\n\t\t\"vnd.stepmania.package\": \"smzip\",\n\t\t\"vnd.stepmania.stepchart\": \"sm\",\n\t\t\"vnd.sus-calendar\": [\n\t\t\t\"sus\",\n\t\t\t\"susp\"\n\t\t],\n\t\t\"vnd.svd\": \"svd\",\n\t\t\"vnd.syncml+xml\": \"xsm\",\n\t\t\"vnd.syncml.dm+wbxml\": \"bdm\",\n\t\t\"vnd.syncml.dm+xml\": \"xdm\",\n\t\t\"vnd.tao.intent-module-archive\": \"tao\",\n\t\t\"vnd.tcpdump.pcap\": [\n\t\t\t\"pcap\",\n\t\t\t\"cap\",\n\t\t\t\"dmp\"\n\t\t],\n\t\t\"vnd.tmobile-livetv\": \"tmo\",\n\t\t\"vnd.trid.tpt\": \"tpt\",\n\t\t\"vnd.triscape.mxs\": \"mxs\",\n\t\t\"vnd.trueapp\": \"tra\",\n\t\t\"vnd.ufdl\": [\n\t\t\t\"ufd\",\n\t\t\t\"ufdl\"\n\t\t],\n\t\t\"vnd.uiq.theme\": \"utz\",\n\t\t\"vnd.umajin\": \"umj\",\n\t\t\"vnd.unity\": \"unityweb\",\n\t\t\"vnd.uoml+xml\": \"uoml\",\n\t\t\"vnd.vcx\": \"vcx\",\n\t\t\"vnd.visionary\": \"vis\",\n\t\t\"vnd.vsf\": \"vsf\",\n\t\t\"vnd.webturbo\": \"wtb\",\n\t\t\"vnd.wolfram.player\": \"nbp\",\n\t\t\"vnd.wqd\": \"wqd\",\n\t\t\"vnd.wt.stf\": \"stf\",\n\t\t\"vnd.xara\": \"xar\",\n\t\t\"vnd.xfdl\": \"xfdl\",\n\t\t\"vnd.yamaha.hv-dic\": \"hvd\",\n\t\t\"vnd.yamaha.hv-script\": \"hvs\",\n\t\t\"vnd.yamaha.hv-voice\": \"hvp\",\n\t\t\"vnd.yamaha.openscoreformat\": \"osf\",\n\t\t\"vnd.yamaha.openscoreformat.osfpvg+xml\": \"osfpvg\",\n\t\t\"vnd.yamaha.smaf-audio\": \"saf\",\n\t\t\"vnd.yamaha.smaf-phrase\": \"spf\",\n\t\t\"vnd.yellowriver-custom-menu\": \"cmp\",\n\t\t\"vnd.zul\": [\n\t\t\t\"zir\",\n\t\t\t\"zirz\"\n\t\t],\n\t\t\"vnd.zzazz.deck+xml\": \"zaz\",\n\t\t\"voicexml+xml\": \"vxml\",\n\t\t\"widget\": \"wgt\",\n\t\t\"winhlp\": \"hlp\",\n\t\t\"wsdl+xml\": \"wsdl\",\n\t\t\"wspolicy+xml\": \"wspolicy\",\n\t\t\"x-ace-compressed\": \"ace\",\n\t\t\"x-authorware-bin\": [\n\t\t\t\"aab\",\n\t\t\t\"x32\",\n\t\t\t\"u32\",\n\t\t\t\"vox\"\n\t\t],\n\t\t\"x-authorware-map\": \"aam\",\n\t\t\"x-authorware-seg\": \"aas\",\n\t\t\"x-blorb\": [\n\t\t\t\"blb\",\n\t\t\t\"blorb\"\n\t\t],\n\t\t\"x-bzip\": \"bz\",\n\t\t\"x-bzip2\": [\n\t\t\t\"bz2\",\n\t\t\t\"boz\"\n\t\t],\n\t\t\"x-cfs-compressed\": \"cfs\",\n\t\t\"x-chat\": \"chat\",\n\t\t\"x-conference\": \"nsc\",\n\t\t\"x-dgc-compressed\": \"dgc\",\n\t\t\"x-dtbncx+xml\": \"ncx\",\n\t\t\"x-dtbook+xml\": \"dtb\",\n\t\t\"x-dtbresource+xml\": \"res\",\n\t\t\"x-eva\": \"eva\",\n\t\t\"x-font-bdf\": \"bdf\",\n\t\t\"x-font-ghostscript\": \"gsf\",\n\t\t\"x-font-linux-psf\": \"psf\",\n\t\t\"x-font-pcf\": \"pcf\",\n\t\t\"x-font-snf\": \"snf\",\n\t\t\"x-font-ttf\": [\n\t\t\t\"ttf\",\n\t\t\t\"ttc\"\n\t\t],\n\t\t\"x-font-type1\": [\n\t\t\t\"pfa\",\n\t\t\t\"pfb\",\n\t\t\t\"pfm\",\n\t\t\t\"afm\"\n\t\t],\n\t\t\"x-freearc\": \"arc\",\n\t\t\"x-gca-compressed\": \"gca\",\n\t\t\"x-glulx\": \"ulx\",\n\t\t\"x-gramps-xml\": \"gramps\",\n\t\t\"x-install-instructions\": \"install\",\n\t\t\"x-lzh-compressed\": [\n\t\t\t\"lzh\",\n\t\t\t\"lha\"\n\t\t],\n\t\t\"x-mie\": \"mie\",\n\t\t\"x-mobipocket-ebook\": [\n\t\t\t\"prc\",\n\t\t\t\"mobi\"\n\t\t],\n\t\t\"x-ms-application\": \"application\",\n\t\t\"x-ms-shortcut\": \"lnk\",\n\t\t\"x-ms-xbap\": \"xbap\",\n\t\t\"x-msbinder\": \"obd\",\n\t\t\"x-mscardfile\": \"crd\",\n\t\t\"x-msclip\": \"clp\",\n\t\t\"application/x-ms-installer\": \"msi\",\n\t\t\"x-msmediaview\": [\n\t\t\t\"mvb\",\n\t\t\t\"m13\",\n\t\t\t\"m14\"\n\t\t],\n\t\t\"x-msmetafile\": [\n\t\t\t\"wmf\",\n\t\t\t\"wmz\",\n\t\t\t\"emf\",\n\t\t\t\"emz\"\n\t\t],\n\t\t\"x-msmoney\": \"mny\",\n\t\t\"x-mspublisher\": \"pub\",\n\t\t\"x-msschedule\": \"scd\",\n\t\t\"x-msterminal\": \"trm\",\n\t\t\"x-mswrite\": \"wri\",\n\t\t\"x-nzb\": \"nzb\",\n\t\t\"x-pkcs12\": [\n\t\t\t\"p12\",\n\t\t\t\"pfx\"\n\t\t],\n\t\t\"x-pkcs7-certificates\": [\n\t\t\t\"p7b\",\n\t\t\t\"spc\"\n\t\t],\n\t\t\"x-research-info-systems\": \"ris\",\n\t\t\"x-silverlight-app\": \"xap\",\n\t\t\"x-sql\": \"sql\",\n\t\t\"x-stuffitx\": \"sitx\",\n\t\t\"x-subrip\": \"srt\",\n\t\t\"x-t3vm-image\": \"t3\",\n\t\t\"x-tex-tfm\": \"tfm\",\n\t\t\"x-tgif\": \"obj\",\n\t\t\"x-xliff+xml\": \"xlf\",\n\t\t\"x-xz\": \"xz\",\n\t\t\"x-zmachine\": [\n\t\t\t\"z1\",\n\t\t\t\"z2\",\n\t\t\t\"z3\",\n\t\t\t\"z4\",\n\t\t\t\"z5\",\n\t\t\t\"z6\",\n\t\t\t\"z7\",\n\t\t\t\"z8\"\n\t\t],\n\t\t\"xaml+xml\": \"xaml\",\n\t\t\"xcap-diff+xml\": \"xdf\",\n\t\t\"xenc+xml\": \"xenc\",\n\t\t\"xml-dtd\": \"dtd\",\n\t\t\"xop+xml\": \"xop\",\n\t\t\"xproc+xml\": \"xpl\",\n\t\t\"xslt+xml\": \"xslt\",\n\t\t\"xv+xml\": [\n\t\t\t\"mxml\",\n\t\t\t\"xhvml\",\n\t\t\t\"xvml\",\n\t\t\t\"xvm\"\n\t\t],\n\t\t\"yang\": \"yang\",\n\t\t\"yin+xml\": \"yin\",\n\t\t\"envoy\": \"evy\",\n\t\t\"fractals\": \"fif\",\n\t\t\"internet-property-stream\": \"acx\",\n\t\t\"olescript\": \"axs\",\n\t\t\"vnd.ms-outlook\": \"msg\",\n\t\t\"vnd.ms-pkicertstore\": \"sst\",\n\t\t\"x-compress\": \"z\",\n\t\t\"x-perfmon\": [\n\t\t\t\"pma\",\n\t\t\t\"pmc\",\n\t\t\t\"pmr\",\n\t\t\t\"pmw\"\n\t\t],\n\t\t\"ynd.ms-pkipko\": \"pko\",\n\t\t\"gzip\": [\n\t\t\t\"gz\",\n\t\t\t\"tgz\"\n\t\t],\n\t\t\"smil+xml\": [\n\t\t\t\"smi\",\n\t\t\t\"smil\"\n\t\t],\n\t\t\"vnd.debian.binary-package\": [\n\t\t\t\"deb\",\n\t\t\t\"udeb\"\n\t\t],\n\t\t\"vnd.hzn-3d-crossword\": \"x3d\",\n\t\t\"vnd.sqlite3\": [\n\t\t\t\"db\",\n\t\t\t\"sqlite\",\n\t\t\t\"sqlite3\",\n\t\t\t\"db-wal\",\n\t\t\t\"sqlite-wal\",\n\t\t\t\"db-shm\",\n\t\t\t\"sqlite-shm\"\n\t\t],\n\t\t\"vnd.wap.sic\": \"sic\",\n\t\t\"vnd.wap.slc\": \"slc\",\n\t\t\"x-krita\": [\n\t\t\t\"kra\",\n\t\t\t\"krz\"\n\t\t],\n\t\t\"x-perl\": [\n\t\t\t\"pm\",\n\t\t\t\"pl\"\n\t\t],\n\t\t\"yaml\": [\n\t\t\t\"yaml\",\n\t\t\t\"yml\"\n\t\t]\n\t},\n\t\"audio\": {\n\t\t\"amr\": \"amr\",\n\t\t\"amr-wb\": \"awb\",\n\t\t\"annodex\": \"axa\",\n\t\t\"basic\": [\n\t\t\t\"au\",\n\t\t\t\"snd\"\n\t\t],\n\t\t\"flac\": \"flac\",\n\t\t\"midi\": [\n\t\t\t\"mid\",\n\t\t\t\"midi\",\n\t\t\t\"kar\",\n\t\t\t\"rmi\"\n\t\t],\n\t\t\"mpeg\": [\n\t\t\t\"mpga\",\n\t\t\t\"mpega\",\n\t\t\t\"mp3\",\n\t\t\t\"m4a\",\n\t\t\t\"mp2a\",\n\t\t\t\"m2a\",\n\t\t\t\"m3a\"\n\t\t],\n\t\t\"mpegurl\": \"m3u\",\n\t\t\"ogg\": [\n\t\t\t\"oga\",\n\t\t\t\"ogg\",\n\t\t\t\"spx\"\n\t\t],\n\t\t\"prs.sid\": \"sid\",\n\t\t\"x-aiff\": \"aifc\",\n\t\t\"x-gsm\": \"gsm\",\n\t\t\"x-ms-wma\": \"wma\",\n\t\t\"x-ms-wax\": \"wax\",\n\t\t\"x-pn-realaudio\": \"ram\",\n\t\t\"x-realaudio\": \"ra\",\n\t\t\"x-sd2\": \"sd2\",\n\t\t\"adpcm\": \"adp\",\n\t\t\"mp4\": \"mp4a\",\n\t\t\"s3m\": \"s3m\",\n\t\t\"silk\": \"sil\",\n\t\t\"vnd.dece.audio\": [\n\t\t\t\"uva\",\n\t\t\t\"uvva\"\n\t\t],\n\t\t\"vnd.digital-winds\": \"eol\",\n\t\t\"vnd.dra\": \"dra\",\n\t\t\"vnd.dts\": \"dts\",\n\t\t\"vnd.dts.hd\": \"dtshd\",\n\t\t\"vnd.lucent.voice\": \"lvp\",\n\t\t\"vnd.ms-playready.media.pya\": \"pya\",\n\t\t\"vnd.nuera.ecelp4800\": \"ecelp4800\",\n\t\t\"vnd.nuera.ecelp7470\": \"ecelp7470\",\n\t\t\"vnd.nuera.ecelp9600\": \"ecelp9600\",\n\t\t\"vnd.rip\": \"rip\",\n\t\t\"webm\": \"weba\",\n\t\t\"x-caf\": \"caf\",\n\t\t\"x-matroska\": \"mka\",\n\t\t\"x-pn-realaudio-plugin\": \"rmp\",\n\t\t\"xm\": \"xm\",\n\t\t\"aac\": \"aac\",\n\t\t\"aiff\": [\n\t\t\t\"aiff\",\n\t\t\t\"aif\",\n\t\t\t\"aff\"\n\t\t],\n\t\t\"opus\": \"opus\",\n\t\t\"wav\": \"wav\"\n\t},\n\t\"chemical\": {\n\t\t\"x-alchemy\": \"alc\",\n\t\t\"x-cache\": [\n\t\t\t\"cac\",\n\t\t\t\"cache\"\n\t\t],\n\t\t\"x-cache-csf\": \"csf\",\n\t\t\"x-cactvs-binary\": [\n\t\t\t\"cbin\",\n\t\t\t\"cascii\",\n\t\t\t\"ctab\"\n\t\t],\n\t\t\"x-cdx\": \"cdx\",\n\t\t\"x-chem3d\": \"c3d\",\n\t\t\"x-cif\": \"cif\",\n\t\t\"x-cmdf\": \"cmdf\",\n\t\t\"x-cml\": \"cml\",\n\t\t\"x-compass\": \"cpa\",\n\t\t\"x-crossfire\": \"bsd\",\n\t\t\"x-csml\": [\n\t\t\t\"csml\",\n\t\t\t\"csm\"\n\t\t],\n\t\t\"x-ctx\": \"ctx\",\n\t\t\"x-cxf\": [\n\t\t\t\"cxf\",\n\t\t\t\"cef\"\n\t\t],\n\t\t\"x-embl-dl-nucleotide\": [\n\t\t\t\"emb\",\n\t\t\t\"embl\"\n\t\t],\n\t\t\"x-gamess-input\": [\n\t\t\t\"inp\",\n\t\t\t\"gam\",\n\t\t\t\"gamin\"\n\t\t],\n\t\t\"x-gaussian-checkpoint\": [\n\t\t\t\"fch\",\n\t\t\t\"fchk\"\n\t\t],\n\t\t\"x-gaussian-cube\": \"cub\",\n\t\t\"x-gaussian-input\": [\n\t\t\t\"gau\",\n\t\t\t\"gjc\",\n\t\t\t\"gjf\"\n\t\t],\n\t\t\"x-gaussian-log\": \"gal\",\n\t\t\"x-gcg8-sequence\": \"gcg\",\n\t\t\"x-genbank\": \"gen\",\n\t\t\"x-hin\": \"hin\",\n\t\t\"x-isostar\": [\n\t\t\t\"istr\",\n\t\t\t\"ist\"\n\t\t],\n\t\t\"x-jcamp-dx\": [\n\t\t\t\"jdx\",\n\t\t\t\"dx\"\n\t\t],\n\t\t\"x-kinemage\": \"kin\",\n\t\t\"x-macmolecule\": \"mcm\",\n\t\t\"x-macromodel-input\": \"mmod\",\n\t\t\"x-mdl-molfile\": \"mol\",\n\t\t\"x-mdl-rdfile\": \"rd\",\n\t\t\"x-mdl-rxnfile\": \"rxn\",\n\t\t\"x-mdl-sdfile\": \"sd\",\n\t\t\"x-mdl-tgf\": \"tgf\",\n\t\t\"x-mmcif\": \"mcif\",\n\t\t\"x-mol2\": \"mol2\",\n\t\t\"x-molconn-Z\": \"b\",\n\t\t\"x-mopac-graph\": \"gpt\",\n\t\t\"x-mopac-input\": [\n\t\t\t\"mop\",\n\t\t\t\"mopcrt\",\n\t\t\t\"zmt\"\n\t\t],\n\t\t\"x-mopac-out\": \"moo\",\n\t\t\"x-ncbi-asn1\": \"asn\",\n\t\t\"x-ncbi-asn1-ascii\": [\n\t\t\t\"prt\",\n\t\t\t\"ent\"\n\t\t],\n\t\t\"x-ncbi-asn1-binary\": \"val\",\n\t\t\"x-rosdal\": \"ros\",\n\t\t\"x-swissprot\": \"sw\",\n\t\t\"x-vamas-iso14976\": \"vms\",\n\t\t\"x-vmd\": \"vmd\",\n\t\t\"x-xtel\": \"xtel\",\n\t\t\"x-xyz\": \"xyz\"\n\t},\n\t\"font\": {\n\t\t\"otf\": \"otf\",\n\t\t\"woff\": \"woff\",\n\t\t\"woff2\": \"woff2\"\n\t},\n\t\"image\": {\n\t\t\"gif\": \"gif\",\n\t\t\"ief\": \"ief\",\n\t\t\"jpeg\": [\n\t\t\t\"jpeg\",\n\t\t\t\"jpg\",\n\t\t\t\"jpe\",\n\t\t\t\"jfif\",\n\t\t\t\"jfif-tbnl\",\n\t\t\t\"jif\"\n\t\t],\n\t\t\"pcx\": \"pcx\",\n\t\t\"png\": \"png\",\n\t\t\"svg+xml\": [\n\t\t\t\"svg\",\n\t\t\t\"svgz\"\n\t\t],\n\t\t\"tiff\": [\n\t\t\t\"tiff\",\n\t\t\t\"tif\"\n\t\t],\n\t\t\"vnd.djvu\": [\n\t\t\t\"djvu\",\n\t\t\t\"djv\"\n\t\t],\n\t\t\"vnd.wap.wbmp\": \"wbmp\",\n\t\t\"x-canon-cr2\": \"cr2\",\n\t\t\"x-canon-crw\": \"crw\",\n\t\t\"x-cmu-raster\": \"ras\",\n\t\t\"x-coreldraw\": \"cdr\",\n\t\t\"x-coreldrawpattern\": \"pat\",\n\t\t\"x-coreldrawtemplate\": \"cdt\",\n\t\t\"x-corelphotopaint\": \"cpt\",\n\t\t\"x-epson-erf\": \"erf\",\n\t\t\"x-icon\": \"ico\",\n\t\t\"x-jg\": \"art\",\n\t\t\"x-jng\": \"jng\",\n\t\t\"x-nikon-nef\": \"nef\",\n\t\t\"x-olympus-orf\": \"orf\",\n\t\t\"x-portable-anymap\": \"pnm\",\n\t\t\"x-portable-bitmap\": \"pbm\",\n\t\t\"x-portable-graymap\": \"pgm\",\n\t\t\"x-portable-pixmap\": \"ppm\",\n\t\t\"x-rgb\": \"rgb\",\n\t\t\"x-xbitmap\": \"xbm\",\n\t\t\"x-xpixmap\": \"xpm\",\n\t\t\"x-xwindowdump\": \"xwd\",\n\t\t\"bmp\": \"bmp\",\n\t\t\"cgm\": \"cgm\",\n\t\t\"g3fax\": \"g3\",\n\t\t\"ktx\": \"ktx\",\n\t\t\"prs.btif\": \"btif\",\n\t\t\"sgi\": \"sgi\",\n\t\t\"vnd.dece.graphic\": [\n\t\t\t\"uvi\",\n\t\t\t\"uvvi\",\n\t\t\t\"uvg\",\n\t\t\t\"uvvg\"\n\t\t],\n\t\t\"vnd.dwg\": \"dwg\",\n\t\t\"vnd.dxf\": \"dxf\",\n\t\t\"vnd.fastbidsheet\": \"fbs\",\n\t\t\"vnd.fpx\": \"fpx\",\n\t\t\"vnd.fst\": \"fst\",\n\t\t\"vnd.fujixerox.edmics-mmr\": \"mmr\",\n\t\t\"vnd.fujixerox.edmics-rlc\": \"rlc\",\n\t\t\"vnd.ms-modi\": \"mdi\",\n\t\t\"vnd.ms-photo\": \"wdp\",\n\t\t\"vnd.net-fpx\": \"npx\",\n\t\t\"vnd.xiff\": \"xif\",\n\t\t\"webp\": \"webp\",\n\t\t\"x-3ds\": \"3ds\",\n\t\t\"x-cmx\": \"cmx\",\n\t\t\"x-freehand\": [\n\t\t\t\"fh\",\n\t\t\t\"fhc\",\n\t\t\t\"fh4\",\n\t\t\t\"fh5\",\n\t\t\t\"fh7\"\n\t\t],\n\t\t\"x-pict\": [\n\t\t\t\"pic\",\n\t\t\t\"pct\"\n\t\t],\n\t\t\"x-tga\": \"tga\",\n\t\t\"cis-cod\": \"cod\",\n\t\t\"avif\": \"avifs\",\n\t\t\"heic\": [\n\t\t\t\"heif\",\n\t\t\t\"heic\"\n\t\t],\n\t\t\"pjpeg\": [\n\t\t\t\"pjpg\"\n\t\t],\n\t\t\"vnd.adobe.photoshop\": \"psd\",\n\t\t\"x-adobe-dng\": \"dng\",\n\t\t\"x-fuji-raf\": \"raf\",\n\t\t\"x-icns\": \"icns\",\n\t\t\"x-kodak-dcr\": \"dcr\",\n\t\t\"x-kodak-k25\": \"k25\",\n\t\t\"x-kodak-kdc\": \"kdc\",\n\t\t\"x-minolta-mrw\": \"mrw\",\n\t\t\"x-panasonic-raw\": [\n\t\t\t\"raw\",\n\t\t\t\"rw2\",\n\t\t\t\"rwl\"\n\t\t],\n\t\t\"x-pentax-pef\": [\n\t\t\t\"pef\",\n\t\t\t\"ptx\"\n\t\t],\n\t\t\"x-sigma-x3f\": \"x3f\",\n\t\t\"x-sony-arw\": \"arw\",\n\t\t\"x-sony-sr2\": \"sr2\",\n\t\t\"x-sony-srf\": \"srf\"\n\t},\n\t\"message\": {\n\t\t\"rfc822\": [\n\t\t\t\"eml\",\n\t\t\t\"mime\",\n\t\t\t\"mht\",\n\t\t\t\"mhtml\",\n\t\t\t\"nws\"\n\t\t]\n\t},\n\t\"model\": {\n\t\t\"iges\": [\n\t\t\t\"igs\",\n\t\t\t\"iges\"\n\t\t],\n\t\t\"mesh\": [\n\t\t\t\"msh\",\n\t\t\t\"mesh\",\n\t\t\t\"silo\"\n\t\t],\n\t\t\"vrml\": [\n\t\t\t\"wrl\",\n\t\t\t\"vrml\"\n\t\t],\n\t\t\"x3d+vrml\": [\n\t\t\t\"x3dv\",\n\t\t\t\"x3dvz\"\n\t\t],\n\t\t\"x3d+xml\": \"x3dz\",\n\t\t\"x3d+binary\": [\n\t\t\t\"x3db\",\n\t\t\t\"x3dbz\"\n\t\t],\n\t\t\"vnd.collada+xml\": \"dae\",\n\t\t\"vnd.dwf\": \"dwf\",\n\t\t\"vnd.gdl\": \"gdl\",\n\t\t\"vnd.gtw\": \"gtw\",\n\t\t\"vnd.mts\": \"mts\",\n\t\t\"vnd.usdz+zip\": \"usdz\",\n\t\t\"vnd.vtu\": \"vtu\"\n\t},\n\t\"text\": {\n\t\t\"cache-manifest\": [\n\t\t\t\"manifest\",\n\t\t\t\"appcache\"\n\t\t],\n\t\t\"calendar\": [\n\t\t\t\"ics\",\n\t\t\t\"icz\",\n\t\t\t\"ifb\"\n\t\t],\n\t\t\"css\": \"css\",\n\t\t\"csv\": \"csv\",\n\t\t\"h323\": \"323\",\n\t\t\"html\": [\n\t\t\t\"html\",\n\t\t\t\"htm\",\n\t\t\t\"shtml\",\n\t\t\t\"stm\"\n\t\t],\n\t\t\"iuls\": \"uls\",\n\t\t\"plain\": [\n\t\t\t\"txt\",\n\t\t\t\"text\",\n\t\t\t\"brf\",\n\t\t\t\"conf\",\n\t\t\t\"def\",\n\t\t\t\"list\",\n\t\t\t\"log\",\n\t\t\t\"in\",\n\t\t\t\"bas\",\n\t\t\t\"diff\",\n\t\t\t\"ksh\"\n\t\t],\n\t\t\"richtext\": \"rtx\",\n\t\t\"scriptlet\": [\n\t\t\t\"sct\",\n\t\t\t\"wsc\"\n\t\t],\n\t\t\"texmacs\": \"tm\",\n\t\t\"tab-separated-values\": \"tsv\",\n\t\t\"vnd.sun.j2me.app-descriptor\": \"jad\",\n\t\t\"vnd.wap.wml\": \"wml\",\n\t\t\"vnd.wap.wmlscript\": \"wmls\",\n\t\t\"x-bibtex\": \"bib\",\n\t\t\"x-boo\": \"boo\",\n\t\t\"x-c++hdr\": [\n\t\t\t\"h++\",\n\t\t\t\"hpp\",\n\t\t\t\"hxx\",\n\t\t\t\"hh\"\n\t\t],\n\t\t\"x-c++src\": [\n\t\t\t\"c++\",\n\t\t\t\"cpp\",\n\t\t\t\"cxx\",\n\t\t\t\"cc\"\n\t\t],\n\t\t\"x-component\": \"htc\",\n\t\t\"x-dsrc\": \"d\",\n\t\t\"x-diff\": \"patch\",\n\t\t\"x-haskell\": \"hs\",\n\t\t\"x-java\": \"java\",\n\t\t\"x-literate-haskell\": \"lhs\",\n\t\t\"x-moc\": \"moc\",\n\t\t\"x-pascal\": [\n\t\t\t\"p\",\n\t\t\t\"pas\",\n\t\t\t\"pp\",\n\t\t\t\"inc\"\n\t\t],\n\t\t\"x-pcs-gcd\": \"gcd\",\n\t\t\"x-python\": \"py\",\n\t\t\"x-scala\": \"scala\",\n\t\t\"x-setext\": \"etx\",\n\t\t\"x-tcl\": [\n\t\t\t\"tcl\",\n\t\t\t\"tk\"\n\t\t],\n\t\t\"x-tex\": [\n\t\t\t\"tex\",\n\t\t\t\"ltx\",\n\t\t\t\"sty\",\n\t\t\t\"cls\"\n\t\t],\n\t\t\"x-vcalendar\": \"vcs\",\n\t\t\"x-vcard\": \"vcf\",\n\t\t\"n3\": \"n3\",\n\t\t\"prs.lines.tag\": \"dsc\",\n\t\t\"sgml\": [\n\t\t\t\"sgml\",\n\t\t\t\"sgm\"\n\t\t],\n\t\t\"troff\": [\n\t\t\t\"t\",\n\t\t\t\"tr\",\n\t\t\t\"roff\",\n\t\t\t\"man\",\n\t\t\t\"me\",\n\t\t\t\"ms\"\n\t\t],\n\t\t\"turtle\": \"ttl\",\n\t\t\"uri-list\": [\n\t\t\t\"uri\",\n\t\t\t\"uris\",\n\t\t\t\"urls\"\n\t\t],\n\t\t\"vcard\": \"vcard\",\n\t\t\"vnd.curl\": \"curl\",\n\t\t\"vnd.curl.dcurl\": \"dcurl\",\n\t\t\"vnd.curl.scurl\": \"scurl\",\n\t\t\"vnd.curl.mcurl\": \"mcurl\",\n\t\t\"vnd.dvb.subtitle\": \"sub\",\n\t\t\"vnd.fly\": \"fly\",\n\t\t\"vnd.fmi.flexstor\": \"flx\",\n\t\t\"vnd.graphviz\": \"gv\",\n\t\t\"vnd.in3d.3dml\": \"3dml\",\n\t\t\"vnd.in3d.spot\": \"spot\",\n\t\t\"x-asm\": [\n\t\t\t\"s\",\n\t\t\t\"asm\"\n\t\t],\n\t\t\"x-c\": [\n\t\t\t\"c\",\n\t\t\t\"h\",\n\t\t\t\"dic\"\n\t\t],\n\t\t\"x-fortran\": [\n\t\t\t\"f\",\n\t\t\t\"for\",\n\t\t\t\"f77\",\n\t\t\t\"f90\"\n\t\t],\n\t\t\"x-opml\": \"opml\",\n\t\t\"x-nfo\": \"nfo\",\n\t\t\"x-sfv\": \"sfv\",\n\t\t\"x-uuencode\": \"uu\",\n\t\t\"webviewhtml\": \"htt\",\n\t\t\"javascript\": \"js\",\n\t\t\"json\": \"json\",\n\t\t\"markdown\": [\n\t\t\t\"md\",\n\t\t\t\"markdown\",\n\t\t\t\"mdown\",\n\t\t\t\"markdn\"\n\t\t],\n\t\t\"vnd.wap.si\": \"si\",\n\t\t\"vnd.wap.sl\": \"sl\"\n\t},\n\t\"video\": {\n\t\t\"avif\": \"avif\",\n\t\t\"3gpp\": \"3gp\",\n\t\t\"annodex\": \"axv\",\n\t\t\"dl\": \"dl\",\n\t\t\"dv\": [\n\t\t\t\"dif\",\n\t\t\t\"dv\"\n\t\t],\n\t\t\"fli\": \"fli\",\n\t\t\"gl\": \"gl\",\n\t\t\"mpeg\": [\n\t\t\t\"mpeg\",\n\t\t\t\"mpg\",\n\t\t\t\"mpe\",\n\t\t\t\"m1v\",\n\t\t\t\"m2v\",\n\t\t\t\"mp2\",\n\t\t\t\"mpa\",\n\t\t\t\"mpv2\"\n\t\t],\n\t\t\"mp4\": [\n\t\t\t\"mp4\",\n\t\t\t\"mp4v\",\n\t\t\t\"mpg4\"\n\t\t],\n\t\t\"quicktime\": [\n\t\t\t\"qt\",\n\t\t\t\"mov\"\n\t\t],\n\t\t\"ogg\": \"ogv\",\n\t\t\"vnd.mpegurl\": [\n\t\t\t\"mxu\",\n\t\t\t\"m4u\"\n\t\t],\n\t\t\"x-flv\": \"flv\",\n\t\t\"x-la-asf\": [\n\t\t\t\"lsf\",\n\t\t\t\"lsx\"\n\t\t],\n\t\t\"x-mng\": \"mng\",\n\t\t\"x-ms-asf\": [\n\t\t\t\"asf\",\n\t\t\t\"asx\",\n\t\t\t\"asr\"\n\t\t],\n\t\t\"x-ms-wm\": \"wm\",\n\t\t\"x-ms-wmv\": \"wmv\",\n\t\t\"x-ms-wmx\": \"wmx\",\n\t\t\"x-ms-wvx\": \"wvx\",\n\t\t\"x-msvideo\": \"avi\",\n\t\t\"x-sgi-movie\": \"movie\",\n\t\t\"x-matroska\": [\n\t\t\t\"mpv\",\n\t\t\t\"mkv\",\n\t\t\t\"mk3d\",\n\t\t\t\"mks\"\n\t\t],\n\t\t\"3gpp2\": \"3g2\",\n\t\t\"h261\": \"h261\",\n\t\t\"h263\": \"h263\",\n\t\t\"h264\": \"h264\",\n\t\t\"jpeg\": \"jpgv\",\n\t\t\"jpm\": [\n\t\t\t\"jpm\",\n\t\t\t\"jpgm\"\n\t\t],\n\t\t\"mj2\": [\n\t\t\t\"mj2\",\n\t\t\t\"mjp2\"\n\t\t],\n\t\t\"vnd.dece.hd\": [\n\t\t\t\"uvh\",\n\t\t\t\"uvvh\"\n\t\t],\n\t\t\"vnd.dece.mobile\": [\n\t\t\t\"uvm\",\n\t\t\t\"uvvm\"\n\t\t],\n\t\t\"vnd.dece.pd\": [\n\t\t\t\"uvp\",\n\t\t\t\"uvvp\"\n\t\t],\n\t\t\"vnd.dece.sd\": [\n\t\t\t\"uvs\",\n\t\t\t\"uvvs\"\n\t\t],\n\t\t\"vnd.dece.video\": [\n\t\t\t\"uvv\",\n\t\t\t\"uvvv\"\n\t\t],\n\t\t\"vnd.dvb.file\": \"dvb\",\n\t\t\"vnd.fvt\": \"fvt\",\n\t\t\"vnd.ms-playready.media.pyv\": \"pyv\",\n\t\t\"vnd.uvvu.mp4\": [\n\t\t\t\"uvu\",\n\t\t\t\"uvvu\"\n\t\t],\n\t\t\"vnd.vivo\": \"viv\",\n\t\t\"webm\": \"webm\",\n\t\t\"x-f4v\": \"f4v\",\n\t\t\"x-m4v\": \"m4v\",\n\t\t\"x-ms-vob\": \"vob\",\n\t\t\"x-smv\": \"smv\",\n\t\t\"mp2t\": \"ts\"\n\t},\n\t\"x-conference\": {\n\t\t\"x-cooltalk\": \"ice\"\n\t},\n\t\"x-world\": {\n\t\t\"x-vrml\": [\n\t\t\t\"vrm\",\n\t\t\t\"flr\",\n\t\t\t\"wrz\",\n\t\t\t\"xaf\",\n\t\t\t\"xof\"\n\t\t]\n\t}\n};\n\nconst mimeTypes = (() => {\n\tconst mimeTypes = {};\n\tfor (const type of Object.keys(table)) {\n\t\tfor (const subtype of Object.keys(table[type])) {\n\t\t\tconst value = table[type][subtype];\n\t\t\tif (typeof value == \"string\") {\n\t\t\t\tmimeTypes[value] = type + \"/\" + subtype;\n\t\t\t} else {\n\t\t\t\tfor (let indexMimeType = 0; indexMimeType < value.length; indexMimeType++) {\n\t\t\t\t\tmimeTypes[value[indexMimeType]] = type + \"/\" + subtype;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn mimeTypes;\n})();\n\nexport {\n\tmimeTypes,\n\tgetMimeType\n};\n\nfunction getMimeType(filename) {\n\treturn filename && mimeTypes[filename.split(\".\").pop().toLowerCase()] || getDefaultMimeType();\n}","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nconst table = [];\nfor (let i = 0; i < 256; i++) {\n\tlet t = i;\n\tfor (let j = 0; j < 8; j++) {\n\t\tif (t & 1) {\n\t\t\tt = (t >>> 1) ^ 0xEDB88320;\n\t\t} else {\n\t\t\tt = t >>> 1;\n\t\t}\n\t}\n\ttable[i] = t;\n}\n\nclass Crc32 {\n\n\tconstructor(crc) {\n\t\tthis.crc = crc || -1;\n\t}\n\n\tappend(data) {\n\t\tlet crc = this.crc | 0;\n\t\tfor (let offset = 0, length = data.length | 0; offset < length; offset++) {\n\t\t\tcrc = (crc >>> 8) ^ table[(crc ^ data[offset]) & 0xFF];\n\t\t}\n\t\tthis.crc = crc;\n\t}\n\n\tget() {\n\t\treturn ~this.crc;\n\t}\n}\n\nexport {\n\tCrc32\n};","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* global TransformStream */\n\nimport { Crc32 } from \"./codecs/crc32.js\";\n\nclass Crc32Stream extends TransformStream {\n\n\tconstructor() {\n\t\tlet stream;\n\t\tconst crc32 = new Crc32();\n\t\tsuper({\n\t\t\ttransform(chunk, controller) {\n\t\t\t\tcrc32.append(chunk);\n\t\t\t\tcontroller.enqueue(chunk);\n\t\t\t},\n\t\t\tflush() {\n\t\t\t\tconst value = new Uint8Array(4);\n\t\t\t\tconst dataView = new DataView(value.buffer);\n\t\t\t\tdataView.setUint32(0, crc32.get());\n\t\t\t\tstream.value = value;\n\t\t\t}\n\t\t});\n\t\tstream = this;\n\t}\n}\n\nexport {\n\tCrc32Stream\n};","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* global TextEncoder */\n\nexport {\n\tencodeText\n};\n\nfunction encodeText(value) {\n\tif (typeof TextEncoder == \"undefined\") {\n\t\tvalue = unescape(encodeURIComponent(value));\n\t\tconst result = new Uint8Array(value.length);\n\t\tfor (let i = 0; i < result.length; i++) {\n\t\t\tresult[i] = value.charCodeAt(i);\n\t\t}\n\t\treturn result;\n\t} else {\n\t\treturn new TextEncoder().encode(value);\n\t}\n}","// Derived from https://github.com/xqdoo00o/jszip/blob/master/lib/sjcl.js and https://github.com/bitwiseshiftleft/sjcl\n\n// deno-lint-ignore-file no-this-alias\n\n/*\n * SJCL is open. You can use, modify and redistribute it under a BSD\n * license or under the GNU GPL, version 2.0.\n */\n\n/** @fileOverview Javascript cryptography implementation.\n *\n * Crush to remove comments, shorten variable names and\n * generally reduce transmission size.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/*jslint indent: 2, bitwise: false, nomen: false, plusplus: false, white: false, regexp: false */\n\n/** @fileOverview Arrays of bits, encoded as arrays of Numbers.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/**\n * Arrays of bits, encoded as arrays of Numbers.\n * @namespace\n * @description\n * <p>\n * These objects are the currency accepted by SJCL's crypto functions.\n * </p>\n *\n * <p>\n * Most of our crypto primitives operate on arrays of 4-byte words internally,\n * but many of them can take arguments that are not a multiple of 4 bytes.\n * This library encodes arrays of bits (whose size need not be a multiple of 8\n * bits) as arrays of 32-bit words.  The bits are packed, big-endian, into an\n * array of words, 32 bits at a time.  Since the words are double-precision\n * floating point numbers, they fit some extra data.  We use this (in a private,\n * possibly-changing manner) to encode the number of bits actually  present\n * in the last word of the array.\n * </p>\n *\n * <p>\n * Because bitwise ops clear this out-of-band data, these arrays can be passed\n * to ciphers like AES which want arrays of words.\n * </p>\n */\nconst bitArray = {\n\t/**\n\t * Concatenate two bit arrays.\n\t * @param {bitArray} a1 The first array.\n\t * @param {bitArray} a2 The second array.\n\t * @return {bitArray} The concatenation of a1 and a2.\n\t */\n\tconcat(a1, a2) {\n\t\tif (a1.length === 0 || a2.length === 0) {\n\t\t\treturn a1.concat(a2);\n\t\t}\n\n\t\tconst last = a1[a1.length - 1], shift = bitArray.getPartial(last);\n\t\tif (shift === 32) {\n\t\t\treturn a1.concat(a2);\n\t\t} else {\n\t\t\treturn bitArray._shiftRight(a2, shift, last | 0, a1.slice(0, a1.length - 1));\n\t\t}\n\t},\n\n\t/**\n\t * Find the length of an array of bits.\n\t * @param {bitArray} a The array.\n\t * @return {Number} The length of a, in bits.\n\t */\n\tbitLength(a) {\n\t\tconst l = a.length;\n\t\tif (l === 0) {\n\t\t\treturn 0;\n\t\t}\n\t\tconst x = a[l - 1];\n\t\treturn (l - 1) * 32 + bitArray.getPartial(x);\n\t},\n\n\t/**\n\t * Truncate an array.\n\t * @param {bitArray} a The array.\n\t * @param {Number} len The length to truncate to, in bits.\n\t * @return {bitArray} A new array, truncated to len bits.\n\t */\n\tclamp(a, len) {\n\t\tif (a.length * 32 < len) {\n\t\t\treturn a;\n\t\t}\n\t\ta = a.slice(0, Math.ceil(len / 32));\n\t\tconst l = a.length;\n\t\tlen = len & 31;\n\t\tif (l > 0 && len) {\n\t\t\ta[l - 1] = bitArray.partial(len, a[l - 1] & 0x80000000 >> (len - 1), 1);\n\t\t}\n\t\treturn a;\n\t},\n\n\t/**\n\t * Make a partial word for a bit array.\n\t * @param {Number} len The number of bits in the word.\n\t * @param {Number} x The bits.\n\t * @param {Number} [_end=0] Pass 1 if x has already been shifted to the high side.\n\t * @return {Number} The partial word.\n\t */\n\tpartial(len, x, _end) {\n\t\tif (len === 32) {\n\t\t\treturn x;\n\t\t}\n\t\treturn (_end ? x | 0 : x << (32 - len)) + len * 0x10000000000;\n\t},\n\n\t/**\n\t * Get the number of bits used by a partial word.\n\t * @param {Number} x The partial word.\n\t * @return {Number} The number of bits used by the partial word.\n\t */\n\tgetPartial(x) {\n\t\treturn Math.round(x / 0x10000000000) || 32;\n\t},\n\n\t/** Shift an array right.\n\t * @param {bitArray} a The array to shift.\n\t * @param {Number} shift The number of bits to shift.\n\t * @param {Number} [carry=0] A byte to carry in\n\t * @param {bitArray} [out=[]] An array to prepend to the output.\n\t * @private\n\t */\n\t_shiftRight(a, shift, carry, out) {\n\t\tif (out === undefined) {\n\t\t\tout = [];\n\t\t}\n\n\t\tfor (; shift >= 32; shift -= 32) {\n\t\t\tout.push(carry);\n\t\t\tcarry = 0;\n\t\t}\n\t\tif (shift === 0) {\n\t\t\treturn out.concat(a);\n\t\t}\n\n\t\tfor (let i = 0; i < a.length; i++) {\n\t\t\tout.push(carry | a[i] >>> shift);\n\t\t\tcarry = a[i] << (32 - shift);\n\t\t}\n\t\tconst last2 = a.length ? a[a.length - 1] : 0;\n\t\tconst shift2 = bitArray.getPartial(last2);\n\t\tout.push(bitArray.partial(shift + shift2 & 31, (shift + shift2 > 32) ? carry : out.pop(), 1));\n\t\treturn out;\n\t}\n};\n\n/** @fileOverview Bit array codec implementations.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/**\n * Arrays of bytes\n * @namespace\n */\nconst codec = {\n\tbytes: {\n\t\t/** Convert from a bitArray to an array of bytes. */\n\t\tfromBits(arr) {\n\t\t\tconst bl = bitArray.bitLength(arr);\n\t\t\tconst byteLength = bl / 8;\n\t\t\tconst out = new Uint8Array(byteLength);\n\t\t\tlet tmp;\n\t\t\tfor (let i = 0; i < byteLength; i++) {\n\t\t\t\tif ((i & 3) === 0) {\n\t\t\t\t\ttmp = arr[i / 4];\n\t\t\t\t}\n\t\t\t\tout[i] = tmp >>> 24;\n\t\t\t\ttmp <<= 8;\n\t\t\t}\n\t\t\treturn out;\n\t\t},\n\t\t/** Convert from an array of bytes to a bitArray. */\n\t\ttoBits(bytes) {\n\t\t\tconst out = [];\n\t\t\tlet i;\n\t\t\tlet tmp = 0;\n\t\t\tfor (i = 0; i < bytes.length; i++) {\n\t\t\t\ttmp = tmp << 8 | bytes[i];\n\t\t\t\tif ((i & 3) === 3) {\n\t\t\t\t\tout.push(tmp);\n\t\t\t\t\ttmp = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i & 3) {\n\t\t\t\tout.push(bitArray.partial(8 * (i & 3), tmp));\n\t\t\t}\n\t\t\treturn out;\n\t\t}\n\t}\n};\n\nconst hash = {};\n\n/**\n * Context for a SHA-1 operation in progress.\n * @constructor\n */\nhash.sha1 = class {\n\tconstructor(hash) {\n\t\tconst sha1 = this;\n\t\t/**\n\t\t * The hash's block size, in bits.\n\t\t * @constant\n\t\t */\n\t\tsha1.blockSize = 512;\n\t\t/**\n\t\t * The SHA-1 initialization vector.\n\t\t * @private\n\t\t */\n\t\tsha1._init = [0x67452301, 0xEFCDAB89, 0x98BADCFE, 0x10325476, 0xC3D2E1F0];\n\t\t/**\n\t\t * The SHA-1 hash key.\n\t\t * @private\n\t\t */\n\t\tsha1._key = [0x5A827999, 0x6ED9EBA1, 0x8F1BBCDC, 0xCA62C1D6];\n\t\tif (hash) {\n\t\t\tsha1._h = hash._h.slice(0);\n\t\t\tsha1._buffer = hash._buffer.slice(0);\n\t\t\tsha1._length = hash._length;\n\t\t} else {\n\t\t\tsha1.reset();\n\t\t}\n\t}\n\n\t/**\n\t * Reset the hash state.\n\t * @return this\n\t */\n\treset() {\n\t\tconst sha1 = this;\n\t\tsha1._h = sha1._init.slice(0);\n\t\tsha1._buffer = [];\n\t\tsha1._length = 0;\n\t\treturn sha1;\n\t}\n\n\t/**\n\t * Input several words to the hash.\n\t * @param {bitArray|String} data the data to hash.\n\t * @return this\n\t */\n\tupdate(data) {\n\t\tconst sha1 = this;\n\t\tif (typeof data === \"string\") {\n\t\t\tdata = codec.utf8String.toBits(data);\n\t\t}\n\t\tconst b = sha1._buffer = bitArray.concat(sha1._buffer, data);\n\t\tconst ol = sha1._length;\n\t\tconst nl = sha1._length = ol + bitArray.bitLength(data);\n\t\tif (nl > 9007199254740991) {\n\t\t\tthrow new Error(\"Cannot hash more than 2^53 - 1 bits\");\n\t\t}\n\t\tconst c = new Uint32Array(b);\n\t\tlet j = 0;\n\t\tfor (let i = sha1.blockSize + ol - ((sha1.blockSize + ol) & (sha1.blockSize - 1)); i <= nl;\n\t\t\ti += sha1.blockSize) {\n\t\t\tsha1._block(c.subarray(16 * j, 16 * (j + 1)));\n\t\t\tj += 1;\n\t\t}\n\t\tb.splice(0, 16 * j);\n\t\treturn sha1;\n\t}\n\n\t/**\n\t * Complete hashing and output the hash value.\n\t * @return {bitArray} The hash value, an array of 5 big-endian words. TODO\n\t */\n\tfinalize() {\n\t\tconst sha1 = this;\n\t\tlet b = sha1._buffer;\n\t\tconst h = sha1._h;\n\n\t\t// Round out and push the buffer\n\t\tb = bitArray.concat(b, [bitArray.partial(1, 1)]);\n\t\t// Round out the buffer to a multiple of 16 words, less the 2 length words.\n\t\tfor (let i = b.length + 2; i & 15; i++) {\n\t\t\tb.push(0);\n\t\t}\n\n\t\t// append the length\n\t\tb.push(Math.floor(sha1._length / 0x100000000));\n\t\tb.push(sha1._length | 0);\n\n\t\twhile (b.length) {\n\t\t\tsha1._block(b.splice(0, 16));\n\t\t}\n\n\t\tsha1.reset();\n\t\treturn h;\n\t}\n\n\t/**\n\t * The SHA-1 logical functions f(0), f(1), ..., f(79).\n\t * @private\n\t */\n\t_f(t, b, c, d) {\n\t\tif (t <= 19) {\n\t\t\treturn (b & c) | (~b & d);\n\t\t} else if (t <= 39) {\n\t\t\treturn b ^ c ^ d;\n\t\t} else if (t <= 59) {\n\t\t\treturn (b & c) | (b & d) | (c & d);\n\t\t} else if (t <= 79) {\n\t\t\treturn b ^ c ^ d;\n\t\t}\n\t}\n\n\t/**\n\t * Circular left-shift operator.\n\t * @private\n\t */\n\t_S(n, x) {\n\t\treturn (x << n) | (x >>> 32 - n);\n\t}\n\n\t/**\n\t * Perform one cycle of SHA-1.\n\t * @param {Uint32Array|bitArray} words one block of words.\n\t * @private\n\t */\n\t_block(words) {\n\t\tconst sha1 = this;\n\t\tconst h = sha1._h;\n\t\t// When words is passed to _block, it has 16 elements. SHA1 _block\n\t\t// function extends words with new elements (at the end there are 80 elements). \n\t\t// The problem is that if we use Uint32Array instead of Array, \n\t\t// the length of Uint32Array cannot be changed. Thus, we replace words with a \n\t\t// normal Array here.\n\t\tconst w = Array(80); // do not use Uint32Array here as the instantiation is slower\n\t\tfor (let j = 0; j < 16; j++) {\n\t\t\tw[j] = words[j];\n\t\t}\n\n\t\tlet a = h[0];\n\t\tlet b = h[1];\n\t\tlet c = h[2];\n\t\tlet d = h[3];\n\t\tlet e = h[4];\n\n\t\tfor (let t = 0; t <= 79; t++) {\n\t\t\tif (t >= 16) {\n\t\t\t\tw[t] = sha1._S(1, w[t - 3] ^ w[t - 8] ^ w[t - 14] ^ w[t - 16]);\n\t\t\t}\n\t\t\tconst tmp = (sha1._S(5, a) + sha1._f(t, b, c, d) + e + w[t] +\n\t\t\t\tsha1._key[Math.floor(t / 20)]) | 0;\n\t\t\te = d;\n\t\t\td = c;\n\t\t\tc = sha1._S(30, b);\n\t\t\tb = a;\n\t\t\ta = tmp;\n\t\t}\n\n\t\th[0] = (h[0] + a) | 0;\n\t\th[1] = (h[1] + b) | 0;\n\t\th[2] = (h[2] + c) | 0;\n\t\th[3] = (h[3] + d) | 0;\n\t\th[4] = (h[4] + e) | 0;\n\t}\n};\n\n/** @fileOverview Low-level AES implementation.\n *\n * This file contains a low-level implementation of AES, optimized for\n * size and for efficiency on several browsers.  It is based on\n * OpenSSL's aes_core.c, a public-domain implementation by Vincent\n * Rijmen, Antoon Bosselaers and Paulo Barreto.\n *\n * An older version of this implementation is available in the public\n * domain, but this one is (c) Emily Stark, Mike Hamburg, Dan Boneh,\n * Stanford University 2008-2010 and BSD-licensed for liability\n * reasons.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\nconst cipher = {};\n\n/**\n * Schedule out an AES key for both encryption and decryption.  This\n * is a low-level class.  Use a cipher mode to do bulk encryption.\n *\n * @constructor\n * @param {Array} key The key as an array of 4, 6 or 8 words.\n */\ncipher.aes = class {\n\tconstructor(key) {\n\t\t/**\n\t\t * The expanded S-box and inverse S-box tables.  These will be computed\n\t\t * on the client so that we don't have to send them down the wire.\n\t\t *\n\t\t * There are two tables, _tables[0] is for encryption and\n\t\t * _tables[1] is for decryption.\n\t\t *\n\t\t * The first 4 sub-tables are the expanded S-box with MixColumns.  The\n\t\t * last (_tables[01][4]) is the S-box itself.\n\t\t *\n\t\t * @private\n\t\t */\n\t\tconst aes = this;\n\t\taes._tables = [[[], [], [], [], []], [[], [], [], [], []]];\n\n\t\tif (!aes._tables[0][0][0]) {\n\t\t\taes._precompute();\n\t\t}\n\n\t\tconst sbox = aes._tables[0][4];\n\t\tconst decTable = aes._tables[1];\n\t\tconst keyLen = key.length;\n\n\t\tlet i, encKey, decKey, rcon = 1;\n\n\t\tif (keyLen !== 4 && keyLen !== 6 && keyLen !== 8) {\n\t\t\tthrow new Error(\"invalid aes key size\");\n\t\t}\n\n\t\taes._key = [encKey = key.slice(0), decKey = []];\n\n\t\t// schedule encryption keys\n\t\tfor (i = keyLen; i < 4 * keyLen + 28; i++) {\n\t\t\tlet tmp = encKey[i - 1];\n\n\t\t\t// apply sbox\n\t\t\tif (i % keyLen === 0 || (keyLen === 8 && i % keyLen === 4)) {\n\t\t\t\ttmp = sbox[tmp >>> 24] << 24 ^ sbox[tmp >> 16 & 255] << 16 ^ sbox[tmp >> 8 & 255] << 8 ^ sbox[tmp & 255];\n\n\t\t\t\t// shift rows and add rcon\n\t\t\t\tif (i % keyLen === 0) {\n\t\t\t\t\ttmp = tmp << 8 ^ tmp >>> 24 ^ rcon << 24;\n\t\t\t\t\trcon = rcon << 1 ^ (rcon >> 7) * 283;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tencKey[i] = encKey[i - keyLen] ^ tmp;\n\t\t}\n\n\t\t// schedule decryption keys\n\t\tfor (let j = 0; i; j++, i--) {\n\t\t\tconst tmp = encKey[j & 3 ? i : i - 4];\n\t\t\tif (i <= 4 || j < 4) {\n\t\t\t\tdecKey[j] = tmp;\n\t\t\t} else {\n\t\t\t\tdecKey[j] = decTable[0][sbox[tmp >>> 24]] ^\n\t\t\t\t\tdecTable[1][sbox[tmp >> 16 & 255]] ^\n\t\t\t\t\tdecTable[2][sbox[tmp >> 8 & 255]] ^\n\t\t\t\t\tdecTable[3][sbox[tmp & 255]];\n\t\t\t}\n\t\t}\n\t}\n\t// public\n\t/* Something like this might appear here eventually\n\tname: \"AES\",\n\tblockSize: 4,\n\tkeySizes: [4,6,8],\n\t*/\n\n\t/**\n\t * Encrypt an array of 4 big-endian words.\n\t * @param {Array} data The plaintext.\n\t * @return {Array} The ciphertext.\n\t */\n\tencrypt(data) {\n\t\treturn this._crypt(data, 0);\n\t}\n\n\t/**\n\t * Decrypt an array of 4 big-endian words.\n\t * @param {Array} data The ciphertext.\n\t * @return {Array} The plaintext.\n\t */\n\tdecrypt(data) {\n\t\treturn this._crypt(data, 1);\n\t}\n\n\t/**\n\t * Expand the S-box tables.\n\t *\n\t * @private\n\t */\n\t_precompute() {\n\t\tconst encTable = this._tables[0];\n\t\tconst decTable = this._tables[1];\n\t\tconst sbox = encTable[4];\n\t\tconst sboxInv = decTable[4];\n\t\tconst d = [];\n\t\tconst th = [];\n\t\tlet xInv, x2, x4, x8;\n\n\t\t// Compute double and third tables\n\t\tfor (let i = 0; i < 256; i++) {\n\t\t\tth[(d[i] = i << 1 ^ (i >> 7) * 283) ^ i] = i;\n\t\t}\n\n\t\tfor (let x = xInv = 0; !sbox[x]; x ^= x2 || 1, xInv = th[xInv] || 1) {\n\t\t\t// Compute sbox\n\t\t\tlet s = xInv ^ xInv << 1 ^ xInv << 2 ^ xInv << 3 ^ xInv << 4;\n\t\t\ts = s >> 8 ^ s & 255 ^ 99;\n\t\t\tsbox[x] = s;\n\t\t\tsboxInv[s] = x;\n\n\t\t\t// Compute MixColumns\n\t\t\tx8 = d[x4 = d[x2 = d[x]]];\n\t\t\tlet tDec = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;\n\t\t\tlet tEnc = d[s] * 0x101 ^ s * 0x1010100;\n\n\t\t\tfor (let i = 0; i < 4; i++) {\n\t\t\t\tencTable[i][x] = tEnc = tEnc << 24 ^ tEnc >>> 8;\n\t\t\t\tdecTable[i][s] = tDec = tDec << 24 ^ tDec >>> 8;\n\t\t\t}\n\t\t}\n\n\t\t// Compactify.  Considerable speedup on Firefox.\n\t\tfor (let i = 0; i < 5; i++) {\n\t\t\tencTable[i] = encTable[i].slice(0);\n\t\t\tdecTable[i] = decTable[i].slice(0);\n\t\t}\n\t}\n\n\t/**\n\t * Encryption and decryption core.\n\t * @param {Array} input Four words to be encrypted or decrypted.\n\t * @param dir The direction, 0 for encrypt and 1 for decrypt.\n\t * @return {Array} The four encrypted or decrypted words.\n\t * @private\n\t */\n\t_crypt(input, dir) {\n\t\tif (input.length !== 4) {\n\t\t\tthrow new Error(\"invalid aes block size\");\n\t\t}\n\n\t\tconst key = this._key[dir];\n\n\t\tconst nInnerRounds = key.length / 4 - 2;\n\t\tconst out = [0, 0, 0, 0];\n\t\tconst table = this._tables[dir];\n\n\t\t// load up the tables\n\t\tconst t0 = table[0];\n\t\tconst t1 = table[1];\n\t\tconst t2 = table[2];\n\t\tconst t3 = table[3];\n\t\tconst sbox = table[4];\n\n\t\t// state variables a,b,c,d are loaded with pre-whitened data\n\t\tlet a = input[0] ^ key[0];\n\t\tlet b = input[dir ? 3 : 1] ^ key[1];\n\t\tlet c = input[2] ^ key[2];\n\t\tlet d = input[dir ? 1 : 3] ^ key[3];\n\t\tlet kIndex = 4;\n\t\tlet a2, b2, c2;\n\n\t\t// Inner rounds.  Cribbed from OpenSSL.\n\t\tfor (let i = 0; i < nInnerRounds; i++) {\n\t\t\ta2 = t0[a >>> 24] ^ t1[b >> 16 & 255] ^ t2[c >> 8 & 255] ^ t3[d & 255] ^ key[kIndex];\n\t\t\tb2 = t0[b >>> 24] ^ t1[c >> 16 & 255] ^ t2[d >> 8 & 255] ^ t3[a & 255] ^ key[kIndex + 1];\n\t\t\tc2 = t0[c >>> 24] ^ t1[d >> 16 & 255] ^ t2[a >> 8 & 255] ^ t3[b & 255] ^ key[kIndex + 2];\n\t\t\td = t0[d >>> 24] ^ t1[a >> 16 & 255] ^ t2[b >> 8 & 255] ^ t3[c & 255] ^ key[kIndex + 3];\n\t\t\tkIndex += 4;\n\t\t\ta = a2; b = b2; c = c2;\n\t\t}\n\n\t\t// Last round.\n\t\tfor (let i = 0; i < 4; i++) {\n\t\t\tout[dir ? 3 & -i : i] =\n\t\t\t\tsbox[a >>> 24] << 24 ^\n\t\t\t\tsbox[b >> 16 & 255] << 16 ^\n\t\t\t\tsbox[c >> 8 & 255] << 8 ^\n\t\t\t\tsbox[d & 255] ^\n\t\t\t\tkey[kIndex++];\n\t\t\ta2 = a; a = b; b = c; c = d; d = a2;\n\t\t}\n\n\t\treturn out;\n\t}\n};\n\n/**\n * Random values\n * @namespace\n */\nconst random = {\n\t/** \n\t * Generate random words with pure js, cryptographically not as strong & safe as native implementation.\n\t * @param {TypedArray} typedArray The array to fill.\n\t * @return {TypedArray} The random values.\n\t */\n\tgetRandomValues(typedArray) {\n\t\tconst words = new Uint32Array(typedArray.buffer);\n\t\tconst r = (m_w) => {\n\t\t\tlet m_z = 0x3ade68b1;\n\t\t\tconst mask = 0xffffffff;\n\t\t\treturn function () {\n\t\t\t\tm_z = (0x9069 * (m_z & 0xFFFF) + (m_z >> 0x10)) & mask;\n\t\t\t\tm_w = (0x4650 * (m_w & 0xFFFF) + (m_w >> 0x10)) & mask;\n\t\t\t\tconst result = ((((m_z << 0x10) + m_w) & mask) / 0x100000000) + .5;\n\t\t\t\treturn result * (Math.random() > .5 ? 1 : -1);\n\t\t\t};\n\t\t};\n\t\tfor (let i = 0, rcache; i < typedArray.length; i += 4) {\n\t\t\tconst _r = r((rcache || Math.random()) * 0x100000000);\n\t\t\trcache = _r() * 0x3ade67b7;\n\t\t\twords[i / 4] = (_r() * 0x100000000) | 0;\n\t\t}\n\t\treturn typedArray;\n\t}\n};\n\n/** @fileOverview CTR mode implementation.\n *\n * Special thanks to Roy Nicholson for pointing out a bug in our\n * implementation.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/** Brian Gladman's CTR Mode.\n* @constructor\n* @param {Object} _prf The aes instance to generate key.\n* @param {bitArray} _iv The iv for ctr mode, it must be 128 bits.\n*/\n\nconst mode = {};\n\n/**\n * Brian Gladman's CTR Mode.\n * @namespace\n */\nmode.ctrGladman = class {\n\tconstructor(prf, iv) {\n\t\tthis._prf = prf;\n\t\tthis._initIv = iv;\n\t\tthis._iv = iv;\n\t}\n\n\treset() {\n\t\tthis._iv = this._initIv;\n\t}\n\n\t/** Input some data to calculate.\n\t * @param {bitArray} data the data to process, it must be intergral multiple of 128 bits unless it's the last.\n\t */\n\tupdate(data) {\n\t\treturn this.calculate(this._prf, data, this._iv);\n\t}\n\n\tincWord(word) {\n\t\tif (((word >> 24) & 0xff) === 0xff) { //overflow\n\t\t\tlet b1 = (word >> 16) & 0xff;\n\t\t\tlet b2 = (word >> 8) & 0xff;\n\t\t\tlet b3 = word & 0xff;\n\n\t\t\tif (b1 === 0xff) { // overflow b1   \n\t\t\t\tb1 = 0;\n\t\t\t\tif (b2 === 0xff) {\n\t\t\t\t\tb2 = 0;\n\t\t\t\t\tif (b3 === 0xff) {\n\t\t\t\t\t\tb3 = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t++b3;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t++b2;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t++b1;\n\t\t\t}\n\n\t\t\tword = 0;\n\t\t\tword += (b1 << 16);\n\t\t\tword += (b2 << 8);\n\t\t\tword += b3;\n\t\t} else {\n\t\t\tword += (0x01 << 24);\n\t\t}\n\t\treturn word;\n\t}\n\n\tincCounter(counter) {\n\t\tif ((counter[0] = this.incWord(counter[0])) === 0) {\n\t\t\t// encr_data in fileenc.c from  Dr Brian Gladman's counts only with DWORD j < 8\n\t\t\tcounter[1] = this.incWord(counter[1]);\n\t\t}\n\t}\n\n\tcalculate(prf, data, iv) {\n\t\tlet l;\n\t\tif (!(l = data.length)) {\n\t\t\treturn [];\n\t\t}\n\t\tconst bl = bitArray.bitLength(data);\n\t\tfor (let i = 0; i < l; i += 4) {\n\t\t\tthis.incCounter(iv);\n\t\t\tconst e = prf.encrypt(iv);\n\t\t\tdata[i] ^= e[0];\n\t\t\tdata[i + 1] ^= e[1];\n\t\t\tdata[i + 2] ^= e[2];\n\t\t\tdata[i + 3] ^= e[3];\n\t\t}\n\t\treturn bitArray.clamp(data, bl);\n\t}\n};\n\nconst misc = {\n\timportKey(password) {\n\t\treturn new misc.hmacSha1(codec.bytes.toBits(password));\n\t},\n\tpbkdf2(prf, salt, count, length) {\n\t\tcount = count || 10000;\n\t\tif (length < 0 || count < 0) {\n\t\t\tthrow new Error(\"invalid params to pbkdf2\");\n\t\t}\n\t\tconst byteLength = ((length >> 5) + 1) << 2;\n\t\tlet u, ui, i, j, k;\n\t\tconst arrayBuffer = new ArrayBuffer(byteLength);\n\t\tconst out = new DataView(arrayBuffer);\n\t\tlet outLength = 0;\n\t\tconst b = bitArray;\n\t\tsalt = codec.bytes.toBits(salt);\n\t\tfor (k = 1; outLength < (byteLength || 1); k++) {\n\t\t\tu = ui = prf.encrypt(b.concat(salt, [k]));\n\t\t\tfor (i = 1; i < count; i++) {\n\t\t\t\tui = prf.encrypt(ui);\n\t\t\t\tfor (j = 0; j < ui.length; j++) {\n\t\t\t\t\tu[j] ^= ui[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (i = 0; outLength < (byteLength || 1) && i < u.length; i++) {\n\t\t\t\tout.setInt32(outLength, u[i]);\n\t\t\t\toutLength += 4;\n\t\t\t}\n\t\t}\n\t\treturn arrayBuffer.slice(0, length / 8);\n\t}\n};\n\n/** @fileOverview HMAC implementation.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/** HMAC with the specified hash function.\n * @constructor\n * @param {bitArray} key the key for HMAC.\n * @param {Object} [Hash=hash.sha1] The hash function to use.\n */\nmisc.hmacSha1 = class {\n\n\tconstructor(key) {\n\t\tconst hmac = this;\n\t\tconst Hash = hmac._hash = hash.sha1;\n\t\tconst exKey = [[], []];\n\t\thmac._baseHash = [new Hash(), new Hash()];\n\t\tconst bs = hmac._baseHash[0].blockSize / 32;\n\n\t\tif (key.length > bs) {\n\t\t\tkey = new Hash().update(key).finalize();\n\t\t}\n\n\t\tfor (let i = 0; i < bs; i++) {\n\t\t\texKey[0][i] = key[i] ^ 0x36363636;\n\t\t\texKey[1][i] = key[i] ^ 0x5C5C5C5C;\n\t\t}\n\n\t\thmac._baseHash[0].update(exKey[0]);\n\t\thmac._baseHash[1].update(exKey[1]);\n\t\thmac._resultHash = new Hash(hmac._baseHash[0]);\n\t}\n\treset() {\n\t\tconst hmac = this;\n\t\thmac._resultHash = new hmac._hash(hmac._baseHash[0]);\n\t\thmac._updated = false;\n\t}\n\n\tupdate(data) {\n\t\tconst hmac = this;\n\t\thmac._updated = true;\n\t\thmac._resultHash.update(data);\n\t}\n\n\tdigest() {\n\t\tconst hmac = this;\n\t\tconst w = hmac._resultHash.finalize();\n\t\tconst result = new (hmac._hash)(hmac._baseHash[1]).update(w).finalize();\n\n\t\thmac.reset();\n\n\t\treturn result;\n\t}\n\n\tencrypt(data) {\n\t\tif (!this._updated) {\n\t\t\tthis.update(data);\n\t\t\treturn this.digest(data);\n\t\t} else {\n\t\t\tthrow new Error(\"encrypt on already updated hmac called!\");\n\t\t}\n\t}\n};\n\nexport {\n\tcipher,\n\tcodec,\n\tmisc,\n\tmode,\n\trandom\n};","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* global crypto */\n\nimport {\n\trandom\n} from \"./codecs/sjcl.js\";\n\nconst GET_RANDOM_VALUES_SUPPORTED = typeof crypto != \"undefined\" && typeof crypto.getRandomValues == \"function\";\n\nconst ERR_INVALID_PASSWORD = \"Invalid password\";\nconst ERR_INVALID_SIGNATURE = \"Invalid signature\";\nconst ERR_ABORT_CHECK_PASSWORD = \"zipjs-abort-check-password\";\n\nexport {\n\tgetRandomValues,\n\tERR_INVALID_PASSWORD,\n\tERR_INVALID_SIGNATURE,\n\tERR_ABORT_CHECK_PASSWORD\n};\n\nfunction getRandomValues(array) {\n\tif (GET_RANDOM_VALUES_SUPPORTED) {\n\t\treturn crypto.getRandomValues(array);\n\t} else {\n\t\treturn random.getRandomValues(array);\n\t}\n}","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* global crypto, TransformStream */\n// deno-lint-ignore-file no-this-alias\n\nimport { encodeText } from \"./../util/encode-text.js\";\nimport {\n\tcipher,\n\tcodec,\n\tmisc,\n\tmode\n} from \"./codecs/sjcl.js\";\nimport {\n\tERR_INVALID_PASSWORD,\n\tERR_INVALID_SIGNATURE,\n\tERR_ABORT_CHECK_PASSWORD,\n\tgetRandomValues\n} from \"./common-crypto.js\";\n\nconst BLOCK_LENGTH = 16;\nconst RAW_FORMAT = \"raw\";\nconst PBKDF2_ALGORITHM = { name: \"PBKDF2\" };\nconst HASH_ALGORITHM = { name: \"HMAC\" };\nconst HASH_FUNCTION = \"SHA-1\";\nconst BASE_KEY_ALGORITHM = Object.assign({ hash: HASH_ALGORITHM }, PBKDF2_ALGORITHM);\nconst DERIVED_BITS_ALGORITHM = Object.assign({ iterations: 1000, hash: { name: HASH_FUNCTION } }, PBKDF2_ALGORITHM);\nconst DERIVED_BITS_USAGE = [\"deriveBits\"];\nconst SALT_LENGTH = [8, 12, 16];\nconst KEY_LENGTH = [16, 24, 32];\nconst SIGNATURE_LENGTH = 10;\nconst COUNTER_DEFAULT_VALUE = [0, 0, 0, 0];\nconst UNDEFINED_TYPE = \"undefined\";\nconst FUNCTION_TYPE = \"function\";\n// deno-lint-ignore valid-typeof\nconst CRYPTO_API_SUPPORTED = typeof crypto != UNDEFINED_TYPE;\nconst subtle = CRYPTO_API_SUPPORTED && crypto.subtle;\nconst SUBTLE_API_SUPPORTED = CRYPTO_API_SUPPORTED && typeof subtle != UNDEFINED_TYPE;\nconst codecBytes = codec.bytes;\nconst Aes = cipher.aes;\nconst CtrGladman = mode.ctrGladman;\nconst HmacSha1 = misc.hmacSha1;\n\nlet IMPORT_KEY_SUPPORTED = CRYPTO_API_SUPPORTED && SUBTLE_API_SUPPORTED && typeof subtle.importKey == FUNCTION_TYPE;\nlet DERIVE_BITS_SUPPORTED = CRYPTO_API_SUPPORTED && SUBTLE_API_SUPPORTED && typeof subtle.deriveBits == FUNCTION_TYPE;\n\nclass AESDecryptionStream extends TransformStream {\n\n\tconstructor({ password, signed, encryptionStrength, checkPasswordOnly }) {\n\t\tsuper({\n\t\t\tstart() {\n\t\t\t\tObject.assign(this, {\n\t\t\t\t\tready: new Promise(resolve => this.resolveReady = resolve),\n\t\t\t\t\tpassword,\n\t\t\t\t\tsigned,\n\t\t\t\t\tstrength: encryptionStrength - 1,\n\t\t\t\t\tpending: new Uint8Array()\n\t\t\t\t});\n\t\t\t},\n\t\t\tasync transform(chunk, controller) {\n\t\t\t\tconst aesCrypto = this;\n\t\t\t\tconst {\n\t\t\t\t\tpassword,\n\t\t\t\t\tstrength,\n\t\t\t\t\tresolveReady,\n\t\t\t\t\tready\n\t\t\t\t} = aesCrypto;\n\t\t\t\tif (password) {\n\t\t\t\t\tawait createDecryptionKeys(aesCrypto, strength, password, subarray(chunk, 0, SALT_LENGTH[strength] + 2));\n\t\t\t\t\tchunk = subarray(chunk, SALT_LENGTH[strength] + 2);\n\t\t\t\t\tif (checkPasswordOnly) {\n\t\t\t\t\t\tcontroller.error(new Error(ERR_ABORT_CHECK_PASSWORD));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolveReady();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tawait ready;\n\t\t\t\t}\n\t\t\t\tconst output = new Uint8Array(chunk.length - SIGNATURE_LENGTH - ((chunk.length - SIGNATURE_LENGTH) % BLOCK_LENGTH));\n\t\t\t\tcontroller.enqueue(append(aesCrypto, chunk, output, 0, SIGNATURE_LENGTH, true));\n\t\t\t},\n\t\t\tasync flush(controller) {\n\t\t\t\tconst {\n\t\t\t\t\tsigned,\n\t\t\t\t\tctr,\n\t\t\t\t\thmac,\n\t\t\t\t\tpending,\n\t\t\t\t\tready\n\t\t\t\t} = this;\n\t\t\t\tif (hmac && ctr) {\n\t\t\t\t\tawait ready;\n\t\t\t\t\tconst chunkToDecrypt = subarray(pending, 0, pending.length - SIGNATURE_LENGTH);\n\t\t\t\t\tconst originalSignature = subarray(pending, pending.length - SIGNATURE_LENGTH);\n\t\t\t\t\tlet decryptedChunkArray = new Uint8Array();\n\t\t\t\t\tif (chunkToDecrypt.length) {\n\t\t\t\t\t\tconst encryptedChunk = toBits(codecBytes, chunkToDecrypt);\n\t\t\t\t\t\thmac.update(encryptedChunk);\n\t\t\t\t\t\tconst decryptedChunk = ctr.update(encryptedChunk);\n\t\t\t\t\t\tdecryptedChunkArray = fromBits(codecBytes, decryptedChunk);\n\t\t\t\t\t}\n\t\t\t\t\tif (signed) {\n\t\t\t\t\t\tconst signature = subarray(fromBits(codecBytes, hmac.digest()), 0, SIGNATURE_LENGTH);\n\t\t\t\t\t\tfor (let indexSignature = 0; indexSignature < SIGNATURE_LENGTH; indexSignature++) {\n\t\t\t\t\t\t\tif (signature[indexSignature] != originalSignature[indexSignature]) {\n\t\t\t\t\t\t\t\tthrow new Error(ERR_INVALID_SIGNATURE);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcontroller.enqueue(decryptedChunkArray);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nclass AESEncryptionStream extends TransformStream {\n\n\tconstructor({ password, encryptionStrength }) {\n\t\t// deno-lint-ignore prefer-const\n\t\tlet stream;\n\t\tsuper({\n\t\t\tstart() {\n\t\t\t\tObject.assign(this, {\n\t\t\t\t\tready: new Promise(resolve => this.resolveReady = resolve),\n\t\t\t\t\tpassword,\n\t\t\t\t\tstrength: encryptionStrength - 1,\n\t\t\t\t\tpending: new Uint8Array()\n\t\t\t\t});\n\t\t\t},\n\t\t\tasync transform(chunk, controller) {\n\t\t\t\tconst aesCrypto = this;\n\t\t\t\tconst {\n\t\t\t\t\tpassword,\n\t\t\t\t\tstrength,\n\t\t\t\t\tresolveReady,\n\t\t\t\t\tready\n\t\t\t\t} = aesCrypto;\n\t\t\t\tlet preamble = new Uint8Array();\n\t\t\t\tif (password) {\n\t\t\t\t\tpreamble = await createEncryptionKeys(aesCrypto, strength, password);\n\t\t\t\t\tresolveReady();\n\t\t\t\t} else {\n\t\t\t\t\tawait ready;\n\t\t\t\t}\n\t\t\t\tconst output = new Uint8Array(preamble.length + chunk.length - (chunk.length % BLOCK_LENGTH));\n\t\t\t\toutput.set(preamble, 0);\n\t\t\t\tcontroller.enqueue(append(aesCrypto, chunk, output, preamble.length, 0));\n\t\t\t},\n\t\t\tasync flush(controller) {\n\t\t\t\tconst {\n\t\t\t\t\tctr,\n\t\t\t\t\thmac,\n\t\t\t\t\tpending,\n\t\t\t\t\tready\n\t\t\t\t} = this;\n\t\t\t\tif (hmac && ctr) {\n\t\t\t\t\tawait ready;\n\t\t\t\t\tlet encryptedChunkArray = new Uint8Array();\n\t\t\t\t\tif (pending.length) {\n\t\t\t\t\t\tconst encryptedChunk = ctr.update(toBits(codecBytes, pending));\n\t\t\t\t\t\thmac.update(encryptedChunk);\n\t\t\t\t\t\tencryptedChunkArray = fromBits(codecBytes, encryptedChunk);\n\t\t\t\t\t}\n\t\t\t\t\tstream.signature = fromBits(codecBytes, hmac.digest()).slice(0, SIGNATURE_LENGTH);\n\t\t\t\t\tcontroller.enqueue(concat(encryptedChunkArray, stream.signature));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tstream = this;\n\t}\n}\n\nexport {\n\tAESDecryptionStream,\n\tAESEncryptionStream,\n\tERR_INVALID_PASSWORD\n};\n\nfunction append(aesCrypto, input, output, paddingStart, paddingEnd, verifySignature) {\n\tconst {\n\t\tctr,\n\t\thmac,\n\t\tpending\n\t} = aesCrypto;\n\tconst inputLength = input.length - paddingEnd;\n\tif (pending.length) {\n\t\tinput = concat(pending, input);\n\t\toutput = expand(output, inputLength - (inputLength % BLOCK_LENGTH));\n\t}\n\tlet offset;\n\tfor (offset = 0; offset <= inputLength - BLOCK_LENGTH; offset += BLOCK_LENGTH) {\n\t\tconst inputChunk = toBits(codecBytes, subarray(input, offset, offset + BLOCK_LENGTH));\n\t\tif (verifySignature) {\n\t\t\thmac.update(inputChunk);\n\t\t}\n\t\tconst outputChunk = ctr.update(inputChunk);\n\t\tif (!verifySignature) {\n\t\t\thmac.update(outputChunk);\n\t\t}\n\t\toutput.set(fromBits(codecBytes, outputChunk), offset + paddingStart);\n\t}\n\taesCrypto.pending = subarray(input, offset);\n\treturn output;\n}\n\nasync function createDecryptionKeys(decrypt, strength, password, preamble) {\n\tconst passwordVerificationKey = await createKeys(decrypt, strength, password, subarray(preamble, 0, SALT_LENGTH[strength]));\n\tconst passwordVerification = subarray(preamble, SALT_LENGTH[strength]);\n\tif (passwordVerificationKey[0] != passwordVerification[0] || passwordVerificationKey[1] != passwordVerification[1]) {\n\t\tthrow new Error(ERR_INVALID_PASSWORD);\n\t}\n}\n\nasync function createEncryptionKeys(encrypt, strength, password) {\n\tconst salt = getRandomValues(new Uint8Array(SALT_LENGTH[strength]));\n\tconst passwordVerification = await createKeys(encrypt, strength, password, salt);\n\treturn concat(salt, passwordVerification);\n}\n\nasync function createKeys(aesCrypto, strength, password, salt) {\n\taesCrypto.password = null;\n\tconst encodedPassword = encodeText(password);\n\tconst baseKey = await importKey(RAW_FORMAT, encodedPassword, BASE_KEY_ALGORITHM, false, DERIVED_BITS_USAGE);\n\tconst derivedBits = await deriveBits(Object.assign({ salt }, DERIVED_BITS_ALGORITHM), baseKey, 8 * ((KEY_LENGTH[strength] * 2) + 2));\n\tconst compositeKey = new Uint8Array(derivedBits);\n\tconst key = toBits(codecBytes, subarray(compositeKey, 0, KEY_LENGTH[strength]));\n\tconst authentication = toBits(codecBytes, subarray(compositeKey, KEY_LENGTH[strength], KEY_LENGTH[strength] * 2));\n\tconst passwordVerification = subarray(compositeKey, KEY_LENGTH[strength] * 2);\n\tObject.assign(aesCrypto, {\n\t\tkeys: {\n\t\t\tkey,\n\t\t\tauthentication,\n\t\t\tpasswordVerification\n\t\t},\n\t\tctr: new CtrGladman(new Aes(key), Array.from(COUNTER_DEFAULT_VALUE)),\n\t\thmac: new HmacSha1(authentication)\n\t});\n\treturn passwordVerification;\n}\n\nasync function importKey(format, password, algorithm, extractable, keyUsages) {\n\tif (IMPORT_KEY_SUPPORTED) {\n\t\ttry {\n\t\t\treturn await subtle.importKey(format, password, algorithm, extractable, keyUsages);\n\t\t} catch (_error) {\n\t\t\tIMPORT_KEY_SUPPORTED = false;\n\t\t\treturn misc.importKey(password);\n\t\t}\n\t} else {\n\t\treturn misc.importKey(password);\n\t}\n}\n\nasync function deriveBits(algorithm, baseKey, length) {\n\tif (DERIVE_BITS_SUPPORTED) {\n\t\ttry {\n\t\t\treturn await subtle.deriveBits(algorithm, baseKey, length);\n\t\t} catch (_error) {\n\t\t\tDERIVE_BITS_SUPPORTED = false;\n\t\t\treturn misc.pbkdf2(baseKey, algorithm.salt, DERIVED_BITS_ALGORITHM.iterations, length);\n\t\t}\n\t} else {\n\t\treturn misc.pbkdf2(baseKey, algorithm.salt, DERIVED_BITS_ALGORITHM.iterations, length);\n\t}\n}\n\nfunction concat(leftArray, rightArray) {\n\tlet array = leftArray;\n\tif (leftArray.length + rightArray.length) {\n\t\tarray = new Uint8Array(leftArray.length + rightArray.length);\n\t\tarray.set(leftArray, 0);\n\t\tarray.set(rightArray, leftArray.length);\n\t}\n\treturn array;\n}\n\nfunction expand(inputArray, length) {\n\tif (length && length > inputArray.length) {\n\t\tconst array = inputArray;\n\t\tinputArray = new Uint8Array(length);\n\t\tinputArray.set(array, 0);\n\t}\n\treturn inputArray;\n}\n\nfunction subarray(array, begin, end) {\n\treturn array.subarray(begin, end);\n}\n\nfunction fromBits(codecBytes, chunk) {\n\treturn codecBytes.fromBits(chunk);\n}\nfunction toBits(codecBytes, chunk) {\n\treturn codecBytes.toBits(chunk);\n}","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* global TransformStream */\n// deno-lint-ignore-file no-this-alias\n\nimport { Crc32 } from \"./codecs/crc32.js\";\nimport {\n\tERR_INVALID_PASSWORD,\n\tERR_ABORT_CHECK_PASSWORD,\n\tgetRandomValues\n} from \"./common-crypto.js\";\n\nconst HEADER_LENGTH = 12;\n\nclass ZipCryptoDecryptionStream extends TransformStream {\n\n\tconstructor({ password, passwordVerification, checkPasswordOnly }) {\n\t\tsuper({\n\t\t\tstart() {\n\t\t\t\tObject.assign(this, {\n\t\t\t\t\tpassword,\n\t\t\t\t\tpasswordVerification\n\t\t\t\t});\n\t\t\t\tcreateKeys(this, password);\n\t\t\t},\n\t\t\ttransform(chunk, controller) {\n\t\t\t\tconst zipCrypto = this;\n\t\t\t\tif (zipCrypto.password) {\n\t\t\t\t\tconst decryptedHeader = decrypt(zipCrypto, chunk.subarray(0, HEADER_LENGTH));\n\t\t\t\t\tzipCrypto.password = null;\n\t\t\t\t\tif (decryptedHeader[HEADER_LENGTH - 1] != zipCrypto.passwordVerification) {\n\t\t\t\t\t\tthrow new Error(ERR_INVALID_PASSWORD);\n\t\t\t\t\t}\n\t\t\t\t\tchunk = chunk.subarray(HEADER_LENGTH);\n\t\t\t\t}\n\t\t\t\tif (checkPasswordOnly) {\n\t\t\t\t\tcontroller.error(new Error(ERR_ABORT_CHECK_PASSWORD));\n\t\t\t\t} else {\n\t\t\t\t\tcontroller.enqueue(decrypt(zipCrypto, chunk));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nclass ZipCryptoEncryptionStream extends TransformStream {\n\n\tconstructor({ password, passwordVerification }) {\n\t\tsuper({\n\t\t\tstart() {\n\t\t\t\tObject.assign(this, {\n\t\t\t\t\tpassword,\n\t\t\t\t\tpasswordVerification\n\t\t\t\t});\n\t\t\t\tcreateKeys(this, password);\n\t\t\t},\n\t\t\ttransform(chunk, controller) {\n\t\t\t\tconst zipCrypto = this;\n\t\t\t\tlet output;\n\t\t\t\tlet offset;\n\t\t\t\tif (zipCrypto.password) {\n\t\t\t\t\tzipCrypto.password = null;\n\t\t\t\t\tconst header = getRandomValues(new Uint8Array(HEADER_LENGTH));\n\t\t\t\t\theader[HEADER_LENGTH - 1] = zipCrypto.passwordVerification;\n\t\t\t\t\toutput = new Uint8Array(chunk.length + header.length);\n\t\t\t\t\toutput.set(encrypt(zipCrypto, header), 0);\n\t\t\t\t\toffset = HEADER_LENGTH;\n\t\t\t\t} else {\n\t\t\t\t\toutput = new Uint8Array(chunk.length);\n\t\t\t\t\toffset = 0;\n\t\t\t\t}\n\t\t\t\toutput.set(encrypt(zipCrypto, chunk), offset);\n\t\t\t\tcontroller.enqueue(output);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport {\n\tZipCryptoDecryptionStream,\n\tZipCryptoEncryptionStream,\n\tERR_INVALID_PASSWORD\n};\n\nfunction decrypt(target, input) {\n\tconst output = new Uint8Array(input.length);\n\tfor (let index = 0; index < input.length; index++) {\n\t\toutput[index] = getByte(target) ^ input[index];\n\t\tupdateKeys(target, output[index]);\n\t}\n\treturn output;\n}\n\nfunction encrypt(target, input) {\n\tconst output = new Uint8Array(input.length);\n\tfor (let index = 0; index < input.length; index++) {\n\t\toutput[index] = getByte(target) ^ input[index];\n\t\tupdateKeys(target, input[index]);\n\t}\n\treturn output;\n}\n\nfunction createKeys(target, password) {\n\tconst keys = [0x12345678, 0x23456789, 0x34567890];\n\tObject.assign(target, {\n\t\tkeys,\n\t\tcrcKey0: new Crc32(keys[0]),\n\t\tcrcKey2: new Crc32(keys[2]),\n\t});\n\tfor (let index = 0; index < password.length; index++) {\n\t\tupdateKeys(target, password.charCodeAt(index));\n\t}\n}\n\nfunction updateKeys(target, byte) {\n\tlet [key0, key1, key2] = target.keys;\n\ttarget.crcKey0.append([byte]);\n\tkey0 = ~target.crcKey0.get();\n\tkey1 = getInt32(Math.imul(getInt32(key1 + getInt8(key0)), 134775813) + 1);\n\ttarget.crcKey2.append([key1 >>> 24]);\n\tkey2 = ~target.crcKey2.get();\n\ttarget.keys = [key0, key1, key2];\n}\n\nfunction getByte(target) {\n\tconst temp = target.keys[2] | 2;\n\treturn getInt8(Math.imul(temp, (temp ^ 1)) >>> 8);\n}\n\nfunction getInt8(number) {\n\treturn number & 0xFF;\n}\n\nfunction getInt32(number) {\n\treturn number & 0xFFFFFFFF;\n}","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* global TransformStream */\n// deno-lint-ignore-file no-this-alias\n\nimport { Crc32Stream } from \"./crc32-stream.js\";\nimport {\n\tAESEncryptionStream,\n\tAESDecryptionStream\n} from \"./aes-crypto-stream.js\";\nimport {\n\tZipCryptoEncryptionStream,\n\tZipCryptoDecryptionStream\n} from \"./zip-crypto-stream.js\";\nimport {\n\tERR_INVALID_PASSWORD,\n\tERR_INVALID_SIGNATURE,\n\tERR_ABORT_CHECK_PASSWORD\n} from \"./common-crypto.js\";\n\nconst COMPRESSION_FORMAT = \"deflate-raw\";\n\nclass DeflateStream extends TransformStream {\n\n\tconstructor(options, { chunkSize, CompressionStream, CompressionStreamNative }) {\n\t\tsuper({});\n\t\tconst { compressed, encrypted, useCompressionStream, zipCrypto, signed, level } = options;\n\t\tconst stream = this;\n\t\tlet crc32Stream, encryptionStream;\n\t\tlet readable = filterEmptyChunks(super.readable);\n\t\tif ((!encrypted || zipCrypto) && signed) {\n\t\t\tcrc32Stream = new Crc32Stream();\n\t\t\treadable = pipeThrough(readable, crc32Stream);\n\t\t}\n\t\tif (compressed) {\n\t\t\treadable = pipeThroughCommpressionStream(readable, useCompressionStream, { level, chunkSize }, CompressionStreamNative, CompressionStream);\n\t\t}\n\t\tif (encrypted) {\n\t\t\tif (zipCrypto) {\n\t\t\t\treadable = pipeThrough(readable, new ZipCryptoEncryptionStream(options));\n\t\t\t} else {\n\t\t\t\tencryptionStream = new AESEncryptionStream(options);\n\t\t\t\treadable = pipeThrough(readable, encryptionStream);\n\t\t\t}\n\t\t}\n\t\tsetReadable(stream, readable, () => {\n\t\t\tlet signature;\n\t\t\tif (encrypted && !zipCrypto) {\n\t\t\t\tsignature = encryptionStream.signature;\n\t\t\t}\n\t\t\tif ((!encrypted || zipCrypto) && signed) {\n\t\t\t\tsignature = new DataView(crc32Stream.value.buffer).getUint32(0);\n\t\t\t}\n\t\t\tstream.signature = signature;\n\t\t});\n\t}\n}\n\nclass InflateStream extends TransformStream {\n\n\tconstructor(options, { chunkSize, DecompressionStream, DecompressionStreamNative }) {\n\t\tsuper({});\n\t\tconst { zipCrypto, encrypted, signed, signature, compressed, useCompressionStream } = options;\n\t\tlet crc32Stream, decryptionStream;\n\t\tlet readable = filterEmptyChunks(super.readable);\n\t\tif (encrypted) {\n\t\t\tif (zipCrypto) {\n\t\t\t\treadable = pipeThrough(readable, new ZipCryptoDecryptionStream(options));\n\t\t\t} else {\n\t\t\t\tdecryptionStream = new AESDecryptionStream(options);\n\t\t\t\treadable = pipeThrough(readable, decryptionStream);\n\t\t\t}\n\t\t}\n\t\tif (compressed) {\n\t\t\treadable = pipeThroughCommpressionStream(readable, useCompressionStream, { chunkSize }, DecompressionStreamNative, DecompressionStream);\n\t\t}\n\t\tif ((!encrypted || zipCrypto) && signed) {\n\t\t\tcrc32Stream = new Crc32Stream();\n\t\t\treadable = pipeThrough(readable, crc32Stream);\n\t\t}\n\t\tsetReadable(this, readable, () => {\n\t\t\tif ((!encrypted || zipCrypto) && signed) {\n\t\t\t\tconst dataViewSignature = new DataView(crc32Stream.value.buffer);\n\t\t\t\tif (signature != dataViewSignature.getUint32(0, false)) {\n\t\t\t\t\tthrow new Error(ERR_INVALID_SIGNATURE);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport {\n\tDeflateStream,\n\tInflateStream,\n\tERR_INVALID_PASSWORD,\n\tERR_INVALID_SIGNATURE,\n\tERR_ABORT_CHECK_PASSWORD\n};\n\nfunction filterEmptyChunks(readable) {\n\treturn pipeThrough(readable, new TransformStream({\n\t\ttransform(chunk, controller) {\n\t\t\tif (chunk && chunk.length) {\n\t\t\t\tcontroller.enqueue(chunk);\n\t\t\t}\n\t\t}\n\t}));\n}\n\nfunction setReadable(stream, readable, flush) {\n\treadable = pipeThrough(readable, new TransformStream({ flush }));\n\tObject.defineProperty(stream, \"readable\", {\n\t\tget() {\n\t\t\treturn readable;\n\t\t}\n\t});\n}\n\nfunction pipeThroughCommpressionStream(readable, useCompressionStream, options, CodecStreamNative, CodecStream) {\n\ttry {\n\t\tconst CompressionStream = useCompressionStream && CodecStreamNative ? CodecStreamNative : CodecStream;\n\t\treadable = pipeThrough(readable, new CompressionStream(COMPRESSION_FORMAT, options));\n\t} catch (error) {\n\t\tif (useCompressionStream) {\n\t\t\treadable = pipeThrough(readable, new CodecStream(COMPRESSION_FORMAT, options));\n\t\t} else {\n\t\t\tthrow error;\n\t\t}\n\t}\n\treturn readable;\n}\n\nfunction pipeThrough(readable, transformStream) {\n\treturn readable.pipeThrough(transformStream);\n}","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/*\n * This program is based on JZlib 1.0.2 ymnk, JCraft,Inc.\n * JZlib is based on zlib-1.1.3, so all credit should go authors\n * Jean-loup Gailly(jloup@gzip.org) and Mark Adler(madler@alumni.caltech.edu)\n * and contributors of zlib.\n */\n\n/* global TransformStream */\n// deno-lint-ignore-file no-this-alias\n\nimport {\n\tERR_INVALID_PASSWORD,\n\tERR_INVALID_SIGNATURE,\n\tERR_ABORT_CHECK_PASSWORD,\n\tInflateStream,\n\tDeflateStream\n} from \"./zip-entry-stream.js\";\n\nconst MESSAGE_EVENT_TYPE = \"message\";\nconst MESSAGE_START = \"start\";\nconst MESSAGE_PULL = \"pull\";\nconst MESSAGE_DATA = \"data\";\nconst MESSAGE_ACK_DATA = \"ack\";\nconst MESSAGE_CLOSE = \"close\";\nconst CODEC_DEFLATE = \"deflate\";\nconst CODEC_INFLATE = \"inflate\";\n\nexport {\n\tCODEC_DEFLATE,\n\tCODEC_INFLATE,\n\tMESSAGE_EVENT_TYPE,\n\tMESSAGE_START,\n\tMESSAGE_PULL,\n\tMESSAGE_DATA,\n\tMESSAGE_ACK_DATA,\n\tMESSAGE_CLOSE,\n\tERR_INVALID_PASSWORD,\n\tERR_INVALID_SIGNATURE,\n\tERR_ABORT_CHECK_PASSWORD,\n\tCodecStream\n};\n\nclass CodecStream extends TransformStream {\n\n\tconstructor(options, config) {\n\t\tsuper({});\n\t\tconst codec = this;\n\t\tconst { codecType } = options;\n\t\tlet Stream;\n\t\tif (codecType.startsWith(CODEC_DEFLATE)) {\n\t\t\tStream = DeflateStream;\n\t\t} else if (codecType.startsWith(CODEC_INFLATE)) {\n\t\t\tStream = InflateStream;\n\t\t}\n\t\tlet size = 0;\n\t\tconst stream = new Stream(options, config);\n\t\tconst readable = super.readable;\n\t\tconst transformStream = new TransformStream({\n\t\t\ttransform(chunk, controller) {\n\t\t\t\tif (chunk && chunk.length) {\n\t\t\t\t\tsize += chunk.length;\n\t\t\t\t\tcontroller.enqueue(chunk);\n\t\t\t\t}\n\t\t\t},\n\t\t\tflush() {\n\t\t\t\tconst { signature } = stream;\n\t\t\t\tObject.assign(codec, {\n\t\t\t\t\tsignature,\n\t\t\t\t\tsize\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(codec, \"readable\", {\n\t\t\tget() {\n\t\t\t\treturn readable.pipeThrough(stream).pipeThrough(transformStream);\n\t\t\t}\n\t\t});\n\t}\n}","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* global Worker, URL, TransformStream, WritableStream */\n\nimport {\n\tUNDEFINED_TYPE,\n\tFUNCTION_TYPE\n} from \"./constants.js\";\nimport {\n\tCodecStream,\n\tMESSAGE_EVENT_TYPE,\n\tMESSAGE_START,\n\tMESSAGE_PULL,\n\tMESSAGE_DATA,\n\tMESSAGE_ACK_DATA,\n\tMESSAGE_CLOSE\n} from \"./streams/codec-stream.js\";\n\n// deno-lint-ignore valid-typeof\nconst WEB_WORKERS_SUPPORTED = typeof Worker != UNDEFINED_TYPE;\n\nexport {\n\tCodecWorker\n};\n\nclass CodecWorker {\n\n\tconstructor(workerData, { readable, writable }, { options, config, streamOptions, useWebWorkers, transferStreams, scripts }, onTaskFinished) {\n\t\tconst { signal } = streamOptions;\n\t\tObject.assign(workerData, {\n\t\t\tbusy: true,\n\t\t\treadable: readable.pipeThrough(new ProgressWatcherStream(readable, streamOptions, config), { signal }),\n\t\t\twritable,\n\t\t\toptions: Object.assign({}, options),\n\t\t\tscripts,\n\t\t\ttransferStreams,\n\t\t\tterminate() {\n\t\t\t\tconst { worker, busy } = workerData;\n\t\t\t\tif (worker && !busy) {\n\t\t\t\t\tworker.terminate();\n\t\t\t\t\tworkerData.interface = null;\n\t\t\t\t}\n\t\t\t},\n\t\t\tonTaskFinished() {\n\t\t\t\tworkerData.busy = false;\n\t\t\t\tonTaskFinished(workerData);\n\t\t\t}\n\t\t});\n\t\treturn (useWebWorkers && WEB_WORKERS_SUPPORTED ? createWebWorkerInterface : createWorkerInterface)(workerData, config);\n\t}\n}\n\nclass ProgressWatcherStream extends TransformStream {\n\n\tconstructor(readableSource, { onstart, onprogress, size, onend }, { chunkSize }) {\n\t\tlet chunkOffset = 0;\n\t\tsuper({\n\t\t\tstart() {\n\t\t\t\tif (onstart) {\n\t\t\t\t\tcallHandler(onstart, size);\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync transform(chunk, controller) {\n\t\t\t\tchunkOffset += chunk.length;\n\t\t\t\tif (onprogress) {\n\t\t\t\t\tawait callHandler(onprogress, chunkOffset, size);\n\t\t\t\t}\n\t\t\t\tcontroller.enqueue(chunk);\n\t\t\t},\n\t\t\tflush() {\n\t\t\t\treadableSource.size = chunkOffset;\n\t\t\t\tif (onend) {\n\t\t\t\t\tcallHandler(onend, chunkOffset);\n\t\t\t\t}\n\t\t\t}\n\t\t}, { highWaterMark: 1, size: () => chunkSize });\n\t}\n}\n\nasync function callHandler(handler, ...parameters) {\n\ttry {\n\t\tawait handler(...parameters);\n\t} catch (_error) {\n\t\t// ignored\n\t}\n}\n\nfunction createWorkerInterface(workerData, config) {\n\treturn {\n\t\trun: () => runWorker(workerData, config)\n\t};\n}\n\nfunction createWebWorkerInterface(workerData, { baseURL, chunkSize }) {\n\tif (!workerData.interface) {\n\t\tObject.assign(workerData, {\n\t\t\tworker: getWebWorker(workerData.scripts[0], baseURL, workerData),\n\t\t\tinterface: {\n\t\t\t\trun: () => runWebWorker(workerData, { chunkSize })\n\t\t\t}\n\t\t});\n\t}\n\treturn workerData.interface;\n}\n\nasync function runWorker({ options, readable, writable, onTaskFinished }, config) {\n\tconst codecStream = new CodecStream(options, config);\n\ttry {\n\t\tawait readable.pipeThrough(codecStream).pipeTo(writable, { preventClose: true, preventAbort: true });\n\t\tconst {\n\t\t\tsignature,\n\t\t\tsize\n\t\t} = codecStream;\n\t\treturn {\n\t\t\tsignature,\n\t\t\tsize\n\t\t};\n\t} finally {\n\t\tonTaskFinished();\n\t}\n}\n\nasync function runWebWorker(workerData, config) {\n\tlet resolveResult, rejectResult;\n\tconst result = new Promise((resolve, reject) => {\n\t\tresolveResult = resolve;\n\t\trejectResult = reject;\n\t});\n\tObject.assign(workerData, {\n\t\treader: null,\n\t\twriter: null,\n\t\tresolveResult,\n\t\trejectResult,\n\t\tresult\n\t});\n\tconst { readable, options, scripts } = workerData;\n\tconst { writable, closed } = watchClosedStream(workerData.writable);\n\tconst streamsTransferred = sendMessage({\n\t\ttype: MESSAGE_START,\n\t\tscripts: scripts.slice(1),\n\t\toptions,\n\t\tconfig,\n\t\treadable,\n\t\twritable\n\t}, workerData);\n\tif (!streamsTransferred) {\n\t\tObject.assign(workerData, {\n\t\t\treader: readable.getReader(),\n\t\t\twriter: writable.getWriter()\n\t\t});\n\t}\n\tconst resultValue = await result;\n\ttry {\n\t\tawait writable.getWriter().close();\n\t} catch (_error) {\n\t\t// ignored\n\t}\n\tawait closed;\n\treturn resultValue;\n}\n\nfunction watchClosedStream(writableSource) {\n\tconst writer = writableSource.getWriter();\n\tlet resolveStreamClosed;\n\tconst closed = new Promise(resolve => resolveStreamClosed = resolve);\n\tconst writable = new WritableStream({\n\t\tasync write(chunk) {\n\t\t\tawait writer.ready;\n\t\t\tawait writer.write(chunk);\n\t\t},\n\t\tclose() {\n\t\t\twriter.releaseLock();\n\t\t\tresolveStreamClosed();\n\t\t},\n\t\tabort(reason) {\n\t\t\treturn writer.abort(reason);\n\t\t}\n\t});\n\treturn { writable, closed };\n}\n\nlet classicWorkersSupported = true;\nlet transferStreamsSupported = true;\n\nfunction getWebWorker(url, baseURL, workerData) {\n\tconst workerOptions = { type: \"module\" };\n\tlet scriptUrl, worker;\n\t// deno-lint-ignore valid-typeof\n\tif (typeof url == FUNCTION_TYPE) {\n\t\turl = url();\n\t}\n\ttry {\n\t\tscriptUrl = new URL(url, baseURL);\n\t} catch (_error) {\n\t\tscriptUrl = url;\n\t}\n\tif (classicWorkersSupported) {\n\t\ttry {\n\t\t\tworker = new Worker(scriptUrl);\n\t\t} catch (_error) {\n\t\t\tclassicWorkersSupported = false;\n\t\t\tworker = new Worker(scriptUrl, workerOptions);\n\t\t}\n\t} else {\n\t\tworker = new Worker(scriptUrl, workerOptions);\n\t}\n\tworker.addEventListener(MESSAGE_EVENT_TYPE, event => onMessage(event, workerData));\n\treturn worker;\n}\n\nfunction sendMessage(message, { worker, writer, onTaskFinished, transferStreams }) {\n\ttry {\n\t\tlet { value, readable, writable } = message;\n\t\tconst transferables = [];\n\t\tif (value) {\n\t\t\tif (value.byteLength < value.buffer.byteLength) {\n\t\t\t\tmessage.value = value.buffer.slice(0, value.byteLength);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmessage.value = value.buffer;\n\t\t\t}\n\t\t\ttransferables.push(message.value);\n\t\t}\n\t\tif (transferStreams && transferStreamsSupported) {\n\t\t\tif (readable) {\n\t\t\t\ttransferables.push(readable);\n\t\t\t}\n\t\t\tif (writable) {\n\t\t\t\ttransferables.push(writable);\n\t\t\t}\n\t\t} else {\n\t\t\tmessage.readable = message.writable = null;\n\t\t}\n\t\tif (transferables.length) {\n\t\t\ttry {\n\t\t\t\tworker.postMessage(message, transferables);\n\t\t\t\treturn true;\n\t\t\t} catch (_error) {\n\t\t\t\ttransferStreamsSupported = false;\n\t\t\t\tmessage.readable = message.writable = null;\n\t\t\t\tworker.postMessage(message);\n\t\t\t}\n\t\t} else {\n\t\t\tworker.postMessage(message);\n\t\t}\n\t} catch (error) {\n\t\tif (writer) {\n\t\t\twriter.releaseLock();\n\t\t}\n\t\tonTaskFinished();\n\t\tthrow error;\n\t}\n}\n\nasync function onMessage({ data }, workerData) {\n\tconst { type, value, messageId, result, error } = data;\n\tconst { reader, writer, resolveResult, rejectResult, onTaskFinished } = workerData;\n\ttry {\n\t\tif (error) {\n\t\t\tconst { message, stack, code, name } = error;\n\t\t\tconst responseError = new Error(message);\n\t\t\tObject.assign(responseError, { stack, code, name });\n\t\t\tclose(responseError);\n\t\t} else {\n\t\t\tif (type == MESSAGE_PULL) {\n\t\t\t\tconst { value, done } = await reader.read();\n\t\t\t\tsendMessage({ type: MESSAGE_DATA, value, done, messageId }, workerData);\n\t\t\t}\n\t\t\tif (type == MESSAGE_DATA) {\n\t\t\t\tawait writer.ready;\n\t\t\t\tawait writer.write(new Uint8Array(value));\n\t\t\t\tsendMessage({ type: MESSAGE_ACK_DATA, messageId }, workerData);\n\t\t\t}\n\t\t\tif (type == MESSAGE_CLOSE) {\n\t\t\t\tclose(null, result);\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tclose(error);\n\t}\n\n\tfunction close(error, result) {\n\t\tif (error) {\n\t\t\trejectResult(error);\n\t\t} else {\n\t\t\tresolveResult(result);\n\t\t}\n\t\tif (writer) {\n\t\t\twriter.releaseLock();\n\t\t}\n\t\tonTaskFinished();\n\t}\n}","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* global setTimeout, clearTimeout */\n\nimport { UNDEFINED_VALUE } from \"./constants.js\";\nimport {\n\tCODEC_INFLATE,\n\tCODEC_DEFLATE,\n\tERR_INVALID_SIGNATURE,\n\tERR_INVALID_PASSWORD,\n\tERR_ABORT_CHECK_PASSWORD\n} from \"./streams/codec-stream.js\";\nimport { CodecWorker } from \"./codec-worker.js\";\n\nlet pool = [];\nconst pendingRequests = [];\n\nexport {\n\trunWorker,\n\tterminateWorkers,\n\tCODEC_DEFLATE,\n\tCODEC_INFLATE,\n\tERR_INVALID_SIGNATURE,\n\tERR_INVALID_PASSWORD,\n\tERR_ABORT_CHECK_PASSWORD\n};\n\nlet indexWorker = 0;\n\nasync function runWorker(stream, workerOptions) {\n\tconst { options, config } = workerOptions;\n\tconst { transferStreams, useWebWorkers, useCompressionStream, codecType, compressed, signed, encrypted } = options;\n\tconst { workerScripts, maxWorkers, terminateWorkerTimeout } = config;\n\tworkerOptions.transferStreams = transferStreams || transferStreams === UNDEFINED_VALUE;\n\tconst streamCopy = !compressed && !signed && !encrypted && !workerOptions.transferStreams;\n\tworkerOptions.useWebWorkers = !streamCopy && (useWebWorkers || (useWebWorkers === UNDEFINED_VALUE && config.useWebWorkers));\n\tworkerOptions.scripts = workerOptions.useWebWorkers && workerScripts ? workerScripts[codecType] : [];\n\toptions.useCompressionStream = useCompressionStream || (useCompressionStream === UNDEFINED_VALUE && config.useCompressionStream);\n\tlet worker;\n\tconst workerData = pool.find(workerData => !workerData.busy);\n\tif (workerData) {\n\t\tclearTerminateTimeout(workerData);\n\t\tworker = new CodecWorker(workerData, stream, workerOptions, onTaskFinished);\n\t} else if (pool.length < maxWorkers) {\n\t\tconst workerData = { indexWorker };\n\t\tindexWorker++;\n\t\tpool.push(workerData);\n\t\tworker = new CodecWorker(workerData, stream, workerOptions, onTaskFinished);\n\t} else {\n\t\tworker = await new Promise(resolve => pendingRequests.push({ resolve, stream, workerOptions }));\n\t}\n\treturn worker.run();\n\n\tfunction onTaskFinished(workerData) {\n\t\tif (pendingRequests.length) {\n\t\t\tconst [{ resolve, stream, workerOptions }] = pendingRequests.splice(0, 1);\n\t\t\tresolve(new CodecWorker(workerData, stream, workerOptions, onTaskFinished));\n\t\t} else if (workerData.worker) {\n\t\t\tclearTerminateTimeout(workerData);\n\t\t\tif (Number.isFinite(terminateWorkerTimeout) && terminateWorkerTimeout >= 0) {\n\t\t\t\tworkerData.terminateTimeout = setTimeout(() => {\n\t\t\t\t\tpool = pool.filter(data => data != workerData);\n\t\t\t\t\tworkerData.terminate();\n\t\t\t\t}, terminateWorkerTimeout);\n\t\t\t}\n\t\t} else {\n\t\t\tpool = pool.filter(data => data != workerData);\n\t\t}\n\t}\n}\n\nfunction clearTerminateTimeout(workerData) {\n\tconst { terminateTimeout } = workerData;\n\tif (terminateTimeout) {\n\t\tclearTimeout(terminateTimeout);\n\t\tworkerData.terminateTimeout = null;\n\t}\n}\n\nfunction terminateWorkers() {\n\tpool.forEach(workerData => {\n\t\tclearTerminateTimeout(workerData);\n\t\tworkerData.terminate();\n\t});\n}","function e(e){const t=()=>URL.createObjectURL(new Blob(['const{Array:e,Object:t,Number:n,Math:r,Error:s,Uint8Array:i,Uint16Array:o,Uint32Array:c,Int32Array:f,Map:a,DataView:l,Promise:u,TextEncoder:w,crypto:h,postMessage:d,TransformStream:p,ReadableStream:y,WritableStream:m,CompressionStream:b,DecompressionStream:g}=self;class k{constructor(e){return class extends p{constructor(t,n){const r=new e(n);super({transform(e,t){t.enqueue(r.append(e))},flush(e){const t=r.flush();t&&e.enqueue(t)}})}}}}const v=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;v[e]=t}class S{constructor(e){this.t=e||-1}append(e){let t=0|this.t;for(let n=0,r=0|e.length;r>n;n++)t=t>>>8^v[255&(t^e[n])];this.t=t}get(){return~this.t}}class z extends p{constructor(){let e;const t=new S;super({transform(e,n){t.append(e),n.enqueue(e)},flush(){const n=new i(4);new l(n.buffer).setUint32(0,t.get()),e.value=n}}),e=this}}const C={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=C.i(n);return 32===r?e.concat(t):C.o(t,r,0|n,e.slice(0,e.length-1))},l(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+C.i(n)},u(e,t){if(32*e.length<t)return e;const n=(e=e.slice(0,r.ceil(t/32))).length;return t&=31,n>0&&t&&(e[n-1]=C.h(t,e[n-1]&2147483648>>t-1,1)),e},h:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,i:e=>r.round(e/1099511627776)||32,o(e,t,n,r){for(void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(let s=0;s<e.length;s++)r.push(n|e[s]>>>t),n=e[s]<<32-t;const s=e.length?e[e.length-1]:0,i=C.i(s);return r.push(C.h(t+i&31,t+i>32?n:r.pop(),1)),r}},x={p:{m(e){const t=C.l(e)/8,n=new i(t);let r;for(let s=0;t>s;s++)0==(3&s)&&(r=e[s/4]),n[s]=r>>>24,r<<=8;return n},g(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3==(3&n)&&(t.push(r),r=0);return 3&n&&t.push(C.h(8*(3&n),r)),t}}},_=class{constructor(e){const t=this;t.blockSize=512,t.k=[1732584193,4023233417,2562383102,271733878,3285377520],t.v=[1518500249,1859775393,2400959708,3395469782],e?(t.S=e.S.slice(0),t.C=e.C.slice(0),t._=e._):t.reset()}reset(){const e=this;return e.S=e.k.slice(0),e.C=[],e._=0,e}update(e){const t=this;\"string\"==typeof e&&(e=x.A.g(e));const n=t.C=C.concat(t.C,e),r=t._,i=t._=r+C.l(e);if(i>9007199254740991)throw new s(\"Cannot hash more than 2^53 - 1 bits\");const o=new c(n);let f=0;for(let e=t.blockSize+r-(t.blockSize+r&t.blockSize-1);i>=e;e+=t.blockSize)t.I(o.subarray(16*f,16*(f+1))),f+=1;return n.splice(0,16*f),t}D(){const e=this;let t=e.C;const n=e.S;t=C.concat(t,[C.h(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(r.floor(e._/4294967296)),t.push(0|e._);t.length;)e.I(t.splice(0,16));return e.reset(),n}V(e,t,n,r){return e>19?e>39?e>59?e>79?void 0:t^n^r:t&n|t&r|n&r:t^n^r:t&n|~t&r}P(e,t){return t<<e|t>>>32-e}I(t){const n=this,s=n.S,i=e(80);for(let e=0;16>e;e++)i[e]=t[e];let o=s[0],c=s[1],f=s[2],a=s[3],l=s[4];for(let e=0;79>=e;e++){16>e||(i[e]=n.P(1,i[e-3]^i[e-8]^i[e-14]^i[e-16]));const t=n.P(5,o)+n.V(e,c,f,a)+l+i[e]+n.v[r.floor(e/20)]|0;l=a,a=f,f=n.P(30,c),c=o,o=t}s[0]=s[0]+o|0,s[1]=s[1]+c|0,s[2]=s[2]+f|0,s[3]=s[3]+a|0,s[4]=s[4]+l|0}},A={getRandomValues(e){const t=new c(e.buffer),n=e=>{let t=987654321;const n=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&n,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(r.random()>.5?1:-1))};for(let s,i=0;i<e.length;i+=4){const e=n(4294967296*(s||r.random()));s=987654071*e(),t[i/4]=4294967296*e()|0}return e}},I={importKey:e=>new I.R(x.p.g(e)),B(e,t,n,r){if(n=n||1e4,0>r||0>n)throw new s(\"invalid params to pbkdf2\");const i=1+(r>>5)<<2;let o,c,f,a,u;const w=new ArrayBuffer(i),h=new l(w);let d=0;const p=C;for(t=x.p.g(t),u=1;(i||1)>d;u++){for(o=c=e.encrypt(p.concat(t,[u])),f=1;n>f;f++)for(c=e.encrypt(c),a=0;a<c.length;a++)o[a]^=c[a];for(f=0;(i||1)>d&&f<o.length;f++)h.setInt32(d,o[f]),d+=4}return w.slice(0,r/8)},R:class{constructor(e){const t=this,n=t.M=_,r=[[],[]];t.U=[new n,new n];const s=t.U[0].blockSize/32;e.length>s&&(e=(new n).update(e).D());for(let t=0;s>t;t++)r[0][t]=909522486^e[t],r[1][t]=1549556828^e[t];t.U[0].update(r[0]),t.U[1].update(r[1]),t.K=new n(t.U[0])}reset(){const e=this;e.K=new e.M(e.U[0]),e.N=!1}update(e){this.N=!0,this.K.update(e)}digest(){const e=this,t=e.K.D(),n=new e.M(e.U[1]).update(t).D();return e.reset(),n}encrypt(e){if(this.N)throw new s(\"encrypt on already updated hmac called!\");return this.update(e),this.digest(e)}}},D=void 0!==h&&\"function\"==typeof h.getRandomValues,V=\"Invalid password\",P=\"Invalid signature\",R=\"zipjs-abort-check-password\";function B(e){return D?h.getRandomValues(e):A.getRandomValues(e)}const E=16,M={name:\"PBKDF2\"},U=t.assign({hash:{name:\"HMAC\"}},M),K=t.assign({iterations:1e3,hash:{name:\"SHA-1\"}},M),N=[\"deriveBits\"],O=[8,12,16],T=[16,24,32],W=10,j=[0,0,0,0],H=\"undefined\",L=\"function\",F=typeof h!=H,q=F&&h.subtle,G=F&&typeof q!=H,J=x.p,Q=class{constructor(e){const t=this;t.O=[[[],[],[],[],[]],[[],[],[],[],[]]],t.O[0][0][0]||t.T();const n=t.O[0][4],r=t.O[1],i=e.length;let o,c,f,a=1;if(4!==i&&6!==i&&8!==i)throw new s(\"invalid aes key size\");for(t.v=[c=e.slice(0),f=[]],o=i;4*i+28>o;o++){let e=c[o-1];(o%i==0||8===i&&o%i==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],o%i==0&&(e=e<<8^e>>>24^a<<24,a=a<<1^283*(a>>7))),c[o]=c[o-i]^e}for(let e=0;o;e++,o--){const t=c[3&e?o:o-4];f[e]=4>=o||4>e?t:r[0][n[t>>>24]]^r[1][n[t>>16&255]]^r[2][n[t>>8&255]]^r[3][n[255&t]]}}encrypt(e){return this.W(e,0)}decrypt(e){return this.W(e,1)}T(){const e=this.O[0],t=this.O[1],n=e[4],r=t[4],s=[],i=[];let o,c,f,a;for(let e=0;256>e;e++)i[(s[e]=e<<1^283*(e>>7))^e]=e;for(let l=o=0;!n[l];l^=c||1,o=i[o]||1){let i=o^o<<1^o<<2^o<<3^o<<4;i=i>>8^255&i^99,n[l]=i,r[i]=l,a=s[f=s[c=s[l]]];let u=16843009*a^65537*f^257*c^16843008*l,w=257*s[i]^16843008*i;for(let n=0;4>n;n++)e[n][l]=w=w<<24^w>>>8,t[n][i]=u=u<<24^u>>>8}for(let n=0;5>n;n++)e[n]=e[n].slice(0),t[n]=t[n].slice(0)}W(e,t){if(4!==e.length)throw new s(\"invalid aes block size\");const n=this.v[t],r=n.length/4-2,i=[0,0,0,0],o=this.O[t],c=o[0],f=o[1],a=o[2],l=o[3],u=o[4];let w,h,d,p=e[0]^n[0],y=e[t?3:1]^n[1],m=e[2]^n[2],b=e[t?1:3]^n[3],g=4;for(let e=0;r>e;e++)w=c[p>>>24]^f[y>>16&255]^a[m>>8&255]^l[255&b]^n[g],h=c[y>>>24]^f[m>>16&255]^a[b>>8&255]^l[255&p]^n[g+1],d=c[m>>>24]^f[b>>16&255]^a[p>>8&255]^l[255&y]^n[g+2],b=c[b>>>24]^f[p>>16&255]^a[y>>8&255]^l[255&m]^n[g+3],g+=4,p=w,y=h,m=d;for(let e=0;4>e;e++)i[t?3&-e:e]=u[p>>>24]<<24^u[y>>16&255]<<16^u[m>>8&255]<<8^u[255&b]^n[g++],w=p,p=y,y=m,m=b,b=w;return i}},X=class{constructor(e,t){this.j=e,this.H=t,this.L=t}reset(){this.L=this.H}update(e){return this.F(this.j,e,this.L)}q(e){if(255==(e>>24&255)){let t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}G(e){0===(e[0]=this.q(e[0]))&&(e[1]=this.q(e[1]))}F(e,t,n){let r;if(!(r=t.length))return[];const s=C.l(t);for(let s=0;r>s;s+=4){this.G(n);const r=e.encrypt(n);t[s]^=r[0],t[s+1]^=r[1],t[s+2]^=r[2],t[s+3]^=r[3]}return C.u(t,s)}},Y=I.R;let Z=F&&G&&typeof q.importKey==L,$=F&&G&&typeof q.deriveBits==L;class ee extends p{constructor({password:e,signed:n,encryptionStrength:r,checkPasswordOnly:o}){super({start(){t.assign(this,{ready:new u((e=>this.J=e)),password:e,signed:n,X:r-1,pending:new i})},async transform(e,t){const n=this,{password:r,X:c,J:f,ready:a}=n;r?(await(async(e,t,n,r)=>{const i=await re(e,t,n,ie(r,0,O[t])),o=ie(r,O[t]);if(i[0]!=o[0]||i[1]!=o[1])throw new s(V)})(n,c,r,ie(e,0,O[c]+2)),e=ie(e,O[c]+2),o?t.error(new s(R)):f()):await a;const l=new i(e.length-W-(e.length-W)%E);t.enqueue(ne(n,e,l,0,W,!0))},async flush(e){const{signed:t,Y:n,Z:r,pending:o,ready:c}=this;if(r&&n){await c;const f=ie(o,0,o.length-W),a=ie(o,o.length-W);let l=new i;if(f.length){const e=ce(J,f);r.update(e);const t=n.update(e);l=oe(J,t)}if(t){const e=ie(oe(J,r.digest()),0,W);for(let t=0;W>t;t++)if(e[t]!=a[t])throw new s(P)}e.enqueue(l)}}})}}class te extends p{constructor({password:e,encryptionStrength:n}){let r;super({start(){t.assign(this,{ready:new u((e=>this.J=e)),password:e,X:n-1,pending:new i})},async transform(e,t){const n=this,{password:r,X:s,J:o,ready:c}=n;let f=new i;r?(f=await(async(e,t,n)=>{const r=B(new i(O[t]));return se(r,await re(e,t,n,r))})(n,s,r),o()):await c;const a=new i(f.length+e.length-e.length%E);a.set(f,0),t.enqueue(ne(n,e,a,f.length,0))},async flush(e){const{Y:t,Z:n,pending:s,ready:o}=this;if(n&&t){await o;let c=new i;if(s.length){const e=t.update(ce(J,s));n.update(e),c=oe(J,e)}r.signature=oe(J,n.digest()).slice(0,W),e.enqueue(se(c,r.signature))}}}),r=this}}function ne(e,t,n,r,s,o){const{Y:c,Z:f,pending:a}=e,l=t.length-s;let u;for(a.length&&(t=se(a,t),n=((e,t)=>{if(t&&t>e.length){const n=e;(e=new i(t)).set(n,0)}return e})(n,l-l%E)),u=0;l-E>=u;u+=E){const e=ce(J,ie(t,u,u+E));o&&f.update(e);const s=c.update(e);o||f.update(s),n.set(oe(J,s),u+r)}return e.pending=ie(t,u),n}async function re(n,r,s,o){n.password=null;const c=(e=>{if(void 0===w){const t=new i((e=unescape(encodeURIComponent(e))).length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new w).encode(e)})(s),f=await(async(e,t,n,r,s)=>{if(!Z)return I.importKey(t);try{return await q.importKey(\"raw\",t,n,!1,s)}catch(e){return Z=!1,I.importKey(t)}})(0,c,U,0,N),a=await(async(e,t,n)=>{if(!$)return I.B(t,e.salt,K.iterations,n);try{return await q.deriveBits(e,t,n)}catch(r){return $=!1,I.B(t,e.salt,K.iterations,n)}})(t.assign({salt:o},K),f,8*(2*T[r]+2)),l=new i(a),u=ce(J,ie(l,0,T[r])),h=ce(J,ie(l,T[r],2*T[r])),d=ie(l,2*T[r]);return t.assign(n,{keys:{key:u,$:h,passwordVerification:d},Y:new X(new Q(u),e.from(j)),Z:new Y(h)}),d}function se(e,t){let n=e;return e.length+t.length&&(n=new i(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function ie(e,t,n){return e.subarray(t,n)}function oe(e,t){return e.m(t)}function ce(e,t){return e.g(t)}class fe extends p{constructor({password:e,passwordVerification:n,checkPasswordOnly:r}){super({start(){t.assign(this,{password:e,passwordVerification:n}),we(this,e)},transform(e,t){const n=this;if(n.password){const t=le(n,e.subarray(0,12));if(n.password=null,t[11]!=n.passwordVerification)throw new s(V);e=e.subarray(12)}r?t.error(new s(R)):t.enqueue(le(n,e))}})}}class ae extends p{constructor({password:e,passwordVerification:n}){super({start(){t.assign(this,{password:e,passwordVerification:n}),we(this,e)},transform(e,t){const n=this;let r,s;if(n.password){n.password=null;const t=B(new i(12));t[11]=n.passwordVerification,r=new i(e.length+t.length),r.set(ue(n,t),0),s=12}else r=new i(e.length),s=0;r.set(ue(n,e),s),t.enqueue(r)}})}}function le(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=de(e)^t[r],he(e,n[r]);return n}function ue(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=de(e)^t[r],he(e,t[r]);return n}function we(e,n){const r=[305419896,591751049,878082192];t.assign(e,{keys:r,ee:new S(r[0]),te:new S(r[2])});for(let t=0;t<n.length;t++)he(e,n.charCodeAt(t))}function he(e,t){let[n,s,i]=e.keys;e.ee.append([t]),n=~e.ee.get(),s=ye(r.imul(ye(s+pe(n)),134775813)+1),e.te.append([s>>>24]),i=~e.te.get(),e.keys=[n,s,i]}function de(e){const t=2|e.keys[2];return pe(r.imul(t,1^t)>>>8)}function pe(e){return 255&e}function ye(e){return 4294967295&e}const me=\"deflate-raw\";class be extends p{constructor(e,{chunkSize:t,CompressionStream:n,CompressionStreamNative:r}){super({});const{compressed:s,encrypted:i,useCompressionStream:o,zipCrypto:c,signed:f,level:a}=e,u=this;let w,h,d=ke(super.readable);i&&!c||!f||(w=new z,d=ze(d,w)),s&&(d=Se(d,o,{level:a,chunkSize:t},r,n)),i&&(c?d=ze(d,new ae(e)):(h=new te(e),d=ze(d,h))),ve(u,d,(()=>{let e;i&&!c&&(e=h.signature),i&&!c||!f||(e=new l(w.value.buffer).getUint32(0)),u.signature=e}))}}class ge extends p{constructor(e,{chunkSize:t,DecompressionStream:n,DecompressionStreamNative:r}){super({});const{zipCrypto:i,encrypted:o,signed:c,signature:f,compressed:a,useCompressionStream:u}=e;let w,h,d=ke(super.readable);o&&(i?d=ze(d,new fe(e)):(h=new ee(e),d=ze(d,h))),a&&(d=Se(d,u,{chunkSize:t},r,n)),o&&!i||!c||(w=new z,d=ze(d,w)),ve(this,d,(()=>{if((!o||i)&&c){const e=new l(w.value.buffer);if(f!=e.getUint32(0,!1))throw new s(P)}}))}}function ke(e){return ze(e,new p({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function ve(e,n,r){n=ze(n,new p({flush:r})),t.defineProperty(e,\"readable\",{get:()=>n})}function Se(e,t,n,r,s){try{e=ze(e,new(t&&r?r:s)(me,n))}catch(r){if(!t)throw r;e=ze(e,new s(me,n))}return e}function ze(e,t){return e.pipeThrough(t)}const Ce=\"data\";class xe extends p{constructor(e,n){super({});const r=this,{codecType:s}=e;let i;s.startsWith(\"deflate\")?i=be:s.startsWith(\"inflate\")&&(i=ge);let o=0;const c=new i(e,n),f=super.readable,a=new p({transform(e,t){e&&e.length&&(o+=e.length,t.enqueue(e))},flush(){const{signature:e}=c;t.assign(r,{signature:e,size:o})}});t.defineProperty(r,\"readable\",{get:()=>f.pipeThrough(c).pipeThrough(a)})}}const _e=new a,Ae=new a;let Ie=0;async function De(e){try{const{options:t,scripts:r,config:s}=e;r&&r.length&&importScripts.apply(void 0,r),self.initCodec&&self.initCodec(),s.CompressionStreamNative=self.CompressionStream,s.DecompressionStreamNative=self.DecompressionStream,self.Deflate&&(s.CompressionStream=new k(self.Deflate)),self.Inflate&&(s.DecompressionStream=new k(self.Inflate));const i={highWaterMark:1,size:()=>s.chunkSize},o=e.readable||new y({async pull(e){const t=new u((e=>_e.set(Ie,e)));Ve({type:\"pull\",messageId:Ie}),Ie=(Ie+1)%n.MAX_SAFE_INTEGER;const{value:r,done:s}=await t;e.enqueue(r),s&&e.close()}},i),c=e.writable||new m({async write(e){let t;const r=new u((e=>t=e));Ae.set(Ie,t),Ve({type:Ce,value:e,messageId:Ie}),Ie=(Ie+1)%n.MAX_SAFE_INTEGER,await r}},i),f=new xe(t,s);await o.pipeThrough(f).pipeTo(c,{preventClose:!0,preventAbort:!0});try{await c.getWriter().close()}catch(e){}const{signature:a,size:l}=f;Ve({type:\"close\",result:{signature:a,size:l}})}catch(e){Pe(e)}}function Ve(e){let{value:t}=e;if(t)if(t.length)try{t=new i(t),e.value=t.buffer,d(e,[e.value])}catch(t){d(e)}else d(e);else d(e)}function Pe(e=new s(\"Unknown error\")){const{message:t,stack:n,code:r,name:i}=e;d({error:{message:t,stack:n,code:r,name:i}})}addEventListener(\"message\",(({data:e})=>{const{type:t,messageId:n,value:r,done:s}=e;try{if(\"start\"==t&&De(e),t==Ce){const e=_e.get(n);_e.delete(n),e({value:new i(r),done:s})}if(\"ack\"==t){const e=Ae.get(n);Ae.delete(n),e()}}catch(e){Pe(e)}}));const Re=-2;function Be(t){return Ee(t.map((([t,n])=>new e(t).fill(n,0,t))))}function Ee(t){return t.reduce(((t,n)=>t.concat(e.isArray(n)?Ee(n):n)),[])}const Me=[0,1,2,3].concat(...Be([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function Ue(){const e=this;function t(e,t){let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}e.ne=n=>{const s=e.re,i=e.ie.se,o=e.ie.oe;let c,f,a,l=-1;for(n.ce=0,n.fe=573,c=0;o>c;c++)0!==s[2*c]?(n.ae[++n.ce]=l=c,n.le[c]=0):s[2*c+1]=0;for(;2>n.ce;)a=n.ae[++n.ce]=2>l?++l:0,s[2*a]=1,n.le[a]=0,n.ue--,i&&(n.we-=i[2*a+1]);for(e.he=l,c=r.floor(n.ce/2);c>=1;c--)n.de(s,c);a=o;do{c=n.ae[1],n.ae[1]=n.ae[n.ce--],n.de(s,1),f=n.ae[1],n.ae[--n.fe]=c,n.ae[--n.fe]=f,s[2*a]=s[2*c]+s[2*f],n.le[a]=r.max(n.le[c],n.le[f])+1,s[2*c+1]=s[2*f+1]=a,n.ae[1]=a++,n.de(s,1)}while(n.ce>=2);n.ae[--n.fe]=n.ae[1],(t=>{const n=e.re,r=e.ie.se,s=e.ie.pe,i=e.ie.ye,o=e.ie.me;let c,f,a,l,u,w,h=0;for(l=0;15>=l;l++)t.be[l]=0;for(n[2*t.ae[t.fe]+1]=0,c=t.fe+1;573>c;c++)f=t.ae[c],l=n[2*n[2*f+1]+1]+1,l>o&&(l=o,h++),n[2*f+1]=l,f>e.he||(t.be[l]++,u=0,i>f||(u=s[f-i]),w=n[2*f],t.ue+=w*(l+u),r&&(t.we+=w*(r[2*f+1]+u)));if(0!==h){do{for(l=o-1;0===t.be[l];)l--;t.be[l]--,t.be[l+1]+=2,t.be[o]--,h-=2}while(h>0);for(l=o;0!==l;l--)for(f=t.be[l];0!==f;)a=t.ae[--c],a>e.he||(n[2*a+1]!=l&&(t.ue+=(l-n[2*a+1])*n[2*a],n[2*a+1]=l),f--)}})(n),((e,n,r)=>{const s=[];let i,o,c,f=0;for(i=1;15>=i;i++)s[i]=f=f+r[i-1]<<1;for(o=0;n>=o;o++)c=e[2*o+1],0!==c&&(e[2*o]=t(s[c]++,c))})(s,e.he,n.be)}}function Ke(e,t,n,r,s){const i=this;i.se=e,i.pe=t,i.ye=n,i.oe=r,i.me=s}Ue.ge=[0,1,2,3,4,5,6,7].concat(...Be([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]])),Ue.ke=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],Ue.ve=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],Ue.Se=e=>256>e?Me[e]:Me[256+(e>>>7)],Ue.ze=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ue.Ce=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ue.xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ue._e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];const Ne=Be([[144,8],[112,9],[24,7],[8,8]]);Ke.Ae=Ee([12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227].map(((e,t)=>[e,Ne[t]])));const Oe=Be([[30,5]]);function Te(e,t,n,r,s){const i=this;i.Ie=e,i.De=t,i.Ve=n,i.Pe=r,i.Re=s}Ke.Be=Ee([0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23].map(((e,t)=>[e,Oe[t]]))),Ke.Ee=new Ke(Ke.Ae,Ue.ze,257,286,15),Ke.Me=new Ke(Ke.Be,Ue.Ce,0,30,15),Ke.Ue=new Ke(null,Ue.xe,0,19,7);const We=[new Te(0,0,0,0,0),new Te(4,4,8,4,1),new Te(4,5,16,8,1),new Te(4,6,32,32,1),new Te(4,4,16,16,2),new Te(8,16,32,32,2),new Te(8,16,128,128,2),new Te(8,32,128,256,2),new Te(32,128,258,1024,2),new Te(32,258,258,4096,2)],je=[\"need dictionary\",\"stream end\",\"\",\"\",\"stream error\",\"data error\",\"\",\"buffer error\",\"\",\"\"],He=113,Le=666,Fe=262;function qe(e,t,n,r){const s=e[2*t],i=e[2*n];return i>s||s==i&&r[t]<=r[n]}function Ge(){const e=this;let t,n,s,c,f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z,C,x,_,A,I,D,V,P,R,B,E,M,U;const K=new Ue,N=new Ue,O=new Ue;let T,W,j,H,L,F;function q(){let t;for(t=0;286>t;t++)E[2*t]=0;for(t=0;30>t;t++)M[2*t]=0;for(t=0;19>t;t++)U[2*t]=0;E[512]=1,e.ue=e.we=0,W=j=0}function G(e,t){let n,r=-1,s=e[1],i=0,o=7,c=4;0===s&&(o=138,c=3),e[2*(t+1)+1]=65535;for(let f=0;t>=f;f++)n=s,s=e[2*(f+1)+1],++i<o&&n==s||(c>i?U[2*n]+=i:0!==n?(n!=r&&U[2*n]++,U[32]++):i>10?U[36]++:U[34]++,i=0,r=n,0===s?(o=138,c=3):n==s?(o=6,c=3):(o=7,c=4))}function J(t){e.Ke[e.pending++]=t}function Q(e){J(255&e),J(e>>>8&255)}function X(e,t){let n;const r=t;F>16-r?(n=e,L|=n<<F&65535,Q(L),L=n>>>16-F,F+=r-16):(L|=e<<F&65535,F+=r)}function Y(e,t){const n=2*e;X(65535&t[n],65535&t[n+1])}function Z(e,t){let n,r,s=-1,i=e[1],o=0,c=7,f=4;for(0===i&&(c=138,f=3),n=0;t>=n;n++)if(r=i,i=e[2*(n+1)+1],++o>=c||r!=i){if(f>o)do{Y(r,U)}while(0!=--o);else 0!==r?(r!=s&&(Y(r,U),o--),Y(16,U),X(o-3,2)):o>10?(Y(18,U),X(o-11,7)):(Y(17,U),X(o-3,3));o=0,s=r,0===i?(c=138,f=3):r==i?(c=6,f=3):(c=7,f=4)}}function $(){16==F?(Q(L),L=0,F=0):8>F||(J(255&L),L>>>=8,F-=8)}function ee(t,n){let s,i,o;if(e.Ne[W]=t,e.Oe[W]=255&n,W++,0===t?E[2*n]++:(j++,t--,E[2*(Ue.ge[n]+256+1)]++,M[2*Ue.Se(t)]++),0==(8191&W)&&V>2){for(s=8*W,i=C-k,o=0;30>o;o++)s+=M[2*o]*(5+Ue.Ce[o]);if(s>>>=3,j<r.floor(W/2)&&s<r.floor(i/2))return!0}return W==T-1}function te(t,n){let r,s,i,o,c=0;if(0!==W)do{r=e.Ne[c],s=e.Oe[c],c++,0===r?Y(s,t):(i=Ue.ge[s],Y(i+256+1,t),o=Ue.ze[i],0!==o&&(s-=Ue.ke[i],X(s,o)),r--,i=Ue.Se(r),Y(i,n),o=Ue.Ce[i],0!==o&&(r-=Ue.ve[i],X(r,o)))}while(W>c);Y(256,t),H=t[513]}function ne(){F>8?Q(L):F>0&&J(255&L),L=0,F=0}function re(t,n,r){X(0+(r?1:0),3),((t,n)=>{ne(),H=8,Q(n),Q(~n),e.Ke.set(u.subarray(t,t+n),e.pending),e.pending+=n})(t,n)}function se(n){((t,n,r)=>{let s,i,o=0;V>0?(K.ne(e),N.ne(e),o=(()=>{let t;for(G(E,K.he),G(M,N.he),O.ne(e),t=18;t>=3&&0===U[2*Ue._e[t]+1];t--);return e.ue+=14+3*(t+1),t})(),s=e.ue+3+7>>>3,i=e.we+3+7>>>3,i>s||(s=i)):s=i=n+5,n+4>s||-1==t?i==s?(X(2+(r?1:0),3),te(Ke.Ae,Ke.Be)):(X(4+(r?1:0),3),((e,t,n)=>{let r;for(X(e-257,5),X(t-1,5),X(n-4,4),r=0;n>r;r++)X(U[2*Ue._e[r]+1],3);Z(E,e-1),Z(M,t-1)})(K.he+1,N.he+1,o+1),te(E,M)):re(t,n,r),q(),r&&ne()})(0>k?-1:k,C-k,n),k=C,t.Te()}function ie(){let e,n,r,s;do{if(s=w-_-C,0===s&&0===C&&0===_)s=f;else if(-1==s)s--;else if(C>=f+f-Fe){u.set(u.subarray(f,f+f),0),x-=f,C-=f,k-=f,e=y,r=e;do{n=65535&d[--r],d[r]=f>n?0:n-f}while(0!=--e);e=f,r=e;do{n=65535&h[--r],h[r]=f>n?0:n-f}while(0!=--e);s+=f}if(0===t.We)return;e=t.je(u,C+_,s),_+=e,3>_||(p=255&u[C],p=(p<<g^255&u[C+1])&b)}while(Fe>_&&0!==t.We)}function oe(e){let t,n,r=I,s=C,i=A;const o=C>f-Fe?C-(f-Fe):0;let c=B;const a=l,w=C+258;let d=u[s+i-1],p=u[s+i];R>A||(r>>=2),c>_&&(c=_);do{if(t=e,u[t+i]==p&&u[t+i-1]==d&&u[t]==u[s]&&u[++t]==u[s+1]){s+=2,t++;do{}while(u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&w>s);if(n=258-(w-s),s=w-258,n>i){if(x=e,i=n,n>=c)break;d=u[s+i-1],p=u[s+i]}}}while((e=65535&h[e&a])>o&&0!=--r);return i>_?_:i}e.le=[],e.be=[],e.ae=[],E=[],M=[],U=[],e.de=(t,n)=>{const r=e.ae,s=r[n];let i=n<<1;for(;i<=e.ce&&(i<e.ce&&qe(t,r[i+1],r[i],e.le)&&i++,!qe(t,s,r[i],e.le));)r[n]=r[i],n=i,i<<=1;r[n]=s},e.He=(t,S,x,W,j,G)=>(W||(W=8),j||(j=8),G||(G=0),t.Le=null,-1==S&&(S=6),1>j||j>9||8!=W||9>x||x>15||0>S||S>9||0>G||G>2?Re:(t.Fe=e,a=x,f=1<<a,l=f-1,m=j+7,y=1<<m,b=y-1,g=r.floor((m+3-1)/3),u=new i(2*f),h=[],d=[],T=1<<j+6,e.Ke=new i(4*T),s=4*T,e.Ne=new o(T),e.Oe=new i(T),V=S,P=G,(t=>(t.qe=t.Ge=0,t.Le=null,e.pending=0,e.Je=0,n=He,c=0,K.re=E,K.ie=Ke.Ee,N.re=M,N.ie=Ke.Me,O.re=U,O.ie=Ke.Ue,L=0,F=0,H=8,q(),(()=>{w=2*f,d[y-1]=0;for(let e=0;y-1>e;e++)d[e]=0;D=We[V].De,R=We[V].Ie,B=We[V].Ve,I=We[V].Pe,C=0,k=0,_=0,v=A=2,z=0,p=0})(),0))(t))),e.Qe=()=>42!=n&&n!=He&&n!=Le?Re:(e.Oe=null,e.Ne=null,e.Ke=null,d=null,h=null,u=null,e.Fe=null,n==He?-3:0),e.Xe=(e,t,n)=>{let r=0;return-1==t&&(t=6),0>t||t>9||0>n||n>2?Re:(We[V].Re!=We[t].Re&&0!==e.qe&&(r=e.Ye(1)),V!=t&&(V=t,D=We[V].De,R=We[V].Ie,B=We[V].Ve,I=We[V].Pe),P=n,r)},e.Ze=(e,t,r)=>{let s,i=r,o=0;if(!t||42!=n)return Re;if(3>i)return 0;for(i>f-Fe&&(i=f-Fe,o=r-i),u.set(t.subarray(o,o+i),0),C=i,k=i,p=255&u[0],p=(p<<g^255&u[1])&b,s=0;i-3>=s;s++)p=(p<<g^255&u[s+2])&b,h[s&l]=d[p],d[p]=s;return 0},e.Ye=(r,i)=>{let o,w,m,I,R;if(i>4||0>i)return Re;if(!r.$e||!r.et&&0!==r.We||n==Le&&4!=i)return r.Le=je[4],Re;if(0===r.tt)return r.Le=je[7],-5;var B;if(t=r,I=c,c=i,42==n&&(w=8+(a-8<<4)<<8,m=(V-1&255)>>1,m>3&&(m=3),w|=m<<6,0!==C&&(w|=32),w+=31-w%31,n=He,J((B=w)>>8&255),J(255&B)),0!==e.pending){if(t.Te(),0===t.tt)return c=-1,0}else if(0===t.We&&I>=i&&4!=i)return t.Le=je[7],-5;if(n==Le&&0!==t.We)return r.Le=je[7],-5;if(0!==t.We||0!==_||0!=i&&n!=Le){switch(R=-1,We[V].Re){case 0:R=(e=>{let n,r=65535;for(r>s-5&&(r=s-5);;){if(1>=_){if(ie(),0===_&&0==e)return 0;if(0===_)break}if(C+=_,_=0,n=k+r,(0===C||C>=n)&&(_=C-n,C=n,se(!1),0===t.tt))return 0;if(C-k>=f-Fe&&(se(!1),0===t.tt))return 0}return se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i);break;case 1:R=(e=>{let n,r=0;for(;;){if(Fe>_){if(ie(),Fe>_&&0==e)return 0;if(0===_)break}if(3>_||(p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C),0===r||(C-r&65535)>f-Fe||2!=P&&(v=oe(r)),3>v)n=ee(0,255&u[C]),_--,C++;else if(n=ee(C-x,v-3),_-=v,v>D||3>_)C+=v,v=0,p=255&u[C],p=(p<<g^255&u[C+1])&b;else{v--;do{C++,p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C}while(0!=--v);C++}if(n&&(se(!1),0===t.tt))return 0}return se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i);break;case 2:R=(e=>{let n,r,s=0;for(;;){if(Fe>_){if(ie(),Fe>_&&0==e)return 0;if(0===_)break}if(3>_||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C),A=v,S=x,v=2,0!==s&&D>A&&f-Fe>=(C-s&65535)&&(2!=P&&(v=oe(s)),5>=v&&(1==P||3==v&&C-x>4096)&&(v=2)),3>A||v>A)if(0!==z){if(n=ee(0,255&u[C-1]),n&&se(!1),C++,_--,0===t.tt)return 0}else z=1,C++,_--;else{r=C+_-3,n=ee(C-1-S,A-3),_-=A-1,A-=2;do{++C>r||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C)}while(0!=--A);if(z=0,v=2,C++,n&&(se(!1),0===t.tt))return 0}}return 0!==z&&(n=ee(0,255&u[C-1]),z=0),se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i)}if(2!=R&&3!=R||(n=Le),0==R||2==R)return 0===t.tt&&(c=-1),0;if(1==R){if(1==i)X(2,3),Y(256,Ke.Ae),$(),9>1+H+10-F&&(X(2,3),Y(256,Ke.Ae),$()),H=7;else if(re(0,0,!1),3==i)for(o=0;y>o;o++)d[o]=0;if(t.Te(),0===t.tt)return c=-1,0}}return 4!=i?0:1}}function Je(){const e=this;e.nt=0,e.rt=0,e.We=0,e.qe=0,e.tt=0,e.Ge=0}function Qe(e){const t=new Je,n=(o=e&&e.chunkSize?e.chunkSize:65536)+5*(r.floor(o/16383)+1);var o;const c=new i(n);let f=e?e.level:-1;void 0===f&&(f=-1),t.He(f),t.$e=c,this.append=(e,r)=>{let o,f,a=0,l=0,u=0;const w=[];if(e.length){t.nt=0,t.et=e,t.We=e.length;do{if(t.rt=0,t.tt=n,o=t.Ye(0),0!=o)throw new s(\"deflating: \"+t.Le);t.rt&&(t.rt==n?w.push(new i(c)):w.push(c.subarray(0,t.rt))),u+=t.rt,r&&t.nt>0&&t.nt!=a&&(r(t.nt),a=t.nt)}while(t.We>0||0===t.tt);return w.length>1?(f=new i(u),w.forEach((e=>{f.set(e,l),l+=e.length}))):f=w[0]?new i(w[0]):new i,f}},this.flush=()=>{let e,r,o=0,f=0;const a=[];do{if(t.rt=0,t.tt=n,e=t.Ye(4),1!=e&&0!=e)throw new s(\"deflating: \"+t.Le);n-t.tt>0&&a.push(c.slice(0,t.rt)),f+=t.rt}while(t.We>0||0===t.tt);return t.Qe(),r=new i(f),a.forEach((e=>{r.set(e,o),o+=e.length})),r}}Je.prototype={He(e,t){const n=this;return n.Fe=new Ge,t||(t=15),n.Fe.He(n,e,t)},Ye(e){const t=this;return t.Fe?t.Fe.Ye(t,e):Re},Qe(){const e=this;if(!e.Fe)return Re;const t=e.Fe.Qe();return e.Fe=null,t},Xe(e,t){const n=this;return n.Fe?n.Fe.Xe(n,e,t):Re},Ze(e,t){const n=this;return n.Fe?n.Fe.Ze(n,e,t):Re},je(e,t,n){const r=this;let s=r.We;return s>n&&(s=n),0===s?0:(r.We-=s,e.set(r.et.subarray(r.nt,r.nt+s),t),r.nt+=s,r.qe+=s,s)},Te(){const e=this;let t=e.Fe.pending;t>e.tt&&(t=e.tt),0!==t&&(e.$e.set(e.Fe.Ke.subarray(e.Fe.Je,e.Fe.Je+t),e.rt),e.rt+=t,e.Fe.Je+=t,e.Ge+=t,e.tt-=t,e.Fe.pending-=t,0===e.Fe.pending&&(e.Fe.Je=0))}};const Xe=-2,Ye=-3,Ze=-5,$e=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],et=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],tt=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],nt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],rt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],st=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],it=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];function ot(){let e,t,n,r,s,i;function o(e,t,o,c,f,a,l,u,w,h,d){let p,y,m,b,g,k,v,S,z,C,x,_,A,I,D;C=0,g=o;do{n[e[t+C]]++,C++,g--}while(0!==g);if(n[0]==o)return l[0]=-1,u[0]=0,0;for(S=u[0],k=1;15>=k&&0===n[k];k++);for(v=k,k>S&&(S=k),g=15;0!==g&&0===n[g];g--);for(m=g,S>g&&(S=g),u[0]=S,I=1<<k;g>k;k++,I<<=1)if(0>(I-=n[k]))return Ye;if(0>(I-=n[g]))return Ye;for(n[g]+=I,i[1]=k=0,C=1,A=2;0!=--g;)i[A]=k+=n[C],A++,C++;g=0,C=0;do{0!==(k=e[t+C])&&(d[i[k]++]=g),C++}while(++g<o);for(o=i[m],i[0]=g=0,C=0,b=-1,_=-S,s[0]=0,x=0,D=0;m>=v;v++)for(p=n[v];0!=p--;){for(;v>_+S;){if(b++,_+=S,D=m-_,D=D>S?S:D,(y=1<<(k=v-_))>p+1&&(y-=p+1,A=v,D>k))for(;++k<D&&(y<<=1)>n[++A];)y-=n[A];if(D=1<<k,h[0]+D>1440)return Ye;s[b]=x=h[0],h[0]+=D,0!==b?(i[b]=g,r[0]=k,r[1]=S,k=g>>>_-S,r[2]=x-s[b-1]-k,w.set(r,3*(s[b-1]+k))):l[0]=x}for(r[1]=v-_,o>C?d[C]<c?(r[0]=256>d[C]?0:96,r[2]=d[C++]):(r[0]=a[d[C]-c]+16+64,r[2]=f[d[C++]-c]):r[0]=192,y=1<<v-_,k=g>>>_;D>k;k+=y)w.set(r,3*(x+k));for(k=1<<v-1;0!=(g&k);k>>>=1)g^=k;for(g^=k,z=(1<<_)-1;(g&z)!=i[b];)b--,_-=S,z=(1<<_)-1}return 0!==I&&1!=m?Ze:0}function c(o){let c;for(e||(e=[],t=[],n=new f(16),r=[],s=new f(15),i=new f(16)),t.length<o&&(t=[]),c=0;o>c;c++)t[c]=0;for(c=0;16>c;c++)n[c]=0;for(c=0;3>c;c++)r[c]=0;s.set(n.subarray(0,15),0),i.set(n.subarray(0,16),0)}this.st=(n,r,s,i,f)=>{let a;return c(19),e[0]=0,a=o(n,0,19,19,null,null,s,r,i,e,t),a==Ye?f.Le=\"oversubscribed dynamic bit lengths tree\":a!=Ze&&0!==r[0]||(f.Le=\"incomplete dynamic bit lengths tree\",a=Ye),a},this.it=(n,r,s,i,f,a,l,u,w)=>{let h;return c(288),e[0]=0,h=o(s,0,n,257,nt,rt,a,i,u,e,t),0!=h||0===i[0]?(h==Ye?w.Le=\"oversubscribed literal/length tree\":-4!=h&&(w.Le=\"incomplete literal/length tree\",h=Ye),h):(c(288),h=o(s,n,r,0,st,it,l,f,u,e,t),0!=h||0===f[0]&&n>257?(h==Ye?w.Le=\"oversubscribed distance tree\":h==Ze?(w.Le=\"incomplete distance tree\",h=Ye):-4!=h&&(w.Le=\"empty distance tree with lengths\",h=Ye),h):0)}}function ct(){const e=this;let t,n,r,s,i=0,o=0,c=0,f=0,a=0,l=0,u=0,w=0,h=0,d=0;function p(e,t,n,r,s,i,o,c){let f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z;d=c.nt,p=c.We,w=o.ot,h=o.ct,y=o.write,m=y<o.read?o.read-y-1:o.end-y,b=$e[e],g=$e[t];do{for(;20>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;if(f=w&b,a=n,l=r,z=3*(l+f),0!==(u=a[z]))for(;;){if(w>>=a[z+1],h-=a[z+1],0!=(16&u)){for(u&=15,k=a[z+2]+(w&$e[u]),w>>=u,h-=u;15>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;for(f=w&g,a=s,l=i,z=3*(l+f),u=a[z];;){if(w>>=a[z+1],h-=a[z+1],0!=(16&u)){for(u&=15;u>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;if(v=a[z+2]+(w&$e[u]),w>>=u,h-=u,m-=k,v>y){S=y-v;do{S+=o.end}while(0>S);if(u=o.end-S,k>u){if(k-=u,y-S>0&&u>y-S)do{o.lt[y++]=o.lt[S++]}while(0!=--u);else o.lt.set(o.lt.subarray(S,S+u),y),y+=u,S+=u,u=0;S=0}}else S=y-v,y-S>0&&2>y-S?(o.lt[y++]=o.lt[S++],o.lt[y++]=o.lt[S++],k-=2):(o.lt.set(o.lt.subarray(S,S+2),y),y+=2,S+=2,k-=2);if(y-S>0&&k>y-S)do{o.lt[y++]=o.lt[S++]}while(0!=--k);else o.lt.set(o.lt.subarray(S,S+k),y),y+=k,S+=k,k=0;break}if(0!=(64&u))return c.Le=\"invalid distance code\",k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,Ye;f+=a[z+2],f+=w&$e[u],z=3*(l+f),u=a[z]}break}if(0!=(64&u))return 0!=(32&u)?(k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,1):(c.Le=\"invalid literal/length code\",k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,Ye);if(f+=a[z+2],f+=w&$e[u],z=3*(l+f),0===(u=a[z])){w>>=a[z+1],h-=a[z+1],o.lt[y++]=a[z+2],m--;break}}else w>>=a[z+1],h-=a[z+1],o.lt[y++]=a[z+2],m--}while(m>=258&&p>=10);return k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,0}e.init=(e,i,o,c,f,a)=>{t=0,u=e,w=i,r=o,h=c,s=f,d=a,n=null},e.ut=(e,y,m)=>{let b,g,k,v,S,z,C,x=0,_=0,A=0;for(A=y.nt,v=y.We,x=e.ot,_=e.ct,S=e.write,z=S<e.read?e.read-S-1:e.end-S;;)switch(t){case 0:if(z>=258&&v>=10&&(e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,m=p(u,w,r,h,s,d,e,y),A=y.nt,v=y.We,x=e.ot,_=e.ct,S=e.write,z=S<e.read?e.read-S-1:e.end-S,0!=m)){t=1==m?7:9;break}c=u,n=r,o=h,t=1;case 1:for(b=c;b>_;){if(0===v)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(A++))<<_,_+=8}if(g=3*(o+(x&$e[b])),x>>>=n[g+1],_-=n[g+1],k=n[g],0===k){f=n[g+2],t=6;break}if(0!=(16&k)){a=15&k,i=n[g+2],t=2;break}if(0==(64&k)){c=k,o=g/3+n[g+2];break}if(0!=(32&k)){t=7;break}return t=9,y.Le=\"invalid literal/length code\",m=Ye,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);case 2:for(b=a;b>_;){if(0===v)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(A++))<<_,_+=8}i+=x&$e[b],x>>=b,_-=b,c=w,n=s,o=d,t=3;case 3:for(b=c;b>_;){if(0===v)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(A++))<<_,_+=8}if(g=3*(o+(x&$e[b])),x>>=n[g+1],_-=n[g+1],k=n[g],0!=(16&k)){a=15&k,l=n[g+2],t=4;break}if(0==(64&k)){c=k,o=g/3+n[g+2];break}return t=9,y.Le=\"invalid distance code\",m=Ye,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);case 4:for(b=a;b>_;){if(0===v)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(A++))<<_,_+=8}l+=x&$e[b],x>>=b,_-=b,t=5;case 5:for(C=S-l;0>C;)C+=e.end;for(;0!==i;){if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);e.lt[S++]=e.lt[C++],z--,C==e.end&&(C=0),i--}t=0;break;case 6:if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,e.lt[S++]=f,z--,t=0;break;case 7:if(_>7&&(_-=8,v++,A--),e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,e.read!=e.write)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);t=8;case 8:return m=1,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);case 9:return m=Ye,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);default:return m=Xe,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m)}},e.ht=()=>{}}ot.dt=(e,t,n,r)=>(e[0]=9,t[0]=5,n[0]=et,r[0]=tt,0);const ft=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function at(e,t){const n=this;let r,s=0,o=0,c=0,a=0;const l=[0],u=[0],w=new ct;let h=0,d=new f(4320);const p=new ot;n.ct=0,n.ot=0,n.lt=new i(t),n.end=t,n.read=0,n.write=0,n.reset=(e,t)=>{t&&(t[0]=0),6==s&&w.ht(e),s=0,n.ct=0,n.ot=0,n.read=n.write=0},n.reset(e,null),n.wt=(e,t)=>{let r,s,i;return s=e.rt,i=n.read,r=(i>n.write?n.end:n.write)-i,r>e.tt&&(r=e.tt),0!==r&&t==Ze&&(t=0),e.tt-=r,e.Ge+=r,e.$e.set(n.lt.subarray(i,i+r),s),s+=r,i+=r,i==n.end&&(i=0,n.write==n.end&&(n.write=0),r=n.write-i,r>e.tt&&(r=e.tt),0!==r&&t==Ze&&(t=0),e.tt-=r,e.Ge+=r,e.$e.set(n.lt.subarray(i,i+r),s),s+=r,i+=r),e.rt=s,n.read=i,t},n.ut=(e,t)=>{let i,f,y,m,b,g,k,v;for(m=e.nt,b=e.We,f=n.ot,y=n.ct,g=n.write,k=g<n.read?n.read-g-1:n.end-g;;){let S,z,C,x,_,A,I,D;switch(s){case 0:for(;3>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}switch(i=7&f,h=1&i,i>>>1){case 0:f>>>=3,y-=3,i=7&y,f>>>=i,y-=i,s=1;break;case 1:S=[],z=[],C=[[]],x=[[]],ot.dt(S,z,C,x),w.init(S[0],z[0],C[0],0,x[0],0),f>>>=3,y-=3,s=6;break;case 2:f>>>=3,y-=3,s=3;break;case 3:return f>>>=3,y-=3,s=9,e.Le=\"invalid block type\",t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t)}break;case 1:for(;32>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if((~f>>>16&65535)!=(65535&f))return s=9,e.Le=\"invalid stored block lengths\",t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);o=65535&f,f=y=0,s=0!==o?2:0!==h?7:0;break;case 2:if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(0===k&&(g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k&&(n.write=g,t=n.wt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k)))return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(t=0,i=o,i>b&&(i=b),i>k&&(i=k),n.lt.set(e.je(m,i),g),m+=i,b-=i,g+=i,k-=i,0!=(o-=i))break;s=0!==h?7:0;break;case 3:for(;14>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(c=i=16383&f,(31&i)>29||(i>>5&31)>29)return s=9,e.Le=\"too many length or distance symbols\",t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(i=258+(31&i)+(i>>5&31),!r||r.length<i)r=[];else for(v=0;i>v;v++)r[v]=0;f>>>=14,y-=14,a=0,s=4;case 4:for(;4+(c>>>10)>a;){for(;3>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}r[ft[a++]]=7&f,f>>>=3,y-=3}for(;19>a;)r[ft[a++]]=0;if(l[0]=7,i=p.st(r,l,u,d,e),0!=i)return(t=i)==Ye&&(r=null,s=9),n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);a=0,s=5;case 5:for(;i=c,258+(31&i)+(i>>5&31)>a;){let o,w;for(i=l[0];i>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(i=d[3*(u[0]+(f&$e[i]))+1],w=d[3*(u[0]+(f&$e[i]))+2],16>w)f>>>=i,y-=i,r[a++]=w;else{for(v=18==w?7:w-14,o=18==w?11:3;i+v>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(f>>>=i,y-=i,o+=f&$e[v],f>>>=v,y-=v,v=a,i=c,v+o>258+(31&i)+(i>>5&31)||16==w&&1>v)return r=null,s=9,e.Le=\"invalid bit length repeat\",t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);w=16==w?r[v-1]:0;do{r[v++]=w}while(0!=--o);a=v}}if(u[0]=-1,_=[],A=[],I=[],D=[],_[0]=9,A[0]=6,i=c,i=p.it(257+(31&i),1+(i>>5&31),r,_,A,I,D,d,e),0!=i)return i==Ye&&(r=null,s=9),t=i,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);w.init(_[0],A[0],d,I[0],d,D[0]),s=6;case 6:if(n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,1!=(t=w.ut(n,e,t)))return n.wt(e,t);if(t=0,w.ht(e),m=e.nt,b=e.We,f=n.ot,y=n.ct,g=n.write,k=g<n.read?n.read-g-1:n.end-g,0===h){s=0;break}s=7;case 7:if(n.write=g,t=n.wt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,n.read!=n.write)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);s=8;case 8:return t=1,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);case 9:return t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);default:return t=Xe,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t)}}},n.ht=e=>{n.reset(e,null),n.lt=null,d=null},n.yt=(e,t,r)=>{n.lt.set(e.subarray(t,t+r),0),n.read=n.write=r},n.bt=()=>1==s?1:0}const lt=13,ut=[0,0,255,255];function wt(){const e=this;function t(e){return e&&e.gt?(e.qe=e.Ge=0,e.Le=null,e.gt.mode=7,e.gt.kt.reset(e,null),0):Xe}e.mode=0,e.method=0,e.vt=[0],e.St=0,e.marker=0,e.zt=0,e.Ct=t=>(e.kt&&e.kt.ht(t),e.kt=null,0),e.xt=(n,r)=>(n.Le=null,e.kt=null,8>r||r>15?(e.Ct(n),Xe):(e.zt=r,n.gt.kt=new at(n,1<<r),t(n),0)),e._t=(e,t)=>{let n,r;if(!e||!e.gt||!e.et)return Xe;const s=e.gt;for(t=4==t?Ze:0,n=Ze;;)switch(s.mode){case 0:if(0===e.We)return n;if(n=t,e.We--,e.qe++,8!=(15&(s.method=e.ft(e.nt++)))){s.mode=lt,e.Le=\"unknown compression method\",s.marker=5;break}if(8+(s.method>>4)>s.zt){s.mode=lt,e.Le=\"invalid win size\",s.marker=5;break}s.mode=1;case 1:if(0===e.We)return n;if(n=t,e.We--,e.qe++,r=255&e.ft(e.nt++),((s.method<<8)+r)%31!=0){s.mode=lt,e.Le=\"incorrect header check\",s.marker=5;break}if(0==(32&r)){s.mode=7;break}s.mode=2;case 2:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St=(255&e.ft(e.nt++))<<24&4278190080,s.mode=3;case 3:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St+=(255&e.ft(e.nt++))<<16&16711680,s.mode=4;case 4:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St+=(255&e.ft(e.nt++))<<8&65280,s.mode=5;case 5:return 0===e.We?n:(n=t,e.We--,e.qe++,s.St+=255&e.ft(e.nt++),s.mode=6,2);case 6:return s.mode=lt,e.Le=\"need dictionary\",s.marker=0,Xe;case 7:if(n=s.kt.ut(e,n),n==Ye){s.mode=lt,s.marker=0;break}if(0==n&&(n=t),1!=n)return n;n=t,s.kt.reset(e,s.vt),s.mode=12;case 12:return e.We=0,1;case lt:return Ye;default:return Xe}},e.At=(e,t,n)=>{let r=0,s=n;if(!e||!e.gt||6!=e.gt.mode)return Xe;const i=e.gt;return s<1<<i.zt||(s=(1<<i.zt)-1,r=n-s),i.kt.yt(t,r,s),i.mode=7,0},e.It=e=>{let n,r,s,i,o;if(!e||!e.gt)return Xe;const c=e.gt;if(c.mode!=lt&&(c.mode=lt,c.marker=0),0===(n=e.We))return Ze;for(r=e.nt,s=c.marker;0!==n&&4>s;)e.ft(r)==ut[s]?s++:s=0!==e.ft(r)?0:4-s,r++,n--;return e.qe+=r-e.nt,e.nt=r,e.We=n,c.marker=s,4!=s?Ye:(i=e.qe,o=e.Ge,t(e),e.qe=i,e.Ge=o,c.mode=7,0)},e.Dt=e=>e&&e.gt&&e.gt.kt?e.gt.kt.bt():Xe}function ht(){}function dt(e){const t=new ht,n=e&&e.chunkSize?r.floor(2*e.chunkSize):131072,o=new i(n);let c=!1;t.xt(),t.$e=o,this.append=(e,r)=>{const f=[];let a,l,u=0,w=0,h=0;if(0!==e.length){t.nt=0,t.et=e,t.We=e.length;do{if(t.rt=0,t.tt=n,0!==t.We||c||(t.nt=0,c=!0),a=t._t(0),c&&a===Ze){if(0!==t.We)throw new s(\"inflating: bad input\")}else if(0!==a&&1!==a)throw new s(\"inflating: \"+t.Le);if((c||1===a)&&t.We===e.length)throw new s(\"inflating: bad input\");t.rt&&(t.rt===n?f.push(new i(o)):f.push(o.subarray(0,t.rt))),h+=t.rt,r&&t.nt>0&&t.nt!=u&&(r(t.nt),u=t.nt)}while(t.We>0||0===t.tt);return f.length>1?(l=new i(h),f.forEach((e=>{l.set(e,w),w+=e.length}))):l=f[0]?new i(f[0]):new i,l}},this.flush=()=>{t.Ct()}}ht.prototype={xt(e){const t=this;return t.gt=new wt,e||(e=15),t.gt.xt(t,e)},_t(e){const t=this;return t.gt?t.gt._t(t,e):Xe},Ct(){const e=this;if(!e.gt)return Xe;const t=e.gt.Ct(e);return e.gt=null,t},It(){const e=this;return e.gt?e.gt.It(e):Xe},At(e,t){const n=this;return n.gt?n.gt.At(n,e,t):Xe},ft(e){return this.et[e]},je(e,t){return this.et.subarray(e,e+t)}},self.initCodec=()=>{self.Deflate=Qe,self.Inflate=dt};\\n'],{type:\"text/javascript\"}));e({workerScripts:{inflate:[t],deflate:[t]}})}export{e as configureWebWorker};\n","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* global Blob, atob, btoa, XMLHttpRequest, URL, fetch, ReadableStream, WritableStream, FileReader, TransformStream, Response */\n// deno-lint-ignore-file no-this-alias\n\nimport {\n\tUNDEFINED_VALUE,\n\tFUNCTION_TYPE\n} from \"./constants.js\";\nimport { getConfiguration } from \"./configuration.js\";\n\nconst ERR_HTTP_STATUS = \"HTTP error \";\nconst ERR_HTTP_RANGE = \"HTTP Range not supported\";\nconst ERR_ITERATOR_COMPLETED_TOO_SOON = \"Writer iterator completed too soon\";\n\nconst CONTENT_TYPE_TEXT_PLAIN = \"text/plain\";\nconst HTTP_HEADER_CONTENT_LENGTH = \"Content-Length\";\nconst HTTP_HEADER_CONTENT_RANGE = \"Content-Range\";\nconst HTTP_HEADER_ACCEPT_RANGES = \"Accept-Ranges\";\nconst HTTP_HEADER_RANGE = \"Range\";\nconst HTTP_HEADER_CONTENT_TYPE = \"Content-Type\";\nconst HTTP_METHOD_HEAD = \"HEAD\";\nconst HTTP_METHOD_GET = \"GET\";\nconst HTTP_RANGE_UNIT = \"bytes\";\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst PROPERTY_NAME_WRITABLE = \"writable\";\n\nclass Stream {\n\n\tconstructor() {\n\t\tthis.size = 0;\n\t}\n\n\tinit() {\n\t\tthis.initialized = true;\n\t}\n}\n\nclass Reader extends Stream {\n\n\tget readable() {\n\t\tconst reader = this;\n\t\tconst { chunkSize = DEFAULT_CHUNK_SIZE } = reader;\n\t\tconst readable = new ReadableStream({\n\t\t\tstart() {\n\t\t\t\tthis.chunkOffset = 0;\n\t\t\t},\n\t\t\tasync pull(controller) {\n\t\t\t\tconst { offset = 0, size, diskNumberStart } = readable;\n\t\t\t\tconst { chunkOffset } = this;\n\t\t\t\tcontroller.enqueue(await readUint8Array(reader, offset + chunkOffset, Math.min(chunkSize, size - chunkOffset), diskNumberStart));\n\t\t\t\tif (chunkOffset + chunkSize > size) {\n\t\t\t\t\tcontroller.close();\n\t\t\t\t} else {\n\t\t\t\t\tthis.chunkOffset += chunkSize;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn readable;\n\t}\n}\n\nclass Writer extends Stream {\n\n\tconstructor() {\n\t\tsuper();\n\t\tconst writer = this;\n\t\tconst writable = new WritableStream({\n\t\t\twrite(chunk) {\n\t\t\t\treturn writer.writeUint8Array(chunk);\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(writer, PROPERTY_NAME_WRITABLE, {\n\t\t\tget() {\n\t\t\t\treturn writable;\n\t\t\t}\n\t\t});\n\t}\n\n\twriteUint8Array() {\n\t\t// abstract\n\t}\n}\n\nclass Data64URIReader extends Reader {\n\n\tconstructor(dataURI) {\n\t\tsuper();\n\t\tlet dataEnd = dataURI.length;\n\t\twhile (dataURI.charAt(dataEnd - 1) == \"=\") {\n\t\t\tdataEnd--;\n\t\t}\n\t\tconst dataStart = dataURI.indexOf(\",\") + 1;\n\t\tObject.assign(this, {\n\t\t\tdataURI,\n\t\t\tdataStart,\n\t\t\tsize: Math.floor((dataEnd - dataStart) * 0.75)\n\t\t});\n\t}\n\n\treadUint8Array(offset, length) {\n\t\tconst {\n\t\t\tdataStart,\n\t\t\tdataURI\n\t\t} = this;\n\t\tconst dataArray = new Uint8Array(length);\n\t\tconst start = Math.floor(offset / 3) * 4;\n\t\tconst bytes = atob(dataURI.substring(start + dataStart, Math.ceil((offset + length) / 3) * 4 + dataStart));\n\t\tconst delta = offset - Math.floor(start / 4) * 3;\n\t\tfor (let indexByte = delta; indexByte < delta + length; indexByte++) {\n\t\t\tdataArray[indexByte - delta] = bytes.charCodeAt(indexByte);\n\t\t}\n\t\treturn dataArray;\n\t}\n}\n\nclass Data64URIWriter extends Writer {\n\n\tconstructor(contentType) {\n\t\tsuper();\n\t\tObject.assign(this, {\n\t\t\tdata: \"data:\" + (contentType || \"\") + \";base64,\",\n\t\t\tpending: []\n\t\t});\n\t}\n\n\twriteUint8Array(array) {\n\t\tconst writer = this;\n\t\tlet indexArray = 0;\n\t\tlet dataString = writer.pending;\n\t\tconst delta = writer.pending.length;\n\t\twriter.pending = \"\";\n\t\tfor (indexArray = 0; indexArray < (Math.floor((delta + array.length) / 3) * 3) - delta; indexArray++) {\n\t\t\tdataString += String.fromCharCode(array[indexArray]);\n\t\t}\n\t\tfor (; indexArray < array.length; indexArray++) {\n\t\t\twriter.pending += String.fromCharCode(array[indexArray]);\n\t\t}\n\t\tif (dataString.length > 2) {\n\t\t\twriter.data += btoa(dataString);\n\t\t} else {\n\t\t\twriter.pending = dataString;\n\t\t}\n\t}\n\n\tgetData() {\n\t\treturn this.data + btoa(this.pending);\n\t}\n}\n\nclass BlobReader extends Reader {\n\n\tconstructor(blob) {\n\t\tsuper();\n\t\tObject.assign(this, {\n\t\t\tblob,\n\t\t\tsize: blob.size\n\t\t});\n\t}\n\n\tasync readUint8Array(offset, length) {\n\t\tconst reader = this;\n\t\tconst offsetEnd = offset + length;\n\t\tconst blob = offset || offsetEnd < reader.size ? reader.blob.slice(offset, offsetEnd) : reader.blob;\n\t\tlet arrayBuffer = await blob.arrayBuffer();\n\t\tif (arrayBuffer.byteLength > length) {\n\t\t\tarrayBuffer = arrayBuffer.slice(offset, offsetEnd);\n\t\t}\n\t\treturn new Uint8Array(arrayBuffer);\n\t}\n}\n\nclass BlobWriter extends Stream {\n\n\tconstructor(contentType) {\n\t\tsuper();\n\t\tconst writer = this;\n\t\tconst transformStream = new TransformStream();\n\t\tconst headers = [];\n\t\tif (contentType) {\n\t\t\theaders.push([HTTP_HEADER_CONTENT_TYPE, contentType]);\n\t\t}\n\t\tObject.defineProperty(writer, PROPERTY_NAME_WRITABLE, {\n\t\t\tget() {\n\t\t\t\treturn transformStream.writable;\n\t\t\t}\n\t\t});\n\t\twriter.blob = new Response(transformStream.readable, { headers }).blob();\n\t}\n\n\tgetData() {\n\t\treturn this.blob;\n\t}\n}\n\nclass TextReader extends BlobReader {\n\n\tconstructor(text) {\n\t\tsuper(new Blob([text], { type: CONTENT_TYPE_TEXT_PLAIN }));\n\t}\n}\n\nclass TextWriter extends BlobWriter {\n\n\tconstructor(encoding) {\n\t\tsuper(encoding);\n\t\tObject.assign(this, {\n\t\t\tencoding,\n\t\t\tutf8: !encoding || encoding.toLowerCase() == \"utf-8\"\n\t\t});\n\t}\n\n\tasync getData() {\n\t\tconst {\n\t\t\tencoding,\n\t\t\tutf8\n\t\t} = this;\n\t\tconst blob = await super.getData();\n\t\tif (blob.text && utf8) {\n\t\t\treturn blob.text();\n\t\t} else {\n\t\t\tconst reader = new FileReader();\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tObject.assign(reader, {\n\t\t\t\t\tonload: ({ target }) => resolve(target.result),\n\t\t\t\t\tonerror: () => reject(reader.error)\n\t\t\t\t});\n\t\t\t\treader.readAsText(blob, encoding);\n\t\t\t});\n\t\t}\n\t}\n}\n\nclass FetchReader extends Reader {\n\n\tconstructor(url, options) {\n\t\tsuper();\n\t\tcreateHtpReader(this, url, options);\n\t}\n\n\tasync init() {\n\t\tawait initHttpReader(this, sendFetchRequest, getFetchRequestData);\n\t\tsuper.init();\n\t}\n\n\treadUint8Array(index, length) {\n\t\treturn readUint8ArrayHttpReader(this, index, length, sendFetchRequest, getFetchRequestData);\n\t}\n}\n\nclass XHRReader extends Reader {\n\n\tconstructor(url, options) {\n\t\tsuper();\n\t\tcreateHtpReader(this, url, options);\n\t}\n\n\tasync init() {\n\t\tawait initHttpReader(this, sendXMLHttpRequest, getXMLHttpRequestData);\n\t\tsuper.init();\n\t}\n\n\treadUint8Array(index, length) {\n\t\treturn readUint8ArrayHttpReader(this, index, length, sendXMLHttpRequest, getXMLHttpRequestData);\n\t}\n}\n\nfunction createHtpReader(httpReader, url, options) {\n\tconst {\n\t\tpreventHeadRequest,\n\t\tuseRangeHeader,\n\t\tforceRangeRequests\n\t} = options;\n\toptions = Object.assign({}, options);\n\tdelete options.preventHeadRequest;\n\tdelete options.useRangeHeader;\n\tdelete options.forceRangeRequests;\n\tdelete options.useXHR;\n\tObject.assign(httpReader, {\n\t\turl,\n\t\toptions,\n\t\tpreventHeadRequest,\n\t\tuseRangeHeader,\n\t\tforceRangeRequests\n\t});\n}\n\nasync function initHttpReader(httpReader, sendRequest, getRequestData) {\n\tconst {\n\t\turl,\n\t\tuseRangeHeader,\n\t\tforceRangeRequests\n\t} = httpReader;\n\tif (isHttpFamily(url) && (useRangeHeader || forceRangeRequests)) {\n\t\tconst { headers } = await sendRequest(HTTP_METHOD_GET, httpReader, getRangeHeaders(httpReader));\n\t\tif (!forceRangeRequests && headers.get(HTTP_HEADER_ACCEPT_RANGES) != HTTP_RANGE_UNIT) {\n\t\t\tthrow new Error(ERR_HTTP_RANGE);\n\t\t} else {\n\t\t\tlet contentSize;\n\t\t\tconst contentRangeHeader = headers.get(HTTP_HEADER_CONTENT_RANGE);\n\t\t\tif (contentRangeHeader) {\n\t\t\t\tconst splitHeader = contentRangeHeader.trim().split(/\\s*\\/\\s*/);\n\t\t\t\tif (splitHeader.length) {\n\t\t\t\t\tconst headerValue = splitHeader[1];\n\t\t\t\t\tif (headerValue && headerValue != \"*\") {\n\t\t\t\t\t\tcontentSize = Number(headerValue);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (contentSize === UNDEFINED_VALUE) {\n\t\t\t\tawait getContentLength(httpReader, sendRequest, getRequestData);\n\t\t\t} else {\n\t\t\t\thttpReader.size = contentSize;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tawait getContentLength(httpReader, sendRequest, getRequestData);\n\t}\n}\n\nasync function readUint8ArrayHttpReader(httpReader, index, length, sendRequest, getRequestData) {\n\tconst {\n\t\tuseRangeHeader,\n\t\tforceRangeRequests,\n\t\toptions\n\t} = httpReader;\n\tif (useRangeHeader || forceRangeRequests) {\n\t\tconst response = await sendRequest(HTTP_METHOD_GET, httpReader, getRangeHeaders(httpReader, index, length));\n\t\tif (response.status != 206) {\n\t\t\tthrow new Error(ERR_HTTP_RANGE);\n\t\t}\n\t\treturn new Uint8Array(await response.arrayBuffer());\n\t} else {\n\t\tconst { data } = httpReader;\n\t\tif (!data) {\n\t\t\tawait getRequestData(httpReader, options);\n\t\t}\n\t\treturn new Uint8Array(httpReader.data.subarray(index, index + length));\n\t}\n}\n\nfunction getRangeHeaders(httpReader, index = 0, length = 1) {\n\treturn Object.assign({}, getHeaders(httpReader), { [HTTP_HEADER_RANGE]: HTTP_RANGE_UNIT + \"=\" + index + \"-\" + (index + length - 1) });\n}\n\nfunction getHeaders({ options }) {\n\tconst { headers } = options;\n\tif (headers) {\n\t\tif (Symbol.iterator in headers) {\n\t\t\treturn Object.fromEntries(headers);\n\t\t} else {\n\t\t\treturn headers;\n\t\t}\n\t}\n}\n\nasync function getFetchRequestData(httpReader) {\n\tawait getRequestData(httpReader, sendFetchRequest);\n}\n\nasync function getXMLHttpRequestData(httpReader) {\n\tawait getRequestData(httpReader, sendXMLHttpRequest);\n}\n\nasync function getRequestData(httpReader, sendRequest) {\n\tconst response = await sendRequest(HTTP_METHOD_GET, httpReader, getHeaders(httpReader));\n\thttpReader.data = new Uint8Array(await response.arrayBuffer());\n\tif (!httpReader.size) {\n\t\thttpReader.size = httpReader.data.length;\n\t}\n}\n\nasync function getContentLength(httpReader, sendRequest, getRequestData) {\n\tif (httpReader.preventHeadRequest) {\n\t\tawait getRequestData(httpReader, httpReader.options);\n\t} else {\n\t\tconst response = await sendRequest(HTTP_METHOD_HEAD, httpReader, getHeaders(httpReader));\n\t\tconst contentLength = response.headers.get(HTTP_HEADER_CONTENT_LENGTH);\n\t\tif (contentLength) {\n\t\t\thttpReader.size = Number(contentLength);\n\t\t} else {\n\t\t\tawait getRequestData(httpReader, httpReader.options);\n\t\t}\n\t}\n}\n\nasync function sendFetchRequest(method, { options, url }, headers) {\n\tconst response = await fetch(url, Object.assign({}, options, { method, headers }));\n\tif (response.status < 400) {\n\t\treturn response;\n\t} else {\n\t\tthrow response.status == 416 ? new Error(ERR_HTTP_RANGE) : new Error(ERR_HTTP_STATUS + (response.statusText || response.status));\n\t}\n}\n\nfunction sendXMLHttpRequest(method, { url }, headers) {\n\treturn new Promise((resolve, reject) => {\n\t\tconst request = new XMLHttpRequest();\n\t\trequest.addEventListener(\"load\", () => {\n\t\t\tif (request.status < 400) {\n\t\t\t\tconst headers = [];\n\t\t\t\trequest.getAllResponseHeaders().trim().split(/[\\r\\n]+/).forEach(header => {\n\t\t\t\t\tconst splitHeader = header.trim().split(/\\s*:\\s*/);\n\t\t\t\t\tsplitHeader[0] = splitHeader[0].trim().replace(/^[a-z]|-[a-z]/g, value => value.toUpperCase());\n\t\t\t\t\theaders.push(splitHeader);\n\t\t\t\t});\n\t\t\t\tresolve({\n\t\t\t\t\tstatus: request.status,\n\t\t\t\t\tarrayBuffer: () => request.response,\n\t\t\t\t\theaders: new Map(headers)\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treject(request.status == 416 ? new Error(ERR_HTTP_RANGE) : new Error(ERR_HTTP_STATUS + (request.statusText || request.status)));\n\t\t\t}\n\t\t}, false);\n\t\trequest.addEventListener(\"error\", event => reject(event.detail ? event.detail.error : new Error(\"Network error\")), false);\n\t\trequest.open(method, url);\n\t\tif (headers) {\n\t\t\tfor (const entry of Object.entries(headers)) {\n\t\t\t\trequest.setRequestHeader(entry[0], entry[1]);\n\t\t\t}\n\t\t}\n\t\trequest.responseType = \"arraybuffer\";\n\t\trequest.send();\n\t});\n}\n\nclass HttpReader extends Reader {\n\n\tconstructor(url, options = {}) {\n\t\tsuper();\n\t\tObject.assign(this, {\n\t\t\turl,\n\t\t\treader: options.useXHR ? new XHRReader(url, options) : new FetchReader(url, options)\n\t\t});\n\t}\n\n\tset size(value) {\n\t\t// ignored\n\t}\n\n\tget size() {\n\t\treturn this.reader.size;\n\t}\n\n\tasync init() {\n\t\tawait this.reader.init();\n\t\tsuper.init();\n\t}\n\n\treadUint8Array(index, length) {\n\t\treturn this.reader.readUint8Array(index, length);\n\t}\n}\n\nclass HttpRangeReader extends HttpReader {\n\n\tconstructor(url, options = {}) {\n\t\toptions.useRangeHeader = true;\n\t\tsuper(url, options);\n\t}\n}\n\n\nclass Uint8ArrayReader extends Reader {\n\n\tconstructor(array) {\n\t\tsuper();\n\t\tObject.assign(this, {\n\t\t\tarray,\n\t\t\tsize: array.length\n\t\t});\n\t}\n\n\treadUint8Array(index, length) {\n\t\treturn this.array.slice(index, index + length);\n\t}\n}\n\nclass Uint8ArrayWriter extends Writer {\n\n\tinit(initSize = 0) {\n\t\tObject.assign(this, {\n\t\t\toffset: 0,\n\t\t\tarray: new Uint8Array(initSize)\n\t\t});\n\t\tsuper.init();\n\t}\n\n\twriteUint8Array(array) {\n\t\tconst writer = this;\n\t\tif (writer.offset + array.length > writer.array.length) {\n\t\t\tconst previousArray = writer.array;\n\t\t\twriter.array = new Uint8Array(previousArray.length + array.length);\n\t\t\twriter.array.set(previousArray);\n\t\t}\n\t\twriter.array.set(array, writer.offset);\n\t\twriter.offset += array.length;\n\t}\n\n\tgetData() {\n\t\treturn this.array;\n\t}\n}\n\nclass SplitDataReader extends Reader {\n\n\tconstructor(readers) {\n\t\tsuper();\n\t\tthis.readers = readers;\n\t}\n\n\tasync init() {\n\t\tconst reader = this;\n\t\tconst { readers } = reader;\n\t\treader.lastDiskNumber = 0;\n\t\treader.lastDiskOffset = 0;\n\t\tawait Promise.all(readers.map(async (diskReader, indexDiskReader) => {\n\t\t\tawait diskReader.init();\n\t\t\tif (indexDiskReader != readers.length - 1) {\n\t\t\t\treader.lastDiskOffset += diskReader.size;\n\t\t\t}\n\t\t\treader.size += diskReader.size;\n\t\t}));\n\t\tsuper.init();\n\t}\n\n\tasync readUint8Array(offset, length, diskNumber = 0) {\n\t\tconst reader = this;\n\t\tconst { readers } = this;\n\t\tlet result;\n\t\tlet currentDiskNumber = diskNumber;\n\t\tif (currentDiskNumber == -1) {\n\t\t\tcurrentDiskNumber = readers.length - 1;\n\t\t}\n\t\tlet currentReaderOffset = offset;\n\t\twhile (currentReaderOffset >= readers[currentDiskNumber].size) {\n\t\t\tcurrentReaderOffset -= readers[currentDiskNumber].size;\n\t\t\tcurrentDiskNumber++;\n\t\t}\n\t\tconst currentReader = readers[currentDiskNumber];\n\t\tconst currentReaderSize = currentReader.size;\n\t\tif (currentReaderOffset + length <= currentReaderSize) {\n\t\t\tresult = await readUint8Array(currentReader, currentReaderOffset, length);\n\t\t} else {\n\t\t\tconst chunkLength = currentReaderSize - currentReaderOffset;\n\t\t\tresult = new Uint8Array(length);\n\t\t\tresult.set(await readUint8Array(currentReader, currentReaderOffset, chunkLength));\n\t\t\tresult.set(await reader.readUint8Array(offset + chunkLength, length - chunkLength, diskNumber), chunkLength);\n\t\t}\n\t\treader.lastDiskNumber = Math.max(currentDiskNumber, reader.lastDiskNumber);\n\t\treturn result;\n\t}\n}\n\nclass SplitDataWriter extends Stream {\n\n\tconstructor(writerGenerator, maxSize = 4294967295) {\n\t\tsuper();\n\t\tconst zipWriter = this;\n\t\tObject.assign(zipWriter, {\n\t\t\tdiskNumber: 0,\n\t\t\tdiskOffset: 0,\n\t\t\tsize: 0,\n\t\t\tmaxSize,\n\t\t\tavailableSize: maxSize\n\t\t});\n\t\tlet diskSourceWriter, diskWritable, diskWriter;\n\t\tconst writable = new WritableStream({\n\t\t\tasync write(chunk) {\n\t\t\t\tconst { availableSize } = zipWriter;\n\t\t\t\tif (!diskWriter) {\n\t\t\t\t\tconst { value, done } = await writerGenerator.next();\n\t\t\t\t\tif (done && !value) {\n\t\t\t\t\t\tthrow new Error(ERR_ITERATOR_COMPLETED_TOO_SOON);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdiskSourceWriter = value;\n\t\t\t\t\t\tdiskSourceWriter.size = 0;\n\t\t\t\t\t\tif (diskSourceWriter.maxSize) {\n\t\t\t\t\t\t\tzipWriter.maxSize = diskSourceWriter.maxSize;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tzipWriter.availableSize = zipWriter.maxSize;\n\t\t\t\t\t\tawait initStream(diskSourceWriter);\n\t\t\t\t\t\tdiskWritable = value.writable;\n\t\t\t\t\t\tdiskWriter = diskWritable.getWriter();\n\t\t\t\t\t}\n\t\t\t\t\tawait this.write(chunk);\n\t\t\t\t} else if (chunk.length >= availableSize) {\n\t\t\t\t\tawait writeChunk(chunk.slice(0, availableSize));\n\t\t\t\t\tawait closeDisk();\n\t\t\t\t\tzipWriter.diskOffset += diskSourceWriter.size;\n\t\t\t\t\tzipWriter.diskNumber++;\n\t\t\t\t\tdiskWriter = null;\n\t\t\t\t\tawait this.write(chunk.slice(availableSize));\n\t\t\t\t} else {\n\t\t\t\t\tawait writeChunk(chunk);\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync close() {\n\t\t\t\tawait diskWriter.ready;\n\t\t\t\tawait closeDisk();\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(zipWriter, PROPERTY_NAME_WRITABLE, {\n\t\t\tget() {\n\t\t\t\treturn writable;\n\t\t\t}\n\t\t});\n\n\t\tasync function writeChunk(chunk) {\n\t\t\tconst chunkLength = chunk.length;\n\t\t\tif (chunkLength) {\n\t\t\t\tawait diskWriter.ready;\n\t\t\t\tawait diskWriter.write(chunk);\n\t\t\t\tdiskSourceWriter.size += chunkLength;\n\t\t\t\tzipWriter.size += chunkLength;\n\t\t\t\tzipWriter.availableSize -= chunkLength;\n\t\t\t}\n\t\t}\n\n\t\tasync function closeDisk() {\n\t\t\tdiskWritable.size = diskSourceWriter.size;\n\t\t\tawait diskWriter.close();\n\t\t}\n\t}\n}\n\nfunction isHttpFamily(url) {\n\tconst { baseURL } = getConfiguration();\n\tconst { protocol } = new URL(url, baseURL);\n\treturn protocol == \"http:\" || protocol == \"https:\";\n}\n\nasync function initStream(stream, initSize) {\n\tif (stream.init && !stream.initialized) {\n\t\tawait stream.init(initSize);\n\t}\n}\n\nfunction initReader(reader) {\n\tif (Array.isArray(reader)) {\n\t\treader = new SplitDataReader(reader);\n\t}\n\tif (reader instanceof ReadableStream) {\n\t\treader = {\n\t\t\treadable: reader\n\t\t};\n\t}\n\treturn reader;\n}\n\nfunction initWriter(writer) {\n\tif (writer.writable === UNDEFINED_VALUE && typeof writer.next == FUNCTION_TYPE) {\n\t\twriter = new SplitDataWriter(writer);\n\t}\n\tif (writer instanceof WritableStream) {\n\t\twriter = {\n\t\t\twritable: writer\n\t\t};\n\t}\n\tconst { writable } = writer;\n\tif (writable.size === UNDEFINED_VALUE) {\n\t\twritable.size = 0;\n\t}\n\tconst splitZipFile = writer instanceof SplitDataWriter;\n\tif (!splitZipFile) {\n\t\tObject.assign(writer, {\n\t\t\tdiskNumber: 0,\n\t\t\tdiskOffset: 0,\n\t\t\tavailableSize: Infinity,\n\t\t\tmaxSize: Infinity\n\t\t});\n\t}\n\treturn writer;\n}\n\nfunction readUint8Array(reader, offset, size, diskNumber) {\n\treturn reader.readUint8Array(offset, size, diskNumber);\n}\n\nconst SplitZipReader = SplitDataReader;\nconst SplitZipWriter = SplitDataWriter;\n\nexport {\n\tinitStream,\n\tinitReader,\n\tinitWriter,\n\treadUint8Array,\n\tReader,\n\tWriter,\n\tTextReader,\n\tTextWriter,\n\tData64URIReader,\n\tData64URIWriter,\n\tBlobReader,\n\tBlobWriter,\n\tUint8ArrayReader,\n\tUint8ArrayWriter,\n\tHttpReader,\n\tHttpRangeReader,\n\tSplitZipReader,\n\tSplitZipWriter,\n\tSplitDataReader,\n\tSplitDataWriter,\n\tERR_HTTP_RANGE,\n\tERR_ITERATOR_COMPLETED_TOO_SOON\n};","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* global TextDecoder */\n\nconst CP437 = \"\\0 !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ \".split(\"\");\nconst VALID_CP437 = CP437.length == 256;\n\nexport {\n\tdecodeCP437\n};\n\nfunction decodeCP437(stringValue) {\n\tif (VALID_CP437) {\n\t\tlet result = \"\";\n\t\tfor (let indexCharacter = 0; indexCharacter < stringValue.length; indexCharacter++) {\n\t\t\tresult += CP437[stringValue[indexCharacter]];\n\t\t}\n\t\treturn result;\n\t} else {\n\t\treturn new TextDecoder().decode(stringValue);\n\t}\n}","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* global TextDecoder */\n\nimport { decodeCP437 } from \"./cp437-decode.js\";\n\nexport {\n\tdecodeText\n};\n\nfunction decodeText(value, encoding) {\n\tif (encoding && encoding.trim().toLowerCase() == \"cp437\") {\n\t\treturn decodeCP437(value);\n\t} else {\n\t\treturn new TextDecoder(encoding).decode(value);\n\t}\n}","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nconst PROPERTY_NAME_FILENAME = \"filename\";\nconst PROPERTY_NAME_RAW_FILENAME = \"rawFilename\";\nconst PROPERTY_NAME_COMMENT = \"comment\";\nconst PROPERTY_NAME_RAW_COMMENT = \"rawComment\";\nconst PROPERTY_NAME_UNCOMPPRESSED_SIZE = \"uncompressedSize\";\nconst PROPERTY_NAME_COMPPRESSED_SIZE = \"compressedSize\";\nconst PROPERTY_NAME_OFFSET = \"offset\";\nconst PROPERTY_NAME_DISK_NUMBER_START = \"diskNumberStart\";\nconst PROPERTY_NAME_LAST_MODIFICATION_DATE = \"lastModDate\";\nconst PROPERTY_NAME_RAW_LAST_MODIFICATION_DATE = \"rawLastModDate\";\nconst PROPERTY_NAME_LAST_ACCESS_DATE = \"lastAccessDate\";\nconst PROPERTY_NAME_RAW_LAST_ACCESS_DATE = \"rawLastAccessDate\";\nconst PROPERTY_NAME_CREATION_DATE = \"creationDate\";\nconst PROPERTY_NAME_RAW_CREATION_DATE = \"rawCreationDate\";\nconst PROPERTY_NAME_INTERNAL_FILE_ATTRIBUTE = \"internalFileAttribute\";\nconst PROPERTY_NAME_EXTERNAL_FILE_ATTRIBUTE = \"externalFileAttribute\";\nconst PROPERTY_NAME_MS_DOS_COMPATIBLE = \"msDosCompatible\";\nconst PROPERTY_NAME_ZIP64 = \"zip64\";\n\nconst PROPERTY_NAMES = [\n\tPROPERTY_NAME_FILENAME, PROPERTY_NAME_RAW_FILENAME, PROPERTY_NAME_COMPPRESSED_SIZE, PROPERTY_NAME_UNCOMPPRESSED_SIZE,\n\tPROPERTY_NAME_LAST_MODIFICATION_DATE, PROPERTY_NAME_RAW_LAST_MODIFICATION_DATE, PROPERTY_NAME_COMMENT, PROPERTY_NAME_RAW_COMMENT,\n\tPROPERTY_NAME_LAST_ACCESS_DATE, PROPERTY_NAME_CREATION_DATE, PROPERTY_NAME_OFFSET, PROPERTY_NAME_DISK_NUMBER_START,\n\tPROPERTY_NAME_DISK_NUMBER_START, PROPERTY_NAME_INTERNAL_FILE_ATTRIBUTE, PROPERTY_NAME_EXTERNAL_FILE_ATTRIBUTE,\n\tPROPERTY_NAME_MS_DOS_COMPATIBLE, PROPERTY_NAME_ZIP64,\n\t\"directory\", \"bitFlag\", \"encrypted\", \"signature\", \"filenameUTF8\", \"commentUTF8\", \"compressionMethod\", \"version\", \"versionMadeBy\",\n\t\"extraField\", \"rawExtraField\", \"extraFieldZip64\", \"extraFieldUnicodePath\", \"extraFieldUnicodeComment\", \"extraFieldAES\", \"extraFieldNTFS\",\n\t\"extraFieldExtendedTimestamp\"];\n\nclass Entry {\n\n\tconstructor(data) {\n\t\tPROPERTY_NAMES.forEach(name => this[name] = data[name]);\n\t}\n\n}\n\nexport {\n\tPROPERTY_NAME_FILENAME,\n\tPROPERTY_NAME_RAW_FILENAME,\n\tPROPERTY_NAME_COMMENT,\n\tPROPERTY_NAME_RAW_COMMENT,\n\tPROPERTY_NAME_UNCOMPPRESSED_SIZE,\n\tPROPERTY_NAME_COMPPRESSED_SIZE,\n\tPROPERTY_NAME_OFFSET,\n\tPROPERTY_NAME_DISK_NUMBER_START,\n\tPROPERTY_NAME_LAST_MODIFICATION_DATE,\n\tPROPERTY_NAME_RAW_LAST_MODIFICATION_DATE,\n\tPROPERTY_NAME_LAST_ACCESS_DATE,\n\tPROPERTY_NAME_RAW_LAST_ACCESS_DATE,\n\tPROPERTY_NAME_CREATION_DATE,\n\tPROPERTY_NAME_RAW_CREATION_DATE,\n\tPROPERTY_NAME_INTERNAL_FILE_ATTRIBUTE,\n\tPROPERTY_NAME_EXTERNAL_FILE_ATTRIBUTE,\n\tPROPERTY_NAME_MS_DOS_COMPATIBLE,\n\tPROPERTY_NAME_ZIP64,\n\tEntry\n};","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* global BigInt, Response, WritableStream */\n// deno-lint-ignore-file no-this-alias\n\nimport {\n\tMAX_32_BITS,\n\tMAX_16_BITS,\n\tCOMPRESSION_METHOD_DEFLATE,\n\tCOMPRESSION_METHOD_STORE,\n\tCOMPRESSION_METHOD_AES,\n\tSPLIT_ZIP_FILE_SIGNATURE,\n\tLOCAL_FILE_HEADER_SIGNATURE,\n\tCENTRAL_FILE_HEADER_SIGNATURE,\n\tEND_OF_CENTRAL_DIR_SIGNATURE,\n\tZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIGNATURE,\n\tZIP64_END_OF_CENTRAL_DIR_SIGNATURE,\n\tEXTRAFIELD_TYPE_ZIP64,\n\tEXTRAFIELD_TYPE_UNICODE_PATH,\n\tEXTRAFIELD_TYPE_UNICODE_COMMENT,\n\tEXTRAFIELD_TYPE_AES,\n\tEXTRAFIELD_TYPE_NTFS,\n\tEXTRAFIELD_TYPE_NTFS_TAG1,\n\tEXTRAFIELD_TYPE_EXTENDED_TIMESTAMP,\n\tEXTRAFIELD_TYPE_USDZ,\n\tEND_OF_CENTRAL_DIR_LENGTH,\n\tZIP64_END_OF_CENTRAL_DIR_LOCATOR_LENGTH,\n\tZIP64_END_OF_CENTRAL_DIR_LENGTH,\n\tBITFLAG_ENCRYPTED,\n\tBITFLAG_LEVEL,\n\tBITFLAG_DATA_DESCRIPTOR,\n\tBITFLAG_LANG_ENCODING_FLAG,\n\tFILE_ATTR_MSDOS_DIR_MASK,\n\tDIRECTORY_SIGNATURE,\n\tUNDEFINED_VALUE\n} from \"./constants.js\";\nimport {\n\tgetConfiguration,\n\tgetChunkSize\n} from \"./configuration.js\";\nimport {\n\trunWorker,\n\tCODEC_INFLATE,\n\tERR_INVALID_SIGNATURE,\n\tERR_INVALID_PASSWORD,\n\tERR_ABORT_CHECK_PASSWORD\n} from \"./codec-pool.js\";\nimport {\n\tinitStream,\n\tinitReader,\n\tinitWriter,\n\treadUint8Array,\n\tBlobReader\n} from \"./io.js\";\nimport { decodeText } from \"./util/decode-text.js\";\nimport { Crc32 } from \"./streams/codecs/crc32.js\";\nimport {\n\tPROPERTY_NAME_RAW_FILENAME,\n\tPROPERTY_NAME_FILENAME,\n\tPROPERTY_NAME_RAW_COMMENT,\n\tPROPERTY_NAME_COMMENT,\n\tPROPERTY_NAME_UNCOMPPRESSED_SIZE,\n\tPROPERTY_NAME_COMPPRESSED_SIZE,\n\tPROPERTY_NAME_OFFSET,\n\tPROPERTY_NAME_DISK_NUMBER_START,\n\tPROPERTY_NAME_LAST_MODIFICATION_DATE,\n\tPROPERTY_NAME_RAW_LAST_MODIFICATION_DATE,\n\tPROPERTY_NAME_LAST_ACCESS_DATE,\n\tPROPERTY_NAME_RAW_LAST_ACCESS_DATE,\n\tPROPERTY_NAME_CREATION_DATE,\n\tPROPERTY_NAME_RAW_CREATION_DATE,\n\tEntry\n} from \"./zip-entry.js\";\n\nconst ERR_BAD_FORMAT = \"File format is not recognized\";\nconst ERR_EOCDR_NOT_FOUND = \"End of central directory not found\";\nconst ERR_EOCDR_ZIP64_NOT_FOUND = \"End of Zip64 central directory not found\";\nconst ERR_EOCDR_LOCATOR_ZIP64_NOT_FOUND = \"End of Zip64 central directory locator not found\";\nconst ERR_CENTRAL_DIRECTORY_NOT_FOUND = \"Central directory header not found\";\nconst ERR_LOCAL_FILE_HEADER_NOT_FOUND = \"Local file header not found\";\nconst ERR_EXTRAFIELD_ZIP64_NOT_FOUND = \"Zip64 extra field not found\";\nconst ERR_ENCRYPTED = \"File contains encrypted entry\";\nconst ERR_UNSUPPORTED_ENCRYPTION = \"Encryption method not supported\";\nconst ERR_UNSUPPORTED_COMPRESSION = \"Compression method not supported\";\nconst ERR_SPLIT_ZIP_FILE = \"Split zip file\";\nconst CHARSET_UTF8 = \"utf-8\";\nconst CHARSET_CP437 = \"cp437\";\nconst ZIP64_PROPERTIES = [\n\t[PROPERTY_NAME_UNCOMPPRESSED_SIZE, MAX_32_BITS],\n\t[PROPERTY_NAME_COMPPRESSED_SIZE, MAX_32_BITS],\n\t[PROPERTY_NAME_OFFSET, MAX_32_BITS],\n\t[PROPERTY_NAME_DISK_NUMBER_START, MAX_16_BITS]\n];\nconst ZIP64_EXTRACTION = {\n\t[MAX_16_BITS]: {\n\t\tgetValue: getUint32,\n\t\tbytes: 4\n\t},\n\t[MAX_32_BITS]: {\n\t\tgetValue: getBigUint64,\n\t\tbytes: 8\n\t}\n};\n\nclass ZipReader {\n\n\tconstructor(reader, options = {}) {\n\t\tObject.assign(this, {\n\t\t\treader: initReader(reader),\n\t\t\toptions,\n\t\t\tconfig: getConfiguration()\n\t\t});\n\t}\n\n\tasync* getEntriesGenerator(options = {}) {\n\t\tconst zipReader = this;\n\t\tlet { reader } = zipReader;\n\t\tconst { config } = zipReader;\n\t\tawait initStream(reader);\n\t\tif (reader.size === UNDEFINED_VALUE || !reader.readUint8Array) {\n\t\t\treader = new BlobReader(await new Response(reader.readable).blob());\n\t\t\tawait initStream(reader);\n\t\t}\n\t\tif (reader.size < END_OF_CENTRAL_DIR_LENGTH) {\n\t\t\tthrow new Error(ERR_BAD_FORMAT);\n\t\t}\n\t\treader.chunkSize = getChunkSize(config);\n\t\tconst endOfDirectoryInfo = await seekSignature(reader, END_OF_CENTRAL_DIR_SIGNATURE, reader.size, END_OF_CENTRAL_DIR_LENGTH, MAX_16_BITS * 16);\n\t\tif (!endOfDirectoryInfo) {\n\t\t\tconst signatureArray = await readUint8Array(reader, 0, 4);\n\t\t\tconst signatureView = getDataView(signatureArray);\n\t\t\tif (getUint32(signatureView) == SPLIT_ZIP_FILE_SIGNATURE) {\n\t\t\t\tthrow new Error(ERR_SPLIT_ZIP_FILE);\n\t\t\t} else {\n\t\t\t\tthrow new Error(ERR_EOCDR_NOT_FOUND);\n\t\t\t}\n\t\t}\n\t\tconst endOfDirectoryView = getDataView(endOfDirectoryInfo);\n\t\tlet directoryDataLength = getUint32(endOfDirectoryView, 12);\n\t\tlet directoryDataOffset = getUint32(endOfDirectoryView, 16);\n\t\tconst commentOffset = endOfDirectoryInfo.offset;\n\t\tconst commentLength = getUint16(endOfDirectoryView, 20);\n\t\tconst appendedDataOffset = commentOffset + END_OF_CENTRAL_DIR_LENGTH + commentLength;\n\t\tlet lastDiskNumber = getUint16(endOfDirectoryView, 4);\n\t\tconst expectedLastDiskNumber = reader.lastDiskNumber || 0;\n\t\tlet diskNumber = getUint16(endOfDirectoryView, 6);\n\t\tlet filesLength = getUint16(endOfDirectoryView, 8);\n\t\tlet prependedDataLength = 0;\n\t\tlet startOffset = 0;\n\t\tif (directoryDataOffset == MAX_32_BITS || directoryDataLength == MAX_32_BITS || filesLength == MAX_16_BITS || diskNumber == MAX_16_BITS) {\n\t\t\tconst endOfDirectoryLocatorArray = await readUint8Array(reader, endOfDirectoryInfo.offset - ZIP64_END_OF_CENTRAL_DIR_LOCATOR_LENGTH, ZIP64_END_OF_CENTRAL_DIR_LOCATOR_LENGTH);\n\t\t\tconst endOfDirectoryLocatorView = getDataView(endOfDirectoryLocatorArray);\n\t\t\tif (getUint32(endOfDirectoryLocatorView, 0) != ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIGNATURE) {\n\t\t\t\tthrow new Error(ERR_EOCDR_ZIP64_NOT_FOUND);\n\t\t\t}\n\t\t\tdirectoryDataOffset = getBigUint64(endOfDirectoryLocatorView, 8);\n\t\t\tlet endOfDirectoryArray = await readUint8Array(reader, directoryDataOffset, ZIP64_END_OF_CENTRAL_DIR_LENGTH, -1);\n\t\t\tlet endOfDirectoryView = getDataView(endOfDirectoryArray);\n\t\t\tconst expectedDirectoryDataOffset = endOfDirectoryInfo.offset - ZIP64_END_OF_CENTRAL_DIR_LOCATOR_LENGTH - ZIP64_END_OF_CENTRAL_DIR_LENGTH;\n\t\t\tif (getUint32(endOfDirectoryView, 0) != ZIP64_END_OF_CENTRAL_DIR_SIGNATURE && directoryDataOffset != expectedDirectoryDataOffset) {\n\t\t\t\tconst originalDirectoryDataOffset = directoryDataOffset;\n\t\t\t\tdirectoryDataOffset = expectedDirectoryDataOffset;\n\t\t\t\tprependedDataLength = directoryDataOffset - originalDirectoryDataOffset;\n\t\t\t\tendOfDirectoryArray = await readUint8Array(reader, directoryDataOffset, ZIP64_END_OF_CENTRAL_DIR_LENGTH, -1);\n\t\t\t\tendOfDirectoryView = getDataView(endOfDirectoryArray);\n\t\t\t}\n\t\t\tif (getUint32(endOfDirectoryView, 0) != ZIP64_END_OF_CENTRAL_DIR_SIGNATURE) {\n\t\t\t\tthrow new Error(ERR_EOCDR_LOCATOR_ZIP64_NOT_FOUND);\n\t\t\t}\n\t\t\tif (lastDiskNumber == MAX_16_BITS) {\n\t\t\t\tlastDiskNumber = getUint32(endOfDirectoryView, 16);\n\t\t\t}\n\t\t\tif (diskNumber == MAX_16_BITS) {\n\t\t\t\tdiskNumber = getUint32(endOfDirectoryView, 20);\n\t\t\t}\n\t\t\tif (filesLength == MAX_16_BITS) {\n\t\t\t\tfilesLength = getBigUint64(endOfDirectoryView, 32);\n\t\t\t}\n\t\t\tif (directoryDataLength == MAX_32_BITS) {\n\t\t\t\tdirectoryDataLength = getBigUint64(endOfDirectoryView, 40);\n\t\t\t}\n\t\t\tdirectoryDataOffset -= directoryDataLength;\n\t\t}\n\t\tif (directoryDataOffset >= reader.size) {\n\t\t\tprependedDataLength = reader.size - directoryDataOffset - directoryDataLength - END_OF_CENTRAL_DIR_LENGTH;\n\t\t\tdirectoryDataOffset = reader.size - directoryDataLength - END_OF_CENTRAL_DIR_LENGTH;\t\n\t\t}\n\t\tif (expectedLastDiskNumber != lastDiskNumber) {\n\t\t\tthrow new Error(ERR_SPLIT_ZIP_FILE);\n\t\t}\n\t\tif (directoryDataOffset < 0) {\n\t\t\tthrow new Error(ERR_BAD_FORMAT);\n\t\t}\n\t\tlet offset = 0;\n\t\tlet directoryArray = await readUint8Array(reader, directoryDataOffset, directoryDataLength, diskNumber);\n\t\tlet directoryView = getDataView(directoryArray);\n\t\tif (directoryDataLength) {\n\t\t\tconst expectedDirectoryDataOffset = endOfDirectoryInfo.offset - directoryDataLength;\n\t\t\tif (getUint32(directoryView, offset) != CENTRAL_FILE_HEADER_SIGNATURE && directoryDataOffset != expectedDirectoryDataOffset) {\n\t\t\t\tconst originalDirectoryDataOffset = directoryDataOffset;\n\t\t\t\tdirectoryDataOffset = expectedDirectoryDataOffset;\n\t\t\t\tprependedDataLength += directoryDataOffset - originalDirectoryDataOffset;\n\t\t\t\tdirectoryArray = await readUint8Array(reader, directoryDataOffset, directoryDataLength, diskNumber);\n\t\t\t\tdirectoryView = getDataView(directoryArray);\n\t\t\t}\n\t\t}\n\t\tconst expectedDirectoryDataLength = endOfDirectoryInfo.offset - directoryDataOffset - (reader.lastDiskOffset || 0);\n\t\tif (directoryDataLength != expectedDirectoryDataLength && expectedDirectoryDataLength >= 0) {\n\t\t\tdirectoryDataLength = expectedDirectoryDataLength;\n\t\t\tdirectoryArray = await readUint8Array(reader, directoryDataOffset, directoryDataLength, diskNumber);\n\t\t\tdirectoryView = getDataView(directoryArray);\n\t\t}\n\t\tif (directoryDataOffset < 0 || directoryDataOffset >= reader.size) {\n\t\t\tthrow new Error(ERR_BAD_FORMAT);\n\t\t}\n\t\tconst filenameEncoding = getOptionValue(zipReader, options, \"filenameEncoding\");\n\t\tconst commentEncoding = getOptionValue(zipReader, options, \"commentEncoding\");\n\t\tfor (let indexFile = 0; indexFile < filesLength; indexFile++) {\n\t\t\tconst fileEntry = new ZipEntry(reader, config, zipReader.options);\n\t\t\tif (getUint32(directoryView, offset) != CENTRAL_FILE_HEADER_SIGNATURE) {\n\t\t\t\tthrow new Error(ERR_CENTRAL_DIRECTORY_NOT_FOUND);\n\t\t\t}\n\t\t\treadCommonHeader(fileEntry, directoryView, offset + 6);\n\t\t\tconst languageEncodingFlag = Boolean(fileEntry.bitFlag.languageEncodingFlag);\n\t\t\tconst filenameOffset = offset + 46;\n\t\t\tconst extraFieldOffset = filenameOffset + fileEntry.filenameLength;\n\t\t\tconst commentOffset = extraFieldOffset + fileEntry.extraFieldLength;\n\t\t\tconst versionMadeBy = getUint16(directoryView, offset + 4);\n\t\t\tconst msDosCompatible = (versionMadeBy & 0) == 0;\n\t\t\tconst rawFilename = directoryArray.subarray(filenameOffset, extraFieldOffset);\n\t\t\tconst commentLength = getUint16(directoryView, offset + 32);\n\t\t\tconst endOffset = commentOffset + commentLength;\n\t\t\tconst rawComment = directoryArray.subarray(commentOffset, endOffset);\n\t\t\tconst filenameUTF8 = languageEncodingFlag;\n\t\t\tconst commentUTF8 = languageEncodingFlag;\n\t\t\tconst directory = msDosCompatible && ((getUint8(directoryView, offset + 38) & FILE_ATTR_MSDOS_DIR_MASK) == FILE_ATTR_MSDOS_DIR_MASK);\n\t\t\tconst offsetFileEntry = getUint32(directoryView, offset + 42) + prependedDataLength;\n\t\t\tObject.assign(fileEntry, {\n\t\t\t\tversionMadeBy,\n\t\t\t\tmsDosCompatible,\n\t\t\t\tcompressedSize: 0,\n\t\t\t\tuncompressedSize: 0,\n\t\t\t\tcommentLength,\n\t\t\t\tdirectory,\n\t\t\t\toffset: offsetFileEntry,\n\t\t\t\tdiskNumberStart: getUint16(directoryView, offset + 34),\n\t\t\t\tinternalFileAttribute: getUint16(directoryView, offset + 36),\n\t\t\t\texternalFileAttribute: getUint32(directoryView, offset + 38),\n\t\t\t\trawFilename,\n\t\t\t\tfilenameUTF8,\n\t\t\t\tcommentUTF8,\n\t\t\t\trawExtraField: directoryArray.subarray(extraFieldOffset, commentOffset)\n\t\t\t});\n\t\t\tconst [filename, comment] = await Promise.all([\n\t\t\t\tdecodeText(rawFilename, filenameUTF8 ? CHARSET_UTF8 : filenameEncoding || CHARSET_CP437),\n\t\t\t\tdecodeText(rawComment, commentUTF8 ? CHARSET_UTF8 : commentEncoding || CHARSET_CP437)\n\t\t\t]);\n\t\t\tObject.assign(fileEntry, {\n\t\t\t\trawComment,\n\t\t\t\tfilename,\n\t\t\t\tcomment,\n\t\t\t\tdirectory: directory || filename.endsWith(DIRECTORY_SIGNATURE)\n\t\t\t});\n\t\t\tstartOffset = Math.max(offsetFileEntry, startOffset);\n\t\t\tawait readCommonFooter(fileEntry, fileEntry, directoryView, offset + 6);\n\t\t\tconst entry = new Entry(fileEntry);\n\t\t\tentry.getData = (writer, options) => fileEntry.getData(writer, entry, options);\n\t\t\toffset = endOffset;\n\t\t\tconst { onprogress } = options;\n\t\t\tif (onprogress) {\n\t\t\t\ttry {\n\t\t\t\t\tawait onprogress(indexFile + 1, filesLength, new Entry(fileEntry));\n\t\t\t\t} catch (_error) {\n\t\t\t\t\t// ignored\n\t\t\t\t}\n\t\t\t}\n\t\t\tyield entry;\n\t\t}\n\t\tconst extractPrependedData = getOptionValue(zipReader, options, \"extractPrependedData\");\n\t\tconst extractAppendedData = getOptionValue(zipReader, options, \"extractAppendedData\");\n\t\tif (extractPrependedData) {\n\t\t\tzipReader.prependedData = startOffset > 0 ? await readUint8Array(reader, 0, startOffset) : new Uint8Array();\n\t\t}\n\t\tzipReader.comment = commentLength ? await readUint8Array(reader, commentOffset + END_OF_CENTRAL_DIR_LENGTH, commentLength) : new Uint8Array();\n\t\tif (extractAppendedData) {\n\t\t\tzipReader.appendedData = appendedDataOffset < reader.size ? await readUint8Array(reader, appendedDataOffset, reader.size - appendedDataOffset) : new Uint8Array();\n\t\t}\n\t\treturn true;\n\t}\n\n\tasync getEntries(options = {}) {\n\t\tconst entries = [];\n\t\tfor await (const entry of this.getEntriesGenerator(options)) {\n\t\t\tentries.push(entry);\n\t\t}\n\t\treturn entries;\n\t}\n\n\tasync close() {\n\t}\n}\n\nexport {\n\tZipReader,\n\tERR_BAD_FORMAT,\n\tERR_EOCDR_NOT_FOUND,\n\tERR_EOCDR_ZIP64_NOT_FOUND,\n\tERR_EOCDR_LOCATOR_ZIP64_NOT_FOUND,\n\tERR_CENTRAL_DIRECTORY_NOT_FOUND,\n\tERR_LOCAL_FILE_HEADER_NOT_FOUND,\n\tERR_EXTRAFIELD_ZIP64_NOT_FOUND,\n\tERR_ENCRYPTED,\n\tERR_UNSUPPORTED_ENCRYPTION,\n\tERR_UNSUPPORTED_COMPRESSION,\n\tERR_INVALID_SIGNATURE,\n\tERR_INVALID_PASSWORD,\n\tERR_SPLIT_ZIP_FILE\n};\n\nclass ZipEntry {\n\n\tconstructor(reader, config, options) {\n\t\tObject.assign(this, {\n\t\t\treader,\n\t\t\tconfig,\n\t\t\toptions\n\t\t});\n\t}\n\n\tasync getData(writer, fileEntry, options = {}) {\n\t\tconst zipEntry = this;\n\t\tconst {\n\t\t\treader,\n\t\t\toffset,\n\t\t\tdiskNumberStart,\n\t\t\textraFieldAES,\n\t\t\tcompressionMethod,\n\t\t\tconfig,\n\t\t\tbitFlag,\n\t\t\tsignature,\n\t\t\trawLastModDate,\n\t\t\tuncompressedSize,\n\t\t\tcompressedSize\n\t\t} = zipEntry;\n\t\tconst localDirectory = fileEntry.localDirectory = {};\n\t\tconst dataArray = await readUint8Array(reader, offset, 30, diskNumberStart);\n\t\tconst dataView = getDataView(dataArray);\n\t\tlet password = getOptionValue(zipEntry, options, \"password\");\n\t\tpassword = password && password.length && password;\n\t\tif (extraFieldAES) {\n\t\t\tif (extraFieldAES.originalCompressionMethod != COMPRESSION_METHOD_AES) {\n\t\t\t\tthrow new Error(ERR_UNSUPPORTED_COMPRESSION);\n\t\t\t}\n\t\t}\n\t\tif (compressionMethod != COMPRESSION_METHOD_STORE && compressionMethod != COMPRESSION_METHOD_DEFLATE) {\n\t\t\tthrow new Error(ERR_UNSUPPORTED_COMPRESSION);\n\t\t}\n\t\tif (getUint32(dataView, 0) != LOCAL_FILE_HEADER_SIGNATURE) {\n\t\t\tthrow new Error(ERR_LOCAL_FILE_HEADER_NOT_FOUND);\n\t\t}\n\t\treadCommonHeader(localDirectory, dataView, 4);\n\t\tlocalDirectory.rawExtraField = localDirectory.extraFieldLength ?\n\t\t\tawait readUint8Array(reader, offset + 30 + localDirectory.filenameLength, localDirectory.extraFieldLength, diskNumberStart) :\n\t\t\tnew Uint8Array();\n\t\tawait readCommonFooter(zipEntry, localDirectory, dataView, 4, true);\n\t\tObject.assign(fileEntry, {\n\t\t\tlastAccessDate: localDirectory.lastAccessDate,\n\t\t\tcreationDate: localDirectory.creationDate\n\t\t});\n\t\tconst encrypted = zipEntry.encrypted && localDirectory.encrypted;\n\t\tconst zipCrypto = encrypted && !extraFieldAES;\n\t\tif (encrypted) {\n\t\t\tif (!zipCrypto && extraFieldAES.strength === UNDEFINED_VALUE) {\n\t\t\t\tthrow new Error(ERR_UNSUPPORTED_ENCRYPTION);\n\t\t\t} else if (!password) {\n\t\t\t\tthrow new Error(ERR_ENCRYPTED);\n\t\t\t}\n\t\t}\n\t\tconst dataOffset = offset + 30 + localDirectory.filenameLength + localDirectory.extraFieldLength;\n\t\tconst size = compressedSize;\n\t\tconst readable = reader.readable;\n\t\tObject.assign(readable, {\n\t\t\tdiskNumberStart,\n\t\t\toffset: dataOffset,\n\t\t\tsize\n\t\t});\n\t\tconst signal = getOptionValue(zipEntry, options, \"signal\");\n\t\tconst checkPasswordOnly = getOptionValue(zipEntry, options, \"checkPasswordOnly\");\n\t\tif (checkPasswordOnly) {\n\t\t\twriter = new WritableStream();\n\t\t}\n\t\twriter = initWriter(writer);\n\t\tawait initStream(writer, uncompressedSize);\n\t\tconst { writable } = writer;\n\t\tconst { onstart, onprogress, onend } = options;\n\t\tconst workerOptions = {\n\t\t\toptions: {\n\t\t\t\tcodecType: CODEC_INFLATE,\n\t\t\t\tpassword,\n\t\t\t\tzipCrypto,\n\t\t\t\tencryptionStrength: extraFieldAES && extraFieldAES.strength,\n\t\t\t\tsigned: getOptionValue(zipEntry, options, \"checkSignature\"),\n\t\t\t\tpasswordVerification: zipCrypto && (bitFlag.dataDescriptor ? ((rawLastModDate >>> 8) & 0xFF) : ((signature >>> 24) & 0xFF)),\n\t\t\t\tsignature,\n\t\t\t\tcompressed: compressionMethod != 0,\n\t\t\t\tencrypted,\n\t\t\t\tuseWebWorkers: getOptionValue(zipEntry, options, \"useWebWorkers\"),\n\t\t\t\tuseCompressionStream: getOptionValue(zipEntry, options, \"useCompressionStream\"),\n\t\t\t\ttransferStreams: getOptionValue(zipEntry, options, \"transferStreams\"),\n\t\t\t\tcheckPasswordOnly\n\t\t\t},\n\t\t\tconfig,\n\t\t\tstreamOptions: { signal, size, onstart, onprogress, onend }\n\t\t};\n\t\tlet outputSize = 0;\n\t\ttry {\n\t\t\t({ outputSize } = (await runWorker({ readable, writable }, workerOptions)));\n\t\t} catch (error) {\n\t\t\tif (!checkPasswordOnly || error.message != ERR_ABORT_CHECK_PASSWORD) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t} finally {\n\t\t\tconst preventClose = getOptionValue(zipEntry, options, \"preventClose\");\n\t\t\twritable.size += outputSize;\n\t\t\tif (!preventClose && !writable.locked) {\n\t\t\t\tawait writable.getWriter().close();\n\t\t\t}\n\t\t}\n\t\treturn checkPasswordOnly ? undefined : writer.getData ? writer.getData() : writable;\n\t}\n}\n\nfunction readCommonHeader(directory, dataView, offset) {\n\tconst rawBitFlag = directory.rawBitFlag = getUint16(dataView, offset + 2);\n\tconst encrypted = (rawBitFlag & BITFLAG_ENCRYPTED) == BITFLAG_ENCRYPTED;\n\tconst rawLastModDate = getUint32(dataView, offset + 6);\n\tObject.assign(directory, {\n\t\tencrypted,\n\t\tversion: getUint16(dataView, offset),\n\t\tbitFlag: {\n\t\t\tlevel: (rawBitFlag & BITFLAG_LEVEL) >> 1,\n\t\t\tdataDescriptor: (rawBitFlag & BITFLAG_DATA_DESCRIPTOR) == BITFLAG_DATA_DESCRIPTOR,\n\t\t\tlanguageEncodingFlag: (rawBitFlag & BITFLAG_LANG_ENCODING_FLAG) == BITFLAG_LANG_ENCODING_FLAG\n\t\t},\n\t\trawLastModDate,\n\t\tlastModDate: getDate(rawLastModDate),\n\t\tfilenameLength: getUint16(dataView, offset + 22),\n\t\textraFieldLength: getUint16(dataView, offset + 24)\n\t});\n}\n\nasync function readCommonFooter(fileEntry, directory, dataView, offset, localDirectory) {\n\tconst { rawExtraField } = directory;\n\tconst extraField = directory.extraField = new Map();\n\tconst rawExtraFieldView = getDataView(new Uint8Array(rawExtraField));\n\tlet offsetExtraField = 0;\n\ttry {\n\t\twhile (offsetExtraField < rawExtraField.length) {\n\t\t\tconst type = getUint16(rawExtraFieldView, offsetExtraField);\n\t\t\tconst size = getUint16(rawExtraFieldView, offsetExtraField + 2);\n\t\t\textraField.set(type, {\n\t\t\t\ttype,\n\t\t\t\tdata: rawExtraField.slice(offsetExtraField + 4, offsetExtraField + 4 + size)\n\t\t\t});\n\t\t\toffsetExtraField += 4 + size;\n\t\t}\n\t} catch (_error) {\n\t\t// ignored\n\t}\n\tconst compressionMethod = getUint16(dataView, offset + 4);\n\tObject.assign(directory, {\n\t\tsignature: getUint32(dataView, offset + 10),\n\t\tuncompressedSize: getUint32(dataView, offset + 18),\n\t\tcompressedSize: getUint32(dataView, offset + 14)\n\t});\n\tconst extraFieldZip64 = extraField.get(EXTRAFIELD_TYPE_ZIP64);\n\tif (extraFieldZip64) {\n\t\treadExtraFieldZip64(extraFieldZip64, directory);\n\t\tdirectory.extraFieldZip64 = extraFieldZip64;\n\t}\n\tconst extraFieldUnicodePath = extraField.get(EXTRAFIELD_TYPE_UNICODE_PATH);\n\tif (extraFieldUnicodePath) {\n\t\tawait readExtraFieldUnicode(extraFieldUnicodePath, PROPERTY_NAME_FILENAME, PROPERTY_NAME_RAW_FILENAME, directory, fileEntry);\n\t\tdirectory.extraFieldUnicodePath = extraFieldUnicodePath;\n\t}\n\tconst extraFieldUnicodeComment = extraField.get(EXTRAFIELD_TYPE_UNICODE_COMMENT);\n\tif (extraFieldUnicodeComment) {\n\t\tawait readExtraFieldUnicode(extraFieldUnicodeComment, PROPERTY_NAME_COMMENT, PROPERTY_NAME_RAW_COMMENT, directory, fileEntry);\n\t\tdirectory.extraFieldUnicodeComment = extraFieldUnicodeComment;\n\t}\n\tconst extraFieldAES = extraField.get(EXTRAFIELD_TYPE_AES);\n\tif (extraFieldAES) {\n\t\treadExtraFieldAES(extraFieldAES, directory, compressionMethod);\n\t\tdirectory.extraFieldAES = extraFieldAES;\n\t} else {\n\t\tdirectory.compressionMethod = compressionMethod;\n\t}\n\tconst extraFieldNTFS = extraField.get(EXTRAFIELD_TYPE_NTFS);\n\tif (extraFieldNTFS) {\n\t\treadExtraFieldNTFS(extraFieldNTFS, directory);\n\t\tdirectory.extraFieldNTFS = extraFieldNTFS;\n\t}\n\tconst extraFieldExtendedTimestamp = extraField.get(EXTRAFIELD_TYPE_EXTENDED_TIMESTAMP);\n\tif (extraFieldExtendedTimestamp) {\n\t\treadExtraFieldExtendedTimestamp(extraFieldExtendedTimestamp, directory, localDirectory);\n\t\tdirectory.extraFieldExtendedTimestamp = extraFieldExtendedTimestamp;\n\t}\n\tconst extraFieldUSDZ = extraField.get(EXTRAFIELD_TYPE_USDZ);\n\tif (extraFieldUSDZ) {\n\t\tdirectory.extraFieldUSDZ = extraFieldUSDZ;\n\t}\n}\n\nfunction readExtraFieldZip64(extraFieldZip64, directory) {\n\tdirectory.zip64 = true;\n\tconst extraFieldView = getDataView(extraFieldZip64.data);\n\tconst missingProperties = ZIP64_PROPERTIES.filter(([propertyName, max]) => directory[propertyName] == max);\n\tfor (let indexMissingProperty = 0, offset = 0; indexMissingProperty < missingProperties.length; indexMissingProperty++) {\n\t\tconst [propertyName, max] = missingProperties[indexMissingProperty];\n\t\tif (directory[propertyName] == max) {\n\t\t\tconst extraction = ZIP64_EXTRACTION[max];\n\t\t\tdirectory[propertyName] = extraFieldZip64[propertyName] = extraction.getValue(extraFieldView, offset);\n\t\t\toffset += extraction.bytes;\n\t\t} else if (extraFieldZip64[propertyName]) {\n\t\t\tthrow new Error(ERR_EXTRAFIELD_ZIP64_NOT_FOUND);\n\t\t}\n\t}\n}\n\nasync function readExtraFieldUnicode(extraFieldUnicode, propertyName, rawPropertyName, directory, fileEntry) {\n\tconst extraFieldView = getDataView(extraFieldUnicode.data);\n\tconst crc32 = new Crc32();\n\tcrc32.append(fileEntry[rawPropertyName]);\n\tconst dataViewSignature = getDataView(new Uint8Array(4));\n\tdataViewSignature.setUint32(0, crc32.get(), true);\n\tconst signature = getUint32(extraFieldView, 1);\n\tObject.assign(extraFieldUnicode, {\n\t\tversion: getUint8(extraFieldView, 0),\n\t\t[propertyName]: decodeText(extraFieldUnicode.data.subarray(5)),\n\t\tvalid: !fileEntry.bitFlag.languageEncodingFlag && signature == getUint32(dataViewSignature, 0)\n\t});\n\tif (extraFieldUnicode.valid) {\n\t\tdirectory[propertyName] = extraFieldUnicode[propertyName];\n\t\tdirectory[propertyName + \"UTF8\"] = true;\n\t}\n}\n\nfunction readExtraFieldAES(extraFieldAES, directory, compressionMethod) {\n\tconst extraFieldView = getDataView(extraFieldAES.data);\n\tconst strength = getUint8(extraFieldView, 4);\n\tObject.assign(extraFieldAES, {\n\t\tvendorVersion: getUint8(extraFieldView, 0),\n\t\tvendorId: getUint8(extraFieldView, 2),\n\t\tstrength,\n\t\toriginalCompressionMethod: compressionMethod,\n\t\tcompressionMethod: getUint16(extraFieldView, 5)\n\t});\n\tdirectory.compressionMethod = extraFieldAES.compressionMethod;\n}\n\nfunction readExtraFieldNTFS(extraFieldNTFS, directory) {\n\tconst extraFieldView = getDataView(extraFieldNTFS.data);\n\tlet offsetExtraField = 4;\n\tlet tag1Data;\n\ttry {\n\t\twhile (offsetExtraField < extraFieldNTFS.data.length && !tag1Data) {\n\t\t\tconst tagValue = getUint16(extraFieldView, offsetExtraField);\n\t\t\tconst attributeSize = getUint16(extraFieldView, offsetExtraField + 2);\n\t\t\tif (tagValue == EXTRAFIELD_TYPE_NTFS_TAG1) {\n\t\t\t\ttag1Data = extraFieldNTFS.data.slice(offsetExtraField + 4, offsetExtraField + 4 + attributeSize);\n\t\t\t}\n\t\t\toffsetExtraField += 4 + attributeSize;\n\t\t}\n\t} catch (_error) {\n\t\t// ignored\n\t}\n\ttry {\n\t\tif (tag1Data && tag1Data.length == 24) {\n\t\t\tconst tag1View = getDataView(tag1Data);\n\t\t\tconst rawLastModDate = tag1View.getBigUint64(0, true);\n\t\t\tconst rawLastAccessDate = tag1View.getBigUint64(8, true);\n\t\t\tconst rawCreationDate = tag1View.getBigUint64(16, true);\n\t\t\tObject.assign(extraFieldNTFS, {\n\t\t\t\trawLastModDate,\n\t\t\t\trawLastAccessDate,\n\t\t\t\trawCreationDate\n\t\t\t});\n\t\t\tconst lastModDate = getDateNTFS(rawLastModDate);\n\t\t\tconst lastAccessDate = getDateNTFS(rawLastAccessDate);\n\t\t\tconst creationDate = getDateNTFS(rawCreationDate);\n\t\t\tconst extraFieldData = { lastModDate, lastAccessDate, creationDate };\n\t\t\tObject.assign(extraFieldNTFS, extraFieldData);\n\t\t\tObject.assign(directory, extraFieldData);\n\t\t}\n\t} catch (_error) {\n\t\t// ignored\n\t}\n}\n\nfunction readExtraFieldExtendedTimestamp(extraFieldExtendedTimestamp, directory, localDirectory) {\n\tconst extraFieldView = getDataView(extraFieldExtendedTimestamp.data);\n\tconst flags = getUint8(extraFieldView, 0);\n\tconst timeProperties = [];\n\tconst timeRawProperties = [];\n\tif (localDirectory) {\n\t\tif ((flags & 0x1) == 0x1) {\n\t\t\ttimeProperties.push(PROPERTY_NAME_LAST_MODIFICATION_DATE);\n\t\t\ttimeRawProperties.push(PROPERTY_NAME_RAW_LAST_MODIFICATION_DATE);\n\t\t}\n\t\tif ((flags & 0x2) == 0x2) {\n\t\t\ttimeProperties.push(PROPERTY_NAME_LAST_ACCESS_DATE);\n\t\t\ttimeRawProperties.push(PROPERTY_NAME_RAW_LAST_ACCESS_DATE);\n\t\t}\n\t\tif ((flags & 0x4) == 0x4) {\n\t\t\ttimeProperties.push(PROPERTY_NAME_CREATION_DATE);\n\t\t\ttimeRawProperties.push(PROPERTY_NAME_RAW_CREATION_DATE);\n\t\t}\n\t} else if (extraFieldExtendedTimestamp.data.length >= 5) {\n\t\ttimeProperties.push(PROPERTY_NAME_LAST_MODIFICATION_DATE);\n\t\ttimeRawProperties.push(PROPERTY_NAME_RAW_LAST_MODIFICATION_DATE);\n\t}\n\tlet offset = 1;\n\ttimeProperties.forEach((propertyName, indexProperty) => {\n\t\tif (extraFieldExtendedTimestamp.data.length >= offset + 4) {\n\t\t\tconst time = getUint32(extraFieldView, offset);\n\t\t\tdirectory[propertyName] = extraFieldExtendedTimestamp[propertyName] = new Date(time * 1000);\n\t\t\tconst rawPropertyName = timeRawProperties[indexProperty];\n\t\t\textraFieldExtendedTimestamp[rawPropertyName] = time;\n\t\t}\n\t\toffset += 4;\n\t});\n}\n\nasync function seekSignature(reader, signature, startOffset, minimumBytes, maximumLength) {\n\tconst signatureArray = new Uint8Array(4);\n\tconst signatureView = getDataView(signatureArray);\n\tsetUint32(signatureView, 0, signature);\n\tconst maximumBytes = minimumBytes + maximumLength;\n\treturn (await seek(minimumBytes)) || await seek(Math.min(maximumBytes, startOffset));\n\n\tasync function seek(length) {\n\t\tconst offset = startOffset - length;\n\t\tconst bytes = await readUint8Array(reader, offset, length);\n\t\tfor (let indexByte = bytes.length - minimumBytes; indexByte >= 0; indexByte--) {\n\t\t\tif (bytes[indexByte] == signatureArray[0] && bytes[indexByte + 1] == signatureArray[1] &&\n\t\t\t\tbytes[indexByte + 2] == signatureArray[2] && bytes[indexByte + 3] == signatureArray[3]) {\n\t\t\t\treturn {\n\t\t\t\t\toffset: offset + indexByte,\n\t\t\t\t\tbuffer: bytes.slice(indexByte, indexByte + minimumBytes).buffer\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction getOptionValue(zipReader, options, name) {\n\treturn options[name] === UNDEFINED_VALUE ? zipReader.options[name] : options[name];\n}\n\nfunction getDate(timeRaw) {\n\tconst date = (timeRaw & 0xffff0000) >> 16, time = timeRaw & 0x0000ffff;\n\ttry {\n\t\treturn new Date(1980 + ((date & 0xFE00) >> 9), ((date & 0x01E0) >> 5) - 1, date & 0x001F, (time & 0xF800) >> 11, (time & 0x07E0) >> 5, (time & 0x001F) * 2, 0);\n\t} catch (_error) {\n\t\t// ignored\n\t}\n}\n\nfunction getDateNTFS(timeRaw) {\n\treturn new Date((Number((timeRaw / BigInt(10000)) - BigInt(11644473600000))));\n}\n\nfunction getUint8(view, offset) {\n\treturn view.getUint8(offset);\n}\n\nfunction getUint16(view, offset) {\n\treturn view.getUint16(offset, true);\n}\n\nfunction getUint32(view, offset) {\n\treturn view.getUint32(offset, true);\n}\n\nfunction getBigUint64(view, offset) {\n\treturn Number(view.getBigUint64(offset, true));\n}\n\nfunction setUint32(view, offset, value) {\n\tview.setUint32(offset, value, true);\n}\n\nfunction getDataView(array) {\n\treturn new DataView(array.buffer);\n}","/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport { configure } from \"./core/configuration.js\";\nimport { configureWebWorker } from \"./z-worker-inline.js\";\nimport { getMimeType } from \"./core/util/default-mime-type.js\";\nimport { initShimAsyncCodec } from \"./core/util/stream-codec-shim.js\";\nimport { terminateWorkers } from \"./core/codec-pool.js\";\n\nlet baseURL;\ntry {\n\tbaseURL = import.meta.url;\n} catch (_error) {\n\t// ignored\n}\nconfigure({ baseURL });\nconfigureWebWorker(configure);\n\nexport * from \"./core/io.js\";\nexport * from \"./core/zip-reader.js\";\nexport * from \"./core/zip-writer.js\";\nexport * from \"./core/zip-fs-core.js\";\nexport {\n\tconfigure,\n\tgetMimeType,\n\tinitShimAsyncCodec,\n\tterminateWorkers\n};","/// <reference types=\"./index.d.ts\" />\n\n/*\n Copyright (c) 2022 Gildas Lormeau. All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright \n notice, this list of conditions and the following disclaimer in \n the documentation and/or other materials provided with the distribution.\n\n 3. The names of the authors may not be used to endorse or promote products\n derived from this software without specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport { Deflate } from \"./lib/core/streams/codecs/deflate.js\";\nimport { Inflate } from \"./lib/core/streams/codecs/inflate.js\";\nimport { configure } from \"./lib/core/configuration.js\";\nimport { getMimeType } from \"./lib/core/util/mime-type.js\";\nimport { terminateWorkers } from \"./lib/core/codec-pool.js\";\n\nconfigure({ Deflate, Inflate });\n\nexport {\n\tfs,\n\tconfigure,\n\tinitShimAsyncCodec,\n\tZipReader,\n\tZipWriter,\n\tReader,\n\tWriter,\n\tTextReader,\n\tTextWriter,\n\tData64URIReader,\n\tData64URIWriter,\n\tBlobReader,\n\tBlobWriter,\n\tHttpReader,\n\tHttpRangeReader,\n\tUint8ArrayWriter,\n\tUint8ArrayReader,\n\tSplitZipReader,\n\tSplitZipWriter,\n\tSplitDataReader,\n\tSplitDataWriter,\n\tERR_HTTP_RANGE,\n\tERR_BAD_FORMAT,\n\tERR_EOCDR_NOT_FOUND,\n\tERR_EOCDR_ZIP64_NOT_FOUND,\n\tERR_EOCDR_LOCATOR_ZIP64_NOT_FOUND,\n\tERR_CENTRAL_DIRECTORY_NOT_FOUND,\n\tERR_LOCAL_FILE_HEADER_NOT_FOUND,\n\tERR_EXTRAFIELD_ZIP64_NOT_FOUND,\n\tERR_ENCRYPTED,\n\tERR_UNSUPPORTED_ENCRYPTION,\n\tERR_UNSUPPORTED_COMPRESSION,\n\tERR_INVALID_SIGNATURE,\n\tERR_INVALID_PASSWORD,\n\tERR_DUPLICATED_NAME,\n\tERR_INVALID_COMMENT,\n\tERR_INVALID_ENTRY_NAME,\n\tERR_INVALID_ENTRY_COMMENT,\n\tERR_INVALID_VERSION,\n\tERR_INVALID_EXTRAFIELD_TYPE,\n\tERR_INVALID_EXTRAFIELD_DATA,\n\tERR_INVALID_ENCRYPTION_STRENGTH,\n\tERR_UNSUPPORTED_FORMAT,\n\tERR_SPLIT_ZIP_FILE,\n\tERR_ITERATOR_COMPLETED_TOO_SOON\n} from \"./lib/zip-fs.js\";\nexport { getMimeType, terminateWorkers };","/**\n * @param {string} str\n * @returns {string}\n */\nfunction latinize(str, characters = latinize.characters) {\n  return str.replace(/[^A-Za-z0-9]/g, function(x) {\n    return characters[x] || x;\n  });\n}\n\n/** @type {{[key: string]: string}} */\nlatinize.characters = {\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'A',\n  '': 'AA',\n  '': 'AE',\n  '': 'AE',\n  '': 'AE',\n  '': 'AO',\n  '': 'AU',\n  '': 'AV',\n  '': 'AV',\n  '': 'AY',\n  '': 'B',\n  '': 'B',\n  '': 'B',\n  '': 'B',\n  '': 'B',\n  '': 'B',\n  '': 'C',\n  '': 'C',\n  '': 'C',\n  '': 'C',\n  '': 'C',\n  '': 'C',\n  '': 'C',\n  '': 'C',\n  '': 'D',\n  '': 'D',\n  '': 'D',\n  '': 'D',\n  '': 'D',\n  '': 'D',\n  '': 'D',\n  '': 'D',\n  '': 'D',\n  '': 'D',\n  '': 'D',\n  '': 'D',\n  '': 'DZ',\n  '': 'DZ',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'E',\n  '': 'ET',\n  '': 'F',\n  '': 'F',\n  '': 'G',\n  '': 'G',\n  '': 'G',\n  '': 'G',\n  '': 'G',\n  '': 'G',\n  '': 'G',\n  '': 'G',\n  '': 'G',\n  '': 'H',\n  '': 'H',\n  '': 'H',\n  '': 'H',\n  '': 'H',\n  '': 'H',\n  '': 'H',\n  '': 'H',\n  '': 'H',\n  '': 'I',\n  '': 'I',\n  '': 'I',\n  '': 'I',\n  '': 'I',\n  '': 'I',\n  '': 'I',\n  '': 'I',\n  '': 'I',\n  '': 'I',\n  '': 'I',\n  '': 'I',\n  '': 'I',\n  '': 'I',\n  '': 'I',\n  '': 'I',\n  '': 'I',\n  '': 'I',\n  '': 'D',\n  '': 'F',\n  '': 'G',\n  '': 'R',\n  '': 'S',\n  '': 'T',\n  '': 'IS',\n  '': 'J',\n  '': 'J',\n  '': 'K',\n  '': 'K',\n  '': 'K',\n  '': 'K',\n  '': 'K',\n  '': 'K',\n  '': 'K',\n  '': 'K',\n  '': 'K',\n  '': 'K',\n  '': 'L',\n  '': 'L',\n  '': 'L',\n  '': 'L',\n  '': 'L',\n  '': 'L',\n  '': 'L',\n  '': 'L',\n  '': 'L',\n  '': 'L',\n  '': 'L',\n  '': 'L',\n  '': 'L',\n  '': 'L',\n  '': 'LJ',\n  '': 'M',\n  '': 'M',\n  '': 'M',\n  '': 'M',\n  '': 'N',\n  '': 'N',\n  '': 'N',\n  '': 'N',\n  '': 'N',\n  '': 'N',\n  '': 'N',\n  '': 'N',\n  '': 'N',\n  '': 'N',\n  '': 'N',\n  '': 'N',\n  '': 'NJ',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'O',\n  '': 'OI',\n  '': 'OO',\n  '': 'E',\n  '': 'O',\n  '': 'OU',\n  '': 'P',\n  '': 'P',\n  '': 'P',\n  '': 'P',\n  '': 'P',\n  '': 'P',\n  '': 'P',\n  '': 'Q',\n  '': 'Q',\n  '': 'R',\n  '': 'R',\n  '': 'R',\n  '': 'R',\n  '': 'R',\n  '': 'R',\n  '': 'R',\n  '': 'R',\n  '': 'R',\n  '': 'R',\n  '': 'R',\n  '': 'C',\n  '': 'E',\n  '': 'S',\n  '': 'S',\n  '': 'S',\n  '': 'S',\n  '': 'S',\n  '': 'S',\n  '': 'S',\n  '': 'S',\n  '': 'S',\n  '': 'S',\n  '': 'ss',\n  '': 'T',\n  '': 'T',\n  '': 'T',\n  '': 'T',\n  '': 'T',\n  '': 'T',\n  '': 'T',\n  '': 'T',\n  '': 'T',\n  '': 'T',\n  '': 'T',\n  '': 'A',\n  '': 'L',\n  '': 'M',\n  '': 'V',\n  '': 'TZ',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'U',\n  '': 'V',\n  '': 'V',\n  '': 'V',\n  '': 'V',\n  '': 'VY',\n  '': 'W',\n  '': 'W',\n  '': 'W',\n  '': 'W',\n  '': 'W',\n  '': 'W',\n  '': 'W',\n  '': 'X',\n  '': 'X',\n  '': 'Y',\n  '': 'Y',\n  '': 'Y',\n  '': 'Y',\n  '': 'Y',\n  '': 'Y',\n  '': 'Y',\n  '': 'Y',\n  '': 'Y',\n  '': 'Y',\n  '': 'Y',\n  '': 'Y',\n  '': 'YI',\n  '': 'Z',\n  '': 'Z',\n  '': 'Z',\n  '': 'Z',\n  '': 'Z',\n  '': 'Z',\n  '': 'Z',\n  '': 'Z',\n  '': 'Z',\n  '': 'TH',\n  '': 'IJ',\n  '': 'OE',\n  '': 'A',\n  '': 'AE',\n  '': 'B',\n  '': 'B',\n  '': 'C',\n  '': 'D',\n  '': 'E',\n  '': 'F',\n  '': 'G',\n  '': 'G',\n  '': 'H',\n  '': 'I',\n  '': 'R',\n  '': 'J',\n  '': 'K',\n  '': 'L',\n  '': 'L',\n  '': 'M',\n  '': 'N',\n  '': 'O',\n  '': 'OE',\n  '': 'O',\n  '': 'OU',\n  '': 'P',\n  '': 'R',\n  '': 'N',\n  '': 'R',\n  '': 'S',\n  '': 'T',\n  '': 'E',\n  '': 'R',\n  '': 'U',\n  '': 'V',\n  '': 'W',\n  '': 'Y',\n  '': 'Z',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'a',\n  '': 'aa',\n  '': 'ae',\n  '': 'ae',\n  '': 'ae',\n  '': 'ao',\n  '': 'au',\n  '': 'av',\n  '': 'av',\n  '': 'ay',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'b',\n  '': 'o',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'c',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'd',\n  '': 'i',\n  '': 'j',\n  '': 'j',\n  '': 'j',\n  '': 'dz',\n  '': 'dz',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'e',\n  '': 'et',\n  '': 'f',\n  '': 'f',\n  '': 'f',\n  '': 'f',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'g',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'hv',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'i',\n  '': 'd',\n  '': 'f',\n  '': 'g',\n  '': 'r',\n  '': 's',\n  '': 't',\n  '': 'is',\n  '': 'j',\n  '': 'j',\n  '': 'j',\n  '': 'j',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'k',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'l',\n  '': 'lj',\n  '': 's',\n  '': 's',\n  '': 's',\n  '': 's',\n  '': 'm',\n  '': 'm',\n  '': 'm',\n  '': 'm',\n  '': 'm',\n  '': 'm',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'n',\n  '': 'nj',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'o',\n  '': 'oi',\n  '': 'oo',\n  '': 'e',\n  '': 'e',\n  '': 'o',\n  '': 'o',\n  '': 'ou',\n  '': 'p',\n  '': 'p',\n  '': 'p',\n  '': 'p',\n  '': 'p',\n  '': 'p',\n  '': 'p',\n  '': 'p',\n  '': 'p',\n  '': 'q',\n  '': 'q',\n  '': 'q',\n  '': 'q',\n  '': 'r',\n  '': 'r',\n  '': 'r',\n  '': 'r',\n  '': 'r',\n  '': 'r',\n  '': 'r',\n  '': 'r',\n  '': 'r',\n  '': 'r',\n  '': 'r',\n  '': 'r',\n  '': 'r',\n  '': 'r',\n  '': 'r',\n  '': 'r',\n  '': 'c',\n  '': 'c',\n  '': 'e',\n  '': 'r',\n  '': 's',\n  '': 's',\n  '': 's',\n  '': 's',\n  '': 's',\n  '': 's',\n  '': 's',\n  '': 's',\n  '': 's',\n  '': 's',\n  '': 's',\n  '': 's',\n  '': 's',\n  '': 's',\n  '': 'g',\n  '': 'o',\n  '': 'o',\n  '': 'u',\n  '': 't',\n  '': 't',\n  '': 't',\n  '': 't',\n  '': 't',\n  '': 't',\n  '': 't',\n  '': 't',\n  '': 't',\n  '': 't',\n  '': 't',\n  '': 't',\n  '': 't',\n  '': 't',\n  '': 't',\n  '': 'th',\n  '': 'a',\n  '': 'ae',\n  '': 'e',\n  '': 'g',\n  '': 'h',\n  '': 'h',\n  '': 'h',\n  '': 'i',\n  '': 'k',\n  '': 'l',\n  '': 'm',\n  '': 'm',\n  '': 'oe',\n  '': 'r',\n  '': 'r',\n  '': 'r',\n  '': 'r',\n  '': 't',\n  '': 'v',\n  '': 'w',\n  '': 'y',\n  '': 'tz',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'u',\n  '': 'ue',\n  '': 'um',\n  '': 'v',\n  '': 'v',\n  '': 'v',\n  '': 'v',\n  '': 'v',\n  '': 'v',\n  '': 'v',\n  '': 'vy',\n  '': 'w',\n  '': 'w',\n  '': 'w',\n  '': 'w',\n  '': 'w',\n  '': 'w',\n  '': 'w',\n  '': 'w',\n  '': 'x',\n  '': 'x',\n  '': 'x',\n  '': 'y',\n  '': 'y',\n  '': 'y',\n  '': 'y',\n  '': 'y',\n  '': 'y',\n  '': 'y',\n  '': 'y',\n  '': 'y',\n  '': 'y',\n  '': 'y',\n  '': 'y',\n  '': 'y',\n  '': 'yi',\n  '': 'z',\n  '': 'z',\n  '': 'z',\n  '': 'z',\n  '': 'z',\n  '': 'z',\n  '': 'z',\n  '': 'z',\n  '': 'z',\n  '': 'z',\n  '': 'z',\n  '': 'z',\n  '': 'z',\n  '': 'z',\n  '': 'th',\n  '': 'ff',\n  '': 'ffi',\n  '': 'ffl',\n  '': 'fi',\n  '': 'fl',\n  '': 'ij',\n  '': 'oe',\n  '': 'st',\n  '': 'a',\n  '': 'e',\n  '': 'i',\n  '': 'j',\n  '': 'o',\n  '': 'r',\n  '': 'u',\n  '': 'v',\n  '': 'x',\n  '': 'YO',\n  '': 'I',\n  '': 'TS',\n  '': 'U',\n  '': 'K',\n  '': 'E',\n  '': 'N',\n  '': 'G',\n  '': 'G',\n  '': 'SH',\n  '': 'SCH',\n  '': 'Z',\n  '': 'H',\n  '': \"'\",\n  '': 'yo',\n  '': 'i',\n  '': 'ts',\n  '': 'u',\n  '': 'k',\n  '': 'e',\n  '': 'n',\n  '': 'g',\n  '': 'g',\n  '': 'sh',\n  '': 'sch',\n  '': 'z',\n  '': 'h',\n  '': \"'\",\n  '': 'F',\n  '': 'I',\n  '': 'V',\n  '': 'a',\n  '': 'P',\n  '': 'R',\n  '': 'O',\n  '': 'L',\n  '': 'D',\n  '': 'ZH',\n  '': 'E',\n  '': 'f',\n  '': 'i',\n  '': 'v',\n  '': 'a',\n  '': 'p',\n  '': 'r',\n  '': 'o',\n  '': 'l',\n  '': 'd',\n  '': 'zh',\n  '': 'e',\n  '': 'Ya',\n  '': 'CH',\n  '': 'S',\n  '': 'M',\n  '': 'I',\n  '': 'T',\n  '': \"'\",\n  '': 'B',\n  '': 'YU',\n  '': 'ya',\n  '': 'ch',\n  '': 's',\n  '': 'm',\n  '': 'i',\n  '': 't',\n  '': \"'\",\n  '': 'b',\n  '': 'yu',\n};\n\nexport default latinize;\n","import latinize from \"latinize\"\nimport { shouldIgnore, symbolReplacements } from \"./charsets\"\n\ntype Options = {\n  replaceLetters: boolean\n  ignoreUnknownChars: boolean\n}\n\nconst defaultOptions: Options = {\n  replaceLetters: false,\n  ignoreUnknownChars: false,\n}\n\nexport function cleanSymbols(text: string) {\n  const cleaned: string[] = []\n\n  for (const char of text) {\n    const subSymbol = symbolReplacements[char]\n    cleaned.push(subSymbol ?? char)\n  }\n\n  return cleaned.join(\"\")\n}\n\nexport const cleanText =\n  (charset: Set<string>) =>\n  (text: string, options: Partial<Options> = {}) => {\n    const cfg = { ...defaultOptions, ...options }\n\n    const base = text\n      .replace(/\\n+/g, \" \")\n      .replace(/\\t+/g, \" \")\n      .replace(/^[* ]+$/, \"***\")\n      .replace(/\\s*\\. \\. \\./g, \"...\")\n      .replace(/\\s--\\s/g, \" - \")\n      .replace(/[,.?!][A-Z]/g, (v) => `${v[0]} ${v[1]}`) // fix no space between end of sentence and new sentence\n      .replace(/\\s[,.?!]/g, (v) => v[1]) // remove space before interpunction\n      .trim()\n\n    const cleaned: string[] = []\n\n    for (const char of base) {\n      if (charset.has(char)) {\n        cleaned.push(char)\n      } else if (!shouldIgnore(char)) {\n        const subSymbol = symbolReplacements[char]\n        const subLetter = latinize(char)\n\n        cleaned.push(\n          subSymbol ?? subLetter ?? (cfg.ignoreUnknownChars ? \"\" : char),\n        )\n      }\n    }\n\n    return cleaned\n      .join(\"\")\n      .replace(/:\\s-\\s$/, \":\")\n      .replace(/\\s+/g, \" \")\n      .trim()\n  }\n","import { getCharset } from \"../libs/charsets.ts\"\nimport { cleanText } from \"../libs/cleanText.ts\"\nconst charset = getCharset(\"en\")\nconst clean = cleanText(charset)\n\nexport function createBookId(author: string | null, title: string | null) {\n  return [author ?? \"Unknown\", title ?? \"No Title\"]\n    .map((text) =>\n      clean(text, { ignoreUnknownChars: true, replaceLetters: true })\n        .toLowerCase()\n        .replace(/\\s+/g, \"-\")\n        .replace(/[^a-z0-9-]/g, \"\")\n        .replace(/\\-+/g, \"-\"),\n    )\n    .join(\"--\")\n}\n","export function getFileType(mime: string) {\n  if (mime.includes(\"html\")) {\n    return \"html\"\n  }\n\n  if (mime.startsWith(\"image\")) {\n    return \"image\"\n  }\n\n  if (mime.includes(\"text\")) {\n    return \"text\"\n  }\n\n  if (mime.includes(\"xml\")) {\n    return \"xml\"\n  }\n\n  return \"other\"\n}\n","export function getLanguage(label?: string) {\n  if (!label) {\n    return null\n  }\n\n  try {\n    return new Intl.Locale(label.replace(/\\s+/g, \"-\")).language\n  } catch {\n    return null\n  }\n}\n","const HIDE_TITLES_BY_LANG = {\n  phrases: {\n    en: [\n      \"epigraph\",\n      \"preface\",\n      \"notes and references\",\n      \"references\",\n      \"endnotes\",\n    ],\n    pl: [],\n  },\n  patterns: {\n    en: [],\n    pl: [],\n  },\n}\n\nconst SKIP_TITLES_BY_LANG = {\n  phrases: {\n    en: [\n      \"dedication\",\n      \"contents\",\n      \"copyright\",\n      \"about the publisher\",\n      \"title page\",\n      \"titlepage\",\n      \"list of illustrations\",\n      \"license\",\n      \"bibliography\",\n      \"creative commons licensing information\",\n      \"acknowledgements\",\n      \"acknowledgments\",\n      \"project gutenberg\",\n      \"books by\",\n      \"about the author\",\n      \"about this ebook\",\n      \"about this book\",\n      \"other titles by \",\n      \"biographical note\",\n      \"imprint\",\n      \"colophon\",\n    ],\n    pl: [\n      \"spis treci\",\n      \"strona redakcyjna\",\n      \"o tej publikacji\",\n      \"o autorze\",\n      \"bibliografia\",\n      \"dedykacja\",\n    ],\n  },\n  patterns: {\n    en: [],\n    pl: [],\n  },\n}\n\nexport const HIDE_TITLES = {\n  phrases: new Set(Object.values(HIDE_TITLES_BY_LANG.phrases).flat()),\n  patterns: Object.values(HIDE_TITLES_BY_LANG.patterns).flat() as RegExp[],\n}\n\nexport const SKIP_TITLES = {\n  phrases: new Set(Object.values(SKIP_TITLES_BY_LANG.phrases).flat()),\n  patterns: Object.values(SKIP_TITLES_BY_LANG.patterns).flat() as RegExp[],\n}\n","import { HIDE_TITLES, SKIP_TITLES } from \"./specialChapterNames\"\n\nconst isMatchingTiles = (titles: typeof SKIP_TITLES) => (title: string) => {\n  const titleLow = title.toLowerCase()\n\n  return (\n    titles.phrases.has(titleLow) ||\n    [...titles.phrases].some((phrase) => titleLow.includes(phrase)) ||\n    titles.patterns.some((pattern) => pattern.test(titleLow))\n  )\n}\n\nexport const shouldSkip = isMatchingTiles(SKIP_TITLES)\nexport const shouldHide = isMatchingTiles(HIDE_TITLES)\n","// use # for exact words\nconst genreKeywords: { [key: string]: (string | RegExp)[] } = {\n  action: [\"action\"],\n  adventure: [\"adventure\"],\n  autobiography: [\"autobiograph\"],\n  biography: [/^biograph/],\n  children: [\"juvenile fiction\", \"children\", \"children's\"],\n  comedy: [\"humor\", \"humour\", \"comedy\", \"comedic\", \"funny\", \"hilarious\"],\n  \"coming-of-age\": [\"bildungsroman\", \"coming of age\", \"coming-of-age\"],\n  crime: [\"crime\", \"criminal\"],\n  dragons: [\"dragon\"],\n  drama: [\"drama\"],\n  erotic: [\"erotic\", /^sex/],\n  fantasy: [\"fantasy\"],\n  fiction: [\"fiction\"],\n  friendship: [\"friendship\"],\n  gothic: [\"gothic\"],\n  history: [\"history\", \"historic\", \"historical\"],\n  horror: [\"horror\", \"terror\", \"monster\"],\n  magic: [\"magic\"],\n  mystery: [\"mystery\"],\n  memoir: [\"memoir\"],\n  murder: [\"murder\"],\n  nonfiction: [\"non-fiction\", \"nonfiction\"],\n  philosophy: [\"philosophy\"],\n  pirates: [\"pirate\"],\n  poetry: [\"poetry\"],\n  psychological: [\"psychological\"],\n  revenge: [\"revenge\"],\n  romance: [\"romance\", \"love\"],\n  satire: [\"satire\"],\n  \"science-fiction\": [\"science-fiction\", \"science fiction\", \"scifi\", \"sci-fi\"],\n  shorts: [\"short\"],\n  spirituality: [\"spirituality\"],\n  survival: [\"survival\"],\n  thriller: [\"thriller\"],\n  travel: [\"travel\"],\n  vampires: [\"vampire\"],\n  \"young-adult\": [\"young adult\", \"highschool\"],\n}\n\nconst hasKeywords = (text: string) => (keywords: (string | RegExp)[]) => {\n  const words = text.split(\" \").map((word) => word.replace(/[^a-z]+$/, \"\"))\n\n  return keywords.some((keyword) =>\n    keyword instanceof RegExp\n      ? words.some((word) => keyword.test(word))\n      : text.includes(keyword),\n  )\n}\n\nexport function extractGenres(\n  subject: string[],\n  subjectSE: string[],\n): string[] {\n  const genres: Set<string> = new Set()\n\n  let text = \"\"\n\n  if (subject.length > 0 || subjectSE.length > 0) {\n    text = [...subjectSE, ...subject].join(\" \").toLowerCase()\n  }\n\n  if (!text) {\n    return [...genres]\n  }\n\n  const hasKeywordsInText = hasKeywords(text)\n\n  for (const [genre, keywords] of Object.entries(genreKeywords)) {\n    if (hasKeywordsInText(keywords)) {\n      genres.add(genre)\n    }\n  }\n\n  if (genres.has(\"nonfiction\")) {\n    genres.delete(\"fiction\")\n  }\n\n  return [...genres]\n}\n","import type { Info } from \"./types\"\n\nconst TITLE_CHARS_PER_LINE = 10\nconst TITLE_MAX_LINES = 5\nconst AUTHOR_CHARS_PER_LINE = 20\nconst AUTHOR_MAX_LINES = 3\n\nfunction getCoverColors(genres: Set<string>) {\n  if (genres.has(\"children\")) {\n    return { bg: \"#9AAD3E\", fg: \"#033547\" }\n  }\n\n  if (genres.has(\"young-adult\")) {\n    return { bg: \"#37264D\", fg: \"#ACFFAD\" }\n  }\n\n  if (genres.has(\"horror\")) {\n    return { bg: \"#141019\", fg: \"#EE1919\" }\n  }\n\n  if (genres.has(\"mystery\") || genres.has(\"crime\") || genres.has(\"thriller\")) {\n    return { bg: \"#151722\", fg: \"#C4C4C4\" }\n  }\n\n  if (genres.has(\"fantasy\")) {\n    return { bg: \"#361A4D\", fg: \"#FEC260\" }\n  }\n\n  if (genres.has(\"science-fiction\")) {\n    return { bg: \"#131B2A\", fg: \"#A5FB38\" }\n  }\n\n  if (genres.has(\"adventure\")) {\n    return { bg: \"#18291F\", fg: \"#FFCA42\" }\n  }\n\n  if (genres.has(\"romance\") || genres.has(\"erotic\")) {\n    return { bg: \"#261E2B\", fg: \"#FF2E63\" }\n  }\n\n  if (genres.has(\"drama\") || genres.has(\"poetry\")) {\n    return { bg: \"#331D2C\", fg: \"#EFE1D1\" }\n  }\n\n  if (genres.has(\"comedy\")) {\n    return { bg: \"#4E1839\", fg: \"#FB8B24\" }\n  }\n\n  if (genres.has(\"satire\")) {\n    return { bg: \"#272121\", fg: \"#FF4D00\" }\n  }\n\n  if (genres.has(\"philosophy\") || genres.has(\"spirituality\")) {\n    return { bg: \"#1F2544\", fg: \"#FFD0EC\" }\n  }\n\n  if (\n    genres.has(\"biography\") ||\n    genres.has(\"autobiography\") ||\n    genres.has(\"memoir\")\n  ) {\n    return { bg: \"#2D2424\", fg: \"#E0C097\" }\n  }\n\n  if (genres.has(\"history\")) {\n    return { bg: \"#2C1A1C\", fg: \"#DB8A3A\" }\n  }\n\n  if (genres.has(\"fiction\")) {\n    return { bg: \"#222831\", fg: \"#00ADB5\" }\n  }\n\n  if (genres.has(\"nonfiction\")) {\n    return { bg: \"#222831\", fg: \"#FFD369\" }\n  }\n\n  return { bg: \"#222831\", fg: \"#CBE4DE\" }\n}\n\nasync function loadImage(url: string) {\n  return new Promise((resolve) => {\n    const img = new Image()\n    img.src = url\n    img.onload = () => resolve(img)\n  }) as Promise<HTMLImageElement>\n}\n\nfunction drawText(\n  ctx: CanvasRenderingContext2D,\n  rawTitle: string,\n  lineHeight: number,\n  charsPerLine: number,\n  baseY: number,\n  maxLines: number,\n) {\n  const maxChars = Math.max(\n    charsPerLine,\n    Math.ceil(rawTitle.length / maxLines) + 1,\n  )\n\n  const title =\n    rawTitle.length <= maxChars\n      ? [rawTitle]\n      : rawTitle.split(\" \").reduce((chunks, word) => {\n          if (chunks.length === 0) {\n            chunks.push(word)\n          } else if (\n            (chunks.at(-1) ?? \"\").length + word.length + 1 <=\n            maxChars\n          ) {\n            chunks[chunks.length - 1] += ` ${word}`\n          } else {\n            chunks.push(word)\n          }\n          return chunks\n        }, [] as string[])\n\n  const isOddLines = title.length % 2 !== 0\n  const start =\n    baseY -\n    Math.floor(title.length / 2) * lineHeight +\n    (isOddLines ? 0 : lineHeight / 2)\n\n  for (const [i, chunk] of title.entries()) {\n    const y = start + i * lineHeight\n\n    ctx.fillText(\n      chunk.toUpperCase(),\n      ctx.canvas.width / 2,\n      y,\n      Math.floor(0.775 * ctx.canvas.width),\n    )\n  }\n}\n\nfunction drawCover(ctx: CanvasRenderingContext2D, info: Info) {\n  const TITLE_LINE_HEIGHT = Math.floor(0.125 * ctx.canvas.width)\n  const AUTHOR_LINE_HEIGHT = Math.floor(0.075 * ctx.canvas.width)\n  const WIDTH = ctx.canvas.width\n  const colors = getCoverColors(new Set(info.genres))\n\n  ctx.fillStyle = colors.bg\n  ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n\n  ctx.strokeStyle = colors.fg\n  ctx.lineWidth = Math.round((WIDTH * 2) / 320)\n  ctx.strokeRect(\n    0.05 * WIDTH,\n    0.05 * WIDTH,\n    ctx.canvas.width - 0.1 * WIDTH,\n    ctx.canvas.height - 0.1 * WIDTH,\n  )\n\n  ctx.textAlign = \"center\"\n\n  ctx.font = `bold ${Math.floor(0.12 * WIDTH)}px 'Times New Roman'`\n  ctx.fillStyle = colors.fg\n\n  const rawTitle = info.title ?? \"No Title\"\n\n  drawText(\n    ctx,\n    rawTitle,\n    TITLE_LINE_HEIGHT,\n    TITLE_CHARS_PER_LINE,\n    ctx.canvas.height / 2,\n    TITLE_MAX_LINES,\n  )\n\n  ctx.font = `bold ${Math.floor(0.06 * WIDTH)}px Arial`\n  ctx.fillStyle = colors.fg\n\n  const rawAuthor = info.author ?? \"Author Unknown\"\n\n  drawText(\n    ctx,\n    rawAuthor,\n    AUTHOR_LINE_HEIGHT,\n    AUTHOR_CHARS_PER_LINE,\n    ctx.canvas.height * 0.85,\n    AUTHOR_MAX_LINES,\n  )\n}\n\nfunction getBlob(canvas: HTMLCanvasElement) {\n  return new Promise((resolve) =>\n    canvas.toBlob((blob) => resolve(blob), \"image/png\"),\n  ) as Promise<Blob | null>\n}\n\nexport async function prepareCover(file: File | null, info: Info, width = 320) {\n  const canvas = document.createElement(\"canvas\") as HTMLCanvasElement\n  canvas.width = width\n  canvas.height = Math.round((width / 2) * 3)\n\n  const ctx = canvas.getContext(\"2d\")\n\n  if (ctx === null) {\n    throw new Error(\"Cannot initialize canvas 2d\")\n  }\n\n  if (file) {\n    const fileUrl = URL.createObjectURL(file)\n    const img = await loadImage(fileUrl)\n\n    ctx.drawImage(img, 0, 0, canvas.width, canvas.height)\n  } else {\n    drawCover(ctx, info)\n  }\n\n  return getBlob(canvas)\n}\n","export function sanitizeDescription(\n  description: string | null,\n  clean: (text: string) => string,\n) {\n  if (description === null) {\n    return null\n  }\n\n  const parser = new DOMParser()\n  const document = parser.parseFromString(\n    `<html><body>${description}</body></html>`,\n    \"text/html\",\n  )\n\n  if (document.body.textContent === description) {\n    return [description].filter(Boolean).map(clean)\n  }\n\n  const paragraphs = document.querySelectorAll(\"p\")\n\n  if (paragraphs.length === 0) {\n    return [document.body.textContent as string].filter(Boolean).map(clean)\n  }\n\n  return (\n    [...paragraphs]\n      .map((paragraph) => paragraph.textContent)\n      .filter((p) => typeof p === \"string\" && p !== \"\") as string[]\n  ).map(clean)\n}\n","function isUrl(text: string) {\n  try {\n    new URL(text)\n    return true\n  } catch {\n    return false\n  }\n}\n\nexport function toUrlIfPossible(text: string | null) {\n  if (text === null) {\n    return null\n  }\n\n  text = text.startsWith(\"www.\") ? `https://${text}` : text\n\n  return {\n    isUrl: isUrl(text),\n    value: text,\n  }\n}\n","import { BlobReader, BlobWriter, TextWriter, ZipReader } from \"@zip.js/zip.js\"\nimport type { Entry } from \"@zip.js/zip.js\"\nimport { getCharset } from \"../charsets\"\nimport { cleanSymbols, cleanText } from \"../cleanText\"\nimport { createBookId } from \"../createBookId\"\nimport { getFileType } from \"../getFileType\"\nimport { getLanguage } from \"../getLanguage\"\nimport { shouldHide, shouldSkip } from \"./clasifyChapter\"\nimport { extractGenres } from \"./extractGenres\"\nimport { prepareCover } from \"./prepareCover\"\nimport { sanitizeDescription } from \"./sanitizeDescription\"\nimport { SKIP_TITLES } from \"./specialChapterNames\"\nimport { toUrlIfPossible } from \"./toUrlIfPossible\"\nimport type {\n  Book,\n  Chapter,\n  FlatElement,\n  Info,\n  ManifestEntry,\n  Part,\n  TocElement,\n} from \"./types\"\n\nfunction stripSymbols(str: string) {\n  return str\n    .toLowerCase()\n    .replace(/[~!@#$%^&*()_+\\-=\\[\\]\\{\\};',./:\"<>?]+/g, \"\")\n    .replace(/\\s+/g, \" \")\n    .trim()\n}\n\nexport class Epub {\n  #reader\n  #charset: Set<string> = new Set()\n  #cleanText = (text: string) => text\n  #book: Book | null = null\n\n  constructor(zipBlob: Blob) {\n    const blobReader = new BlobReader(zipBlob)\n    this.#reader = new ZipReader(blobReader)\n  }\n\n  async load(): Promise<Book | null> {\n    const entries = await this.#reader.getEntries()\n    await this.#verifyMimeFile(entries)\n    const rootFile = await this.#readMetaInfo(entries)\n\n    if (!rootFile.path) {\n      throw new Error(\"Incorrect epub file\")\n    }\n\n    this.#book = (await this.#extractContent(rootFile.path, entries)) ?? null\n    await this.#reader.close()\n\n    return this.#book\n  }\n\n  async #verifyMimeFile(entries: Entry[]) {\n    const mimeFile = entries.find((entry) => entry.filename === \"mimetype\")\n\n    if (mimeFile === undefined || mimeFile.getData === undefined) {\n      throw new Error(\"Incorrect epub file\")\n    }\n\n    const mimeWriter = new TextWriter()\n    const mimeText = (await mimeFile.getData(mimeWriter)).trim()\n\n    if (mimeText !== \"application/epub+zip\") {\n      throw new Error(\"Incorrect epub file\")\n    }\n  }\n\n  async #readFile(filePath: string, entries: Entry[]) {\n    const ext = filePath.split(\".\").at(-1)\n    const file = entries.find(\n      (entry) =>\n        entry.filename === filePath || entry.filename.endsWith(filePath),\n    )\n\n    if (file === undefined || file.getData === undefined) {\n      throw new Error(\"Incorrect epub file\")\n    }\n\n    const textWriter = new TextWriter()\n    const text = (await file.getData(textWriter))\n      .replace(/<script.*\\/script>/gs, \"\")\n      .replace(/<script.*>/g, \"\")\n\n    const parser = new DOMParser()\n\n    switch (ext) {\n      case \"xml\":\n      case \"opf\": // structure data\n        return parser.parseFromString(text, \"text/xml\")\n      default:\n        return parser.parseFromString(text, \"application/xhtml+xml\")\n    }\n  }\n\n  async #readMetaInfo(entries: Entry[]) {\n    const content = await this.#readFile(\"META-INF/container.xml\", entries)\n\n    const rootFile = content.querySelector(\"rootfile\")\n    const rootFilePath = rootFile?.getAttribute(\"full-path\")\n    const rootFileMime = rootFile?.getAttribute(\"media-type\")\n\n    return { path: rootFilePath, mime: rootFileMime }\n  }\n\n  #readHtmlToc(\n    element: Element,\n    prefix: string,\n    title: string | null,\n    parentLabel?: string,\n  ) {\n    const toc: TocElement[][] = [\n      ...element.querySelectorAll(\":scope > li\"),\n    ].map((navPoint) => {\n      const a = navPoint.querySelector(\":scope > a\") as HTMLAnchorElement\n\n      const currentLabel = this.#cleanText(a?.textContent ?? \"\")\n\n      const label = parentLabel\n        ? `${parentLabel} - ${currentLabel}`\n        : currentLabel\n\n      let nextLabel: string | undefined =\n        label.trim().toLowerCase() !== title?.trim().toLowerCase()\n          ? label\n          : undefined\n\n      if (shouldSkip(currentLabel)) {\n        nextLabel = parentLabel ? parentLabel : undefined\n      }\n\n      const link = a.getAttribute(\"href\") ?? \"\"\n      const [rawPath, id] = link.split(\"#\")\n      const path = `${prefix}${rawPath}`\n      const subList = navPoint.querySelector(\":scope > ol\")\n      const children = subList\n        ? this.#readHtmlToc(subList, prefix, title, nextLabel)\n        : []\n\n      return children.length > 0 ? children : [{ label, path, id }]\n    })\n\n    return toc.flat()\n  }\n\n  #readNcxToc(\n    element: Element,\n    prefix: string,\n    title: string | null,\n    parentLabel?: string,\n  ) {\n    const toc: TocElement[][] = [\n      ...element.querySelectorAll(\":scope > navPoint\"),\n    ].map((navPoint) => {\n      const currentLabel = this.#cleanText(\n        navPoint.querySelector(\"navLabel\")?.textContent ?? \"\",\n      )\n\n      const label = parentLabel\n        ? `${parentLabel} - ${currentLabel}`\n        : currentLabel\n\n      let nextLabel: string | undefined = label\n\n      if (shouldSkip(currentLabel)) {\n        nextLabel = parentLabel ? parentLabel : undefined\n      }\n\n      const link = navPoint.querySelector(\"content\")?.getAttribute(\"src\") ?? \"\"\n      const [rawPath, id] = link.split(\"#\")\n      const path = `${prefix}${rawPath}`\n      const children = this.#readNcxToc(navPoint, prefix, title, nextLabel)\n      return children.length > 0 ? children : [{ label, path, id }]\n    })\n\n    return toc.flat()\n  }\n\n  #prepareBookWithoutToc(parts: Part[]) {\n    const chapters: Chapter[] = []\n\n    for (const entries of parts) {\n      let title: string[] = []\n      let paragraphs: string[] = []\n\n      let prevType: string | null = null\n\n      for (const entry of entries) {\n        if (entry.type === \"anchor\" || !entry.text) {\n          continue\n        }\n\n        if (entry.type.startsWith(\"h\")) {\n          if (prevType === \"paragraph\") {\n            const fullTitle = this.#cleanText(title.join(\" \"))\n            chapters.push({\n              title: fullTitle,\n              paragraphs,\n              skip: shouldHide(fullTitle),\n            })\n\n            title = []\n            paragraphs = []\n          }\n\n          title.push(entry.text)\n        }\n\n        if (entry.type === \"paragraph\") {\n          if (prevType === null) {\n            const fragment =\n              entry.text.slice(0, 50) + (entry.text.length > 50 ? \"...\" : \"\")\n\n            title.push(fragment)\n          }\n\n          paragraphs.push(entry.text)\n        }\n\n        prevType = entry.type\n      }\n\n      if (paragraphs.length > 0) {\n        const fullTitle = this.#cleanText(title.join(\" - \"))\n        chapters.push({\n          title: fullTitle,\n          paragraphs,\n          skip: shouldHide(fullTitle),\n        })\n      }\n    }\n\n    return chapters\n  }\n\n  #findChapterStart(chapter: TocElement, sequence: FlatElement[]) {\n    return sequence.findIndex(\n      (entry) =>\n        entry.path === chapter.path && (!chapter.id || entry.id === chapter.id),\n    )\n  }\n\n  #prepareBookWithToc(parts: Part[], toc: TocElement[]) {\n    const sequence = parts.flat()\n    const chapters: Chapter[] = []\n\n    for (let i = 0; i < toc.length; i++) {\n      const currentChapter = toc[i]\n      const nextChapter = toc[i + 1]\n\n      const from = this.#findChapterStart(currentChapter, sequence)\n\n      if (from === -1) {\n        continue\n      }\n\n      const to = nextChapter\n        ? this.#findChapterStart(nextChapter, sequence)\n        : sequence.length\n\n      const title: string[] = []\n      const paragraphs: string[] = []\n\n      for (let j = from; j < to; j++) {\n        const entry = sequence[j]\n\n        if (entry.type.startsWith(\"h\")) {\n          if (paragraphs.length === 0) {\n            title.push(entry.text)\n          } else {\n            // paragraphs.push(entry.text)\n          }\n        } else if (entry.type === \"paragraph\") {\n          if (\n            title.length === 0 &&\n            paragraphs.length === 0 &&\n            currentChapter.label\n              .toLowerCase()\n              .includes(entry.text.toLowerCase())\n          ) {\n            continue // skip chapter title as normal paragraph\n          }\n\n          if (paragraphs.length === 0 && entry.text === \"***\") {\n            continue\n          }\n\n          if (paragraphs.at(-1) === \"***\" && entry.text === \"***\") {\n            continue\n          }\n\n          paragraphs.push(entry.text)\n        }\n      }\n\n      if (\n        paragraphs.length > 0 &&\n        !SKIP_TITLES.phrases.has(paragraphs[0].toLowerCase())\n      ) {\n        const missingTitleParts = title.filter(\n          (chunk) =>\n            !stripSymbols(currentChapter.label).includes(stripSymbols(chunk)),\n        )\n\n        const tempTitle = this.#cleanText(\n          [currentChapter.label, ...missingTitleParts]\n            .map((chunk) => chunk.trim())\n            .join(\" - \"),\n        )\n\n        const withoutPageNumber = tempTitle.replace(/\\.+\\s*\\d+/, \"\").trim()\n        const fullTitle = withoutPageNumber || tempTitle\n\n        chapters.push({\n          title: fullTitle,\n          paragraphs,\n          skip: shouldHide(fullTitle),\n        })\n      }\n    }\n\n    if (chapters.length === 0) {\n      console.warn(\"Incorrect epub format, defaulting to reading without ToC\")\n      return this.#prepareBookWithoutToc(parts)\n    }\n\n    return chapters\n  }\n\n  async #getCover(\n    manifestEntries: ManifestEntry[],\n    entries: Entry[],\n    info: Info,\n    size: number,\n  ) {\n    const coverEntry = (manifestEntries.find(\n      ([key, entry]) =>\n        entry.type === \"image\" &&\n        (entry.path.includes(\"cover\") || key.includes(\"cover\")),\n    ) ?? [])[1]\n\n    if (!coverEntry) {\n      return prepareCover(null, info, size)\n    }\n\n    const entry = entries.find(\n      (entry) =>\n        entry.filename === coverEntry.path ||\n        entry.filename.endsWith(coverEntry.path),\n    )\n\n    if (entry === undefined || entry.getData === undefined) {\n      throw new Error(\"Incorrect epub file\")\n    }\n\n    const blob = await entry.getData(new BlobWriter())\n    const file = new File([blob], \"cover\", { type: coverEntry.mime })\n    const cover = await prepareCover(file, info, size)\n\n    return cover\n  }\n\n  #getInfo(content: Document): Info {\n    const metadata = content.querySelector(\"metadata\")\n    const children = [...(metadata?.children ?? [])]\n\n    const language = getLanguage(\n      children.find((node) => node.tagName === \"dc:language\")?.textContent ??\n        undefined,\n    )\n\n    this.#charset = getCharset(language ?? \"?\")\n    this.#cleanText = cleanText(this.#charset)\n\n    const subject = children\n      .filter((node) => node.tagName === \"dc:subject\")\n      .map((node) => node.textContent)\n      .filter((item) => item !== null && item.trim() !== \"\") as string[]\n\n    let title =\n      children.find((node) => node.tagName === \"dc:title\")?.textContent ?? null\n\n    if (title) {\n      title = cleanSymbols(title)\n    }\n\n    const titleAlpha = title\n      ? title.replace(/^(the|a|an)\\s/i, \"\").toLowerCase()\n      : null\n\n    const author =\n      children\n        .find((node) => node.tagName === \"dc:creator\")\n        ?.textContent?.split(\", \")\n        .reverse()\n        .join(\" \") ?? null\n\n    const rights =\n      children.find((node) => node.tagName === \"dc:rights\")?.textContent ?? null\n\n    const publisher =\n      children.find((node) => node.tagName === \"dc:publisher\")?.textContent ??\n      null\n\n    const uid = children.find((node) => node.id === \"uid\")?.textContent ?? null\n\n    const seSource = uid?.startsWith(\"url:https://standardebooks.org\")\n      ? uid.slice(4)\n      : null\n\n    const source = toUrlIfPossible(\n      seSource ??\n        children.find((node) => node.tagName === \"dc:source\")?.textContent ??\n        null,\n    )\n\n    const subjectSE = children\n      .filter((node) => node.getAttribute(\"property\") === \"se:subject\")\n      .map((node) => node.textContent)\n      .filter((item) => item !== null && item.trim() !== \"\") as string[]\n\n    const years = children\n      .filter((node) => node.tagName === \"dc:date\")\n      .map((node) => ((node.textContent ?? \"\").match(/\\d{4}/) ?? [])[0])\n      .filter((item) => item !== undefined)\n\n    const year = years.length > 0 ? Math.min(...years.map(Number)) : null\n\n    let longDescription = sanitizeDescription(\n      children.find(\n        (node) => node.getAttribute(\"property\") === \"se:long-description\",\n      )?.textContent ?? null,\n      this.#cleanText,\n    )\n\n    const rawDescription = sanitizeDescription(\n      children.find((node) => node.tagName === \"dc:description\")?.textContent ??\n        null,\n      this.#cleanText,\n    )\n\n    let description: string | null = null\n\n    if (!longDescription && rawDescription) {\n      longDescription = rawDescription\n    }\n\n    if (!rawDescription && longDescription) {\n      description = longDescription[0] ?? null\n    } else if (rawDescription) {\n      description = rawDescription[0]\n    }\n\n    const genres = extractGenres(subject, subjectSE)\n\n    const id = createBookId(author, title)\n\n    const info = {\n      id,\n      title,\n      titleAlpha,\n      author,\n      language,\n      description,\n      longDescription: longDescription ?? [],\n      year,\n      genres,\n      rights,\n      publisher,\n      source,\n    }\n\n    return info\n  }\n\n  async #extractContent(structureFilePath: string, entries: Entry[]) {\n    const content = await this.#readFile(structureFilePath, entries)\n    const prefix = structureFilePath.startsWith(\"OEBPS/\") ? \"OEBPS/\" : \"\"\n    const info = this.#getInfo(content)\n\n    const manifestEntries: ManifestEntry[] = [\n      ...(content.querySelectorAll(\"manifest > item\") ?? []),\n    ].map((item) => {\n      const mime = item.getAttribute(\"media-type\") ?? \"\"\n      const file = item.getAttribute(\"href\") ?? \"\"\n      const path = `${prefix}${file}`\n\n      return [\n        item.id,\n        {\n          path,\n          mime,\n          ext: file.split(\".\").at(-1) ?? \"txt\",\n          type: getFileType(mime),\n        },\n      ]\n    })\n\n    const manifest = Object.fromEntries(manifestEntries)\n    const cover = await this.#getCover(manifestEntries, entries, info, 320)\n\n    const tocNcxEntry = manifestEntries.find((entry) => entry[1].ext === \"ncx\")\n    const tocHtmlEntry = manifestEntries.find(\n      (entry) => entry[0] === \"toc.xhtml\",\n    )\n\n    const tocInfo = tocNcxEntry\n      ? { type: \"ncx\", entry: tocNcxEntry[1] }\n      : tocHtmlEntry\n        ? { type: \"html\", entry: tocHtmlEntry[1] }\n        : undefined\n\n    let toc: TocElement[] | null = null\n\n    if (tocInfo) {\n      const tocContent = await this.#readFile(tocInfo.entry.path, entries)\n\n      const tocNode =\n        tocInfo.type === \"ncx\"\n          ? tocContent.querySelector(\"navMap\")\n          : tocContent.querySelector(\"#toc > ol\")\n\n      if (tocNode) {\n        toc =\n          tocInfo.type === \"ncx\"\n            ? this.#readNcxToc(tocNode, prefix, info.title)\n            : this.#readHtmlToc(tocNode, prefix, info.title)\n      }\n    }\n\n    const spine = [...(content.querySelectorAll(\"spine > itemref\") ?? [])].map(\n      (item) => {\n        const id = item.getAttribute(\"idref\")\n        if (!id) {\n          return null\n        }\n\n        return {\n          id,\n          ...(manifest[id] ?? {}),\n          linear: item.getAttribute(\"linear\") === \"yes\",\n        }\n      },\n    )\n\n    const parts = []\n\n    for (const item of spine) {\n      if (item === null) {\n        continue\n      }\n\n      const content = await this.#readFile(item.path, entries)\n\n      // Remove references (probably temporary solution)\n      for (const node of content.querySelectorAll(\"a\")) {\n        if (node.getAttribute(\"epub:type\") === \"noteref\") {\n          node.parentNode?.removeChild(node)\n        }\n      }\n\n      for (const node of content.querySelectorAll(\"sup a\")) {\n        node.parentNode?.removeChild(node)\n      }\n      // ---END remove references\n\n      for (const node of content.body.querySelectorAll(\"hgroup p\")) {\n        ;(node as HTMLParagraphElement).dataset.type = \"h6\"\n      }\n\n      for (const node of content.body.querySelectorAll(\"br\")) {\n        const nl = document.createTextNode(\"{{BR}}\")\n        node.parentNode?.replaceChild(nl, node)\n      }\n\n      for (const node of content.body.querySelectorAll(\"[id]\")) {\n        if (![\"a\", \"img\"].includes(node.tagName)) {\n          const p = document.createElement(\"p\")\n          p.id = node.id\n          p.dataset.type = \"anchor\"\n\n          node.parentNode?.insertBefore(p, node)\n        }\n      }\n\n      for (const tag of [\"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"]) {\n        for (const node of content.querySelectorAll(tag)) {\n          const anchors = [] as HTMLElement[]\n\n          for (const a of node.querySelectorAll(\"a[id]\")) {\n            const p = document.createElement(\"p\")\n            p.id = a.id\n            p.dataset.type = \"anchor\"\n            anchors.push(p)\n          }\n\n          const box = document.createElement(\"div\")\n\n          const text = (node.textContent ?? \"\")\n            .split(\"{{BR}}\")\n            .map((chunk) => chunk.trim())\n            .filter(Boolean)\n            .join(\" - \")\n\n          const p = document.createElement(\"p\")\n\n          p.textContent = text\n          p.dataset.type = tag\n\n          box.replaceChildren(...anchors, p)\n          node.parentNode?.replaceChild(box, node)\n        }\n      }\n\n      for (const node of content.querySelectorAll(\"hr\")) {\n        const p = document.createElement(\"p\")\n        p.textContent = \"***\"\n        node.parentNode?.replaceChild(p, node)\n      }\n\n      for (const node of content.querySelectorAll(\"table\")) {\n        // Skip weird cases when the whole chapter is inside table\n        // (Calibre does this)\n        if (\n          node.querySelectorAll(\"tr > td\").length === 1 &&\n          node.querySelectorAll(\"tr > td p\").length > 0\n        ) {\n          continue\n        }\n\n        const section = document.createElement(\"section\")\n\n        for (const row of node.querySelectorAll(\"tr\")) {\n          let text = \"\"\n\n          const standardCells = row.querySelectorAll(\"td\")\n          if (standardCells.length > 0) {\n            text = [...standardCells]\n              .map((cell) => cell.textContent)\n              .join(\" - \")\n          } else {\n            const headerCells = row.querySelectorAll(\"th\")\n            text = [...headerCells].map((cell) => cell.textContent).join(\" - \")\n          }\n          const trimmed = text.trim()\n\n          if (trimmed) {\n            const p = document.createElement(\"p\")\n            p.textContent = trimmed\n            section.appendChild(p)\n          }\n        }\n\n        node.parentNode?.replaceChild(section, node)\n      }\n\n      for (const node of content.querySelectorAll(\"a[id]\")) {\n        const p = document.createElement(\"p\")\n        p.textContent = node.textContent\n        p.id = node.id\n        p.dataset.type = \"anchor\"\n        node.parentNode?.replaceChild(p, node)\n      }\n\n      const flatElements: FlatElement[] = []\n\n      for (const node of content.querySelectorAll(\"p\")) {\n        if (node.dataset.type) {\n          const text = this.#cleanText(node.textContent ?? \"\")\n\n          if (node.dataset.type.startsWith(\"h\") && text === \"\") {\n            continue\n          }\n\n          flatElements.push({\n            type: node.dataset.type,\n            id: node.id,\n            path: item.path,\n            text,\n          })\n\n          continue\n        }\n\n        const allText = (node.textContent ?? \"\").trim()\n\n        if (allText === \"\") {\n          continue\n        }\n\n        for (const text of allText.split(\"{{BR}}\")) {\n          const pText = this.#cleanText(text)\n\n          if (pText === \"\") {\n            continue\n          }\n\n          flatElements.push({\n            type: \"paragraph\",\n            id: node.id,\n            path: item.path,\n            text: pText,\n          })\n        }\n      }\n\n      if (flatElements.length > 0) {\n        parts.push(flatElements)\n      }\n    }\n\n    const rawChapters =\n      toc === null\n        ? this.#prepareBookWithoutToc(parts)\n        : this.#prepareBookWithToc(parts, toc)\n\n    const chapters = rawChapters.filter(({ title }) => !shouldSkip(title))\n\n    return { info, chapters, cover }\n  }\n}\n","// @ts-nocheck\n/**\n * Chunkify\n * Google Chrome Speech Synthesis Chunking Pattern\n * Fixes inconsistencies with speaking long texts in speechUtterance objects\n * Licensed under the MIT License\n *\n * Peter Woolley and Brett Zamir\n * Modified by Haaris for bug fixes\n */\nconst voices = []\n\ntype Settings = {\n  chunkLength: number\n  offset: number\n}\n\nfunction speechUtteranceChunker(\n  utt: SpeechSynthesisUtterance,\n  settings?: Partial<Settings>,\n  callback?: () => void,\n) {\n  settings = settings ?? {}\n  var newUtt: SpeechSynthesisUtterance\n  var txt =\n    settings && settings.offset !== undefined\n      ? utt.text.substring(settings.offset)\n      : utt.text\n  if (utt.voice && utt.voice.voiceURI === \"native\") {\n    // Not part of the spec\n    newUtt = utt\n    newUtt.voice = utt.voice\n    newUtt.text = txt\n    newUtt.addEventListener(\"end\", () => {\n      if (speechUtteranceChunker.cancel) {\n        speechUtteranceChunker.cancel = false\n      }\n      if (callback !== undefined) {\n        callback()\n      }\n    })\n  } else {\n    var chunkLength = (settings && settings.chunkLength) || 160\n    var pattRegex = new RegExp(\n      \"^[\\\\s\\\\S]{\" +\n        Math.floor(chunkLength / 2) +\n        \",\" +\n        chunkLength +\n        \"}[.!?,]{1}|^[\\\\s\\\\S]{1,\" +\n        chunkLength +\n        \"}$|^[\\\\s\\\\S]{1,\" +\n        chunkLength +\n        \"} \",\n    )\n    var chunkArr = txt.match(pattRegex)\n\n    if (\n      chunkArr == null ||\n      chunkArr[0] === undefined ||\n      chunkArr[0].length <= 2\n    ) {\n      //call once all text has been spoken...\n      if (callback !== undefined) {\n        callback()\n      }\n      return\n    }\n    var chunk = chunkArr[0]\n    newUtt = new SpeechSynthesisUtterance(chunk)\n    newUtt.voice = utt.voice\n    var x\n    for (x in utt) {\n      if (utt.hasOwnProperty(x) && x !== \"text\") {\n        newUtt[x] = utt[x]\n      }\n    }\n    newUtt.addEventListener(\"end\", () => {\n      if (speechUtteranceChunker.cancel) {\n        speechUtteranceChunker.cancel = false\n        return\n      }\n      settings.offset = settings.offset || 0\n      settings.offset += chunk.length\n      speechUtteranceChunker(utt, settings, callback)\n    })\n  }\n\n  if (settings.modifier) {\n    settings.modifier(newUtt)\n  }\n  console.log(newUtt) //IMPORTANT!! Do not remove: Logging the object out fixes some onend firing issues.\n  //placing the speak invocation inside a callback fixes ordering and onend issues.\n  setTimeout(() => {\n    speechSynthesis.speak(newUtt)\n  }, 0)\n}\n\nexport function speak(text: string, voice?: SpeechSynthesisVoice) {\n  const utterance = new SpeechSynthesisUtterance(text)\n  if (voice) {\n    console.log(\"changing voice\")\n\n    utterance.voice = voice\n  }\n  // speechSynthesis.speak(utterance)\n  speechUtteranceChunker(utterance)\n}\n","import type { StaticBook, StaticChapter } from \"../../types/common.ts\"\nimport type { Book, Chapter } from \"./types.ts\"\n\nfunction serializeChapter(chapter: Chapter, index: number): StaticChapter {\n  return {\n    id: String(index + 1).padStart(3, \"0\"),\n    title: chapter.title,\n    length: chapter.paragraphs\n      .map((p) => p.length + 1)\n      .reduce((a, b) => a + b, 0),\n    skip: chapter.skip,\n    text: chapter.paragraphs.join(\"\\n\"),\n  }\n}\n\nexport function serializeBook(book: Book): {\n  all: StaticBook\n  cover: Blob | null\n} {\n  const all = {\n    ...book.info,\n    series: null,\n    part: 0,\n    chapters: book.chapters.map(serializeChapter),\n    createdAt: Date.now(),\n  }\n\n  if (\n    new Set(all.chapters.map((chapter) => chapter.id)).size !==\n    all.chapters.length\n  ) {\n    throw new Error(\n      \"Ambiguous chapter names (some chapters have the same titles)!\",\n    )\n  }\n\n  return {\n    all,\n    cover: book.cover,\n  }\n}\n","import { Epub } from \"./libs/ebook/epub.ts\"\nimport { serializeBook } from \"./libs/ebook/serialize.ts\"\n\nasync function getRawEpubPaths() {\n  const res = await fetch(\"/raw-books/book-paths.json\")\n  return res.json() as Promise<string[]>\n}\n\ntype Options = {\n  limit: number\n  onlyNew: boolean\n}\n\nconst defaults = {\n  limit: Infinity,\n  onlyNew: false,\n}\n\n// const chunkSize = 1024 * 1024;\n//\n// async function downloadLargeFile(url: string) {\n//     let startByte = 0;\n//     let endByte = chunkSize - 1;\n//\n//     while (startByte < fileSize) {\n//         const response = await fetch(url, {\n//             headers: {\n//                 'Range': `bytes=${startByte}-${endByte}`\n//             }\n//         });\n//\n//         const data = await response.blob();\n//\n//         // Process or save the data as needed\n//\n//         startByte = endByte + 1;\n//         endByte = Math.min(endByte + chunkSize, fileSize - 1);\n//     }\n// }\n\nasync function prepareBooks(options: Partial<Options>) {\n  const { limit } = { ...defaults, ...options }\n  const bookPaths = (await getRawEpubPaths()).slice(0, limit)\n  // .filter((x) => x.includes(\"little-fuzzy\"))\n\n  for (const bookPath of bookPaths) {\n    try {\n      console.log(bookPath)\n      const res = await fetch(`/${bookPath}`, {\n        cache: \"no-cache\",\n      })\n\n      if (!res.ok) {\n        console.error(\"Cannot fetch\")\n        console.error(bookPath)\n        continue\n      }\n\n      const data = await res.blob()\n      const book = new Epub(data)\n      const content = await book.load()\n\n      if (content === null) {\n        console.log(\"No content!\")\n        continue\n      }\n\n      const { all, cover } = serializeBook(content)\n\n      // if (all.genres.includes(\"poetry\") || all.genres.includes(\"drama\")) {\n      //   console.warn(\"Skipping drama and poetry\")\n      //   continue\n      // }\n\n      {\n        const res = await fetch(\"http://localhost:1234\", {\n          method: \"POST\",\n          body: JSON.stringify(all),\n        })\n\n        if (res.ok) {\n          // console.log(\"Done info:\", all.id)\n        }\n      }\n\n      if (cover) {\n        const headers = new Headers()\n        headers.append(\"Content-Type\", \"image/png\")\n        headers.append(\"Content-Length\", cover.size.toString())\n\n        const res = await fetch(`http://localhost:1234/cover/${all.id}`, {\n          method: \"POST\",\n          body: cover,\n          headers,\n        })\n\n        if (res.ok) {\n          // console.log(\"Done cover:\", all.id)\n        }\n      }\n    } catch (e) {\n      console.error(e)\n      console.error(\"Path:\", bookPath)\n    }\n    // console.log(\"---------------------------------------------\")\n  }\n\n  console.log(\"Done!\")\n}\n\nexport default prepareBooks\n","import { SetStoreFunction } from \"solid-js/store\"\nimport { LocalState } from \"../types\"\nimport { handleStandardInput } from \"./handleStandardInput\"\n\nconst delay = (ms: number) => new Promise((resolve) => setTimeout(resolve, ms))\n\ntype Options = {\n  wpm: number\n  delayBetweenParagraphs: number\n  randomize: boolean\n  emitEvents: boolean\n}\n\nconst defaultOptions: Options = {\n  wpm: 100,\n  delayBetweenParagraphs: 200,\n  randomize: false,\n  emitEvents: false,\n}\n\nexport async function simulateTyping(\n  text: string,\n  local: LocalState,\n  setLocal: SetStoreFunction<LocalState>,\n  options: Partial<Options> = {},\n) {\n  if (!text) {\n    return\n  }\n\n  const { wpm, delayBetweenParagraphs, randomize, emitEvents } = {\n    ...defaultOptions,\n    ...options,\n  }\n\n  const lines = text.split(/\\n+/).map((p) => [...p.split(\"\"), \"Enter\"])\n  const averageKeyDelay = 1000 / ((wpm * 5) / 60) - 2\n\n  for (const line of lines) {\n    const events = line.map((key) => new KeyboardEvent(\"keydown\", { key }))\n\n    for (let i = 0; i < events.length; i++) {\n      const keyDelay = randomize\n        ? averageKeyDelay * (Math.random() + 0.5)\n        : averageKeyDelay\n\n      await delay(keyDelay)\n      if (emitEvents) {\n        document.dispatchEvent(events[i])\n      } else {\n        handleStandardInput(events[i], local, setLocal)\n      }\n    }\n\n    await delay(delayBetweenParagraphs)\n  }\n}\n","import { Route, Router } from \"@solidjs/router\"\nimport { render } from \"solid-js/web\"\nimport \"./boot/registerKeybindings.ts\"\nimport App from \"./components/App\"\nimport BookDetails from \"./components/pages/book-details/BookDetails.tsx\"\nimport Books from \"./components/pages/books/Books\"\nimport Home from \"./components/pages/home/Home.tsx\"\nimport Prompt from \"./components/pages/prompt/Prompt.tsx\"\nimport Results from \"./components/pages/results/Results.tsx\"\nimport Settings from \"./components/pages/settings/Settings.tsx\"\nimport Stats from \"./components/pages/stats/Stats.tsx\"\nimport BookEdit from \"./components/pages/book-edit/BookEdit.tsx\"\nimport \"./index.css\"\nimport { Epub } from \"./libs/ebook/epub.ts\"\nimport { speak } from \"./libs/tts/speak.ts\"\nimport prepareBooks from \"./prepareBooks.ts\"\nimport { simulateTyping } from \"./components/pages/prompt/prompt-actions/simulateTyping.ts\"\n// import storage from \"./storage/storage.ts\"\n\n// import localforage from \"localforage\"\nimport config from \"./config.ts\"\n\nsetTimeout(async () => {\n  if (config.IS_MOBILE) {\n    // localforage.dropInstance({ name: \"main\" })\n  }\n\n  // const stats = await storage.dailyStats.get(\"2024-05-07\")\n  //\n  // for (let i = 60; i < 365; i++) {\n  //   const date = new Date(\n  //     new Date(\"2024-05-07\").getTime() - 1000 * 60 * 60 * 24 * i,\n  //   )\n  //     .toISOString()\n  //     .slice(0, 10)\n  //   await storage.dailyStats.set(date, stats)\n  // }\n}, 3000)\n\nconst temp = async () => {\n  const res = await fetch(\n    \"/raw-books/epub_public_domain_se/robert-louis-stevenson_treasure-island.epub\",\n    // \"/raw-books/epub_creative_commons/rifters_2_maelstrom.epub\",\n  )\n  const blob = await res.blob()\n\n  const epub = new Epub(blob)\n  const book = await epub.load()\n\n  console.log(book)\n}\n\ntemp()\n\n// @ts-ignore\nwindow.prepareBooks = prepareBooks\n// @ts-ignore\nwindow.simulateTyping = simulateTyping\n// @ts-ignore\nwindow.speak = speak\n\nconst root = document.querySelector(\"body\")\n\nif (root) {\n  render(() => {\n    return (\n      <Router root={App}>\n        <Route path=\"/\" component={Home} />\n        <Route path=\"/books\" component={Books} />\n        <Route path=\"/books/:id\" component={BookDetails} />\n        <Route path=\"/books/:id/edit\" component={BookEdit} />\n        <Route path=\"/stats\" component={Stats} />\n        <Route path=\"/settings\" component={Settings} />\n        <Route path=\"/profile\" component={() => <h2>Profle</h2>} />\n        <Route path=\"/prompt\" component={Prompt} />\n        <Route path=\"/prompt/:id\" component={Prompt} />\n        <Route path=\"/results/:id\" component={Results} />\n        <Route path=\"*404\" component={() => <h1>Not Found</h1>} />\n      </Router>\n    )\n  }, root)\n}\n"],"file":"assets/index-d0d2b892.js"}